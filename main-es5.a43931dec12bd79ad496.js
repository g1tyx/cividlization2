function _defineProperty(n, l, e) {
    return l in n ? Object.defineProperty(n, l, {
        value: e,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : n[l] = e, n
}

function _slicedToArray(n, l) {
    return _arrayWithHoles(n) || _iterableToArrayLimit(n, l) || _nonIterableRest()
}

function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance")
}

function _iterableToArrayLimit(n, l) {
    if (Symbol.iterator in Object(n) || "[object Arguments]" === Object.prototype.toString.call(n)) {
        var e = [],
            t = !0,
            i = !1,
            u = void 0;
        try {
            for (var r, a = n[Symbol.iterator](); !(t = (r = a.next()).done) && (e.push(r.value), !l || e.length !== l); t = !0);
        } catch (o) {
            i = !0, u = o
        } finally {
            try {
                t || null == a.return || a.return()
            } finally {
                if (i) throw u
            }
        }
        return e
    }
}

function _arrayWithHoles(n) {
    if (Array.isArray(n)) return n
}

function _toConsumableArray(n) {
    return _arrayWithoutHoles(n) || _iterableToArray(n) || _nonIterableSpread()
}

function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance")
}

function _iterableToArray(n) {
    if (Symbol.iterator in Object(n) || "[object Arguments]" === Object.prototype.toString.call(n)) return Array.from(n)
}

function _arrayWithoutHoles(n) {
    if (Array.isArray(n)) {
        for (var l = 0, e = new Array(n.length); l < n.length; l++) e[l] = n[l];
        return e
    }
}

function isNativeReflectConstruct() {
    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
    if (Reflect.construct.sham) return !1;
    if ("function" == typeof Proxy) return !0;
    try {
        return Date.prototype.toString.call(Reflect.construct(Date, [], (function () {}))), !0
    } catch (n) {
        return !1
    }
}

function _construct(n, l, e) {
    return (_construct = isNativeReflectConstruct() ? Reflect.construct : function (n, l, e) {
        var t = [null];
        t.push.apply(t, l);
        var i = new(Function.bind.apply(n, t));
        return e && _setPrototypeOf(i, e.prototype), i
    }).apply(null, arguments)
}

function _possibleConstructorReturn(n, l) {
    return !l || "object" != typeof l && "function" != typeof l ? _assertThisInitialized(n) : l
}

function _assertThisInitialized(n) {
    if (void 0 === n) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return n
}

function _get(n, l, e) {
    return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (n, l, e) {
        var t = _superPropBase(n, l);
        if (t) {
            var i = Object.getOwnPropertyDescriptor(t, l);
            return i.get ? i.get.call(e) : i.value
        }
    })(n, l, e || n)
}

function _superPropBase(n, l) {
    for (; !Object.prototype.hasOwnProperty.call(n, l) && null !== (n = _getPrototypeOf(n)););
    return n
}

function _getPrototypeOf(n) {
    return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (n) {
        return n.__proto__ || Object.getPrototypeOf(n)
    })(n)
}

function _inherits(n, l) {
    if ("function" != typeof l && null !== l) throw new TypeError("Super expression must either be null or a function");
    n.prototype = Object.create(l && l.prototype, {
        constructor: {
            value: n,
            writable: !0,
            configurable: !0
        }
    }), l && _setPrototypeOf(n, l)
}

function _setPrototypeOf(n, l) {
    return (_setPrototypeOf = Object.setPrototypeOf || function (n, l) {
        return n.__proto__ = l, n
    })(n, l)
}

function _classCallCheck(n, l) {
    if (!(n instanceof l)) throw new TypeError("Cannot call a class as a function")
}

function _defineProperties(n, l) {
    for (var e = 0; e < l.length; e++) {
        var t = l[e];
        t.enumerable = t.enumerable || !1, t.configurable = !0, "value" in t && (t.writable = !0), Object.defineProperty(n, t.key, t)
    }
}

function _createClass(n, l, e) {
    return l && _defineProperties(n.prototype, l), e && _defineProperties(n, e), n
}(window.webpackJsonp = window.webpackJsonp || []).push([[1], {
    0: function (n, l, e) {
        n.exports = e("zUnb")
    },
    "16wW": function (n, l, e) {
        "use strict";
        var t = {};
        (0, e("vn/o").assign)(t, e("QSbz"), e("cX6o"), e("LOvY")), n.exports = t
    },
    "1uat": function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("MlIO"), function () {
            var n = t,
                l = n.lib.Hasher,
                e = n.x64,
                i = e.Word,
                u = e.WordArray,
                r = n.algo;

            function a() {
                return i.create.apply(i, arguments)
            }
            var o = [a(1116352408, 3609767458), a(1899447441, 602891725), a(3049323471, 3964484399), a(3921009573, 2173295548), a(961987163, 4081628472), a(1508970993, 3053834265), a(2453635748, 2937671579), a(2870763221, 3664609560), a(3624381080, 2734883394), a(310598401, 1164996542), a(607225278, 1323610764), a(1426881987, 3590304994), a(1925078388, 4068182383), a(2162078206, 991336113), a(2614888103, 633803317), a(3248222580, 3479774868), a(3835390401, 2666613458), a(4022224774, 944711139), a(264347078, 2341262773), a(604807628, 2007800933), a(770255983, 1495990901), a(1249150122, 1856431235), a(1555081692, 3175218132), a(1996064986, 2198950837), a(2554220882, 3999719339), a(2821834349, 766784016), a(2952996808, 2566594879), a(3210313671, 3203337956), a(3336571891, 1034457026), a(3584528711, 2466948901), a(113926993, 3758326383), a(338241895, 168717936), a(666307205, 1188179964), a(773529912, 1546045734), a(1294757372, 1522805485), a(1396182291, 2643833823), a(1695183700, 2343527390), a(1986661051, 1014477480), a(2177026350, 1206759142), a(2456956037, 344077627), a(2730485921, 1290863460), a(2820302411, 3158454273), a(3259730800, 3505952657), a(3345764771, 106217008), a(3516065817, 3606008344), a(3600352804, 1432725776), a(4094571909, 1467031594), a(275423344, 851169720), a(430227734, 3100823752), a(506948616, 1363258195), a(659060556, 3750685593), a(883997877, 3785050280), a(958139571, 3318307427), a(1322822218, 3812723403), a(1537002063, 2003034995), a(1747873779, 3602036899), a(1955562222, 1575990012), a(2024104815, 1125592928), a(2227730452, 2716904306), a(2361852424, 442776044), a(2428436474, 593698344), a(2756734187, 3733110249), a(3204031479, 2999351573), a(3329325298, 3815920427), a(3391569614, 3928383900), a(3515267271, 566280711), a(3940187606, 3454069534), a(4118630271, 4000239992), a(116418474, 1914138554), a(174292421, 2731055270), a(289380356, 3203993006), a(460393269, 320620315), a(685471733, 587496836), a(852142971, 1086792851), a(1017036298, 365543100), a(1126000580, 2618297676), a(1288033470, 3409855158), a(1501505948, 4234509866), a(1607167915, 987167468), a(1816402316, 1246189591)],
                s = [];
            ! function () {
                for (var n = 0; n < 80; n++) s[n] = a()
            }();
            var c = r.SHA512 = l.extend({
                _doReset: function () {
                    this._hash = new u.init([new i.init(1779033703, 4089235720), new i.init(3144134277, 2227873595), new i.init(1013904242, 4271175723), new i.init(2773480762, 1595750129), new i.init(1359893119, 2917565137), new i.init(2600822924, 725511199), new i.init(528734635, 4215389547), new i.init(1541459225, 327033209)])
                },
                _doProcessBlock: function (n, l) {
                    for (var e = this._hash.words, t = e[0], i = e[1], u = e[2], r = e[3], a = e[4], c = e[5], d = e[6], h = e[7], p = t.high, f = t.low, g = i.high, v = i.low, m = u.high, y = u.low, b = r.high, _ = r.low, k = a.high, w = a.low, x = c.high, C = c.low, S = d.high, I = d.low, T = h.high, E = h.low, A = p, P = f, O = g, D = v, R = m, M = y, N = b, B = _, z = k, L = w, F = x, q = C, U = S, $ = I, H = T, V = E, j = 0; j < 80; j++) {
                        var G = s[j];
                        if (j < 16) var W = G.high = 0 | n[l + 2 * j],
                            K = G.low = 0 | n[l + 2 * j + 1];
                        else {
                            var Z = s[j - 15],
                                Q = Z.high,
                                Y = Z.low,
                                X = (Y >>> 1 | Q << 31) ^ (Y >>> 8 | Q << 24) ^ (Y >>> 7 | Q << 25),
                                J = s[j - 2],
                                nn = J.high,
                                ln = J.low,
                                en = (ln >>> 19 | nn << 13) ^ (ln << 3 | nn >>> 29) ^ (ln >>> 6 | nn << 26),
                                tn = s[j - 7],
                                un = s[j - 16],
                                rn = un.low;
                            G.high = W = (W = (W = ((Q >>> 1 | Y << 31) ^ (Q >>> 8 | Y << 24) ^ Q >>> 7) + tn.high + ((K = X + tn.low) >>> 0 < X >>> 0 ? 1 : 0)) + ((nn >>> 19 | ln << 13) ^ (nn << 3 | ln >>> 29) ^ nn >>> 6) + ((K += en) >>> 0 < en >>> 0 ? 1 : 0)) + un.high + ((K += rn) >>> 0 < rn >>> 0 ? 1 : 0), G.low = K
                        }
                        var an, on = z & F ^ ~z & U,
                            sn = L & q ^ ~L & $,
                            cn = A & O ^ A & R ^ O & R,
                            dn = (P >>> 28 | A << 4) ^ (P << 30 | A >>> 2) ^ (P << 25 | A >>> 7),
                            hn = o[j],
                            pn = hn.low,
                            fn = H + ((z >>> 14 | L << 18) ^ (z >>> 18 | L << 14) ^ (z << 23 | L >>> 9)) + ((an = V + ((L >>> 14 | z << 18) ^ (L >>> 18 | z << 14) ^ (L << 23 | z >>> 9))) >>> 0 < V >>> 0 ? 1 : 0),
                            gn = dn + (P & D ^ P & M ^ D & M);
                        H = U, V = $, U = F, $ = q, F = z, q = L, z = N + (fn = (fn = (fn = fn + on + ((an += sn) >>> 0 < sn >>> 0 ? 1 : 0)) + hn.high + ((an += pn) >>> 0 < pn >>> 0 ? 1 : 0)) + W + ((an += K) >>> 0 < K >>> 0 ? 1 : 0)) + ((L = B + an | 0) >>> 0 < B >>> 0 ? 1 : 0) | 0, N = R, B = M, R = O, M = D, O = A, D = P, A = fn + (((A >>> 28 | P << 4) ^ (A << 30 | P >>> 2) ^ (A << 25 | P >>> 7)) + cn + (gn >>> 0 < dn >>> 0 ? 1 : 0)) + ((P = an + gn | 0) >>> 0 < an >>> 0 ? 1 : 0) | 0
                    }
                    f = t.low = f + P, t.high = p + A + (f >>> 0 < P >>> 0 ? 1 : 0), v = i.low = v + D, i.high = g + O + (v >>> 0 < D >>> 0 ? 1 : 0), y = u.low = y + M, u.high = m + R + (y >>> 0 < M >>> 0 ? 1 : 0), _ = r.low = _ + B, r.high = b + N + (_ >>> 0 < B >>> 0 ? 1 : 0), w = a.low = w + L, a.high = k + z + (w >>> 0 < L >>> 0 ? 1 : 0), C = c.low = C + q, c.high = x + F + (C >>> 0 < q >>> 0 ? 1 : 0), I = d.low = I + $, d.high = S + U + (I >>> 0 < $ >>> 0 ? 1 : 0), E = h.low = E + V, h.high = T + H + (E >>> 0 < V >>> 0 ? 1 : 0)
                },
                _doFinalize: function () {
                    var n = this._data,
                        l = n.words,
                        e = 8 * this._nDataBytes,
                        t = 8 * n.sigBytes;
                    return l[t >>> 5] |= 128 << 24 - t % 32, l[30 + (t + 128 >>> 10 << 5)] = Math.floor(e / 4294967296), l[31 + (t + 128 >>> 10 << 5)] = e, n.sigBytes = 4 * l.length, this._process(), this._hash.toX32()
                },
                clone: function () {
                    var n = l.clone.call(this);
                    return n._hash = this._hash.clone(), n
                },
                blockSize: 32
            });
            n.SHA512 = l._createHelper(c), n.HmacSHA512 = l._createHmacHelper(c)
        }(), t.SHA512)
    },
    "3y9D": function (n, l, e) {
        var t, i, u, r, a, o, s;
        n.exports = (s = e("Ib8C"), u = (i = (t = s).lib).WordArray, a = [], o = t.algo.SHA1 = (r = i.Hasher).extend({
            _doReset: function () {
                this._hash = new u.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
            },
            _doProcessBlock: function (n, l) {
                for (var e = this._hash.words, t = e[0], i = e[1], u = e[2], r = e[3], o = e[4], s = 0; s < 80; s++) {
                    if (s < 16) a[s] = 0 | n[l + s];
                    else {
                        var c = a[s - 3] ^ a[s - 8] ^ a[s - 14] ^ a[s - 16];
                        a[s] = c << 1 | c >>> 31
                    }
                    var d = (t << 5 | t >>> 27) + o + a[s];
                    d += s < 20 ? 1518500249 + (i & u | ~i & r) : s < 40 ? 1859775393 + (i ^ u ^ r) : s < 60 ? (i & u | i & r | u & r) - 1894007588 : (i ^ u ^ r) - 899497514, o = r, r = u, u = i << 30 | i >>> 2, i = t, t = d
                }
                e[0] = e[0] + t | 0, e[1] = e[1] + i | 0, e[2] = e[2] + u | 0, e[3] = e[3] + r | 0, e[4] = e[4] + o | 0
            },
            _doFinalize: function () {
                var n = this._data,
                    l = n.words,
                    e = 8 * this._nDataBytes,
                    t = 8 * n.sigBytes;
                return l[t >>> 5] |= 128 << 24 - t % 32, l[14 + (t + 64 >>> 9 << 4)] = Math.floor(e / 4294967296), l[15 + (t + 64 >>> 9 << 4)] = e, n.sigBytes = 4 * l.length, this._process(), this._hash
            },
            clone: function () {
                var n = r.clone.call(this);
                return n._hash = this._hash.clone(), n
            }
        }), t.SHA1 = r._createHelper(o), t.HmacSHA1 = r._createHmacHelper(o), s.SHA1)
    },
    "5hvy": function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("MlIO"), function (n) {
            var l = t,
                e = l.lib,
                i = e.WordArray,
                u = e.Hasher,
                r = l.x64.Word,
                a = l.algo,
                o = [],
                s = [],
                c = [];
            ! function () {
                for (var n = 1, l = 0, e = 0; e < 24; e++) {
                    o[n + 5 * l] = (e + 1) * (e + 2) / 2 % 64;
                    var t = (2 * n + 3 * l) % 5;
                    n = l % 5, l = t
                }
                for (n = 0; n < 5; n++)
                    for (l = 0; l < 5; l++) s[n + 5 * l] = l + (2 * n + 3 * l) % 5 * 5;
                for (var i = 1, u = 0; u < 24; u++) {
                    for (var a = 0, d = 0, h = 0; h < 7; h++) {
                        if (1 & i) {
                            var p = (1 << h) - 1;
                            p < 32 ? d ^= 1 << p : a ^= 1 << p - 32
                        }
                        128 & i ? i = i << 1 ^ 113 : i <<= 1
                    }
                    c[u] = r.create(a, d)
                }
            }();
            var d = [];
            ! function () {
                for (var n = 0; n < 25; n++) d[n] = r.create()
            }();
            var h = a.SHA3 = u.extend({
                cfg: u.cfg.extend({
                    outputLength: 512
                }),
                _doReset: function () {
                    for (var n = this._state = [], l = 0; l < 25; l++) n[l] = new r.init;
                    this.blockSize = (1600 - 2 * this.cfg.outputLength) / 32
                },
                _doProcessBlock: function (n, l) {
                    for (var e = this._state, t = this.blockSize / 2, i = 0; i < t; i++) {
                        var u = n[l + 2 * i],
                            r = n[l + 2 * i + 1];
                        u = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8), (O = e[i]).high ^= r = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), O.low ^= u
                    }
                    for (var a = 0; a < 24; a++) {
                        for (var h = 0; h < 5; h++) {
                            for (var p = 0, f = 0, g = 0; g < 5; g++) p ^= (O = e[h + 5 * g]).high, f ^= O.low;
                            var v = d[h];
                            v.high = p, v.low = f
                        }
                        for (h = 0; h < 5; h++) {
                            var m = d[(h + 4) % 5],
                                y = d[(h + 1) % 5],
                                b = y.high,
                                _ = y.low;
                            for (p = m.high ^ (b << 1 | _ >>> 31), f = m.low ^ (_ << 1 | b >>> 31), g = 0; g < 5; g++)(O = e[h + 5 * g]).high ^= p, O.low ^= f
                        }
                        for (var k = 1; k < 25; k++) {
                            var w = (O = e[k]).high,
                                x = O.low,
                                C = o[k];
                            C < 32 ? (p = w << C | x >>> 32 - C, f = x << C | w >>> 32 - C) : (p = x << C - 32 | w >>> 64 - C, f = w << C - 32 | x >>> 64 - C);
                            var S = d[s[k]];
                            S.high = p, S.low = f
                        }
                        var I = d[0],
                            T = e[0];
                        for (I.high = T.high, I.low = T.low, h = 0; h < 5; h++)
                            for (g = 0; g < 5; g++) {
                                var E = d[k = h + 5 * g],
                                    A = d[(h + 1) % 5 + 5 * g],
                                    P = d[(h + 2) % 5 + 5 * g];
                                (O = e[k]).high = E.high ^ ~A.high & P.high, O.low = E.low ^ ~A.low & P.low
                            }
                        var O, D = c[a];
                        (O = e[0]).high ^= D.high, O.low ^= D.low
                    }
                },
                _doFinalize: function () {
                    var l = this._data,
                        e = l.words,
                        t = 8 * l.sigBytes,
                        u = 32 * this.blockSize;
                    e[t >>> 5] |= 1 << 24 - t % 32, e[(n.ceil((t + 1) / u) * u >>> 5) - 1] |= 128, l.sigBytes = 4 * e.length, this._process();
                    for (var r = this._state, a = this.cfg.outputLength / 8, o = a / 8, s = [], c = 0; c < o; c++) {
                        var d = r[c],
                            h = d.high,
                            p = d.low;
                        h = 16711935 & (h << 8 | h >>> 24) | 4278255360 & (h << 24 | h >>> 8), s.push(p = 16711935 & (p << 8 | p >>> 24) | 4278255360 & (p << 24 | p >>> 8)), s.push(h)
                    }
                    return new i.init(s, a)
                },
                clone: function () {
                    for (var n = u.clone.call(this), l = n._state = this._state.slice(0), e = 0; e < 25; e++) l[e] = l[e].clone();
                    return n
                }
            });
            l.SHA3 = u._createHelper(h), l.HmacSHA3 = u._createHmacHelper(h)
        }(Math), t.SHA3)
    },
    "7tol": function (n, l, e) {
        "use strict";
        var t = function () {
            for (var n, l = [], e = 0; e < 256; e++) {
                n = e;
                for (var t = 0; t < 8; t++) n = 1 & n ? 3988292384 ^ n >>> 1 : n >>> 1;
                l[e] = n
            }
            return l
        }();
        n.exports = function (n, l, e, i) {
            var u = t,
                r = i + e;
            n ^= -1;
            for (var a = i; a < r; a++) n = n >>> 8 ^ u[255 & (n ^ l[a])];
            return -1 ^ n
        }
    },
    "9OqN": function (n, l, e) {
        var t, i, u;
        n.exports = (u = e("Ib8C"), e("OLod"), u.mode.CTR = (i = (t = u.lib.BlockCipherMode.extend()).Encryptor = t.extend({
            processBlock: function (n, l) {
                var e = this._cipher,
                    t = e.blockSize,
                    i = this._iv,
                    u = this._counter;
                i && (u = this._counter = i.slice(0), this._iv = void 0);
                var r = u.slice(0);
                e.encryptBlock(r, 0), u[t - 1] = u[t - 1] + 1 | 0;
                for (var a = 0; a < t; a++) n[l + a] ^= r[a]
            }
        }), t.Decryptor = i, t), u.mode.CTR)
    },
    ALsQ: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.mode.CFB = function () {
            var n = t.lib.BlockCipherMode.extend();

            function l(n, l, e, t) {
                var i = this._iv;
                if (i) {
                    var u = i.slice(0);
                    this._iv = void 0
                } else u = this._prevBlock;
                t.encryptBlock(u, 0);
                for (var r = 0; r < e; r++) n[l + r] ^= u[r]
            }
            return n.Encryptor = n.extend({
                processBlock: function (n, e) {
                    var t = this._cipher,
                        i = t.blockSize;
                    l.call(this, n, e, i, t), this._prevBlock = n.slice(e, e + i)
                }
            }), n.Decryptor = n.extend({
                processBlock: function (n, e) {
                    var t = this._cipher,
                        i = t.blockSize,
                        u = n.slice(e, e + i);
                    l.call(this, n, e, i, t), this._prevBlock = u
                }
            }), n
        }(), t.mode.CFB)
    },
    "B/RK": function (n, l, e) {
        "use strict";
        var t = e("vn/o");

        function i(n) {
            for (var l = n.length; --l >= 0;) n[l] = 0
        }
        var u = 0,
            r = 256,
            a = r + 1 + 29,
            o = 30,
            s = 19,
            c = 2 * a + 1,
            d = 15,
            h = 16,
            p = 256,
            f = 16,
            g = 17,
            v = 18,
            m = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
            y = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
            b = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
            _ = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
            k = new Array(2 * (a + 2));
        i(k);
        var w = new Array(2 * o);
        i(w);
        var x = new Array(512);
        i(x);
        var C = new Array(256);
        i(C);
        var S = new Array(29);
        i(S);
        var I, T, E, A = new Array(o);

        function P(n, l, e, t, i) {
            this.static_tree = n, this.extra_bits = l, this.extra_base = e, this.elems = t, this.max_length = i, this.has_stree = n && n.length
        }

        function O(n, l) {
            this.dyn_tree = n, this.max_code = 0, this.stat_desc = l
        }

        function D(n) {
            return n < 256 ? x[n] : x[256 + (n >>> 7)]
        }

        function R(n, l) {
            n.pending_buf[n.pending++] = 255 & l, n.pending_buf[n.pending++] = l >>> 8 & 255
        }

        function M(n, l, e) {
            n.bi_valid > h - e ? (n.bi_buf |= l << n.bi_valid & 65535, R(n, n.bi_buf), n.bi_buf = l >> h - n.bi_valid, n.bi_valid += e - h) : (n.bi_buf |= l << n.bi_valid & 65535, n.bi_valid += e)
        }

        function N(n, l, e) {
            M(n, e[2 * l], e[2 * l + 1])
        }

        function B(n, l) {
            var e = 0;
            do {
                e |= 1 & n, n >>>= 1, e <<= 1
            } while (--l > 0);
            return e >>> 1
        }

        function z(n, l, e) {
            var t, i, u = new Array(d + 1),
                r = 0;
            for (t = 1; t <= d; t++) u[t] = r = r + e[t - 1] << 1;
            for (i = 0; i <= l; i++) {
                var a = n[2 * i + 1];
                0 !== a && (n[2 * i] = B(u[a]++, a))
            }
        }

        function L(n) {
            var l;
            for (l = 0; l < a; l++) n.dyn_ltree[2 * l] = 0;
            for (l = 0; l < o; l++) n.dyn_dtree[2 * l] = 0;
            for (l = 0; l < s; l++) n.bl_tree[2 * l] = 0;
            n.dyn_ltree[2 * p] = 1, n.opt_len = n.static_len = 0, n.last_lit = n.matches = 0
        }

        function F(n) {
            n.bi_valid > 8 ? R(n, n.bi_buf) : n.bi_valid > 0 && (n.pending_buf[n.pending++] = n.bi_buf), n.bi_buf = 0, n.bi_valid = 0
        }

        function q(n, l, e, t) {
            var i = 2 * l,
                u = 2 * e;
            return n[i] < n[u] || n[i] === n[u] && t[l] <= t[e]
        }

        function U(n, l, e) {
            for (var t = n.heap[e], i = e << 1; i <= n.heap_len && (i < n.heap_len && q(l, n.heap[i + 1], n.heap[i], n.depth) && i++, !q(l, t, n.heap[i], n.depth));) n.heap[e] = n.heap[i], e = i, i <<= 1;
            n.heap[e] = t
        }

        function $(n, l, e) {
            var t, i, u, a, o = 0;
            if (0 !== n.last_lit)
                do {
                    t = n.pending_buf[n.d_buf + 2 * o] << 8 | n.pending_buf[n.d_buf + 2 * o + 1], i = n.pending_buf[n.l_buf + o], o++, 0 === t ? N(n, i, l) : (N(n, (u = C[i]) + r + 1, l), 0 !== (a = m[u]) && M(n, i -= S[u], a), N(n, u = D(--t), e), 0 !== (a = y[u]) && M(n, t -= A[u], a))
                } while (o < n.last_lit);
            N(n, p, l)
        }

        function H(n, l) {
            var e, t, i, u = l.dyn_tree,
                r = l.stat_desc.static_tree,
                a = l.stat_desc.has_stree,
                o = l.stat_desc.elems,
                s = -1;
            for (n.heap_len = 0, n.heap_max = c, e = 0; e < o; e++) 0 !== u[2 * e] ? (n.heap[++n.heap_len] = s = e, n.depth[e] = 0) : u[2 * e + 1] = 0;
            for (; n.heap_len < 2;) u[2 * (i = n.heap[++n.heap_len] = s < 2 ? ++s : 0)] = 1, n.depth[i] = 0, n.opt_len--, a && (n.static_len -= r[2 * i + 1]);
            for (l.max_code = s, e = n.heap_len >> 1; e >= 1; e--) U(n, u, e);
            i = o;
            do {
                e = n.heap[1], n.heap[1] = n.heap[n.heap_len--], U(n, u, 1), t = n.heap[1], n.heap[--n.heap_max] = e, n.heap[--n.heap_max] = t, u[2 * i] = u[2 * e] + u[2 * t], n.depth[i] = (n.depth[e] >= n.depth[t] ? n.depth[e] : n.depth[t]) + 1, u[2 * e + 1] = u[2 * t + 1] = i, n.heap[1] = i++, U(n, u, 1)
            } while (n.heap_len >= 2);
            n.heap[--n.heap_max] = n.heap[1],
                function (n, l) {
                    var e, t, i, u, r, a, o = l.dyn_tree,
                        s = l.max_code,
                        h = l.stat_desc.static_tree,
                        p = l.stat_desc.has_stree,
                        f = l.stat_desc.extra_bits,
                        g = l.stat_desc.extra_base,
                        v = l.stat_desc.max_length,
                        m = 0;
                    for (u = 0; u <= d; u++) n.bl_count[u] = 0;
                    for (o[2 * n.heap[n.heap_max] + 1] = 0, e = n.heap_max + 1; e < c; e++)(u = o[2 * o[2 * (t = n.heap[e]) + 1] + 1] + 1) > v && (u = v, m++), o[2 * t + 1] = u, t > s || (n.bl_count[u]++, r = 0, t >= g && (r = f[t - g]), n.opt_len += (a = o[2 * t]) * (u + r), p && (n.static_len += a * (h[2 * t + 1] + r)));
                    if (0 !== m) {
                        do {
                            for (u = v - 1; 0 === n.bl_count[u];) u--;
                            n.bl_count[u]--, n.bl_count[u + 1] += 2, n.bl_count[v]--, m -= 2
                        } while (m > 0);
                        for (u = v; 0 !== u; u--)
                            for (t = n.bl_count[u]; 0 !== t;)(i = n.heap[--e]) > s || (o[2 * i + 1] !== u && (n.opt_len += (u - o[2 * i + 1]) * o[2 * i], o[2 * i + 1] = u), t--)
                    }
                }(n, l), z(u, s, n.bl_count)
        }

        function V(n, l, e) {
            var t, i, u = -1,
                r = l[1],
                a = 0,
                o = 7,
                s = 4;
            for (0 === r && (o = 138, s = 3), l[2 * (e + 1) + 1] = 65535, t = 0; t <= e; t++) i = r, r = l[2 * (t + 1) + 1], ++a < o && i === r || (a < s ? n.bl_tree[2 * i] += a : 0 !== i ? (i !== u && n.bl_tree[2 * i]++, n.bl_tree[2 * f]++) : a <= 10 ? n.bl_tree[2 * g]++ : n.bl_tree[2 * v]++, a = 0, u = i, 0 === r ? (o = 138, s = 3) : i === r ? (o = 6, s = 3) : (o = 7, s = 4))
        }

        function j(n, l, e) {
            var t, i, u = -1,
                r = l[1],
                a = 0,
                o = 7,
                s = 4;
            for (0 === r && (o = 138, s = 3), t = 0; t <= e; t++)
                if (i = r, r = l[2 * (t + 1) + 1], !(++a < o && i === r)) {
                    if (a < s)
                        do {
                            N(n, i, n.bl_tree)
                        } while (0 != --a);
                    else 0 !== i ? (i !== u && (N(n, i, n.bl_tree), a--), N(n, f, n.bl_tree), M(n, a - 3, 2)) : a <= 10 ? (N(n, g, n.bl_tree), M(n, a - 3, 3)) : (N(n, v, n.bl_tree), M(n, a - 11, 7));
                    a = 0, u = i, 0 === r ? (o = 138, s = 3) : i === r ? (o = 6, s = 3) : (o = 7, s = 4)
                }
        }
        i(A);
        var G = !1;

        function W(n, l, e, i) {
            M(n, (u << 1) + (i ? 1 : 0), 3),
                function (n, l, e, i) {
                    F(n), R(n, e), R(n, ~e), t.arraySet(n.pending_buf, n.window, l, e, n.pending), n.pending += e
                }(n, l, e)
        }
        l._tr_init = function (n) {
            G || (function () {
                var n, l, e, t, i, u = new Array(d + 1);
                for (e = 0, t = 0; t < 28; t++)
                    for (S[t] = e, n = 0; n < 1 << m[t]; n++) C[e++] = t;
                for (C[e - 1] = t, i = 0, t = 0; t < 16; t++)
                    for (A[t] = i, n = 0; n < 1 << y[t]; n++) x[i++] = t;
                for (i >>= 7; t < o; t++)
                    for (A[t] = i << 7, n = 0; n < 1 << y[t] - 7; n++) x[256 + i++] = t;
                for (l = 0; l <= d; l++) u[l] = 0;
                for (n = 0; n <= 143;) k[2 * n + 1] = 8, n++, u[8]++;
                for (; n <= 255;) k[2 * n + 1] = 9, n++, u[9]++;
                for (; n <= 279;) k[2 * n + 1] = 7, n++, u[7]++;
                for (; n <= 287;) k[2 * n + 1] = 8, n++, u[8]++;
                for (z(k, a + 1, u), n = 0; n < o; n++) w[2 * n + 1] = 5, w[2 * n] = B(n, 5);
                I = new P(k, m, r + 1, a, d), T = new P(w, y, 0, o, d), E = new P(new Array(0), b, 0, s, 7)
            }(), G = !0), n.l_desc = new O(n.dyn_ltree, I), n.d_desc = new O(n.dyn_dtree, T), n.bl_desc = new O(n.bl_tree, E), n.bi_buf = 0, n.bi_valid = 0, L(n)
        }, l._tr_stored_block = W, l._tr_flush_block = function (n, l, e, t) {
            var i, u, a = 0;
            n.level > 0 ? (2 === n.strm.data_type && (n.strm.data_type = function (n) {
                var l, e = 4093624447;
                for (l = 0; l <= 31; l++, e >>>= 1)
                    if (1 & e && 0 !== n.dyn_ltree[2 * l]) return 0;
                if (0 !== n.dyn_ltree[18] || 0 !== n.dyn_ltree[20] || 0 !== n.dyn_ltree[26]) return 1;
                for (l = 32; l < r; l++)
                    if (0 !== n.dyn_ltree[2 * l]) return 1;
                return 0
            }(n)), H(n, n.l_desc), H(n, n.d_desc), a = function (n) {
                var l;
                for (V(n, n.dyn_ltree, n.l_desc.max_code), V(n, n.dyn_dtree, n.d_desc.max_code), H(n, n.bl_desc), l = s - 1; l >= 3 && 0 === n.bl_tree[2 * _[l] + 1]; l--);
                return n.opt_len += 3 * (l + 1) + 5 + 5 + 4, l
            }(n), (u = n.static_len + 3 + 7 >>> 3) <= (i = n.opt_len + 3 + 7 >>> 3) && (i = u)) : i = u = e + 5, e + 4 <= i && -1 !== l ? W(n, l, e, t) : 4 === n.strategy || u === i ? (M(n, 2 + (t ? 1 : 0), 3), $(n, k, w)) : (M(n, 4 + (t ? 1 : 0), 3), function (n, l, e, t) {
                var i;
                for (M(n, l - 257, 5), M(n, e - 1, 5), M(n, t - 4, 4), i = 0; i < t; i++) M(n, n.bl_tree[2 * _[i] + 1], 3);
                j(n, n.dyn_ltree, l - 1), j(n, n.dyn_dtree, e - 1)
            }(n, n.l_desc.max_code + 1, n.d_desc.max_code + 1, a + 1), $(n, n.dyn_ltree, n.dyn_dtree)), L(n), t && F(n)
        }, l._tr_tally = function (n, l, e) {
            return n.pending_buf[n.d_buf + 2 * n.last_lit] = l >>> 8 & 255, n.pending_buf[n.d_buf + 2 * n.last_lit + 1] = 255 & l, n.pending_buf[n.l_buf + n.last_lit] = 255 & e, n.last_lit++, 0 === l ? n.dyn_ltree[2 * e]++ : (n.matches++, l--, n.dyn_ltree[2 * (C[e] + r + 1)]++, n.dyn_dtree[2 * D(l)]++), n.last_lit === n.lit_bufsize - 1
        }, l._tr_align = function (n) {
            M(n, 2, 3), N(n, p, k),
                function (n) {
                    16 === n.bi_valid ? (R(n, n.bi_buf), n.bi_buf = 0, n.bi_valid = 0) : n.bi_valid >= 8 && (n.pending_buf[n.pending++] = 255 & n.bi_buf, n.bi_buf >>= 8, n.bi_valid -= 8)
                }(n)
        }
    },
    E4JC: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("ETIr"), e("cv67"), e("K3mO"), e("OLod"), function () {
            var n = t,
                l = n.lib.StreamCipher,
                e = [],
                i = [],
                u = [],
                r = n.algo.Rabbit = l.extend({
                    _doReset: function () {
                        for (var n = this._key.words, l = this.cfg.iv, e = 0; e < 4; e++) n[e] = 16711935 & (n[e] << 8 | n[e] >>> 24) | 4278255360 & (n[e] << 24 | n[e] >>> 8);
                        var t = this._X = [n[0], n[3] << 16 | n[2] >>> 16, n[1], n[0] << 16 | n[3] >>> 16, n[2], n[1] << 16 | n[0] >>> 16, n[3], n[2] << 16 | n[1] >>> 16],
                            i = this._C = [n[2] << 16 | n[2] >>> 16, 4294901760 & n[0] | 65535 & n[1], n[3] << 16 | n[3] >>> 16, 4294901760 & n[1] | 65535 & n[2], n[0] << 16 | n[0] >>> 16, 4294901760 & n[2] | 65535 & n[3], n[1] << 16 | n[1] >>> 16, 4294901760 & n[3] | 65535 & n[0]];
                        for (this._b = 0, e = 0; e < 4; e++) a.call(this);
                        for (e = 0; e < 8; e++) i[e] ^= t[e + 4 & 7];
                        if (l) {
                            var u = l.words,
                                r = u[0],
                                o = u[1],
                                s = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8),
                                c = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
                                d = s >>> 16 | 4294901760 & c,
                                h = c << 16 | 65535 & s;
                            for (i[0] ^= s, i[1] ^= d, i[2] ^= c, i[3] ^= h, i[4] ^= s, i[5] ^= d, i[6] ^= c, i[7] ^= h, e = 0; e < 4; e++) a.call(this)
                        }
                    },
                    _doProcessBlock: function (n, l) {
                        var t = this._X;
                        a.call(this), e[0] = t[0] ^ t[5] >>> 16 ^ t[3] << 16, e[1] = t[2] ^ t[7] >>> 16 ^ t[5] << 16, e[2] = t[4] ^ t[1] >>> 16 ^ t[7] << 16, e[3] = t[6] ^ t[3] >>> 16 ^ t[1] << 16;
                        for (var i = 0; i < 4; i++) e[i] = 16711935 & (e[i] << 8 | e[i] >>> 24) | 4278255360 & (e[i] << 24 | e[i] >>> 8), n[l + i] ^= e[i]
                    },
                    blockSize: 4,
                    ivSize: 2
                });

            function a() {
                for (var n = this._X, l = this._C, e = 0; e < 8; e++) i[e] = l[e];
                for (l[0] = l[0] + 1295307597 + this._b | 0, l[1] = l[1] + 3545052371 + (l[0] >>> 0 < i[0] >>> 0 ? 1 : 0) | 0, l[2] = l[2] + 886263092 + (l[1] >>> 0 < i[1] >>> 0 ? 1 : 0) | 0, l[3] = l[3] + 1295307597 + (l[2] >>> 0 < i[2] >>> 0 ? 1 : 0) | 0, l[4] = l[4] + 3545052371 + (l[3] >>> 0 < i[3] >>> 0 ? 1 : 0) | 0, l[5] = l[5] + 886263092 + (l[4] >>> 0 < i[4] >>> 0 ? 1 : 0) | 0, l[6] = l[6] + 1295307597 + (l[5] >>> 0 < i[5] >>> 0 ? 1 : 0) | 0, l[7] = l[7] + 3545052371 + (l[6] >>> 0 < i[6] >>> 0 ? 1 : 0) | 0, this._b = l[7] >>> 0 < i[7] >>> 0 ? 1 : 0, e = 0; e < 8; e++) {
                    var t = n[e] + l[e],
                        r = 65535 & t,
                        a = t >>> 16;
                    u[e] = ((r * r >>> 17) + r * a >>> 15) + a * a ^ ((4294901760 & t) * t | 0) + ((65535 & t) * t | 0)
                }
                n[0] = u[0] + (u[7] << 16 | u[7] >>> 16) + (u[6] << 16 | u[6] >>> 16) | 0, n[1] = u[1] + (u[0] << 8 | u[0] >>> 24) + u[7] | 0, n[2] = u[2] + (u[1] << 16 | u[1] >>> 16) + (u[0] << 16 | u[0] >>> 16) | 0, n[3] = u[3] + (u[2] << 8 | u[2] >>> 24) + u[1] | 0, n[4] = u[4] + (u[3] << 16 | u[3] >>> 16) + (u[2] << 16 | u[2] >>> 16) | 0, n[5] = u[5] + (u[4] << 8 | u[4] >>> 24) + u[3] | 0, n[6] = u[6] + (u[5] << 16 | u[5] >>> 16) + (u[4] << 16 | u[4] >>> 16) | 0, n[7] = u[7] + (u[6] << 8 | u[6] >>> 24) + u[5] | 0
            }
            n.Rabbit = l._createHelper(r)
        }(), t.Rabbit)
    },
    ELcG: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), function (n) {
            var l = t,
                e = l.lib,
                i = e.WordArray,
                u = e.Hasher,
                r = l.algo,
                a = i.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]),
                o = i.create([5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]),
                s = i.create([11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6]),
                c = i.create([8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]),
                d = i.create([0, 1518500249, 1859775393, 2400959708, 2840853838]),
                h = i.create([1352829926, 1548603684, 1836072691, 2053994217, 0]),
                p = r.RIPEMD160 = u.extend({
                    _doReset: function () {
                        this._hash = i.create([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
                    },
                    _doProcessBlock: function (n, l) {
                        for (var e = 0; e < 16; e++) {
                            var t = l + e,
                                i = n[t];
                            n[t] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8)
                        }
                        var u, r, p, _, k, w, x, C, S, I, T, E = this._hash.words,
                            A = d.words,
                            P = h.words,
                            O = a.words,
                            D = o.words,
                            R = s.words,
                            M = c.words;
                        for (w = u = E[0], x = r = E[1], C = p = E[2], S = _ = E[3], I = k = E[4], e = 0; e < 80; e += 1) T = u + n[l + O[e]] | 0, T += e < 16 ? f(r, p, _) + A[0] : e < 32 ? g(r, p, _) + A[1] : e < 48 ? v(r, p, _) + A[2] : e < 64 ? m(r, p, _) + A[3] : y(r, p, _) + A[4], T = (T = b(T |= 0, R[e])) + k | 0, u = k, k = _, _ = b(p, 10), p = r, r = T, T = w + n[l + D[e]] | 0, T += e < 16 ? y(x, C, S) + P[0] : e < 32 ? m(x, C, S) + P[1] : e < 48 ? v(x, C, S) + P[2] : e < 64 ? g(x, C, S) + P[3] : f(x, C, S) + P[4], T = (T = b(T |= 0, M[e])) + I | 0, w = I, I = S, S = b(C, 10), C = x, x = T;
                        T = E[1] + p + S | 0, E[1] = E[2] + _ + I | 0, E[2] = E[3] + k + w | 0, E[3] = E[4] + u + x | 0, E[4] = E[0] + r + C | 0, E[0] = T
                    },
                    _doFinalize: function () {
                        var n = this._data,
                            l = n.words,
                            e = 8 * this._nDataBytes,
                            t = 8 * n.sigBytes;
                        l[t >>> 5] |= 128 << 24 - t % 32, l[14 + (t + 64 >>> 9 << 4)] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8), n.sigBytes = 4 * (l.length + 1), this._process();
                        for (var i = this._hash, u = i.words, r = 0; r < 5; r++) {
                            var a = u[r];
                            u[r] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8)
                        }
                        return i
                    },
                    clone: function () {
                        var n = u.clone.call(this);
                        return n._hash = this._hash.clone(), n
                    }
                });

            function f(n, l, e) {
                return n ^ l ^ e
            }

            function g(n, l, e) {
                return n & l | ~n & e
            }

            function v(n, l, e) {
                return (n | ~l) ^ e
            }

            function m(n, l, e) {
                return n & e | l & ~e
            }

            function y(n, l, e) {
                return n ^ (l | ~e)
            }

            function b(n, l) {
                return n << l | n >>> 32 - l
            }
            l.RIPEMD160 = u._createHelper(p), l.HmacRIPEMD160 = u._createHmacHelper(p)
        }(Math), t.RIPEMD160)
    },
    ETIr: function (n, l, e) {
        var t, i;
        n.exports = (i = e("Ib8C"), t = i.lib.WordArray, i.enc.Base64 = {
            stringify: function (n) {
                var l = n.words,
                    e = n.sigBytes,
                    t = this._map;
                n.clamp();
                for (var i = [], u = 0; u < e; u += 3)
                    for (var r = (l[u >>> 2] >>> 24 - u % 4 * 8 & 255) << 16 | (l[u + 1 >>> 2] >>> 24 - (u + 1) % 4 * 8 & 255) << 8 | l[u + 2 >>> 2] >>> 24 - (u + 2) % 4 * 8 & 255, a = 0; a < 4 && u + .75 * a < e; a++) i.push(t.charAt(r >>> 6 * (3 - a) & 63));
                var o = t.charAt(64);
                if (o)
                    for (; i.length % 4;) i.push(o);
                return i.join("")
            },
            parse: function (n) {
                var l = n.length,
                    e = this._map,
                    i = this._reverseMap;
                if (!i) {
                    i = this._reverseMap = [];
                    for (var u = 0; u < e.length; u++) i[e.charCodeAt(u)] = u
                }
                var r = e.charAt(64);
                if (r) {
                    var a = n.indexOf(r); - 1 !== a && (l = a)
                }
                return function (n, l, e) {
                    for (var i = [], u = 0, r = 0; r < l; r++)
                        if (r % 4) {
                            var a = e[n.charCodeAt(r - 1)] << r % 4 * 2,
                                o = e[n.charCodeAt(r)] >>> 6 - r % 4 * 2;
                            i[u >>> 2] |= (a | o) << 24 - u % 4 * 8, u++
                        } return t.create(i, u)
                }(n, l, i)
            },
            _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
        }, i.enc.Base64)
    },
    "F+F2": function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), function () {
            if ("function" == typeof ArrayBuffer) {
                var n = t.lib.WordArray,
                    l = n.init;
                (n.init = function (n) {
                    if (n instanceof ArrayBuffer && (n = new Uint8Array(n)), (n instanceof Int8Array || "undefined" != typeof Uint8ClampedArray && n instanceof Uint8ClampedArray || n instanceof Int16Array || n instanceof Uint16Array || n instanceof Int32Array || n instanceof Uint32Array || n instanceof Float32Array || n instanceof Float64Array) && (n = new Uint8Array(n.buffer, n.byteOffset, n.byteLength)), n instanceof Uint8Array) {
                        for (var e = n.byteLength, t = [], i = 0; i < e; i++) t[i >>> 2] |= n[i] << 24 - i % 4 * 8;
                        l.call(this, t, e)
                    } else l.apply(this, arguments)
                }).prototype = n
            }
        }(), t.lib.WordArray)
    },
    GRuw: function (n, l, e) {
        var t, i, u, r, a, o;
        n.exports = (o = e("Ib8C"), e("lPiR"), i = (t = o).lib.WordArray, a = (u = t.algo).SHA224 = (r = u.SHA256).extend({
            _doReset: function () {
                this._hash = new i.init([3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428])
            },
            _doFinalize: function () {
                var n = r._doFinalize.call(this);
                return n.sigBytes -= 4, n
            }
        }), t.SHA224 = r._createHelper(a), t.HmacSHA224 = r._createHmacHelper(a), o.SHA224)
    },
    HXk2: function (n, l, e) {
        var t, i;
        void 0 === (i = "function" == typeof (t = function () {
            "use strict";
            var l = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0;

            function e(n, l, e) {
                var t = new XMLHttpRequest;
                t.open("GET", n), t.responseType = "blob", t.onload = function () {
                    u(t.response, l, e)
                }, t.onerror = function () {
                    console.error("could not download file")
                }, t.send()
            }

            function t(n) {
                var l = new XMLHttpRequest;
                l.open("HEAD", n, !1);
                try {
                    l.send()
                } catch (e) {}
                return l.status >= 200 && l.status <= 299
            }

            function i(n) {
                try {
                    n.dispatchEvent(new MouseEvent("click"))
                } catch (e) {
                    var l = document.createEvent("MouseEvents");
                    l.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), n.dispatchEvent(l)
                }
            }
            var u = l.saveAs || ("object" != typeof window || window !== l ? function () {} : "download" in HTMLAnchorElement.prototype ? function (n, u, r) {
                var a = l.URL || l.webkitURL,
                    o = document.createElement("a");
                o.download = u = u || n.name || "download", o.rel = "noopener", "string" == typeof n ? (o.href = n, o.origin !== location.origin ? t(o.href) ? e(n, u, r) : i(o, o.target = "_blank") : i(o)) : (o.href = a.createObjectURL(n), setTimeout((function () {
                    a.revokeObjectURL(o.href)
                }), 4e4), setTimeout((function () {
                    i(o)
                }), 0))
            } : "msSaveOrOpenBlob" in navigator ? function (n, l, u) {
                if (l = l || n.name || "download", "string" == typeof n)
                    if (t(n)) e(n, l, u);
                    else {
                        var r = document.createElement("a");
                        r.href = n, r.target = "_blank", setTimeout((function () {
                            i(r)
                        }))
                    }
                else navigator.msSaveOrOpenBlob(function (n, l) {
                    return void 0 === l ? l = {
                        autoBom: !1
                    } : "object" != typeof l && (console.warn("Deprecated: Expected third argument to be a object"), l = {
                        autoBom: !l
                    }), l.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type) ? new Blob([String.fromCharCode(65279), n], {
                        type: n.type
                    }) : n
                }(n, u), l)
            } : function (n, t, i, u) {
                if ((u = u || open("", "_blank")) && (u.document.title = u.document.body.innerText = "downloading..."), "string" == typeof n) return e(n, t, i);
                var r = "application/octet-stream" === n.type,
                    a = /constructor/i.test(l.HTMLElement) || l.safari,
                    o = /CriOS\/[\d]+/.test(navigator.userAgent);
                if ((o || r && a) && "object" == typeof FileReader) {
                    var s = new FileReader;
                    s.onloadend = function () {
                        var n = s.result;
                        n = o ? n : n.replace(/^data:[^;]*;/, "data:attachment/file;"), u ? u.location.href = n : location = n, u = null
                    }, s.readAsDataURL(n)
                } else {
                    var c = l.URL || l.webkitURL,
                        d = c.createObjectURL(n);
                    u ? u.location = d : location.href = d, u = null, setTimeout((function () {
                        c.revokeObjectURL(d)
                    }), 4e4)
                }
            });
            l.saveAs = u.saveAs = u, n.exports = u
        }) ? t.apply(l, []) : t) || (n.exports = i)
    },
    Ib8C: function (n, l, e) {
        var t;
        n.exports = t = t || function (n, l) {
            var e = Object.create || function () {
                    function n() {}
                    return function (l) {
                        var e;
                        return n.prototype = l, e = new n, n.prototype = null, e
                    }
                }(),
                t = {},
                i = t.lib = {},
                u = i.Base = {
                    extend: function (n) {
                        var l = e(this);
                        return n && l.mixIn(n), l.hasOwnProperty("init") && this.init !== l.init || (l.init = function () {
                            l.$super.init.apply(this, arguments)
                        }), l.init.prototype = l, l.$super = this, l
                    },
                    create: function () {
                        var n = this.extend();
                        return n.init.apply(n, arguments), n
                    },
                    init: function () {},
                    mixIn: function (n) {
                        for (var l in n) n.hasOwnProperty(l) && (this[l] = n[l]);
                        n.hasOwnProperty("toString") && (this.toString = n.toString)
                    },
                    clone: function () {
                        return this.init.prototype.extend(this)
                    }
                },
                r = i.WordArray = u.extend({
                    init: function (n, l) {
                        n = this.words = n || [], this.sigBytes = null != l ? l : 4 * n.length
                    },
                    toString: function (n) {
                        return (n || o).stringify(this)
                    },
                    concat: function (n) {
                        var l = this.words,
                            e = n.words,
                            t = this.sigBytes,
                            i = n.sigBytes;
                        if (this.clamp(), t % 4)
                            for (var u = 0; u < i; u++) l[t + u >>> 2] |= (e[u >>> 2] >>> 24 - u % 4 * 8 & 255) << 24 - (t + u) % 4 * 8;
                        else
                            for (u = 0; u < i; u += 4) l[t + u >>> 2] = e[u >>> 2];
                        return this.sigBytes += i, this
                    },
                    clamp: function () {
                        var l = this.words,
                            e = this.sigBytes;
                        l[e >>> 2] &= 4294967295 << 32 - e % 4 * 8, l.length = n.ceil(e / 4)
                    },
                    clone: function () {
                        var n = u.clone.call(this);
                        return n.words = this.words.slice(0), n
                    },
                    random: function (l) {
                        for (var e, t = [], i = function (l) {
                                l = l;
                                var e = 987654321,
                                    t = 4294967295;
                                return function () {
                                    var i = ((e = 36969 * (65535 & e) + (e >> 16) & t) << 16) + (l = 18e3 * (65535 & l) + (l >> 16) & t) & t;
                                    return i /= 4294967296, (i += .5) * (n.random() > .5 ? 1 : -1)
                                }
                            }, u = 0; u < l; u += 4) {
                            var a = i(4294967296 * (e || n.random()));
                            e = 987654071 * a(), t.push(4294967296 * a() | 0)
                        }
                        return new r.init(t, l)
                    }
                }),
                a = t.enc = {},
                o = a.Hex = {
                    stringify: function (n) {
                        for (var l = n.words, e = n.sigBytes, t = [], i = 0; i < e; i++) {
                            var u = l[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                            t.push((u >>> 4).toString(16)), t.push((15 & u).toString(16))
                        }
                        return t.join("")
                    },
                    parse: function (n) {
                        for (var l = n.length, e = [], t = 0; t < l; t += 2) e[t >>> 3] |= parseInt(n.substr(t, 2), 16) << 24 - t % 8 * 4;
                        return new r.init(e, l / 2)
                    }
                },
                s = a.Latin1 = {
                    stringify: function (n) {
                        for (var l = n.words, e = n.sigBytes, t = [], i = 0; i < e; i++) t.push(String.fromCharCode(l[i >>> 2] >>> 24 - i % 4 * 8 & 255));
                        return t.join("")
                    },
                    parse: function (n) {
                        for (var l = n.length, e = [], t = 0; t < l; t++) e[t >>> 2] |= (255 & n.charCodeAt(t)) << 24 - t % 4 * 8;
                        return new r.init(e, l)
                    }
                },
                c = a.Utf8 = {
                    stringify: function (n) {
                        try {
                            return decodeURIComponent(escape(s.stringify(n)))
                        } catch (l) {
                            throw new Error("Malformed UTF-8 data")
                        }
                    },
                    parse: function (n) {
                        return s.parse(unescape(encodeURIComponent(n)))
                    }
                },
                d = i.BufferedBlockAlgorithm = u.extend({
                    reset: function () {
                        this._data = new r.init, this._nDataBytes = 0
                    },
                    _append: function (n) {
                        "string" == typeof n && (n = c.parse(n)), this._data.concat(n), this._nDataBytes += n.sigBytes
                    },
                    _process: function (l) {
                        var e = this._data,
                            t = e.words,
                            i = e.sigBytes,
                            u = this.blockSize,
                            a = i / (4 * u),
                            o = (a = l ? n.ceil(a) : n.max((0 | a) - this._minBufferSize, 0)) * u,
                            s = n.min(4 * o, i);
                        if (o) {
                            for (var c = 0; c < o; c += u) this._doProcessBlock(t, c);
                            var d = t.splice(0, o);
                            e.sigBytes -= s
                        }
                        return new r.init(d, s)
                    },
                    clone: function () {
                        var n = u.clone.call(this);
                        return n._data = this._data.clone(), n
                    },
                    _minBufferSize: 0
                }),
                h = (i.Hasher = d.extend({
                    cfg: u.extend(),
                    init: function (n) {
                        this.cfg = this.cfg.extend(n), this.reset()
                    },
                    reset: function () {
                        d.reset.call(this), this._doReset()
                    },
                    update: function (n) {
                        return this._append(n), this._process(), this
                    },
                    finalize: function (n) {
                        return n && this._append(n), this._doFinalize()
                    },
                    blockSize: 16,
                    _createHelper: function (n) {
                        return function (l, e) {
                            return new n.init(e).finalize(l)
                        }
                    },
                    _createHmacHelper: function (n) {
                        return function (l, e) {
                            return new h.HMAC.init(n, e).finalize(l)
                        }
                    }
                }), t.algo = {});
            return t
        }(Math)
    },
    K3mO: function (n, l, e) {
        var t, i, u, r, a, o, s;
        n.exports = (s = e("Ib8C"), e("3y9D"), e("WYAk"), r = (i = (t = s).lib).WordArray, o = (a = t.algo).EvpKDF = (u = i.Base).extend({
            cfg: u.extend({
                keySize: 4,
                hasher: a.MD5,
                iterations: 1
            }),
            init: function (n) {
                this.cfg = this.cfg.extend(n)
            },
            compute: function (n, l) {
                for (var e = this.cfg, t = e.hasher.create(), i = r.create(), u = i.words, a = e.keySize, o = e.iterations; u.length < a;) {
                    s && t.update(s);
                    var s = t.update(n).finalize(l);
                    t.reset();
                    for (var c = 1; c < o; c++) s = t.finalize(s), t.reset();
                    i.concat(s)
                }
                return i.sigBytes = 4 * a, i
            }
        }), t.EvpKDF = function (n, l, e) {
            return o.create(e).compute(n, l)
        }, s.EvpKDF)
    },
    KmYQ: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.pad.ZeroPadding = {
            pad: function (n, l) {
                var e = 4 * l;
                n.clamp(), n.sigBytes += e - (n.sigBytes % e || e)
            },
            unpad: function (n) {
                for (var l = n.words, e = n.sigBytes - 1; !(l[e >>> 2] >>> 24 - e % 4 * 8 & 255);) e--;
                n.sigBytes = e + 1
            }
        }, t.pad.ZeroPadding)
    },
    LOvY: function (n, l, e) {
        "use strict";
        n.exports = {
            Z_NO_FLUSH: 0,
            Z_PARTIAL_FLUSH: 1,
            Z_SYNC_FLUSH: 2,
            Z_FULL_FLUSH: 3,
            Z_FINISH: 4,
            Z_BLOCK: 5,
            Z_TREES: 6,
            Z_OK: 0,
            Z_STREAM_END: 1,
            Z_NEED_DICT: 2,
            Z_ERRNO: -1,
            Z_STREAM_ERROR: -2,
            Z_DATA_ERROR: -3,
            Z_BUF_ERROR: -5,
            Z_NO_COMPRESSION: 0,
            Z_BEST_SPEED: 1,
            Z_BEST_COMPRESSION: 9,
            Z_DEFAULT_COMPRESSION: -1,
            Z_FILTERED: 1,
            Z_HUFFMAN_ONLY: 2,
            Z_RLE: 3,
            Z_FIXED: 4,
            Z_DEFAULT_STRATEGY: 0,
            Z_BINARY: 0,
            Z_TEXT: 1,
            Z_UNKNOWN: 2,
            Z_DEFLATED: 8
        }
    },
    MlIO: function (n, l, e) {
        var t, i, u, r, a;
        n.exports = (a = e("Ib8C"), i = (t = a.lib).Base, u = t.WordArray, (r = a.x64 = {}).Word = i.extend({
            init: function (n, l) {
                this.high = n, this.low = l
            }
        }), r.WordArray = i.extend({
            init: function (n, l) {
                n = this.words = n || [], this.sigBytes = null != l ? l : 8 * n.length
            },
            toX32: function () {
                for (var n = this.words, l = n.length, e = [], t = 0; t < l; t++) {
                    var i = n[t];
                    e.push(i.high), e.push(i.low)
                }
                return u.create(e, this.sigBytes)
            },
            clone: function () {
                for (var n = i.clone.call(this), l = n.words = this.words.slice(0), e = l.length, t = 0; t < e; t++) l[t] = l[t].clone();
                return n
            }
        }), a)
    },
    NFKh: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("MlIO"), e("F+F2"), e("qM6L"), e("ETIr"), e("cv67"), e("3y9D"), e("lPiR"), e("GRuw"), e("1uat"), e("uGsb"), e("5hvy"), e("ELcG"), e("WYAk"), e("e7zE"), e("K3mO"), e("OLod"), e("ALsQ"), e("9OqN"), e("qu8F"), e("S6kV"), e("gb/T"), e("qBft"), e("oRuE"), e("jO9C"), e("KmYQ"), e("uGxW"), e("bQjk"), e("wZgz"), e("pA7S"), e("w7YG"), e("E4JC"), e("PVpz"), t)
    },
    OLod: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("K3mO"), void(t.lib.Cipher || function (n) {
            var l = t,
                e = l.lib,
                i = e.Base,
                u = e.WordArray,
                r = e.BufferedBlockAlgorithm,
                a = l.enc.Base64,
                o = l.algo.EvpKDF,
                s = e.Cipher = r.extend({
                    cfg: i.extend(),
                    createEncryptor: function (n, l) {
                        return this.create(this._ENC_XFORM_MODE, n, l)
                    },
                    createDecryptor: function (n, l) {
                        return this.create(this._DEC_XFORM_MODE, n, l)
                    },
                    init: function (n, l, e) {
                        this.cfg = this.cfg.extend(e), this._xformMode = n, this._key = l, this.reset()
                    },
                    reset: function () {
                        r.reset.call(this), this._doReset()
                    },
                    process: function (n) {
                        return this._append(n), this._process()
                    },
                    finalize: function (n) {
                        return n && this._append(n), this._doFinalize()
                    },
                    keySize: 4,
                    ivSize: 4,
                    _ENC_XFORM_MODE: 1,
                    _DEC_XFORM_MODE: 2,
                    _createHelper: function () {
                        function n(n) {
                            return "string" == typeof n ? y : v
                        }
                        return function (l) {
                            return {
                                encrypt: function (e, t, i) {
                                    return n(t).encrypt(l, e, t, i)
                                },
                                decrypt: function (e, t, i) {
                                    return n(t).decrypt(l, e, t, i)
                                }
                            }
                        }
                    }()
                }),
                c = (e.StreamCipher = s.extend({
                    _doFinalize: function () {
                        return this._process(!0)
                    },
                    blockSize: 1
                }), l.mode = {}),
                d = e.BlockCipherMode = i.extend({
                    createEncryptor: function (n, l) {
                        return this.Encryptor.create(n, l)
                    },
                    createDecryptor: function (n, l) {
                        return this.Decryptor.create(n, l)
                    },
                    init: function (n, l) {
                        this._cipher = n, this._iv = l
                    }
                }),
                h = c.CBC = function () {
                    var l = d.extend();

                    function e(l, e, t) {
                        var i = this._iv;
                        if (i) {
                            var u = i;
                            this._iv = n
                        } else u = this._prevBlock;
                        for (var r = 0; r < t; r++) l[e + r] ^= u[r]
                    }
                    return l.Encryptor = l.extend({
                        processBlock: function (n, l) {
                            var t = this._cipher,
                                i = t.blockSize;
                            e.call(this, n, l, i), t.encryptBlock(n, l), this._prevBlock = n.slice(l, l + i)
                        }
                    }), l.Decryptor = l.extend({
                        processBlock: function (n, l) {
                            var t = this._cipher,
                                i = t.blockSize,
                                u = n.slice(l, l + i);
                            t.decryptBlock(n, l), e.call(this, n, l, i), this._prevBlock = u
                        }
                    }), l
                }(),
                p = (l.pad = {}).Pkcs7 = {
                    pad: function (n, l) {
                        for (var e = 4 * l, t = e - n.sigBytes % e, i = t << 24 | t << 16 | t << 8 | t, r = [], a = 0; a < t; a += 4) r.push(i);
                        var o = u.create(r, t);
                        n.concat(o)
                    },
                    unpad: function (n) {
                        n.sigBytes -= 255 & n.words[n.sigBytes - 1 >>> 2]
                    }
                },
                f = (e.BlockCipher = s.extend({
                    cfg: s.cfg.extend({
                        mode: h,
                        padding: p
                    }),
                    reset: function () {
                        s.reset.call(this);
                        var n = this.cfg,
                            l = n.iv,
                            e = n.mode;
                        if (this._xformMode == this._ENC_XFORM_MODE) var t = e.createEncryptor;
                        else t = e.createDecryptor, this._minBufferSize = 1;
                        this._mode && this._mode.__creator == t ? this._mode.init(this, l && l.words) : (this._mode = t.call(e, this, l && l.words), this._mode.__creator = t)
                    },
                    _doProcessBlock: function (n, l) {
                        this._mode.processBlock(n, l)
                    },
                    _doFinalize: function () {
                        var n = this.cfg.padding;
                        if (this._xformMode == this._ENC_XFORM_MODE) {
                            n.pad(this._data, this.blockSize);
                            var l = this._process(!0)
                        } else l = this._process(!0), n.unpad(l);
                        return l
                    },
                    blockSize: 4
                }), e.CipherParams = i.extend({
                    init: function (n) {
                        this.mixIn(n)
                    },
                    toString: function (n) {
                        return (n || this.formatter).stringify(this)
                    }
                })),
                g = (l.format = {}).OpenSSL = {
                    stringify: function (n) {
                        var l = n.ciphertext,
                            e = n.salt;
                        if (e) var t = u.create([1398893684, 1701076831]).concat(e).concat(l);
                        else t = l;
                        return t.toString(a)
                    },
                    parse: function (n) {
                        var l = a.parse(n),
                            e = l.words;
                        if (1398893684 == e[0] && 1701076831 == e[1]) {
                            var t = u.create(e.slice(2, 4));
                            e.splice(0, 4), l.sigBytes -= 16
                        }
                        return f.create({
                            ciphertext: l,
                            salt: t
                        })
                    }
                },
                v = e.SerializableCipher = i.extend({
                    cfg: i.extend({
                        format: g
                    }),
                    encrypt: function (n, l, e, t) {
                        t = this.cfg.extend(t);
                        var i = n.createEncryptor(e, t),
                            u = i.finalize(l),
                            r = i.cfg;
                        return f.create({
                            ciphertext: u,
                            key: e,
                            iv: r.iv,
                            algorithm: n,
                            mode: r.mode,
                            padding: r.padding,
                            blockSize: n.blockSize,
                            formatter: t.format
                        })
                    },
                    decrypt: function (n, l, e, t) {
                        return t = this.cfg.extend(t), l = this._parse(l, t.format), n.createDecryptor(e, t).finalize(l.ciphertext)
                    },
                    _parse: function (n, l) {
                        return "string" == typeof n ? l.parse(n, this) : n
                    }
                }),
                m = (l.kdf = {}).OpenSSL = {
                    execute: function (n, l, e, t) {
                        t || (t = u.random(8));
                        var i = o.create({
                                keySize: l + e
                            }).compute(n, t),
                            r = u.create(i.words.slice(l), 4 * e);
                        return i.sigBytes = 4 * l, f.create({
                            key: i,
                            iv: r,
                            salt: t
                        })
                    }
                },
                y = e.PasswordBasedCipher = v.extend({
                    cfg: v.cfg.extend({
                        kdf: m
                    }),
                    encrypt: function (n, l, e, t) {
                        var i = (t = this.cfg.extend(t)).kdf.execute(e, n.keySize, n.ivSize);
                        t.iv = i.iv;
                        var u = v.encrypt.call(this, n, l, i.key, t);
                        return u.mixIn(i), u
                    },
                    decrypt: function (n, l, e, t) {
                        t = this.cfg.extend(t), l = this._parse(l, t.format);
                        var i = t.kdf.execute(e, n.keySize, n.ivSize, l.salt);
                        return t.iv = i.iv, v.decrypt.call(this, n, l, i.key, t)
                    }
                })
        }()))
    },
    PVpz: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("ETIr"), e("cv67"), e("K3mO"), e("OLod"), function () {
            var n = t,
                l = n.lib.StreamCipher,
                e = [],
                i = [],
                u = [],
                r = n.algo.RabbitLegacy = l.extend({
                    _doReset: function () {
                        var n = this._key.words,
                            l = this.cfg.iv,
                            e = this._X = [n[0], n[3] << 16 | n[2] >>> 16, n[1], n[0] << 16 | n[3] >>> 16, n[2], n[1] << 16 | n[0] >>> 16, n[3], n[2] << 16 | n[1] >>> 16],
                            t = this._C = [n[2] << 16 | n[2] >>> 16, 4294901760 & n[0] | 65535 & n[1], n[3] << 16 | n[3] >>> 16, 4294901760 & n[1] | 65535 & n[2], n[0] << 16 | n[0] >>> 16, 4294901760 & n[2] | 65535 & n[3], n[1] << 16 | n[1] >>> 16, 4294901760 & n[3] | 65535 & n[0]];
                        this._b = 0;
                        for (var i = 0; i < 4; i++) a.call(this);
                        for (i = 0; i < 8; i++) t[i] ^= e[i + 4 & 7];
                        if (l) {
                            var u = l.words,
                                r = u[0],
                                o = u[1],
                                s = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8),
                                c = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
                                d = s >>> 16 | 4294901760 & c,
                                h = c << 16 | 65535 & s;
                            for (t[0] ^= s, t[1] ^= d, t[2] ^= c, t[3] ^= h, t[4] ^= s, t[5] ^= d, t[6] ^= c, t[7] ^= h, i = 0; i < 4; i++) a.call(this)
                        }
                    },
                    _doProcessBlock: function (n, l) {
                        var t = this._X;
                        a.call(this), e[0] = t[0] ^ t[5] >>> 16 ^ t[3] << 16, e[1] = t[2] ^ t[7] >>> 16 ^ t[5] << 16, e[2] = t[4] ^ t[1] >>> 16 ^ t[7] << 16, e[3] = t[6] ^ t[3] >>> 16 ^ t[1] << 16;
                        for (var i = 0; i < 4; i++) e[i] = 16711935 & (e[i] << 8 | e[i] >>> 24) | 4278255360 & (e[i] << 24 | e[i] >>> 8), n[l + i] ^= e[i]
                    },
                    blockSize: 4,
                    ivSize: 2
                });

            function a() {
                for (var n = this._X, l = this._C, e = 0; e < 8; e++) i[e] = l[e];
                for (l[0] = l[0] + 1295307597 + this._b | 0, l[1] = l[1] + 3545052371 + (l[0] >>> 0 < i[0] >>> 0 ? 1 : 0) | 0, l[2] = l[2] + 886263092 + (l[1] >>> 0 < i[1] >>> 0 ? 1 : 0) | 0, l[3] = l[3] + 1295307597 + (l[2] >>> 0 < i[2] >>> 0 ? 1 : 0) | 0, l[4] = l[4] + 3545052371 + (l[3] >>> 0 < i[3] >>> 0 ? 1 : 0) | 0, l[5] = l[5] + 886263092 + (l[4] >>> 0 < i[4] >>> 0 ? 1 : 0) | 0, l[6] = l[6] + 1295307597 + (l[5] >>> 0 < i[5] >>> 0 ? 1 : 0) | 0, l[7] = l[7] + 3545052371 + (l[6] >>> 0 < i[6] >>> 0 ? 1 : 0) | 0, this._b = l[7] >>> 0 < i[7] >>> 0 ? 1 : 0, e = 0; e < 8; e++) {
                    var t = n[e] + l[e],
                        r = 65535 & t,
                        a = t >>> 16;
                    u[e] = ((r * r >>> 17) + r * a >>> 15) + a * a ^ ((4294901760 & t) * t | 0) + ((65535 & t) * t | 0)
                }
                n[0] = u[0] + (u[7] << 16 | u[7] >>> 16) + (u[6] << 16 | u[6] >>> 16) | 0, n[1] = u[1] + (u[0] << 8 | u[0] >>> 24) + u[7] | 0, n[2] = u[2] + (u[1] << 16 | u[1] >>> 16) + (u[0] << 16 | u[0] >>> 16) | 0, n[3] = u[3] + (u[2] << 8 | u[2] >>> 24) + u[1] | 0, n[4] = u[4] + (u[3] << 16 | u[3] >>> 16) + (u[2] << 16 | u[2] >>> 16) | 0, n[5] = u[5] + (u[4] << 8 | u[4] >>> 24) + u[3] | 0, n[6] = u[6] + (u[5] << 16 | u[5] >>> 16) + (u[4] << 16 | u[4] >>> 16) | 0, n[7] = u[7] + (u[6] << 8 | u[6] >>> 24) + u[5] | 0
            }
            n.RabbitLegacy = l._createHelper(r)
        }(), t.RabbitLegacy)
    },
    QSbz: function (n, l, e) {
        "use strict";
        var t = e("oXfm"),
            i = e("vn/o"),
            u = e("eydS"),
            r = e("Tcbo"),
            a = e("iTZm"),
            o = Object.prototype.toString,
            s = 0,
            c = -1,
            d = 0,
            h = 8;

        function p(n) {
            if (!(this instanceof p)) return new p(n);
            this.options = i.assign({
                level: c,
                method: h,
                chunkSize: 16384,
                windowBits: 15,
                memLevel: 8,
                strategy: d,
                to: ""
            }, n || {});
            var l = this.options;
            l.raw && l.windowBits > 0 ? l.windowBits = -l.windowBits : l.gzip && l.windowBits > 0 && l.windowBits < 16 && (l.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new a, this.strm.avail_out = 0;
            var e = t.deflateInit2(this.strm, l.level, l.method, l.windowBits, l.memLevel, l.strategy);
            if (e !== s) throw new Error(r[e]);
            if (l.header && t.deflateSetHeader(this.strm, l.header), l.dictionary) {
                var f;
                if (f = "string" == typeof l.dictionary ? u.string2buf(l.dictionary) : "[object ArrayBuffer]" === o.call(l.dictionary) ? new Uint8Array(l.dictionary) : l.dictionary, (e = t.deflateSetDictionary(this.strm, f)) !== s) throw new Error(r[e]);
                this._dict_set = !0
            }
        }

        function f(n, l) {
            var e = new p(l);
            if (e.push(n, !0), e.err) throw e.msg || r[e.err];
            return e.result
        }
        p.prototype.push = function (n, l) {
            var e, r, a = this.strm,
                c = this.options.chunkSize;
            if (this.ended) return !1;
            r = l === ~~l ? l : !0 === l ? 4 : 0, a.input = "string" == typeof n ? u.string2buf(n) : "[object ArrayBuffer]" === o.call(n) ? new Uint8Array(n) : n, a.next_in = 0, a.avail_in = a.input.length;
            do {
                if (0 === a.avail_out && (a.output = new i.Buf8(c), a.next_out = 0, a.avail_out = c), 1 !== (e = t.deflate(a, r)) && e !== s) return this.onEnd(e), this.ended = !0, !1;
                0 !== a.avail_out && (0 !== a.avail_in || 4 !== r && 2 !== r) || this.onData("string" === this.options.to ? u.buf2binstring(i.shrinkBuf(a.output, a.next_out)) : i.shrinkBuf(a.output, a.next_out))
            } while ((a.avail_in > 0 || 0 === a.avail_out) && 1 !== e);
            return 4 === r ? (e = t.deflateEnd(this.strm), this.onEnd(e), this.ended = !0, e === s) : 2 !== r || (this.onEnd(s), a.avail_out = 0, !0)
        }, p.prototype.onData = function (n) {
            this.chunks.push(n)
        }, p.prototype.onEnd = function (n) {
            n === s && (this.result = "string" === this.options.to ? this.chunks.join("") : i.flattenChunks(this.chunks)), this.chunks = [], this.err = n, this.msg = this.strm.msg
        }, l.Deflate = p, l.deflate = f, l.deflateRaw = function (n, l) {
            return (l = l || {}).raw = !0, f(n, l)
        }, l.gzip = function (n, l) {
            return (l = l || {}).gzip = !0, f(n, l)
        }
    },
    S6kV: function (n, l, e) {
        var t, i, u;
        n.exports = (u = e("Ib8C"), e("OLod"), u.mode.OFB = (i = (t = u.lib.BlockCipherMode.extend()).Encryptor = t.extend({
            processBlock: function (n, l) {
                var e = this._cipher,
                    t = e.blockSize,
                    i = this._iv,
                    u = this._keystream;
                i && (u = this._keystream = i.slice(0), this._iv = void 0), e.encryptBlock(u, 0);
                for (var r = 0; r < t; r++) n[l + r] ^= u[r]
            }
        }), t.Decryptor = i, t), u.mode.OFB)
    },
    Tcbo: function (n, l, e) {
        "use strict";
        n.exports = {
            2: "need dictionary",
            1: "stream end",
            0: "",
            "-1": "file error",
            "-2": "stream error",
            "-3": "data error",
            "-4": "insufficient memory",
            "-5": "buffer error",
            "-6": "incompatible version"
        }
    },
    WYAk: function (n, l, e) {
        var t, i;
        n.exports = (t = e("Ib8C"), i = t.enc.Utf8, void(t.algo.HMAC = t.lib.Base.extend({
            init: function (n, l) {
                n = this._hasher = new n.init, "string" == typeof l && (l = i.parse(l));
                var e = n.blockSize,
                    t = 4 * e;
                l.sigBytes > t && (l = n.finalize(l)), l.clamp();
                for (var u = this._oKey = l.clone(), r = this._iKey = l.clone(), a = u.words, o = r.words, s = 0; s < e; s++) a[s] ^= 1549556828, o[s] ^= 909522486;
                u.sigBytes = r.sigBytes = t, this.reset()
            },
            reset: function () {
                var n = this._hasher;
                n.reset(), n.update(this._iKey)
            },
            update: function (n) {
                return this._hasher.update(n), this
            },
            finalize: function (n) {
                var l = this._hasher,
                    e = l.finalize(n);
                return l.reset(), l.finalize(this._oKey.clone().concat(e))
            }
        })))
    },
    aFNf: function (n, l, e) {
        "use strict";
        var t = e("vn/o"),
            i = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
            u = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
            r = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
            a = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
        n.exports = function (n, l, e, o, s, c, d, h) {
            var p, f, g, v, m, y, b, _, k, w = h.bits,
                x = 0,
                C = 0,
                S = 0,
                I = 0,
                T = 0,
                E = 0,
                A = 0,
                P = 0,
                O = 0,
                D = 0,
                R = null,
                M = 0,
                N = new t.Buf16(16),
                B = new t.Buf16(16),
                z = null,
                L = 0;
            for (x = 0; x <= 15; x++) N[x] = 0;
            for (C = 0; C < o; C++) N[l[e + C]]++;
            for (T = w, I = 15; I >= 1 && 0 === N[I]; I--);
            if (T > I && (T = I), 0 === I) return s[c++] = 20971520, s[c++] = 20971520, h.bits = 1, 0;
            for (S = 1; S < I && 0 === N[S]; S++);
            for (T < S && (T = S), P = 1, x = 1; x <= 15; x++)
                if (P <<= 1, (P -= N[x]) < 0) return -1;
            if (P > 0 && (0 === n || 1 !== I)) return -1;
            for (B[1] = 0, x = 1; x < 15; x++) B[x + 1] = B[x] + N[x];
            for (C = 0; C < o; C++) 0 !== l[e + C] && (d[B[l[e + C]]++] = C);
            if (0 === n ? (R = z = d, y = 19) : 1 === n ? (R = i, M -= 257, z = u, L -= 257, y = 256) : (R = r, z = a, y = -1), D = 0, C = 0, x = S, m = c, E = T, A = 0, g = -1, v = (O = 1 << T) - 1, 1 === n && O > 852 || 2 === n && O > 592) return 1;
            for (;;) {
                b = x - A, d[C] < y ? (_ = 0, k = d[C]) : d[C] > y ? (_ = z[L + d[C]], k = R[M + d[C]]) : (_ = 96, k = 0), p = 1 << x - A, S = f = 1 << E;
                do {
                    s[m + (D >> A) + (f -= p)] = b << 24 | _ << 16 | k | 0
                } while (0 !== f);
                for (p = 1 << x - 1; D & p;) p >>= 1;
                if (0 !== p ? (D &= p - 1, D += p) : D = 0, C++, 0 == --N[x]) {
                    if (x === I) break;
                    x = l[e + d[C]]
                }
                if (x > T && (D & v) !== g) {
                    for (0 === A && (A = T), m += S, P = 1 << (E = x - A); E + A < I && !((P -= N[E + A]) <= 0);) E++, P <<= 1;
                    if (O += 1 << E, 1 === n && O > 852 || 2 === n && O > 592) return 1;
                    s[g = D & v] = T << 24 | E << 16 | m - c | 0
                }
            }
            return 0 !== D && (s[m + D] = x - A << 24 | 64 << 16 | 0), h.bits = T, 0
        }
    },
    bQjk: function (n, l, e) {
        var t, i, u;
        n.exports = (u = e("Ib8C"), e("OLod"), t = u.lib.CipherParams, i = u.enc.Hex, u.format.Hex = {
            stringify: function (n) {
                return n.ciphertext.toString(i)
            },
            parse: function (n) {
                var l = i.parse(n);
                return t.create({
                    ciphertext: l
                })
            }
        }, u.format.Hex)
    },
    cX6o: function (n, l, e) {
        "use strict";
        var t = e("nm4c"),
            i = e("vn/o"),
            u = e("eydS"),
            r = e("LOvY"),
            a = e("Tcbo"),
            o = e("iTZm"),
            s = e("gBP8"),
            c = Object.prototype.toString;

        function d(n) {
            if (!(this instanceof d)) return new d(n);
            this.options = i.assign({
                chunkSize: 16384,
                windowBits: 0,
                to: ""
            }, n || {});
            var l = this.options;
            l.raw && l.windowBits >= 0 && l.windowBits < 16 && (l.windowBits = -l.windowBits, 0 === l.windowBits && (l.windowBits = -15)), !(l.windowBits >= 0 && l.windowBits < 16) || n && n.windowBits || (l.windowBits += 32), l.windowBits > 15 && l.windowBits < 48 && 0 == (15 & l.windowBits) && (l.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new o, this.strm.avail_out = 0;
            var e = t.inflateInit2(this.strm, l.windowBits);
            if (e !== r.Z_OK) throw new Error(a[e]);
            if (this.header = new s, t.inflateGetHeader(this.strm, this.header), l.dictionary && ("string" == typeof l.dictionary ? l.dictionary = u.string2buf(l.dictionary) : "[object ArrayBuffer]" === c.call(l.dictionary) && (l.dictionary = new Uint8Array(l.dictionary)), l.raw && (e = t.inflateSetDictionary(this.strm, l.dictionary)) !== r.Z_OK)) throw new Error(a[e])
        }

        function h(n, l) {
            var e = new d(l);
            if (e.push(n, !0), e.err) throw e.msg || a[e.err];
            return e.result
        }
        d.prototype.push = function (n, l) {
            var e, a, o, s, d, h = this.strm,
                p = this.options.chunkSize,
                f = this.options.dictionary,
                g = !1;
            if (this.ended) return !1;
            a = l === ~~l ? l : !0 === l ? r.Z_FINISH : r.Z_NO_FLUSH, h.input = "string" == typeof n ? u.binstring2buf(n) : "[object ArrayBuffer]" === c.call(n) ? new Uint8Array(n) : n, h.next_in = 0, h.avail_in = h.input.length;
            do {
                if (0 === h.avail_out && (h.output = new i.Buf8(p), h.next_out = 0, h.avail_out = p), (e = t.inflate(h, r.Z_NO_FLUSH)) === r.Z_NEED_DICT && f && (e = t.inflateSetDictionary(this.strm, f)), e === r.Z_BUF_ERROR && !0 === g && (e = r.Z_OK, g = !1), e !== r.Z_STREAM_END && e !== r.Z_OK) return this.onEnd(e), this.ended = !0, !1;
                h.next_out && (0 !== h.avail_out && e !== r.Z_STREAM_END && (0 !== h.avail_in || a !== r.Z_FINISH && a !== r.Z_SYNC_FLUSH) || ("string" === this.options.to ? (o = u.utf8border(h.output, h.next_out), s = h.next_out - o, d = u.buf2string(h.output, o), h.next_out = s, h.avail_out = p - s, s && i.arraySet(h.output, h.output, o, s, 0), this.onData(d)) : this.onData(i.shrinkBuf(h.output, h.next_out)))), 0 === h.avail_in && 0 === h.avail_out && (g = !0)
            } while ((h.avail_in > 0 || 0 === h.avail_out) && e !== r.Z_STREAM_END);
            return e === r.Z_STREAM_END && (a = r.Z_FINISH), a === r.Z_FINISH ? (e = t.inflateEnd(this.strm), this.onEnd(e), this.ended = !0, e === r.Z_OK) : a !== r.Z_SYNC_FLUSH || (this.onEnd(r.Z_OK), h.avail_out = 0, !0)
        }, d.prototype.onData = function (n) {
            this.chunks.push(n)
        }, d.prototype.onEnd = function (n) {
            n === r.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : i.flattenChunks(this.chunks)), this.chunks = [], this.err = n, this.msg = this.strm.msg
        }, l.Inflate = d, l.inflate = h, l.inflateRaw = function (n, l) {
            return (l = l || {}).raw = !0, h(n, l)
        }, l.ungzip = h
    },
    cv67: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), function (n) {
            var l = t,
                e = l.lib,
                i = e.WordArray,
                u = e.Hasher,
                r = l.algo,
                a = [];
            ! function () {
                for (var l = 0; l < 64; l++) a[l] = 4294967296 * n.abs(n.sin(l + 1)) | 0
            }();
            var o = r.MD5 = u.extend({
                _doReset: function () {
                    this._hash = new i.init([1732584193, 4023233417, 2562383102, 271733878])
                },
                _doProcessBlock: function (n, l) {
                    for (var e = 0; e < 16; e++) {
                        var t = l + e,
                            i = n[t];
                        n[t] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8)
                    }
                    var u = this._hash.words,
                        r = n[l + 0],
                        o = n[l + 1],
                        p = n[l + 2],
                        f = n[l + 3],
                        g = n[l + 4],
                        v = n[l + 5],
                        m = n[l + 6],
                        y = n[l + 7],
                        b = n[l + 8],
                        _ = n[l + 9],
                        k = n[l + 10],
                        w = n[l + 11],
                        x = n[l + 12],
                        C = n[l + 13],
                        S = n[l + 14],
                        I = n[l + 15],
                        T = u[0],
                        E = u[1],
                        A = u[2],
                        P = u[3];
                    T = s(T, E, A, P, r, 7, a[0]), P = s(P, T, E, A, o, 12, a[1]), A = s(A, P, T, E, p, 17, a[2]), E = s(E, A, P, T, f, 22, a[3]), T = s(T, E, A, P, g, 7, a[4]), P = s(P, T, E, A, v, 12, a[5]), A = s(A, P, T, E, m, 17, a[6]), E = s(E, A, P, T, y, 22, a[7]), T = s(T, E, A, P, b, 7, a[8]), P = s(P, T, E, A, _, 12, a[9]), A = s(A, P, T, E, k, 17, a[10]), E = s(E, A, P, T, w, 22, a[11]), T = s(T, E, A, P, x, 7, a[12]), P = s(P, T, E, A, C, 12, a[13]), A = s(A, P, T, E, S, 17, a[14]), T = c(T, E = s(E, A, P, T, I, 22, a[15]), A, P, o, 5, a[16]), P = c(P, T, E, A, m, 9, a[17]), A = c(A, P, T, E, w, 14, a[18]), E = c(E, A, P, T, r, 20, a[19]), T = c(T, E, A, P, v, 5, a[20]), P = c(P, T, E, A, k, 9, a[21]), A = c(A, P, T, E, I, 14, a[22]), E = c(E, A, P, T, g, 20, a[23]), T = c(T, E, A, P, _, 5, a[24]), P = c(P, T, E, A, S, 9, a[25]), A = c(A, P, T, E, f, 14, a[26]), E = c(E, A, P, T, b, 20, a[27]), T = c(T, E, A, P, C, 5, a[28]), P = c(P, T, E, A, p, 9, a[29]), A = c(A, P, T, E, y, 14, a[30]), T = d(T, E = c(E, A, P, T, x, 20, a[31]), A, P, v, 4, a[32]), P = d(P, T, E, A, b, 11, a[33]), A = d(A, P, T, E, w, 16, a[34]), E = d(E, A, P, T, S, 23, a[35]), T = d(T, E, A, P, o, 4, a[36]), P = d(P, T, E, A, g, 11, a[37]), A = d(A, P, T, E, y, 16, a[38]), E = d(E, A, P, T, k, 23, a[39]), T = d(T, E, A, P, C, 4, a[40]), P = d(P, T, E, A, r, 11, a[41]), A = d(A, P, T, E, f, 16, a[42]), E = d(E, A, P, T, m, 23, a[43]), T = d(T, E, A, P, _, 4, a[44]), P = d(P, T, E, A, x, 11, a[45]), A = d(A, P, T, E, I, 16, a[46]), T = h(T, E = d(E, A, P, T, p, 23, a[47]), A, P, r, 6, a[48]), P = h(P, T, E, A, y, 10, a[49]), A = h(A, P, T, E, S, 15, a[50]), E = h(E, A, P, T, v, 21, a[51]), T = h(T, E, A, P, x, 6, a[52]), P = h(P, T, E, A, f, 10, a[53]), A = h(A, P, T, E, k, 15, a[54]), E = h(E, A, P, T, o, 21, a[55]), T = h(T, E, A, P, b, 6, a[56]), P = h(P, T, E, A, I, 10, a[57]), A = h(A, P, T, E, m, 15, a[58]), E = h(E, A, P, T, C, 21, a[59]), T = h(T, E, A, P, g, 6, a[60]), P = h(P, T, E, A, w, 10, a[61]), A = h(A, P, T, E, p, 15, a[62]), E = h(E, A, P, T, _, 21, a[63]), u[0] = u[0] + T | 0, u[1] = u[1] + E | 0, u[2] = u[2] + A | 0, u[3] = u[3] + P | 0
                },
                _doFinalize: function () {
                    var l = this._data,
                        e = l.words,
                        t = 8 * this._nDataBytes,
                        i = 8 * l.sigBytes;
                    e[i >>> 5] |= 128 << 24 - i % 32;
                    var u = n.floor(t / 4294967296),
                        r = t;
                    e[15 + (i + 64 >>> 9 << 4)] = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8), e[14 + (i + 64 >>> 9 << 4)] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), l.sigBytes = 4 * (e.length + 1), this._process();
                    for (var a = this._hash, o = a.words, s = 0; s < 4; s++) {
                        var c = o[s];
                        o[s] = 16711935 & (c << 8 | c >>> 24) | 4278255360 & (c << 24 | c >>> 8)
                    }
                    return a
                },
                clone: function () {
                    var n = u.clone.call(this);
                    return n._hash = this._hash.clone(), n
                }
            });

            function s(n, l, e, t, i, u, r) {
                var a = n + (l & e | ~l & t) + i + r;
                return (a << u | a >>> 32 - u) + l
            }

            function c(n, l, e, t, i, u, r) {
                var a = n + (l & t | e & ~t) + i + r;
                return (a << u | a >>> 32 - u) + l
            }

            function d(n, l, e, t, i, u, r) {
                var a = n + (l ^ e ^ t) + i + r;
                return (a << u | a >>> 32 - u) + l
            }

            function h(n, l, e, t, i, u, r) {
                var a = n + (e ^ (l | ~t)) + i + r;
                return (a << u | a >>> 32 - u) + l
            }
            l.MD5 = u._createHelper(o), l.HmacMD5 = u._createHmacHelper(o)
        }(Math), t.MD5)
    },
    e7zE: function (n, l, e) {
        var t, i, u, r, a, o, s, c;
        n.exports = (c = e("Ib8C"), e("3y9D"), e("WYAk"), r = (i = (t = c).lib).WordArray, o = (a = t.algo).HMAC, s = a.PBKDF2 = (u = i.Base).extend({
            cfg: u.extend({
                keySize: 4,
                hasher: a.SHA1,
                iterations: 1
            }),
            init: function (n) {
                this.cfg = this.cfg.extend(n)
            },
            compute: function (n, l) {
                for (var e = this.cfg, t = o.create(e.hasher, n), i = r.create(), u = r.create([1]), a = i.words, s = u.words, c = e.keySize, d = e.iterations; a.length < c;) {
                    var h = t.update(l).finalize(u);
                    t.reset();
                    for (var p = h.words, f = p.length, g = h, v = 1; v < d; v++) {
                        g = t.finalize(g), t.reset();
                        for (var m = g.words, y = 0; y < f; y++) p[y] ^= m[y]
                    }
                    i.concat(h), s[0]++
                }
                return i.sigBytes = 4 * c, i
            }
        }), t.PBKDF2 = function (n, l, e) {
            return s.create(e).compute(n, l)
        }, c.PBKDF2)
    },
    eydS: function (n, l, e) {
        "use strict";
        var t = e("vn/o"),
            i = !0,
            u = !0;
        try {
            String.fromCharCode.apply(null, [0])
        } catch (s) {
            i = !1
        }
        try {
            String.fromCharCode.apply(null, new Uint8Array(1))
        } catch (s) {
            u = !1
        }
        for (var r = new t.Buf8(256), a = 0; a < 256; a++) r[a] = a >= 252 ? 6 : a >= 248 ? 5 : a >= 240 ? 4 : a >= 224 ? 3 : a >= 192 ? 2 : 1;

        function o(n, l) {
            if (l < 65534 && (n.subarray && u || !n.subarray && i)) return String.fromCharCode.apply(null, t.shrinkBuf(n, l));
            for (var e = "", r = 0; r < l; r++) e += String.fromCharCode(n[r]);
            return e
        }
        r[254] = r[254] = 1, l.string2buf = function (n) {
            var l, e, i, u, r, a = n.length,
                o = 0;
            for (u = 0; u < a; u++) 55296 == (64512 & (e = n.charCodeAt(u))) && u + 1 < a && 56320 == (64512 & (i = n.charCodeAt(u + 1))) && (e = 65536 + (e - 55296 << 10) + (i - 56320), u++), o += e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4;
            for (l = new t.Buf8(o), r = 0, u = 0; r < o; u++) 55296 == (64512 & (e = n.charCodeAt(u))) && u + 1 < a && 56320 == (64512 & (i = n.charCodeAt(u + 1))) && (e = 65536 + (e - 55296 << 10) + (i - 56320), u++), e < 128 ? l[r++] = e : e < 2048 ? (l[r++] = 192 | e >>> 6, l[r++] = 128 | 63 & e) : e < 65536 ? (l[r++] = 224 | e >>> 12, l[r++] = 128 | e >>> 6 & 63, l[r++] = 128 | 63 & e) : (l[r++] = 240 | e >>> 18, l[r++] = 128 | e >>> 12 & 63, l[r++] = 128 | e >>> 6 & 63, l[r++] = 128 | 63 & e);
            return l
        }, l.buf2binstring = function (n) {
            return o(n, n.length)
        }, l.binstring2buf = function (n) {
            for (var l = new t.Buf8(n.length), e = 0, i = l.length; e < i; e++) l[e] = n.charCodeAt(e);
            return l
        }, l.buf2string = function (n, l) {
            var e, t, i, u, a = l || n.length,
                s = new Array(2 * a);
            for (t = 0, e = 0; e < a;)
                if ((i = n[e++]) < 128) s[t++] = i;
                else if ((u = r[i]) > 4) s[t++] = 65533, e += u - 1;
            else {
                for (i &= 2 === u ? 31 : 3 === u ? 15 : 7; u > 1 && e < a;) i = i << 6 | 63 & n[e++], u--;
                u > 1 ? s[t++] = 65533 : i < 65536 ? s[t++] = i : (s[t++] = 55296 | (i -= 65536) >> 10 & 1023, s[t++] = 56320 | 1023 & i)
            }
            return o(s, t)
        }, l.utf8border = function (n, l) {
            var e;
            for ((l = l || n.length) > n.length && (l = n.length), e = l - 1; e >= 0 && 128 == (192 & n[e]);) e--;
            return e < 0 ? l : 0 === e ? l : e + r[n[e]] > l ? e : l
        }
    },
    frGm: function (n, l, e) {
        "use strict";
        n.exports = function (n, l) {
            var e, t, i, u, r, a, o, s, c, d, h, p, f, g, v, m, y, b, _, k, w, x, C, S, I;
            S = n.input, i = (t = n.next_in) + (n.avail_in - 5), I = n.output, r = (u = n.next_out) - (l - n.avail_out), a = u + (n.avail_out - 257), o = (e = n.state).dmax, s = e.wsize, c = e.whave, d = e.wnext, h = e.window, p = e.hold, f = e.bits, g = e.lencode, v = e.distcode, m = (1 << e.lenbits) - 1, y = (1 << e.distbits) - 1;
            n: do {
                f < 15 && (p += S[t++] << f, p += S[t++] << (f += 8), f += 8), b = g[p & m];
                l: for (;;) {
                    if (p >>>= _ = b >>> 24, f -= _, 0 == (_ = b >>> 16 & 255)) I[u++] = 65535 & b;
                    else {
                        if (!(16 & _)) {
                            if (0 == (64 & _)) {
                                b = g[(65535 & b) + (p & (1 << _) - 1)];
                                continue l
                            }
                            if (32 & _) {
                                e.mode = 12;
                                break n
                            }
                            n.msg = "invalid literal/length code", e.mode = 30;
                            break n
                        }
                        k = 65535 & b, (_ &= 15) && (f < _ && (p += S[t++] << f, f += 8), k += p & (1 << _) - 1, p >>>= _, f -= _), f < 15 && (p += S[t++] << f, p += S[t++] << (f += 8), f += 8), b = v[p & y];
                        e: for (;;) {
                            if (p >>>= _ = b >>> 24, f -= _, !(16 & (_ = b >>> 16 & 255))) {
                                if (0 == (64 & _)) {
                                    b = v[(65535 & b) + (p & (1 << _) - 1)];
                                    continue e
                                }
                                n.msg = "invalid distance code", e.mode = 30;
                                break n
                            }
                            if (w = 65535 & b, f < (_ &= 15) && (p += S[t++] << f, (f += 8) < _ && (p += S[t++] << f, f += 8)), (w += p & (1 << _) - 1) > o) {
                                n.msg = "invalid distance too far back", e.mode = 30;
                                break n
                            }
                            if (p >>>= _, f -= _, w > (_ = u - r)) {
                                if ((_ = w - _) > c && e.sane) {
                                    n.msg = "invalid distance too far back", e.mode = 30;
                                    break n
                                }
                                if (x = 0, C = h, 0 === d) {
                                    if (x += s - _, _ < k) {
                                        k -= _;
                                        do {
                                            I[u++] = h[x++]
                                        } while (--_);
                                        x = u - w, C = I
                                    }
                                } else if (d < _) {
                                    if (x += s + d - _, (_ -= d) < k) {
                                        k -= _;
                                        do {
                                            I[u++] = h[x++]
                                        } while (--_);
                                        if (x = 0, d < k) {
                                            k -= _ = d;
                                            do {
                                                I[u++] = h[x++]
                                            } while (--_);
                                            x = u - w, C = I
                                        }
                                    }
                                } else if (x += d - _, _ < k) {
                                    k -= _;
                                    do {
                                        I[u++] = h[x++]
                                    } while (--_);
                                    x = u - w, C = I
                                }
                                for (; k > 2;) I[u++] = C[x++], I[u++] = C[x++], I[u++] = C[x++], k -= 3;
                                k && (I[u++] = C[x++], k > 1 && (I[u++] = C[x++]))
                            } else {
                                x = u - w;
                                do {
                                    I[u++] = I[x++], I[u++] = I[x++], I[u++] = I[x++], k -= 3
                                } while (k > 2);
                                k && (I[u++] = I[x++], k > 1 && (I[u++] = I[x++]))
                            }
                            break
                        }
                    }
                    break
                }
            } while (t < i && u < a);
            p &= (1 << (f -= (k = f >> 3) << 3)) - 1, n.next_in = t -= k, n.next_out = u, n.avail_in = t < i ? i - t + 5 : 5 - (t - i), n.avail_out = u < a ? a - u + 257 : 257 - (u - a), e.hold = p, e.bits = f
        }
    },
    gBP8: function (n, l, e) {
        "use strict";
        n.exports = function () {
            this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
        }
    },
    "gb/T": function (n, l, e) {
        var t, i;
        n.exports = (i = e("Ib8C"), e("OLod"), i.mode.ECB = ((t = i.lib.BlockCipherMode.extend()).Encryptor = t.extend({
            processBlock: function (n, l) {
                this._cipher.encryptBlock(n, l)
            }
        }), t.Decryptor = t.extend({
            processBlock: function (n, l) {
                this._cipher.decryptBlock(n, l)
            }
        }), t), i.mode.ECB)
    },
    iTZm: function (n, l, e) {
        "use strict";
        n.exports = function () {
            this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
        }
    },
    jO9C: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.pad.Iso97971 = {
            pad: function (n, l) {
                n.concat(t.lib.WordArray.create([2147483648], 1)), t.pad.ZeroPadding.pad(n, l)
            },
            unpad: function (n) {
                t.pad.ZeroPadding.unpad(n), n.sigBytes--
            }
        }, t.pad.Iso97971)
    },
    lPiR: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), function (n) {
            var l = t,
                e = l.lib,
                i = e.WordArray,
                u = e.Hasher,
                r = l.algo,
                a = [],
                o = [];
            ! function () {
                function l(l) {
                    for (var e = n.sqrt(l), t = 2; t <= e; t++)
                        if (!(l % t)) return !1;
                    return !0
                }

                function e(n) {
                    return 4294967296 * (n - (0 | n)) | 0
                }
                for (var t = 2, i = 0; i < 64;) l(t) && (i < 8 && (a[i] = e(n.pow(t, .5))), o[i] = e(n.pow(t, 1 / 3)), i++), t++
            }();
            var s = [],
                c = r.SHA256 = u.extend({
                    _doReset: function () {
                        this._hash = new i.init(a.slice(0))
                    },
                    _doProcessBlock: function (n, l) {
                        for (var e = this._hash.words, t = e[0], i = e[1], u = e[2], r = e[3], a = e[4], c = e[5], d = e[6], h = e[7], p = 0; p < 64; p++) {
                            if (p < 16) s[p] = 0 | n[l + p];
                            else {
                                var f = s[p - 15],
                                    g = s[p - 2];
                                s[p] = ((f << 25 | f >>> 7) ^ (f << 14 | f >>> 18) ^ f >>> 3) + s[p - 7] + ((g << 15 | g >>> 17) ^ (g << 13 | g >>> 19) ^ g >>> 10) + s[p - 16]
                            }
                            var v = t & i ^ t & u ^ i & u,
                                m = h + ((a << 26 | a >>> 6) ^ (a << 21 | a >>> 11) ^ (a << 7 | a >>> 25)) + (a & c ^ ~a & d) + o[p] + s[p];
                            h = d, d = c, c = a, a = r + m | 0, r = u, u = i, i = t, t = m + (((t << 30 | t >>> 2) ^ (t << 19 | t >>> 13) ^ (t << 10 | t >>> 22)) + v) | 0
                        }
                        e[0] = e[0] + t | 0, e[1] = e[1] + i | 0, e[2] = e[2] + u | 0, e[3] = e[3] + r | 0, e[4] = e[4] + a | 0, e[5] = e[5] + c | 0, e[6] = e[6] + d | 0, e[7] = e[7] + h | 0
                    },
                    _doFinalize: function () {
                        var l = this._data,
                            e = l.words,
                            t = 8 * this._nDataBytes,
                            i = 8 * l.sigBytes;
                        return e[i >>> 5] |= 128 << 24 - i % 32, e[14 + (i + 64 >>> 9 << 4)] = n.floor(t / 4294967296), e[15 + (i + 64 >>> 9 << 4)] = t, l.sigBytes = 4 * e.length, this._process(), this._hash
                    },
                    clone: function () {
                        var n = u.clone.call(this);
                        return n._hash = this._hash.clone(), n
                    }
                });
            l.SHA256 = u._createHelper(c), l.HmacSHA256 = u._createHmacHelper(c)
        }(Math), t.SHA256)
    },
    nm4c: function (n, l, e) {
        "use strict";
        var t = e("vn/o"),
            i = e("yDR0"),
            u = e("7tol"),
            r = e("frGm"),
            a = e("aFNf"),
            o = 1,
            s = 2,
            c = 0,
            d = -2,
            h = 1,
            p = 852,
            f = 592;

        function g(n) {
            return (n >>> 24 & 255) + (n >>> 8 & 65280) + ((65280 & n) << 8) + ((255 & n) << 24)
        }

        function v() {
            this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new t.Buf16(320), this.work = new t.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
        }

        function m(n) {
            var l;
            return n && n.state ? (n.total_in = n.total_out = (l = n.state).total = 0, n.msg = "", l.wrap && (n.adler = 1 & l.wrap), l.mode = h, l.last = 0, l.havedict = 0, l.dmax = 32768, l.head = null, l.hold = 0, l.bits = 0, l.lencode = l.lendyn = new t.Buf32(p), l.distcode = l.distdyn = new t.Buf32(f), l.sane = 1, l.back = -1, c) : d
        }

        function y(n) {
            var l;
            return n && n.state ? ((l = n.state).wsize = 0, l.whave = 0, l.wnext = 0, m(n)) : d
        }

        function b(n, l) {
            var e, t;
            return n && n.state ? (l < 0 ? (e = 0, l = -l) : (e = 1 + (l >> 4), l < 48 && (l &= 15)), l && (l < 8 || l > 15) ? d : (null !== (t = n.state).window && t.wbits !== l && (t.window = null), t.wrap = e, t.wbits = l, y(n))) : d
        }

        function _(n, l) {
            var e, t;
            return n ? (t = new v, n.state = t, t.window = null, (e = b(n, l)) !== c && (n.state = null), e) : d
        }
        var k, w, x = !0;

        function C(n) {
            if (x) {
                var l;
                for (k = new t.Buf32(512), w = new t.Buf32(32), l = 0; l < 144;) n.lens[l++] = 8;
                for (; l < 256;) n.lens[l++] = 9;
                for (; l < 280;) n.lens[l++] = 7;
                for (; l < 288;) n.lens[l++] = 8;
                for (a(o, n.lens, 0, 288, k, 0, n.work, {
                        bits: 9
                    }), l = 0; l < 32;) n.lens[l++] = 5;
                a(s, n.lens, 0, 32, w, 0, n.work, {
                    bits: 5
                }), x = !1
            }
            n.lencode = k, n.lenbits = 9, n.distcode = w, n.distbits = 5
        }

        function S(n, l, e, i) {
            var u, r = n.state;
            return null === r.window && (r.wsize = 1 << r.wbits, r.wnext = 0, r.whave = 0, r.window = new t.Buf8(r.wsize)), i >= r.wsize ? (t.arraySet(r.window, l, e - r.wsize, r.wsize, 0), r.wnext = 0, r.whave = r.wsize) : ((u = r.wsize - r.wnext) > i && (u = i), t.arraySet(r.window, l, e - i, u, r.wnext), (i -= u) ? (t.arraySet(r.window, l, e - i, i, 0), r.wnext = i, r.whave = r.wsize) : (r.wnext += u, r.wnext === r.wsize && (r.wnext = 0), r.whave < r.wsize && (r.whave += u))), 0
        }
        l.inflateReset = y, l.inflateReset2 = b, l.inflateResetKeep = m, l.inflateInit = function (n) {
            return _(n, 15)
        }, l.inflateInit2 = _, l.inflate = function (n, l) {
            var e, p, f, v, m, y, b, _, k, w, x, I, T, E, A, P, O, D, R, M, N, B, z, L, F = 0,
                q = new t.Buf8(4),
                U = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
            if (!n || !n.state || !n.output || !n.input && 0 !== n.avail_in) return d;
            12 === (e = n.state).mode && (e.mode = 13), m = n.next_out, f = n.output, v = n.next_in, p = n.input, _ = e.hold, k = e.bits, w = y = n.avail_in, x = b = n.avail_out, B = c;
            n: for (;;) switch (e.mode) {
                case h:
                    if (0 === e.wrap) {
                        e.mode = 13;
                        break
                    }
                    for (; k < 16;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if (2 & e.wrap && 35615 === _) {
                        e.check = 0, q[0] = 255 & _, q[1] = _ >>> 8 & 255, e.check = u(e.check, q, 2, 0), _ = 0, k = 0, e.mode = 2;
                        break
                    }
                    if (e.flags = 0, e.head && (e.head.done = !1), !(1 & e.wrap) || (((255 & _) << 8) + (_ >> 8)) % 31) {
                        n.msg = "incorrect header check", e.mode = 30;
                        break
                    }
                    if (8 != (15 & _)) {
                        n.msg = "unknown compression method", e.mode = 30;
                        break
                    }
                    if (k -= 4, N = 8 + (15 & (_ >>>= 4)), 0 === e.wbits) e.wbits = N;
                    else if (N > e.wbits) {
                        n.msg = "invalid window size", e.mode = 30;
                        break
                    }
                    e.dmax = 1 << N, n.adler = e.check = 1, e.mode = 512 & _ ? 10 : 12, _ = 0, k = 0;
                    break;
                case 2:
                    for (; k < 16;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if (e.flags = _, 8 != (255 & e.flags)) {
                        n.msg = "unknown compression method", e.mode = 30;
                        break
                    }
                    if (57344 & e.flags) {
                        n.msg = "unknown header flags set", e.mode = 30;
                        break
                    }
                    e.head && (e.head.text = _ >> 8 & 1), 512 & e.flags && (q[0] = 255 & _, q[1] = _ >>> 8 & 255, e.check = u(e.check, q, 2, 0)), _ = 0, k = 0, e.mode = 3;
                case 3:
                    for (; k < 32;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    e.head && (e.head.time = _), 512 & e.flags && (q[0] = 255 & _, q[1] = _ >>> 8 & 255, q[2] = _ >>> 16 & 255, q[3] = _ >>> 24 & 255, e.check = u(e.check, q, 4, 0)), _ = 0, k = 0, e.mode = 4;
                case 4:
                    for (; k < 16;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    e.head && (e.head.xflags = 255 & _, e.head.os = _ >> 8), 512 & e.flags && (q[0] = 255 & _, q[1] = _ >>> 8 & 255, e.check = u(e.check, q, 2, 0)), _ = 0, k = 0, e.mode = 5;
                case 5:
                    if (1024 & e.flags) {
                        for (; k < 16;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        e.length = _, e.head && (e.head.extra_len = _), 512 & e.flags && (q[0] = 255 & _, q[1] = _ >>> 8 & 255, e.check = u(e.check, q, 2, 0)), _ = 0, k = 0
                    } else e.head && (e.head.extra = null);
                    e.mode = 6;
                case 6:
                    if (1024 & e.flags && ((I = e.length) > y && (I = y), I && (e.head && (N = e.head.extra_len - e.length, e.head.extra || (e.head.extra = new Array(e.head.extra_len)), t.arraySet(e.head.extra, p, v, I, N)), 512 & e.flags && (e.check = u(e.check, p, I, v)), y -= I, v += I, e.length -= I), e.length)) break n;
                    e.length = 0, e.mode = 7;
                case 7:
                    if (2048 & e.flags) {
                        if (0 === y) break n;
                        I = 0;
                        do {
                            N = p[v + I++], e.head && N && e.length < 65536 && (e.head.name += String.fromCharCode(N))
                        } while (N && I < y);
                        if (512 & e.flags && (e.check = u(e.check, p, I, v)), y -= I, v += I, N) break n
                    } else e.head && (e.head.name = null);
                    e.length = 0, e.mode = 8;
                case 8:
                    if (4096 & e.flags) {
                        if (0 === y) break n;
                        I = 0;
                        do {
                            N = p[v + I++], e.head && N && e.length < 65536 && (e.head.comment += String.fromCharCode(N))
                        } while (N && I < y);
                        if (512 & e.flags && (e.check = u(e.check, p, I, v)), y -= I, v += I, N) break n
                    } else e.head && (e.head.comment = null);
                    e.mode = 9;
                case 9:
                    if (512 & e.flags) {
                        for (; k < 16;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        if (_ !== (65535 & e.check)) {
                            n.msg = "header crc mismatch", e.mode = 30;
                            break
                        }
                        _ = 0, k = 0
                    }
                    e.head && (e.head.hcrc = e.flags >> 9 & 1, e.head.done = !0), n.adler = e.check = 0, e.mode = 12;
                    break;
                case 10:
                    for (; k < 32;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    n.adler = e.check = g(_), _ = 0, k = 0, e.mode = 11;
                case 11:
                    if (0 === e.havedict) return n.next_out = m, n.avail_out = b, n.next_in = v, n.avail_in = y, e.hold = _, e.bits = k, 2;
                    n.adler = e.check = 1, e.mode = 12;
                case 12:
                    if (5 === l || 6 === l) break n;
                case 13:
                    if (e.last) {
                        _ >>>= 7 & k, k -= 7 & k, e.mode = 27;
                        break
                    }
                    for (; k < 3;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    switch (e.last = 1 & _, k -= 1, 3 & (_ >>>= 1)) {
                        case 0:
                            e.mode = 14;
                            break;
                        case 1:
                            if (C(e), e.mode = 20, 6 === l) {
                                _ >>>= 2, k -= 2;
                                break n
                            }
                            break;
                        case 2:
                            e.mode = 17;
                            break;
                        case 3:
                            n.msg = "invalid block type", e.mode = 30
                    }
                    _ >>>= 2, k -= 2;
                    break;
                case 14:
                    for (_ >>>= 7 & k, k -= 7 & k; k < 32;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if ((65535 & _) != (_ >>> 16 ^ 65535)) {
                        n.msg = "invalid stored block lengths", e.mode = 30;
                        break
                    }
                    if (e.length = 65535 & _, _ = 0, k = 0, e.mode = 15, 6 === l) break n;
                case 15:
                    e.mode = 16;
                case 16:
                    if (I = e.length) {
                        if (I > y && (I = y), I > b && (I = b), 0 === I) break n;
                        t.arraySet(f, p, v, I, m), y -= I, v += I, b -= I, m += I, e.length -= I;
                        break
                    }
                    e.mode = 12;
                    break;
                case 17:
                    for (; k < 14;) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if (e.nlen = 257 + (31 & _), k -= 5, e.ndist = 1 + (31 & (_ >>>= 5)), k -= 5, e.ncode = 4 + (15 & (_ >>>= 5)), _ >>>= 4, k -= 4, e.nlen > 286 || e.ndist > 30) {
                        n.msg = "too many length or distance symbols", e.mode = 30;
                        break
                    }
                    e.have = 0, e.mode = 18;
                case 18:
                    for (; e.have < e.ncode;) {
                        for (; k < 3;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        e.lens[U[e.have++]] = 7 & _, _ >>>= 3, k -= 3
                    }
                    for (; e.have < 19;) e.lens[U[e.have++]] = 0;
                    if (e.lencode = e.lendyn, e.lenbits = 7, B = a(0, e.lens, 0, 19, e.lencode, 0, e.work, z = {
                            bits: e.lenbits
                        }), e.lenbits = z.bits, B) {
                        n.msg = "invalid code lengths set", e.mode = 30;
                        break
                    }
                    e.have = 0, e.mode = 19;
                case 19:
                    for (; e.have < e.nlen + e.ndist;) {
                        for (; P = (F = e.lencode[_ & (1 << e.lenbits) - 1]) >>> 16 & 255, O = 65535 & F, !((A = F >>> 24) <= k);) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        if (O < 16) _ >>>= A, k -= A, e.lens[e.have++] = O;
                        else {
                            if (16 === O) {
                                for (L = A + 2; k < L;) {
                                    if (0 === y) break n;
                                    y--, _ += p[v++] << k, k += 8
                                }
                                if (_ >>>= A, k -= A, 0 === e.have) {
                                    n.msg = "invalid bit length repeat", e.mode = 30;
                                    break
                                }
                                N = e.lens[e.have - 1], I = 3 + (3 & _), _ >>>= 2, k -= 2
                            } else if (17 === O) {
                                for (L = A + 3; k < L;) {
                                    if (0 === y) break n;
                                    y--, _ += p[v++] << k, k += 8
                                }
                                k -= A, N = 0, I = 3 + (7 & (_ >>>= A)), _ >>>= 3, k -= 3
                            } else {
                                for (L = A + 7; k < L;) {
                                    if (0 === y) break n;
                                    y--, _ += p[v++] << k, k += 8
                                }
                                k -= A, N = 0, I = 11 + (127 & (_ >>>= A)), _ >>>= 7, k -= 7
                            }
                            if (e.have + I > e.nlen + e.ndist) {
                                n.msg = "invalid bit length repeat", e.mode = 30;
                                break
                            }
                            for (; I--;) e.lens[e.have++] = N
                        }
                    }
                    if (30 === e.mode) break;
                    if (0 === e.lens[256]) {
                        n.msg = "invalid code -- missing end-of-block", e.mode = 30;
                        break
                    }
                    if (e.lenbits = 9, B = a(o, e.lens, 0, e.nlen, e.lencode, 0, e.work, z = {
                            bits: e.lenbits
                        }), e.lenbits = z.bits, B) {
                        n.msg = "invalid literal/lengths set", e.mode = 30;
                        break
                    }
                    if (e.distbits = 6, e.distcode = e.distdyn, B = a(s, e.lens, e.nlen, e.ndist, e.distcode, 0, e.work, z = {
                            bits: e.distbits
                        }), e.distbits = z.bits, B) {
                        n.msg = "invalid distances set", e.mode = 30;
                        break
                    }
                    if (e.mode = 20, 6 === l) break n;
                case 20:
                    e.mode = 21;
                case 21:
                    if (y >= 6 && b >= 258) {
                        n.next_out = m, n.avail_out = b, n.next_in = v, n.avail_in = y, e.hold = _, e.bits = k, r(n, x), m = n.next_out, f = n.output, b = n.avail_out, v = n.next_in, p = n.input, y = n.avail_in, _ = e.hold, k = e.bits, 12 === e.mode && (e.back = -1);
                        break
                    }
                    for (e.back = 0; P = (F = e.lencode[_ & (1 << e.lenbits) - 1]) >>> 16 & 255, O = 65535 & F, !((A = F >>> 24) <= k);) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if (P && 0 == (240 & P)) {
                        for (D = A, R = P, M = O; P = (F = e.lencode[M + ((_ & (1 << D + R) - 1) >> D)]) >>> 16 & 255, O = 65535 & F, !(D + (A = F >>> 24) <= k);) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        _ >>>= D, k -= D, e.back += D
                    }
                    if (_ >>>= A, k -= A, e.back += A, e.length = O, 0 === P) {
                        e.mode = 26;
                        break
                    }
                    if (32 & P) {
                        e.back = -1, e.mode = 12;
                        break
                    }
                    if (64 & P) {
                        n.msg = "invalid literal/length code", e.mode = 30;
                        break
                    }
                    e.extra = 15 & P, e.mode = 22;
                case 22:
                    if (e.extra) {
                        for (L = e.extra; k < L;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        e.length += _ & (1 << e.extra) - 1, _ >>>= e.extra, k -= e.extra, e.back += e.extra
                    }
                    e.was = e.length, e.mode = 23;
                case 23:
                    for (; P = (F = e.distcode[_ & (1 << e.distbits) - 1]) >>> 16 & 255, O = 65535 & F, !((A = F >>> 24) <= k);) {
                        if (0 === y) break n;
                        y--, _ += p[v++] << k, k += 8
                    }
                    if (0 == (240 & P)) {
                        for (D = A, R = P, M = O; P = (F = e.distcode[M + ((_ & (1 << D + R) - 1) >> D)]) >>> 16 & 255, O = 65535 & F, !(D + (A = F >>> 24) <= k);) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        _ >>>= D, k -= D, e.back += D
                    }
                    if (_ >>>= A, k -= A, e.back += A, 64 & P) {
                        n.msg = "invalid distance code", e.mode = 30;
                        break
                    }
                    e.offset = O, e.extra = 15 & P, e.mode = 24;
                case 24:
                    if (e.extra) {
                        for (L = e.extra; k < L;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        e.offset += _ & (1 << e.extra) - 1, _ >>>= e.extra, k -= e.extra, e.back += e.extra
                    }
                    if (e.offset > e.dmax) {
                        n.msg = "invalid distance too far back", e.mode = 30;
                        break
                    }
                    e.mode = 25;
                case 25:
                    if (0 === b) break n;
                    if (e.offset > (I = x - b)) {
                        if ((I = e.offset - I) > e.whave && e.sane) {
                            n.msg = "invalid distance too far back", e.mode = 30;
                            break
                        }
                        T = I > e.wnext ? e.wsize - (I -= e.wnext) : e.wnext - I, I > e.length && (I = e.length), E = e.window
                    } else E = f, T = m - e.offset, I = e.length;
                    I > b && (I = b), b -= I, e.length -= I;
                    do {
                        f[m++] = E[T++]
                    } while (--I);
                    0 === e.length && (e.mode = 21);
                    break;
                case 26:
                    if (0 === b) break n;
                    f[m++] = e.length, b--, e.mode = 21;
                    break;
                case 27:
                    if (e.wrap) {
                        for (; k < 32;) {
                            if (0 === y) break n;
                            y--, _ |= p[v++] << k, k += 8
                        }
                        if (n.total_out += x -= b, e.total += x, x && (n.adler = e.check = e.flags ? u(e.check, f, x, m - x) : i(e.check, f, x, m - x)), x = b, (e.flags ? _ : g(_)) !== e.check) {
                            n.msg = "incorrect data check", e.mode = 30;
                            break
                        }
                        _ = 0, k = 0
                    }
                    e.mode = 28;
                case 28:
                    if (e.wrap && e.flags) {
                        for (; k < 32;) {
                            if (0 === y) break n;
                            y--, _ += p[v++] << k, k += 8
                        }
                        if (_ !== (4294967295 & e.total)) {
                            n.msg = "incorrect length check", e.mode = 30;
                            break
                        }
                        _ = 0, k = 0
                    }
                    e.mode = 29;
                case 29:
                    B = 1;
                    break n;
                case 30:
                    B = -3;
                    break n;
                case 31:
                    return -4;
                case 32:
                default:
                    return d
            }
            return n.next_out = m, n.avail_out = b, n.next_in = v, n.avail_in = y, e.hold = _, e.bits = k, (e.wsize || x !== n.avail_out && e.mode < 30 && (e.mode < 27 || 4 !== l)) && S(n, n.output, n.next_out, x - n.avail_out) ? (e.mode = 31, -4) : (x -= n.avail_out, n.total_in += w -= n.avail_in, n.total_out += x, e.total += x, e.wrap && x && (n.adler = e.check = e.flags ? u(e.check, f, x, n.next_out - x) : i(e.check, f, x, n.next_out - x)), n.data_type = e.bits + (e.last ? 64 : 0) + (12 === e.mode ? 128 : 0) + (20 === e.mode || 15 === e.mode ? 256 : 0), (0 === w && 0 === x || 4 === l) && B === c && (B = -5), B)
        }, l.inflateEnd = function (n) {
            if (!n || !n.state) return d;
            var l = n.state;
            return l.window && (l.window = null), n.state = null, c
        }, l.inflateGetHeader = function (n, l) {
            var e;
            return n && n.state ? 0 == (2 & (e = n.state).wrap) ? d : (e.head = l, l.done = !1, c) : d
        }, l.inflateSetDictionary = function (n, l) {
            var e, t = l.length;
            return n && n.state ? 0 !== (e = n.state).wrap && 11 !== e.mode ? d : 11 === e.mode && i(1, l, t, 0) !== e.check ? -3 : S(n, l, t, t) ? (e.mode = 31, -4) : (e.havedict = 1, c) : d
        }, l.inflateInfo = "pako inflate (from Nodeca project)"
    },
    oRuE: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.pad.Iso10126 = {
            pad: function (n, l) {
                var e = 4 * l,
                    i = e - n.sigBytes % e;
                n.concat(t.lib.WordArray.random(i - 1)).concat(t.lib.WordArray.create([i << 24], 1))
            },
            unpad: function (n) {
                n.sigBytes -= 255 & n.words[n.sigBytes - 1 >>> 2]
            }
        }, t.pad.Iso10126)
    },
    oXfm: function (n, l, e) {
        "use strict";
        var t, i = e("vn/o"),
            u = e("B/RK"),
            r = e("yDR0"),
            a = e("7tol"),
            o = e("Tcbo"),
            s = 0,
            c = 4,
            d = 0,
            h = -2,
            p = -1,
            f = 1,
            g = 4,
            v = 2,
            m = 8,
            y = 9,
            b = 286,
            _ = 30,
            k = 19,
            w = 2 * b + 1,
            x = 15,
            C = 3,
            S = 258,
            I = S + C + 1,
            T = 42,
            E = 113,
            A = 1,
            P = 2,
            O = 3,
            D = 4;

        function R(n, l) {
            return n.msg = o[l], l
        }

        function M(n) {
            return (n << 1) - (n > 4 ? 9 : 0)
        }

        function N(n) {
            for (var l = n.length; --l >= 0;) n[l] = 0
        }

        function B(n) {
            var l = n.state,
                e = l.pending;
            e > n.avail_out && (e = n.avail_out), 0 !== e && (i.arraySet(n.output, l.pending_buf, l.pending_out, e, n.next_out), n.next_out += e, l.pending_out += e, n.total_out += e, n.avail_out -= e, l.pending -= e, 0 === l.pending && (l.pending_out = 0))
        }

        function z(n, l) {
            u._tr_flush_block(n, n.block_start >= 0 ? n.block_start : -1, n.strstart - n.block_start, l), n.block_start = n.strstart, B(n.strm)
        }

        function L(n, l) {
            n.pending_buf[n.pending++] = l
        }

        function F(n, l) {
            n.pending_buf[n.pending++] = l >>> 8 & 255, n.pending_buf[n.pending++] = 255 & l
        }

        function q(n, l) {
            var e, t, i = n.max_chain_length,
                u = n.strstart,
                r = n.prev_length,
                a = n.nice_match,
                o = n.strstart > n.w_size - I ? n.strstart - (n.w_size - I) : 0,
                s = n.window,
                c = n.w_mask,
                d = n.prev,
                h = n.strstart + S,
                p = s[u + r - 1],
                f = s[u + r];
            n.prev_length >= n.good_match && (i >>= 2), a > n.lookahead && (a = n.lookahead);
            do {
                if (s[(e = l) + r] === f && s[e + r - 1] === p && s[e] === s[u] && s[++e] === s[u + 1]) {
                    u += 2, e++;
                    do {} while (s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && s[++u] === s[++e] && u < h);
                    if (t = S - (h - u), u = h - S, t > r) {
                        if (n.match_start = l, r = t, t >= a) break;
                        p = s[u + r - 1], f = s[u + r]
                    }
                }
            } while ((l = d[l & c]) > o && 0 != --i);
            return r <= n.lookahead ? r : n.lookahead
        }

        function U(n) {
            var l, e, t, u, o, s, c, d, h, p, f = n.w_size;
            do {
                if (u = n.window_size - n.lookahead - n.strstart, n.strstart >= f + (f - I)) {
                    i.arraySet(n.window, n.window, f, f, 0), n.match_start -= f, n.strstart -= f, n.block_start -= f, l = e = n.hash_size;
                    do {
                        t = n.head[--l], n.head[l] = t >= f ? t - f : 0
                    } while (--e);
                    l = e = f;
                    do {
                        t = n.prev[--l], n.prev[l] = t >= f ? t - f : 0
                    } while (--e);
                    u += f
                }
                if (0 === n.strm.avail_in) break;
                if (c = n.window, d = n.strstart + n.lookahead, p = void 0, (p = (s = n.strm).avail_in) > (h = u) && (p = h), e = 0 === p ? 0 : (s.avail_in -= p, i.arraySet(c, s.input, s.next_in, p, d), 1 === s.state.wrap ? s.adler = r(s.adler, c, p, d) : 2 === s.state.wrap && (s.adler = a(s.adler, c, p, d)), s.next_in += p, s.total_in += p, p), n.lookahead += e, n.lookahead + n.insert >= C)
                    for (n.ins_h = n.window[o = n.strstart - n.insert], n.ins_h = (n.ins_h << n.hash_shift ^ n.window[o + 1]) & n.hash_mask; n.insert && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[o + C - 1]) & n.hash_mask, n.prev[o & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = o, o++, n.insert--, !(n.lookahead + n.insert < C)););
            } while (n.lookahead < I && 0 !== n.strm.avail_in)
        }

        function $(n, l) {
            for (var e, t;;) {
                if (n.lookahead < I) {
                    if (U(n), n.lookahead < I && l === s) return A;
                    if (0 === n.lookahead) break
                }
                if (e = 0, n.lookahead >= C && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + C - 1]) & n.hash_mask, e = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart), 0 !== e && n.strstart - e <= n.w_size - I && (n.match_length = q(n, e)), n.match_length >= C)
                    if (t = u._tr_tally(n, n.strstart - n.match_start, n.match_length - C), n.lookahead -= n.match_length, n.match_length <= n.max_lazy_match && n.lookahead >= C) {
                        n.match_length--;
                        do {
                            n.strstart++, n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + C - 1]) & n.hash_mask, e = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart
                        } while (0 != --n.match_length);
                        n.strstart++
                    } else n.strstart += n.match_length, n.match_length = 0, n.ins_h = n.window[n.strstart], n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + 1]) & n.hash_mask;
                else t = u._tr_tally(n, 0, n.window[n.strstart]), n.lookahead--, n.strstart++;
                if (t && (z(n, !1), 0 === n.strm.avail_out)) return A
            }
            return n.insert = n.strstart < C - 1 ? n.strstart : C - 1, l === c ? (z(n, !0), 0 === n.strm.avail_out ? O : D) : n.last_lit && (z(n, !1), 0 === n.strm.avail_out) ? A : P
        }

        function H(n, l) {
            for (var e, t, i;;) {
                if (n.lookahead < I) {
                    if (U(n), n.lookahead < I && l === s) return A;
                    if (0 === n.lookahead) break
                }
                if (e = 0, n.lookahead >= C && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + C - 1]) & n.hash_mask, e = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart), n.prev_length = n.match_length, n.prev_match = n.match_start, n.match_length = C - 1, 0 !== e && n.prev_length < n.max_lazy_match && n.strstart - e <= n.w_size - I && (n.match_length = q(n, e), n.match_length <= 5 && (n.strategy === f || n.match_length === C && n.strstart - n.match_start > 4096) && (n.match_length = C - 1)), n.prev_length >= C && n.match_length <= n.prev_length) {
                    i = n.strstart + n.lookahead - C, t = u._tr_tally(n, n.strstart - 1 - n.prev_match, n.prev_length - C), n.lookahead -= n.prev_length - 1, n.prev_length -= 2;
                    do {
                        ++n.strstart <= i && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + C - 1]) & n.hash_mask, e = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart)
                    } while (0 != --n.prev_length);
                    if (n.match_available = 0, n.match_length = C - 1, n.strstart++, t && (z(n, !1), 0 === n.strm.avail_out)) return A
                } else if (n.match_available) {
                    if ((t = u._tr_tally(n, 0, n.window[n.strstart - 1])) && z(n, !1), n.strstart++, n.lookahead--, 0 === n.strm.avail_out) return A
                } else n.match_available = 1, n.strstart++, n.lookahead--
            }
            return n.match_available && (t = u._tr_tally(n, 0, n.window[n.strstart - 1]), n.match_available = 0), n.insert = n.strstart < C - 1 ? n.strstart : C - 1, l === c ? (z(n, !0), 0 === n.strm.avail_out ? O : D) : n.last_lit && (z(n, !1), 0 === n.strm.avail_out) ? A : P
        }

        function V(n, l, e, t, i) {
            this.good_length = n, this.max_lazy = l, this.nice_length = e, this.max_chain = t, this.func = i
        }

        function j() {
            this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = m, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new i.Buf16(2 * w), this.dyn_dtree = new i.Buf16(2 * (2 * _ + 1)), this.bl_tree = new i.Buf16(2 * (2 * k + 1)), N(this.dyn_ltree), N(this.dyn_dtree), N(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new i.Buf16(x + 1), this.heap = new i.Buf16(2 * b + 1), N(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new i.Buf16(2 * b + 1), N(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
        }

        function G(n) {
            var l;
            return n && n.state ? (n.total_in = n.total_out = 0, n.data_type = v, (l = n.state).pending = 0, l.pending_out = 0, l.wrap < 0 && (l.wrap = -l.wrap), l.status = l.wrap ? T : E, n.adler = 2 === l.wrap ? 0 : 1, l.last_flush = s, u._tr_init(l), d) : R(n, h)
        }

        function W(n) {
            var l, e = G(n);
            return e === d && ((l = n.state).window_size = 2 * l.w_size, N(l.head), l.max_lazy_match = t[l.level].max_lazy, l.good_match = t[l.level].good_length, l.nice_match = t[l.level].nice_length, l.max_chain_length = t[l.level].max_chain, l.strstart = 0, l.block_start = 0, l.lookahead = 0, l.insert = 0, l.match_length = l.prev_length = C - 1, l.match_available = 0, l.ins_h = 0), e
        }

        function K(n, l, e, t, u, r) {
            if (!n) return h;
            var a = 1;
            if (l === p && (l = 6), t < 0 ? (a = 0, t = -t) : t > 15 && (a = 2, t -= 16), u < 1 || u > y || e !== m || t < 8 || t > 15 || l < 0 || l > 9 || r < 0 || r > g) return R(n, h);
            8 === t && (t = 9);
            var o = new j;
            return n.state = o, o.strm = n, o.wrap = a, o.gzhead = null, o.w_bits = t, o.w_size = 1 << o.w_bits, o.w_mask = o.w_size - 1, o.hash_bits = u + 7, o.hash_size = 1 << o.hash_bits, o.hash_mask = o.hash_size - 1, o.hash_shift = ~~((o.hash_bits + C - 1) / C), o.window = new i.Buf8(2 * o.w_size), o.head = new i.Buf16(o.hash_size), o.prev = new i.Buf16(o.w_size), o.lit_bufsize = 1 << u + 6, o.pending_buf_size = 4 * o.lit_bufsize, o.pending_buf = new i.Buf8(o.pending_buf_size), o.d_buf = 1 * o.lit_bufsize, o.l_buf = 3 * o.lit_bufsize, o.level = l, o.strategy = r, o.method = e, W(n)
        }
        t = [new V(0, 0, 0, 0, (function (n, l) {
            var e = 65535;
            for (e > n.pending_buf_size - 5 && (e = n.pending_buf_size - 5);;) {
                if (n.lookahead <= 1) {
                    if (U(n), 0 === n.lookahead && l === s) return A;
                    if (0 === n.lookahead) break
                }
                n.strstart += n.lookahead, n.lookahead = 0;
                var t = n.block_start + e;
                if ((0 === n.strstart || n.strstart >= t) && (n.lookahead = n.strstart - t, n.strstart = t, z(n, !1), 0 === n.strm.avail_out)) return A;
                if (n.strstart - n.block_start >= n.w_size - I && (z(n, !1), 0 === n.strm.avail_out)) return A
            }
            return n.insert = 0, l === c ? (z(n, !0), 0 === n.strm.avail_out ? O : D) : (n.strstart > n.block_start && z(n, !1), A)
        })), new V(4, 4, 8, 4, $), new V(4, 5, 16, 8, $), new V(4, 6, 32, 32, $), new V(4, 4, 16, 16, H), new V(8, 16, 32, 32, H), new V(8, 16, 128, 128, H), new V(8, 32, 128, 256, H), new V(32, 128, 258, 1024, H), new V(32, 258, 258, 4096, H)], l.deflateInit = function (n, l) {
            return K(n, l, m, 15, 8, 0)
        }, l.deflateInit2 = K, l.deflateReset = W, l.deflateResetKeep = G, l.deflateSetHeader = function (n, l) {
            return n && n.state ? 2 !== n.state.wrap ? h : (n.state.gzhead = l, d) : h
        }, l.deflate = function (n, l) {
            var e, i, r, o;
            if (!n || !n.state || l > 5 || l < 0) return n ? R(n, h) : h;
            if (i = n.state, !n.output || !n.input && 0 !== n.avail_in || 666 === i.status && l !== c) return R(n, 0 === n.avail_out ? -5 : h);
            if (i.strm = n, e = i.last_flush, i.last_flush = l, i.status === T)
                if (2 === i.wrap) n.adler = 0, L(i, 31), L(i, 139), L(i, 8), i.gzhead ? (L(i, (i.gzhead.text ? 1 : 0) + (i.gzhead.hcrc ? 2 : 0) + (i.gzhead.extra ? 4 : 0) + (i.gzhead.name ? 8 : 0) + (i.gzhead.comment ? 16 : 0)), L(i, 255 & i.gzhead.time), L(i, i.gzhead.time >> 8 & 255), L(i, i.gzhead.time >> 16 & 255), L(i, i.gzhead.time >> 24 & 255), L(i, 9 === i.level ? 2 : i.strategy >= 2 || i.level < 2 ? 4 : 0), L(i, 255 & i.gzhead.os), i.gzhead.extra && i.gzhead.extra.length && (L(i, 255 & i.gzhead.extra.length), L(i, i.gzhead.extra.length >> 8 & 255)), i.gzhead.hcrc && (n.adler = a(n.adler, i.pending_buf, i.pending, 0)), i.gzindex = 0, i.status = 69) : (L(i, 0), L(i, 0), L(i, 0), L(i, 0), L(i, 0), L(i, 9 === i.level ? 2 : i.strategy >= 2 || i.level < 2 ? 4 : 0), L(i, 3), i.status = E);
                else {
                    var p = m + (i.w_bits - 8 << 4) << 8;
                    p |= (i.strategy >= 2 || i.level < 2 ? 0 : i.level < 6 ? 1 : 6 === i.level ? 2 : 3) << 6, 0 !== i.strstart && (p |= 32), p += 31 - p % 31, i.status = E, F(i, p), 0 !== i.strstart && (F(i, n.adler >>> 16), F(i, 65535 & n.adler)), n.adler = 1
                } if (69 === i.status)
                if (i.gzhead.extra) {
                    for (r = i.pending; i.gzindex < (65535 & i.gzhead.extra.length) && (i.pending !== i.pending_buf_size || (i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), B(n), r = i.pending, i.pending !== i.pending_buf_size));) L(i, 255 & i.gzhead.extra[i.gzindex]), i.gzindex++;
                    i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), i.gzindex === i.gzhead.extra.length && (i.gzindex = 0, i.status = 73)
                } else i.status = 73;
            if (73 === i.status)
                if (i.gzhead.name) {
                    r = i.pending;
                    do {
                        if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), B(n), r = i.pending, i.pending === i.pending_buf_size)) {
                            o = 1;
                            break
                        }
                        o = i.gzindex < i.gzhead.name.length ? 255 & i.gzhead.name.charCodeAt(i.gzindex++) : 0, L(i, o)
                    } while (0 !== o);
                    i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), 0 === o && (i.gzindex = 0, i.status = 91)
                } else i.status = 91;
            if (91 === i.status)
                if (i.gzhead.comment) {
                    r = i.pending;
                    do {
                        if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), B(n), r = i.pending, i.pending === i.pending_buf_size)) {
                            o = 1;
                            break
                        }
                        o = i.gzindex < i.gzhead.comment.length ? 255 & i.gzhead.comment.charCodeAt(i.gzindex++) : 0, L(i, o)
                    } while (0 !== o);
                    i.gzhead.hcrc && i.pending > r && (n.adler = a(n.adler, i.pending_buf, i.pending - r, r)), 0 === o && (i.status = 103)
                } else i.status = 103;
            if (103 === i.status && (i.gzhead.hcrc ? (i.pending + 2 > i.pending_buf_size && B(n), i.pending + 2 <= i.pending_buf_size && (L(i, 255 & n.adler), L(i, n.adler >> 8 & 255), n.adler = 0, i.status = E)) : i.status = E), 0 !== i.pending) {
                if (B(n), 0 === n.avail_out) return i.last_flush = -1, d
            } else if (0 === n.avail_in && M(l) <= M(e) && l !== c) return R(n, -5);
            if (666 === i.status && 0 !== n.avail_in) return R(n, -5);
            if (0 !== n.avail_in || 0 !== i.lookahead || l !== s && 666 !== i.status) {
                var f = 2 === i.strategy ? function (n, l) {
                    for (var e;;) {
                        if (0 === n.lookahead && (U(n), 0 === n.lookahead)) {
                            if (l === s) return A;
                            break
                        }
                        if (n.match_length = 0, e = u._tr_tally(n, 0, n.window[n.strstart]), n.lookahead--, n.strstart++, e && (z(n, !1), 0 === n.strm.avail_out)) return A
                    }
                    return n.insert = 0, l === c ? (z(n, !0), 0 === n.strm.avail_out ? O : D) : n.last_lit && (z(n, !1), 0 === n.strm.avail_out) ? A : P
                }(i, l) : 3 === i.strategy ? function (n, l) {
                    for (var e, t, i, r, a = n.window;;) {
                        if (n.lookahead <= S) {
                            if (U(n), n.lookahead <= S && l === s) return A;
                            if (0 === n.lookahead) break
                        }
                        if (n.match_length = 0, n.lookahead >= C && n.strstart > 0 && (t = a[i = n.strstart - 1]) === a[++i] && t === a[++i] && t === a[++i]) {
                            r = n.strstart + S;
                            do {} while (t === a[++i] && t === a[++i] && t === a[++i] && t === a[++i] && t === a[++i] && t === a[++i] && t === a[++i] && t === a[++i] && i < r);
                            n.match_length = S - (r - i), n.match_length > n.lookahead && (n.match_length = n.lookahead)
                        }
                        if (n.match_length >= C ? (e = u._tr_tally(n, 1, n.match_length - C), n.lookahead -= n.match_length, n.strstart += n.match_length, n.match_length = 0) : (e = u._tr_tally(n, 0, n.window[n.strstart]), n.lookahead--, n.strstart++), e && (z(n, !1), 0 === n.strm.avail_out)) return A
                    }
                    return n.insert = 0, l === c ? (z(n, !0), 0 === n.strm.avail_out ? O : D) : n.last_lit && (z(n, !1), 0 === n.strm.avail_out) ? A : P
                }(i, l) : t[i.level].func(i, l);
                if (f !== O && f !== D || (i.status = 666), f === A || f === O) return 0 === n.avail_out && (i.last_flush = -1), d;
                if (f === P && (1 === l ? u._tr_align(i) : 5 !== l && (u._tr_stored_block(i, 0, 0, !1), 3 === l && (N(i.head), 0 === i.lookahead && (i.strstart = 0, i.block_start = 0, i.insert = 0))), B(n), 0 === n.avail_out)) return i.last_flush = -1, d
            }
            return l !== c ? d : i.wrap <= 0 ? 1 : (2 === i.wrap ? (L(i, 255 & n.adler), L(i, n.adler >> 8 & 255), L(i, n.adler >> 16 & 255), L(i, n.adler >> 24 & 255), L(i, 255 & n.total_in), L(i, n.total_in >> 8 & 255), L(i, n.total_in >> 16 & 255), L(i, n.total_in >> 24 & 255)) : (F(i, n.adler >>> 16), F(i, 65535 & n.adler)), B(n), i.wrap > 0 && (i.wrap = -i.wrap), 0 !== i.pending ? d : 1)
        }, l.deflateEnd = function (n) {
            var l;
            return n && n.state ? (l = n.state.status) !== T && 69 !== l && 73 !== l && 91 !== l && 103 !== l && l !== E && 666 !== l ? R(n, h) : (n.state = null, l === E ? R(n, -3) : d) : h
        }, l.deflateSetDictionary = function (n, l) {
            var e, t, u, a, o, s, c, p, f = l.length;
            if (!n || !n.state) return h;
            if (2 === (a = (e = n.state).wrap) || 1 === a && e.status !== T || e.lookahead) return h;
            for (1 === a && (n.adler = r(n.adler, l, f, 0)), e.wrap = 0, f >= e.w_size && (0 === a && (N(e.head), e.strstart = 0, e.block_start = 0, e.insert = 0), p = new i.Buf8(e.w_size), i.arraySet(p, l, f - e.w_size, e.w_size, 0), l = p, f = e.w_size), o = n.avail_in, s = n.next_in, c = n.input, n.avail_in = f, n.next_in = 0, n.input = l, U(e); e.lookahead >= C;) {
                t = e.strstart, u = e.lookahead - (C - 1);
                do {
                    e.ins_h = (e.ins_h << e.hash_shift ^ e.window[t + C - 1]) & e.hash_mask, e.prev[t & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = t, t++
                } while (--u);
                e.strstart = t, e.lookahead = C - 1, U(e)
            }
            return e.strstart += e.lookahead, e.block_start = e.strstart, e.insert = e.lookahead, e.lookahead = 0, e.match_length = e.prev_length = C - 1, e.match_available = 0, n.next_in = s, n.input = c, n.avail_in = o, e.wrap = a, d
        }, l.deflateInfo = "pako deflate (from Nodeca project)"
    },
    pA7S: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("ETIr"), e("cv67"), e("K3mO"), e("OLod"), function () {
            var n = t,
                l = n.lib,
                e = l.WordArray,
                i = l.BlockCipher,
                u = n.algo,
                r = [57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4],
                a = [14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32],
                o = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28],
                s = [{
                    0: 8421888,
                    268435456: 32768,
                    536870912: 8421378,
                    805306368: 2,
                    1073741824: 512,
                    1342177280: 8421890,
                    1610612736: 8389122,
                    1879048192: 8388608,
                    2147483648: 514,
                    2415919104: 8389120,
                    2684354560: 33280,
                    2952790016: 8421376,
                    3221225472: 32770,
                    3489660928: 8388610,
                    3758096384: 0,
                    4026531840: 33282,
                    134217728: 0,
                    402653184: 8421890,
                    671088640: 33282,
                    939524096: 32768,
                    1207959552: 8421888,
                    1476395008: 512,
                    1744830464: 8421378,
                    2013265920: 2,
                    2281701376: 8389120,
                    2550136832: 33280,
                    2818572288: 8421376,
                    3087007744: 8389122,
                    3355443200: 8388610,
                    3623878656: 32770,
                    3892314112: 514,
                    4160749568: 8388608,
                    1: 32768,
                    268435457: 2,
                    536870913: 8421888,
                    805306369: 8388608,
                    1073741825: 8421378,
                    1342177281: 33280,
                    1610612737: 512,
                    1879048193: 8389122,
                    2147483649: 8421890,
                    2415919105: 8421376,
                    2684354561: 8388610,
                    2952790017: 33282,
                    3221225473: 514,
                    3489660929: 8389120,
                    3758096385: 32770,
                    4026531841: 0,
                    134217729: 8421890,
                    402653185: 8421376,
                    671088641: 8388608,
                    939524097: 512,
                    1207959553: 32768,
                    1476395009: 8388610,
                    1744830465: 2,
                    2013265921: 33282,
                    2281701377: 32770,
                    2550136833: 8389122,
                    2818572289: 514,
                    3087007745: 8421888,
                    3355443201: 8389120,
                    3623878657: 0,
                    3892314113: 33280,
                    4160749569: 8421378
                }, {
                    0: 1074282512,
                    16777216: 16384,
                    33554432: 524288,
                    50331648: 1074266128,
                    67108864: 1073741840,
                    83886080: 1074282496,
                    100663296: 1073758208,
                    117440512: 16,
                    134217728: 540672,
                    150994944: 1073758224,
                    167772160: 1073741824,
                    184549376: 540688,
                    201326592: 524304,
                    218103808: 0,
                    234881024: 16400,
                    251658240: 1074266112,
                    8388608: 1073758208,
                    25165824: 540688,
                    41943040: 16,
                    58720256: 1073758224,
                    75497472: 1074282512,
                    92274688: 1073741824,
                    109051904: 524288,
                    125829120: 1074266128,
                    142606336: 524304,
                    159383552: 0,
                    176160768: 16384,
                    192937984: 1074266112,
                    209715200: 1073741840,
                    226492416: 540672,
                    243269632: 1074282496,
                    260046848: 16400,
                    268435456: 0,
                    285212672: 1074266128,
                    301989888: 1073758224,
                    318767104: 1074282496,
                    335544320: 1074266112,
                    352321536: 16,
                    369098752: 540688,
                    385875968: 16384,
                    402653184: 16400,
                    419430400: 524288,
                    436207616: 524304,
                    452984832: 1073741840,
                    469762048: 540672,
                    486539264: 1073758208,
                    503316480: 1073741824,
                    520093696: 1074282512,
                    276824064: 540688,
                    293601280: 524288,
                    310378496: 1074266112,
                    327155712: 16384,
                    343932928: 1073758208,
                    360710144: 1074282512,
                    377487360: 16,
                    394264576: 1073741824,
                    411041792: 1074282496,
                    427819008: 1073741840,
                    444596224: 1073758224,
                    461373440: 524304,
                    478150656: 0,
                    494927872: 16400,
                    511705088: 1074266128,
                    528482304: 540672
                }, {
                    0: 260,
                    1048576: 0,
                    2097152: 67109120,
                    3145728: 65796,
                    4194304: 65540,
                    5242880: 67108868,
                    6291456: 67174660,
                    7340032: 67174400,
                    8388608: 67108864,
                    9437184: 67174656,
                    10485760: 65792,
                    11534336: 67174404,
                    12582912: 67109124,
                    13631488: 65536,
                    14680064: 4,
                    15728640: 256,
                    524288: 67174656,
                    1572864: 67174404,
                    2621440: 0,
                    3670016: 67109120,
                    4718592: 67108868,
                    5767168: 65536,
                    6815744: 65540,
                    7864320: 260,
                    8912896: 4,
                    9961472: 256,
                    11010048: 67174400,
                    12058624: 65796,
                    13107200: 65792,
                    14155776: 67109124,
                    15204352: 67174660,
                    16252928: 67108864,
                    16777216: 67174656,
                    17825792: 65540,
                    18874368: 65536,
                    19922944: 67109120,
                    20971520: 256,
                    22020096: 67174660,
                    23068672: 67108868,
                    24117248: 0,
                    25165824: 67109124,
                    26214400: 67108864,
                    27262976: 4,
                    28311552: 65792,
                    29360128: 67174400,
                    30408704: 260,
                    31457280: 65796,
                    32505856: 67174404,
                    17301504: 67108864,
                    18350080: 260,
                    19398656: 67174656,
                    20447232: 0,
                    21495808: 65540,
                    22544384: 67109120,
                    23592960: 256,
                    24641536: 67174404,
                    25690112: 65536,
                    26738688: 67174660,
                    27787264: 65796,
                    28835840: 67108868,
                    29884416: 67109124,
                    30932992: 67174400,
                    31981568: 4,
                    33030144: 65792
                }, {
                    0: 2151682048,
                    65536: 2147487808,
                    131072: 4198464,
                    196608: 2151677952,
                    262144: 0,
                    327680: 4198400,
                    393216: 2147483712,
                    458752: 4194368,
                    524288: 2147483648,
                    589824: 4194304,
                    655360: 64,
                    720896: 2147487744,
                    786432: 2151678016,
                    851968: 4160,
                    917504: 4096,
                    983040: 2151682112,
                    32768: 2147487808,
                    98304: 64,
                    163840: 2151678016,
                    229376: 2147487744,
                    294912: 4198400,
                    360448: 2151682112,
                    425984: 0,
                    491520: 2151677952,
                    557056: 4096,
                    622592: 2151682048,
                    688128: 4194304,
                    753664: 4160,
                    819200: 2147483648,
                    884736: 4194368,
                    950272: 4198464,
                    1015808: 2147483712,
                    1048576: 4194368,
                    1114112: 4198400,
                    1179648: 2147483712,
                    1245184: 0,
                    1310720: 4160,
                    1376256: 2151678016,
                    1441792: 2151682048,
                    1507328: 2147487808,
                    1572864: 2151682112,
                    1638400: 2147483648,
                    1703936: 2151677952,
                    1769472: 4198464,
                    1835008: 2147487744,
                    1900544: 4194304,
                    1966080: 64,
                    2031616: 4096,
                    1081344: 2151677952,
                    1146880: 2151682112,
                    1212416: 0,
                    1277952: 4198400,
                    1343488: 4194368,
                    1409024: 2147483648,
                    1474560: 2147487808,
                    1540096: 64,
                    1605632: 2147483712,
                    1671168: 4096,
                    1736704: 2147487744,
                    1802240: 2151678016,
                    1867776: 4160,
                    1933312: 2151682048,
                    1998848: 4194304,
                    2064384: 4198464
                }, {
                    0: 128,
                    4096: 17039360,
                    8192: 262144,
                    12288: 536870912,
                    16384: 537133184,
                    20480: 16777344,
                    24576: 553648256,
                    28672: 262272,
                    32768: 16777216,
                    36864: 537133056,
                    40960: 536871040,
                    45056: 553910400,
                    49152: 553910272,
                    53248: 0,
                    57344: 17039488,
                    61440: 553648128,
                    2048: 17039488,
                    6144: 553648256,
                    10240: 128,
                    14336: 17039360,
                    18432: 262144,
                    22528: 537133184,
                    26624: 553910272,
                    30720: 536870912,
                    34816: 537133056,
                    38912: 0,
                    43008: 553910400,
                    47104: 16777344,
                    51200: 536871040,
                    55296: 553648128,
                    59392: 16777216,
                    63488: 262272,
                    65536: 262144,
                    69632: 128,
                    73728: 536870912,
                    77824: 553648256,
                    81920: 16777344,
                    86016: 553910272,
                    90112: 537133184,
                    94208: 16777216,
                    98304: 553910400,
                    102400: 553648128,
                    106496: 17039360,
                    110592: 537133056,
                    114688: 262272,
                    118784: 536871040,
                    122880: 0,
                    126976: 17039488,
                    67584: 553648256,
                    71680: 16777216,
                    75776: 17039360,
                    79872: 537133184,
                    83968: 536870912,
                    88064: 17039488,
                    92160: 128,
                    96256: 553910272,
                    100352: 262272,
                    104448: 553910400,
                    108544: 0,
                    112640: 553648128,
                    116736: 16777344,
                    120832: 262144,
                    124928: 537133056,
                    129024: 536871040
                }, {
                    0: 268435464,
                    256: 8192,
                    512: 270532608,
                    768: 270540808,
                    1024: 268443648,
                    1280: 2097152,
                    1536: 2097160,
                    1792: 268435456,
                    2048: 0,
                    2304: 268443656,
                    2560: 2105344,
                    2816: 8,
                    3072: 270532616,
                    3328: 2105352,
                    3584: 8200,
                    3840: 270540800,
                    128: 270532608,
                    384: 270540808,
                    640: 8,
                    896: 2097152,
                    1152: 2105352,
                    1408: 268435464,
                    1664: 268443648,
                    1920: 8200,
                    2176: 2097160,
                    2432: 8192,
                    2688: 268443656,
                    2944: 270532616,
                    3200: 0,
                    3456: 270540800,
                    3712: 2105344,
                    3968: 268435456,
                    4096: 268443648,
                    4352: 270532616,
                    4608: 270540808,
                    4864: 8200,
                    5120: 2097152,
                    5376: 268435456,
                    5632: 268435464,
                    5888: 2105344,
                    6144: 2105352,
                    6400: 0,
                    6656: 8,
                    6912: 270532608,
                    7168: 8192,
                    7424: 268443656,
                    7680: 270540800,
                    7936: 2097160,
                    4224: 8,
                    4480: 2105344,
                    4736: 2097152,
                    4992: 268435464,
                    5248: 268443648,
                    5504: 8200,
                    5760: 270540808,
                    6016: 270532608,
                    6272: 270540800,
                    6528: 270532616,
                    6784: 8192,
                    7040: 2105352,
                    7296: 2097160,
                    7552: 0,
                    7808: 268435456,
                    8064: 268443656
                }, {
                    0: 1048576,
                    16: 33555457,
                    32: 1024,
                    48: 1049601,
                    64: 34604033,
                    80: 0,
                    96: 1,
                    112: 34603009,
                    128: 33555456,
                    144: 1048577,
                    160: 33554433,
                    176: 34604032,
                    192: 34603008,
                    208: 1025,
                    224: 1049600,
                    240: 33554432,
                    8: 34603009,
                    24: 0,
                    40: 33555457,
                    56: 34604032,
                    72: 1048576,
                    88: 33554433,
                    104: 33554432,
                    120: 1025,
                    136: 1049601,
                    152: 33555456,
                    168: 34603008,
                    184: 1048577,
                    200: 1024,
                    216: 34604033,
                    232: 1,
                    248: 1049600,
                    256: 33554432,
                    272: 1048576,
                    288: 33555457,
                    304: 34603009,
                    320: 1048577,
                    336: 33555456,
                    352: 34604032,
                    368: 1049601,
                    384: 1025,
                    400: 34604033,
                    416: 1049600,
                    432: 1,
                    448: 0,
                    464: 34603008,
                    480: 33554433,
                    496: 1024,
                    264: 1049600,
                    280: 33555457,
                    296: 34603009,
                    312: 1,
                    328: 33554432,
                    344: 1048576,
                    360: 1025,
                    376: 34604032,
                    392: 33554433,
                    408: 34603008,
                    424: 0,
                    440: 34604033,
                    456: 1049601,
                    472: 1024,
                    488: 33555456,
                    504: 1048577
                }, {
                    0: 134219808,
                    1: 131072,
                    2: 134217728,
                    3: 32,
                    4: 131104,
                    5: 134350880,
                    6: 134350848,
                    7: 2048,
                    8: 134348800,
                    9: 134219776,
                    10: 133120,
                    11: 134348832,
                    12: 2080,
                    13: 0,
                    14: 134217760,
                    15: 133152,
                    2147483648: 2048,
                    2147483649: 134350880,
                    2147483650: 134219808,
                    2147483651: 134217728,
                    2147483652: 134348800,
                    2147483653: 133120,
                    2147483654: 133152,
                    2147483655: 32,
                    2147483656: 134217760,
                    2147483657: 2080,
                    2147483658: 131104,
                    2147483659: 134350848,
                    2147483660: 0,
                    2147483661: 134348832,
                    2147483662: 134219776,
                    2147483663: 131072,
                    16: 133152,
                    17: 134350848,
                    18: 32,
                    19: 2048,
                    20: 134219776,
                    21: 134217760,
                    22: 134348832,
                    23: 131072,
                    24: 0,
                    25: 131104,
                    26: 134348800,
                    27: 134219808,
                    28: 134350880,
                    29: 133120,
                    30: 2080,
                    31: 134217728,
                    2147483664: 131072,
                    2147483665: 2048,
                    2147483666: 134348832,
                    2147483667: 133152,
                    2147483668: 32,
                    2147483669: 134348800,
                    2147483670: 134217728,
                    2147483671: 134219808,
                    2147483672: 134350880,
                    2147483673: 134217760,
                    2147483674: 134219776,
                    2147483675: 0,
                    2147483676: 133120,
                    2147483677: 2080,
                    2147483678: 131104,
                    2147483679: 134350848
                }],
                c = [4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679],
                d = u.DES = i.extend({
                    _doReset: function () {
                        for (var n = this._key.words, l = [], e = 0; e < 56; e++) {
                            var t = r[e] - 1;
                            l[e] = n[t >>> 5] >>> 31 - t % 32 & 1
                        }
                        for (var i = this._subKeys = [], u = 0; u < 16; u++) {
                            var s = i[u] = [],
                                c = o[u];
                            for (e = 0; e < 24; e++) s[e / 6 | 0] |= l[(a[e] - 1 + c) % 28] << 31 - e % 6, s[4 + (e / 6 | 0)] |= l[28 + (a[e + 24] - 1 + c) % 28] << 31 - e % 6;
                            for (s[0] = s[0] << 1 | s[0] >>> 31, e = 1; e < 7; e++) s[e] = s[e] >>> 4 * (e - 1) + 3;
                            s[7] = s[7] << 5 | s[7] >>> 27
                        }
                        var d = this._invSubKeys = [];
                        for (e = 0; e < 16; e++) d[e] = i[15 - e]
                    },
                    encryptBlock: function (n, l) {
                        this._doCryptBlock(n, l, this._subKeys)
                    },
                    decryptBlock: function (n, l) {
                        this._doCryptBlock(n, l, this._invSubKeys)
                    },
                    _doCryptBlock: function (n, l, e) {
                        this._lBlock = n[l], this._rBlock = n[l + 1], h.call(this, 4, 252645135), h.call(this, 16, 65535), p.call(this, 2, 858993459), p.call(this, 8, 16711935), h.call(this, 1, 1431655765);
                        for (var t = 0; t < 16; t++) {
                            for (var i = e[t], u = this._lBlock, r = this._rBlock, a = 0, o = 0; o < 8; o++) a |= s[o][((r ^ i[o]) & c[o]) >>> 0];
                            this._lBlock = r, this._rBlock = u ^ a
                        }
                        var d = this._lBlock;
                        this._lBlock = this._rBlock, this._rBlock = d, h.call(this, 1, 1431655765), p.call(this, 8, 16711935), p.call(this, 2, 858993459), h.call(this, 16, 65535), h.call(this, 4, 252645135), n[l] = this._lBlock, n[l + 1] = this._rBlock
                    },
                    keySize: 2,
                    ivSize: 2,
                    blockSize: 2
                });

            function h(n, l) {
                var e = (this._lBlock >>> n ^ this._rBlock) & l;
                this._rBlock ^= e, this._lBlock ^= e << n
            }

            function p(n, l) {
                var e = (this._rBlock >>> n ^ this._lBlock) & l;
                this._lBlock ^= e, this._rBlock ^= e << n
            }
            n.DES = i._createHelper(d);
            var f = u.TripleDES = i.extend({
                _doReset: function () {
                    var n = this._key.words;
                    this._des1 = d.createEncryptor(e.create(n.slice(0, 2))), this._des2 = d.createEncryptor(e.create(n.slice(2, 4))), this._des3 = d.createEncryptor(e.create(n.slice(4, 6)))
                },
                encryptBlock: function (n, l) {
                    this._des1.encryptBlock(n, l), this._des2.decryptBlock(n, l), this._des3.encryptBlock(n, l)
                },
                decryptBlock: function (n, l) {
                    this._des3.decryptBlock(n, l), this._des2.encryptBlock(n, l), this._des1.decryptBlock(n, l)
                },
                keySize: 6,
                ivSize: 2,
                blockSize: 2
            });
            n.TripleDES = i._createHelper(f)
        }(), t.TripleDES)
    },
    qBft: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.pad.AnsiX923 = {
            pad: function (n, l) {
                var e = n.sigBytes,
                    t = 4 * l,
                    i = t - e % t,
                    u = e + i - 1;
                n.clamp(), n.words[u >>> 2] |= i << 24 - u % 4 * 8, n.sigBytes += i
            },
            unpad: function (n) {
                n.sigBytes -= 255 & n.words[n.sigBytes - 1 >>> 2]
            }
        }, t.pad.Ansix923)
    },
    qM6L: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), function () {
            var n = t.lib.WordArray,
                l = t.enc;

            function e(n) {
                return n << 8 & 4278255360 | n >>> 8 & 16711935
            }
            l.Utf16 = l.Utf16BE = {
                stringify: function (n) {
                    for (var l = n.words, e = n.sigBytes, t = [], i = 0; i < e; i += 2) t.push(String.fromCharCode(l[i >>> 2] >>> 16 - i % 4 * 8 & 65535));
                    return t.join("")
                },
                parse: function (l) {
                    for (var e = l.length, t = [], i = 0; i < e; i++) t[i >>> 1] |= l.charCodeAt(i) << 16 - i % 2 * 16;
                    return n.create(t, 2 * e)
                }
            }, l.Utf16LE = {
                stringify: function (n) {
                    for (var l = n.words, t = n.sigBytes, i = [], u = 0; u < t; u += 2) {
                        var r = e(l[u >>> 2] >>> 16 - u % 4 * 8 & 65535);
                        i.push(String.fromCharCode(r))
                    }
                    return i.join("")
                },
                parse: function (l) {
                    for (var t = l.length, i = [], u = 0; u < t; u++) i[u >>> 1] |= e(l.charCodeAt(u) << 16 - u % 2 * 16);
                    return n.create(i, 2 * t)
                }
            }
        }(), t.enc.Utf16)
    },
    qu8F: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.mode.CTRGladman = function () {
            var n = t.lib.BlockCipherMode.extend();

            function l(n) {
                if (255 == (n >> 24 & 255)) {
                    var l = n >> 16 & 255,
                        e = n >> 8 & 255,
                        t = 255 & n;
                    255 === l ? (l = 0, 255 === e ? (e = 0, 255 === t ? t = 0 : ++t) : ++e) : ++l, n = 0, n += l << 16, n += e << 8, n += t
                } else n += 1 << 24;
                return n
            }
            var e = n.Encryptor = n.extend({
                processBlock: function (n, e) {
                    var t = this._cipher,
                        i = t.blockSize,
                        u = this._iv,
                        r = this._counter;
                    u && (r = this._counter = u.slice(0), this._iv = void 0),
                        function (n) {
                            0 === (n[0] = l(n[0])) && (n[1] = l(n[1]))
                        }(r);
                    var a = r.slice(0);
                    t.encryptBlock(a, 0);
                    for (var o = 0; o < i; o++) n[e + o] ^= a[o]
                }
            });
            return n.Decryptor = e, n
        }(), t.mode.CTRGladman)
    },
    uGsb: function (n, l, e) {
        var t, i, u, r, a, o, s, c;
        n.exports = (c = e("Ib8C"), e("MlIO"), e("1uat"), u = (i = (t = c).x64).Word, r = i.WordArray, s = (a = t.algo).SHA384 = (o = a.SHA512).extend({
            _doReset: function () {
                this._hash = new r.init([new u.init(3418070365, 3238371032), new u.init(1654270250, 914150663), new u.init(2438529370, 812702999), new u.init(355462360, 4144912697), new u.init(1731405415, 4290775857), new u.init(2394180231, 1750603025), new u.init(3675008525, 1694076839), new u.init(1203062813, 3204075428)])
            },
            _doFinalize: function () {
                var n = o._doFinalize.call(this);
                return n.sigBytes -= 16, n
            }
        }), t.SHA384 = o._createHelper(s), t.HmacSHA384 = o._createHmacHelper(s), c.SHA384)
    },
    uGxW: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("OLod"), t.pad.NoPadding = {
            pad: function () {},
            unpad: function () {}
        }, t.pad.NoPadding)
    },
    "vn/o": function (n, l, e) {
        "use strict";
        var t = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;

        function i(n, l) {
            return Object.prototype.hasOwnProperty.call(n, l)
        }
        l.assign = function (n) {
            for (var l = Array.prototype.slice.call(arguments, 1); l.length;) {
                var e = l.shift();
                if (e) {
                    if ("object" != typeof e) throw new TypeError(e + "must be non-object");
                    for (var t in e) i(e, t) && (n[t] = e[t])
                }
            }
            return n
        }, l.shrinkBuf = function (n, l) {
            return n.length === l ? n : n.subarray ? n.subarray(0, l) : (n.length = l, n)
        };
        var u = {
                arraySet: function (n, l, e, t, i) {
                    if (l.subarray && n.subarray) n.set(l.subarray(e, e + t), i);
                    else
                        for (var u = 0; u < t; u++) n[i + u] = l[e + u]
                },
                flattenChunks: function (n) {
                    var l, e, t, i, u, r;
                    for (t = 0, l = 0, e = n.length; l < e; l++) t += n[l].length;
                    for (r = new Uint8Array(t), i = 0, l = 0, e = n.length; l < e; l++) r.set(u = n[l], i), i += u.length;
                    return r
                }
            },
            r = {
                arraySet: function (n, l, e, t, i) {
                    for (var u = 0; u < t; u++) n[i + u] = l[e + u]
                },
                flattenChunks: function (n) {
                    return [].concat.apply([], n)
                }
            };
        l.setTyped = function (n) {
            n ? (l.Buf8 = Uint8Array, l.Buf16 = Uint16Array, l.Buf32 = Int32Array, l.assign(l, u)) : (l.Buf8 = Array, l.Buf16 = Array, l.Buf32 = Array, l.assign(l, r))
        }, l.setTyped(t)
    },
    w7YG: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("ETIr"), e("cv67"), e("K3mO"), e("OLod"), function () {
            var n = t,
                l = n.lib.StreamCipher,
                e = n.algo,
                i = e.RC4 = l.extend({
                    _doReset: function () {
                        for (var n = this._key, l = n.words, e = n.sigBytes, t = this._S = [], i = 0; i < 256; i++) t[i] = i;
                        i = 0;
                        for (var u = 0; i < 256; i++) {
                            var r = i % e,
                                a = t[i];
                            t[i] = t[u = (u + t[i] + (l[r >>> 2] >>> 24 - r % 4 * 8 & 255)) % 256], t[u] = a
                        }
                        this._i = this._j = 0
                    },
                    _doProcessBlock: function (n, l) {
                        n[l] ^= u.call(this)
                    },
                    keySize: 8,
                    ivSize: 0
                });

            function u() {
                for (var n = this._S, l = this._i, e = this._j, t = 0, i = 0; i < 4; i++) {
                    var u = n[l = (l + 1) % 256];
                    n[l] = n[e = (e + n[l]) % 256], n[e] = u, t |= n[(n[l] + n[e]) % 256] << 24 - 8 * i
                }
                return this._i = l, this._j = e, t
            }
            n.RC4 = l._createHelper(i);
            var r = e.RC4Drop = i.extend({
                cfg: i.cfg.extend({
                    drop: 192
                }),
                _doReset: function () {
                    i._doReset.call(this);
                    for (var n = this.cfg.drop; n > 0; n--) u.call(this)
                }
            });
            n.RC4Drop = l._createHelper(r)
        }(), t.RC4)
    },
    wZgz: function (n, l, e) {
        var t;
        n.exports = (t = e("Ib8C"), e("ETIr"), e("cv67"), e("K3mO"), e("OLod"), function () {
            var n = t,
                l = n.lib.BlockCipher,
                e = n.algo,
                i = [],
                u = [],
                r = [],
                a = [],
                o = [],
                s = [],
                c = [],
                d = [],
                h = [],
                p = [];
            ! function () {
                for (var n = [], l = 0; l < 256; l++) n[l] = l < 128 ? l << 1 : l << 1 ^ 283;
                var e = 0,
                    t = 0;
                for (l = 0; l < 256; l++) {
                    var f = t ^ t << 1 ^ t << 2 ^ t << 3 ^ t << 4;
                    i[e] = f = f >>> 8 ^ 255 & f ^ 99, u[f] = e;
                    var g, v = n[e],
                        m = n[v],
                        y = n[m];
                    r[e] = (g = 257 * n[f] ^ 16843008 * f) << 24 | g >>> 8, a[e] = g << 16 | g >>> 16, o[e] = g << 8 | g >>> 24, s[e] = g, c[f] = (g = 16843009 * y ^ 65537 * m ^ 257 * v ^ 16843008 * e) << 24 | g >>> 8, d[f] = g << 16 | g >>> 16, h[f] = g << 8 | g >>> 24, p[f] = g, e ? (e = v ^ n[n[n[y ^ v]]], t ^= n[n[t]]) : e = t = 1
                }
            }();
            var f = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
                g = e.AES = l.extend({
                    _doReset: function () {
                        if (!this._nRounds || this._keyPriorReset !== this._key) {
                            for (var n = this._keyPriorReset = this._key, l = n.words, e = n.sigBytes / 4, t = 4 * ((this._nRounds = e + 6) + 1), u = this._keySchedule = [], r = 0; r < t; r++)
                                if (r < e) u[r] = l[r];
                                else {
                                    var a = u[r - 1];
                                    r % e ? e > 6 && r % e == 4 && (a = i[a >>> 24] << 24 | i[a >>> 16 & 255] << 16 | i[a >>> 8 & 255] << 8 | i[255 & a]) : (a = i[(a = a << 8 | a >>> 24) >>> 24] << 24 | i[a >>> 16 & 255] << 16 | i[a >>> 8 & 255] << 8 | i[255 & a], a ^= f[r / e | 0] << 24), u[r] = u[r - e] ^ a
                                } for (var o = this._invKeySchedule = [], s = 0; s < t; s++) r = t - s, a = s % 4 ? u[r] : u[r - 4], o[s] = s < 4 || r <= 4 ? a : c[i[a >>> 24]] ^ d[i[a >>> 16 & 255]] ^ h[i[a >>> 8 & 255]] ^ p[i[255 & a]]
                        }
                    },
                    encryptBlock: function (n, l) {
                        this._doCryptBlock(n, l, this._keySchedule, r, a, o, s, i)
                    },
                    decryptBlock: function (n, l) {
                        var e = n[l + 1];
                        n[l + 1] = n[l + 3], n[l + 3] = e, this._doCryptBlock(n, l, this._invKeySchedule, c, d, h, p, u), e = n[l + 1], n[l + 1] = n[l + 3], n[l + 3] = e
                    },
                    _doCryptBlock: function (n, l, e, t, i, u, r, a) {
                        for (var o = this._nRounds, s = n[l] ^ e[0], c = n[l + 1] ^ e[1], d = n[l + 2] ^ e[2], h = n[l + 3] ^ e[3], p = 4, f = 1; f < o; f++) {
                            var g = t[s >>> 24] ^ i[c >>> 16 & 255] ^ u[d >>> 8 & 255] ^ r[255 & h] ^ e[p++],
                                v = t[c >>> 24] ^ i[d >>> 16 & 255] ^ u[h >>> 8 & 255] ^ r[255 & s] ^ e[p++],
                                m = t[d >>> 24] ^ i[h >>> 16 & 255] ^ u[s >>> 8 & 255] ^ r[255 & c] ^ e[p++],
                                y = t[h >>> 24] ^ i[s >>> 16 & 255] ^ u[c >>> 8 & 255] ^ r[255 & d] ^ e[p++];
                            s = g, c = v, d = m, h = y
                        }
                        g = (a[s >>> 24] << 24 | a[c >>> 16 & 255] << 16 | a[d >>> 8 & 255] << 8 | a[255 & h]) ^ e[p++], v = (a[c >>> 24] << 24 | a[d >>> 16 & 255] << 16 | a[h >>> 8 & 255] << 8 | a[255 & s]) ^ e[p++], m = (a[d >>> 24] << 24 | a[h >>> 16 & 255] << 16 | a[s >>> 8 & 255] << 8 | a[255 & c]) ^ e[p++], y = (a[h >>> 24] << 24 | a[s >>> 16 & 255] << 16 | a[c >>> 8 & 255] << 8 | a[255 & d]) ^ e[p++], n[l] = g, n[l + 1] = v, n[l + 2] = m, n[l + 3] = y
                    },
                    keySize: 8
                });
            n.AES = l._createHelper(g)
        }(), t.AES)
    },
    yDR0: function (n, l, e) {
        "use strict";
        n.exports = function (n, l, e, t) {
            for (var i = 65535 & n | 0, u = n >>> 16 & 65535 | 0, r = 0; 0 !== e;) {
                e -= r = e > 2e3 ? 2e3 : e;
                do {
                    u = u + (i = i + l[t++] | 0) | 0
                } while (--r);
                i %= 65521, u %= 65521
            }
            return i | u << 16 | 0
        }
    },
    zUnb: function (n, l, e) {
        "use strict";

        function t(n) {
            return "function" == typeof n
        }
        e.r(l);
        var i = !1,
            u = {
                Promise: void 0,
                set useDeprecatedSynchronousErrorHandling(n) {
                    if (n) {
                        var l = new Error;
                        console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n" + l.stack)
                    } else i && console.log("RxJS: Back to a better error behavior. Thank you. <3");
                    i = n
                },
                get useDeprecatedSynchronousErrorHandling() {
                    return i
                }
            };

        function r(n) {
            setTimeout((function () {
                throw n
            }))
        }
        var a = {
                closed: !0,
                next: function (n) {},
                error: function (n) {
                    if (u.useDeprecatedSynchronousErrorHandling) throw n;
                    r(n)
                },
                complete: function () {}
            },
            o = Array.isArray || function (n) {
                return n && "number" == typeof n.length
            };

        function s(n) {
            return null !== n && "object" == typeof n
        }

        function c(n) {
            return Error.call(this), this.message = n ? "".concat(n.length, " errors occurred during unsubscription:\n").concat(n.map((function (n, l) {
                return "".concat(l + 1, ") ").concat(n.toString())
            })).join("\n  ")) : "", this.name = "UnsubscriptionError", this.errors = n, this
        }
        c.prototype = Object.create(Error.prototype);
        var d, h = c,
            p = ((d = function () {
                function n(l) {
                    _classCallCheck(this, n), this.closed = !1, this._parent = null, this._parents = null, this._subscriptions = null, l && (this._unsubscribe = l)
                }
                return _createClass(n, [{
                    key: "unsubscribe",
                    value: function () {
                        var n, l = !1;
                        if (!this.closed) {
                            var e = this._parent,
                                i = this._parents,
                                u = this._unsubscribe,
                                r = this._subscriptions;
                            this.closed = !0, this._parent = null, this._parents = null, this._subscriptions = null;
                            for (var a = -1, c = i ? i.length : 0; e;) e.remove(this), e = ++a < c && i[a] || null;
                            if (t(u)) try {
                                u.call(this)
                            } catch (p) {
                                l = !0, n = p instanceof h ? f(p.errors) : [p]
                            }
                            if (o(r))
                                for (a = -1, c = r.length; ++a < c;) {
                                    var d = r[a];
                                    if (s(d)) try {
                                        d.unsubscribe()
                                    } catch (p) {
                                        l = !0, n = n || [], p instanceof h ? n = n.concat(f(p.errors)) : n.push(p)
                                    }
                                }
                            if (l) throw new h(n)
                        }
                    }
                }, {
                    key: "add",
                    value: function (l) {
                        var e = l;
                        switch (typeof l) {
                            case "function":
                                e = new n(l);
                            case "object":
                                if (e === this || e.closed || "function" != typeof e.unsubscribe) return e;
                                if (this.closed) return e.unsubscribe(), e;
                                if (!(e instanceof n)) {
                                    var t = e;
                                    (e = new n)._subscriptions = [t]
                                }
                                break;
                            default:
                                if (!l) return n.EMPTY;
                                throw new Error("unrecognized teardown " + l + " added to Subscription.")
                        }
                        if (e._addParent(this)) {
                            var i = this._subscriptions;
                            i ? i.push(e) : this._subscriptions = [e]
                        }
                        return e
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        var l = this._subscriptions;
                        if (l) {
                            var e = l.indexOf(n); - 1 !== e && l.splice(e, 1)
                        }
                    }
                }, {
                    key: "_addParent",
                    value: function (n) {
                        var l = this._parent,
                            e = this._parents;
                        return l !== n && (l ? e ? -1 === e.indexOf(n) && (e.push(n), !0) : (this._parents = [n], !0) : (this._parent = n, !0))
                    }
                }]), n
            }()).EMPTY = function (n) {
                return n.closed = !0, n
            }(new d), d);

        function f(n) {
            return n.reduce((function (n, l) {
                return n.concat(l instanceof h ? l.errors : l)
            }), [])
        }
        var g = "function" == typeof Symbol ? Symbol("rxSubscriber") : "@@rxSubscriber_" + Math.random(),
            v = function (n) {
                function l(n, e, t) {
                    var i;
                    switch (_classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).syncErrorValue = null, i.syncErrorThrown = !1, i.syncErrorThrowable = !1, i.isStopped = !1, arguments.length) {
                        case 0:
                            i.destination = a;
                            break;
                        case 1:
                            if (!n) {
                                i.destination = a;
                                break
                            }
                            if ("object" == typeof n) {
                                n instanceof l ? (i.syncErrorThrowable = n.syncErrorThrowable, i.destination = n, n.add(_assertThisInitialized(i))) : (i.syncErrorThrowable = !0, i.destination = new m(_assertThisInitialized(i), n));
                                break
                            }
                        default:
                            i.syncErrorThrowable = !0, i.destination = new m(_assertThisInitialized(i), n, e, t)
                    }
                    return i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: g,
                    value: function () {
                        return this
                    }
                }, {
                    key: "next",
                    value: function (n) {
                        this.isStopped || this._next(n)
                    }
                }, {
                    key: "error",
                    value: function (n) {
                        this.isStopped || (this.isStopped = !0, this._error(n))
                    }
                }, {
                    key: "complete",
                    value: function () {
                        this.isStopped || (this.isStopped = !0, this._complete())
                    }
                }, {
                    key: "unsubscribe",
                    value: function () {
                        this.closed || (this.isStopped = !0, _get(_getPrototypeOf(l.prototype), "unsubscribe", this).call(this))
                    }
                }, {
                    key: "_next",
                    value: function (n) {
                        this.destination.next(n)
                    }
                }, {
                    key: "_error",
                    value: function (n) {
                        this.destination.error(n), this.unsubscribe()
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.destination.complete(), this.unsubscribe()
                    }
                }, {
                    key: "_unsubscribeAndRecycle",
                    value: function () {
                        var n = this._parent,
                            l = this._parents;
                        return this._parent = null, this._parents = null, this.unsubscribe(), this.closed = !1, this.isStopped = !1, this._parent = n, this._parents = l, this
                    }
                }], [{
                    key: "create",
                    value: function (n, e, t) {
                        var i = new l(n, e, t);
                        return i.syncErrorThrowable = !1, i
                    }
                }]), l
            }(p),
            m = function (n) {
                function l(n, e, i, u) {
                    var r, o;
                    _classCallCheck(this, l), (r = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._parentSubscriber = n;
                    var s = _assertThisInitialized(r);
                    return t(e) ? o = e : e && (o = e.next, i = e.error, u = e.complete, e !== a && (t((s = Object.create(e)).unsubscribe) && r.add(s.unsubscribe.bind(s)), s.unsubscribe = r.unsubscribe.bind(_assertThisInitialized(r)))), r._context = s, r._next = o, r._error = i, r._complete = u, r
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "next",
                    value: function (n) {
                        if (!this.isStopped && this._next) {
                            var l = this._parentSubscriber;
                            u.useDeprecatedSynchronousErrorHandling && l.syncErrorThrowable ? this.__tryOrSetError(l, this._next, n) && this.unsubscribe() : this.__tryOrUnsub(this._next, n)
                        }
                    }
                }, {
                    key: "error",
                    value: function (n) {
                        if (!this.isStopped) {
                            var l = this._parentSubscriber,
                                e = u.useDeprecatedSynchronousErrorHandling;
                            if (this._error) e && l.syncErrorThrowable ? (this.__tryOrSetError(l, this._error, n), this.unsubscribe()) : (this.__tryOrUnsub(this._error, n), this.unsubscribe());
                            else if (l.syncErrorThrowable) e ? (l.syncErrorValue = n, l.syncErrorThrown = !0) : r(n), this.unsubscribe();
                            else {
                                if (this.unsubscribe(), e) throw n;
                                r(n)
                            }
                        }
                    }
                }, {
                    key: "complete",
                    value: function () {
                        var n = this;
                        if (!this.isStopped) {
                            var l = this._parentSubscriber;
                            if (this._complete) {
                                var e = function () {
                                    return n._complete.call(n._context)
                                };
                                u.useDeprecatedSynchronousErrorHandling && l.syncErrorThrowable ? (this.__tryOrSetError(l, e), this.unsubscribe()) : (this.__tryOrUnsub(e), this.unsubscribe())
                            } else this.unsubscribe()
                        }
                    }
                }, {
                    key: "__tryOrUnsub",
                    value: function (n, l) {
                        try {
                            n.call(this._context, l)
                        } catch (e) {
                            if (this.unsubscribe(), u.useDeprecatedSynchronousErrorHandling) throw e;
                            r(e)
                        }
                    }
                }, {
                    key: "__tryOrSetError",
                    value: function (n, l, e) {
                        if (!u.useDeprecatedSynchronousErrorHandling) throw new Error("bad call");
                        try {
                            l.call(this._context, e)
                        } catch (t) {
                            return u.useDeprecatedSynchronousErrorHandling ? (n.syncErrorValue = t, n.syncErrorThrown = !0, !0) : (r(t), !0)
                        }
                        return !1
                    }
                }, {
                    key: "_unsubscribe",
                    value: function () {
                        var n = this._parentSubscriber;
                        this._context = null, this._parentSubscriber = null, n.unsubscribe()
                    }
                }]), l
            }(v),
            y = "function" == typeof Symbol && Symbol.observable || "@@observable";

        function b() {}

        function _() {
            for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
            return k(l)
        }

        function k(n) {
            return n ? 1 === n.length ? n[0] : function (l) {
                return n.reduce((function (n, l) {
                    return l(n)
                }), l)
            } : b
        }
        var w, x = ((w = function () {
            function n(l) {
                _classCallCheck(this, n), this._isScalar = !1, l && (this._subscribe = l)
            }
            return _createClass(n, [{
                key: "lift",
                value: function (l) {
                    var e = new n;
                    return e.source = this, e.operator = l, e
                }
            }, {
                key: "subscribe",
                value: function (n, l, e) {
                    var t = this.operator,
                        i = function (n, l, e) {
                            if (n) {
                                if (n instanceof v) return n;
                                if (n[g]) return n[g]()
                            }
                            return n || l || e ? new v(n, l, e) : new v(a)
                        }(n, l, e);
                    if (i.add(t ? t.call(i, this.source) : this.source || u.useDeprecatedSynchronousErrorHandling && !i.syncErrorThrowable ? this._subscribe(i) : this._trySubscribe(i)), u.useDeprecatedSynchronousErrorHandling && i.syncErrorThrowable && (i.syncErrorThrowable = !1, i.syncErrorThrown)) throw i.syncErrorValue;
                    return i
                }
            }, {
                key: "_trySubscribe",
                value: function (n) {
                    try {
                        return this._subscribe(n)
                    } catch (l) {
                        u.useDeprecatedSynchronousErrorHandling && (n.syncErrorThrown = !0, n.syncErrorValue = l),
                            function (n) {
                                for (; n;) {
                                    var l = n,
                                        e = l.closed,
                                        t = l.destination,
                                        i = l.isStopped;
                                    if (e || i) return !1;
                                    n = t && t instanceof v ? t : null
                                }
                                return !0
                            }(n) ? n.error(l) : console.warn(l)
                    }
                }
            }, {
                key: "forEach",
                value: function (n, l) {
                    var e = this;
                    return new(l = C(l))((function (l, t) {
                        var i;
                        i = e.subscribe((function (l) {
                            try {
                                n(l)
                            } catch (e) {
                                t(e), i && i.unsubscribe()
                            }
                        }), t, l)
                    }))
                }
            }, {
                key: "_subscribe",
                value: function (n) {
                    var l = this.source;
                    return l && l.subscribe(n)
                }
            }, {
                key: y,
                value: function () {
                    return this
                }
            }, {
                key: "pipe",
                value: function () {
                    for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                    return 0 === l.length ? this : k(l)(this)
                }
            }, {
                key: "toPromise",
                value: function (n) {
                    var l = this;
                    return new(n = C(n))((function (n, e) {
                        var t;
                        l.subscribe((function (n) {
                            return t = n
                        }), (function (n) {
                            return e(n)
                        }), (function () {
                            return n(t)
                        }))
                    }))
                }
            }]), n
        }()).create = function (n) {
            return new w(n)
        }, w);

        function C(n) {
            if (n || (n = u.Promise || Promise), !n) throw new Error("no Promise impl found");
            return n
        }

        function S() {
            return Error.call(this), this.message = "object unsubscribed", this.name = "ObjectUnsubscribedError", this
        }
        S.prototype = Object.create(Error.prototype);
        var I, T = S,
            E = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).subject = n, t.subscriber = e, t.closed = !1, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "unsubscribe",
                    value: function () {
                        if (!this.closed) {
                            this.closed = !0;
                            var n = this.subject,
                                l = n.observers;
                            if (this.subject = null, l && 0 !== l.length && !n.isStopped && !n.closed) {
                                var e = l.indexOf(this.subscriber); - 1 !== e && l.splice(e, 1)
                            }
                        }
                    }
                }]), l
            }(p),
            A = function (n) {
                function l(n) {
                    var e;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).destination = n, e
                }
                return _inherits(l, n), l
            }(v),
            P = ((I = function (n) {
                function l() {
                    var n;
                    return _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).observers = [], n.closed = !1, n.isStopped = !1, n.hasError = !1, n.thrownError = null, n
                }
                return _inherits(l, n), _createClass(l, [{
                    key: g,
                    value: function () {
                        return new A(this)
                    }
                }, {
                    key: "lift",
                    value: function (n) {
                        var l = new O(this, this);
                        return l.operator = n, l
                    }
                }, {
                    key: "next",
                    value: function (n) {
                        if (this.closed) throw new T;
                        if (!this.isStopped)
                            for (var l = this.observers, e = l.length, t = l.slice(), i = 0; i < e; i++) t[i].next(n)
                    }
                }, {
                    key: "error",
                    value: function (n) {
                        if (this.closed) throw new T;
                        this.hasError = !0, this.thrownError = n, this.isStopped = !0;
                        for (var l = this.observers, e = l.length, t = l.slice(), i = 0; i < e; i++) t[i].error(n);
                        this.observers.length = 0
                    }
                }, {
                    key: "complete",
                    value: function () {
                        if (this.closed) throw new T;
                        this.isStopped = !0;
                        for (var n = this.observers, l = n.length, e = n.slice(), t = 0; t < l; t++) e[t].complete();
                        this.observers.length = 0
                    }
                }, {
                    key: "unsubscribe",
                    value: function () {
                        this.isStopped = !0, this.closed = !0, this.observers = null
                    }
                }, {
                    key: "_trySubscribe",
                    value: function (n) {
                        if (this.closed) throw new T;
                        return _get(_getPrototypeOf(l.prototype), "_trySubscribe", this).call(this, n)
                    }
                }, {
                    key: "_subscribe",
                    value: function (n) {
                        if (this.closed) throw new T;
                        return this.hasError ? (n.error(this.thrownError), p.EMPTY) : this.isStopped ? (n.complete(), p.EMPTY) : (this.observers.push(n), new E(this, n))
                    }
                }, {
                    key: "asObservable",
                    value: function () {
                        var n = new x;
                        return n.source = this, n
                    }
                }]), l
            }(x)).create = function (n, l) {
                return new O(n, l)
            }, I),
            O = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).destination = n, t.source = e, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "next",
                    value: function (n) {
                        var l = this.destination;
                        l && l.next && l.next(n)
                    }
                }, {
                    key: "error",
                    value: function (n) {
                        var l = this.destination;
                        l && l.error && this.destination.error(n)
                    }
                }, {
                    key: "complete",
                    value: function () {
                        var n = this.destination;
                        n && n.complete && this.destination.complete()
                    }
                }, {
                    key: "_subscribe",
                    value: function (n) {
                        return this.source ? this.source.subscribe(n) : p.EMPTY
                    }
                }]), l
            }(P);

        function D(n) {
            return n && "function" == typeof n.schedule
        }
        var R = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).parent = n, i.outerValue = e, i.outerIndex = t, i.index = 0, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        this.parent.notifyNext(this.outerValue, n, this.outerIndex, this.index++, this)
                    }
                }, {
                    key: "_error",
                    value: function (n) {
                        this.parent.notifyError(n, this), this.unsubscribe()
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.parent.notifyComplete(this), this.unsubscribe()
                    }
                }]), l
            }(v),
            M = function (n) {
                return function (l) {
                    for (var e = 0, t = n.length; e < t && !l.closed; e++) l.next(n[e]);
                    l.closed || l.complete()
                }
            },
            N = function (n) {
                return function (l) {
                    return n.then((function (n) {
                        l.closed || (l.next(n), l.complete())
                    }), (function (n) {
                        return l.error(n)
                    })).then(null, r), l
                }
            };
        var B = "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator",
            z = function (n) {
                return function (l) {
                    for (var e = n[B]();;) {
                        var t = e.next();
                        if (t.done) {
                            l.complete();
                            break
                        }
                        if (l.next(t.value), l.closed) break
                    }
                    return "function" == typeof e.return && l.add((function () {
                        e.return && e.return()
                    })), l
                }
            },
            L = function (n) {
                return function (l) {
                    var e = n[y]();
                    if ("function" != typeof e.subscribe) throw new TypeError("Provided object does not correctly implement Symbol.observable");
                    return e.subscribe(l)
                }
            },
            F = function (n) {
                return n && "number" == typeof n.length && "function" != typeof n
            };

        function q(n) {
            return !!n && "function" != typeof n.subscribe && "function" == typeof n.then
        }
        var U = function (n) {
            if (n instanceof x) return function (l) {
                return n._isScalar ? (l.next(n.value), void l.complete()) : n.subscribe(l)
            };
            if (n && "function" == typeof n[y]) return L(n);
            if (F(n)) return M(n);
            if (q(n)) return N(n);
            if (n && "function" == typeof n[B]) return z(n);
            var l = s(n) ? "an invalid object" : "'".concat(n, "'");
            throw new TypeError("You provided ".concat(l, " where a stream was expected.") + " You can provide an Observable, Promise, Array, or Iterable.")
        };

        function $(n, l, e, t) {
            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : new R(n, e, t);
            if (!i.closed) return U(l)(i)
        }
        var H = function (n) {
            function l() {
                return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
            }
            return _inherits(l, n), _createClass(l, [{
                key: "notifyNext",
                value: function (n, l, e, t, i) {
                    this.destination.next(l)
                }
            }, {
                key: "notifyError",
                value: function (n, l) {
                    this.destination.error(n)
                }
            }, {
                key: "notifyComplete",
                value: function (n) {
                    this.destination.complete()
                }
            }]), l
        }(v);

        function V(n, l) {
            return function (e) {
                if ("function" != typeof n) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
                return e.lift(new j(n, l))
            }
        }
        var j = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.project = l, this.thisArg = e
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new G(n, this.project, this.thisArg))
                    }
                }]), n
            }(),
            G = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).project = e, i.count = 0, i.thisArg = t || _assertThisInitialized(i), i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        var l;
                        try {
                            l = this.project.call(this.thisArg, n, this.count++)
                        } catch (e) {
                            return void this.destination.error(e)
                        }
                        this.destination.next(l)
                    }
                }]), l
            }(v);

        function W(n, l) {
            return new x(l ? function (e) {
                var t = new p,
                    i = 0;
                return t.add(l.schedule((function () {
                    i !== n.length ? (e.next(n[i++]), e.closed || t.add(this.schedule())) : e.complete()
                }))), t
            } : M(n))
        }

        function K(n, l) {
            if (!l) return n instanceof x ? n : new x(U(n));
            if (null != n) {
                if (function (n) {
                        return n && "function" == typeof n[y]
                    }(n)) return function (n, l) {
                    return new x(l ? function (e) {
                        var t = new p;
                        return t.add(l.schedule((function () {
                            var i = n[y]();
                            t.add(i.subscribe({
                                next: function (n) {
                                    t.add(l.schedule((function () {
                                        return e.next(n)
                                    })))
                                },
                                error: function (n) {
                                    t.add(l.schedule((function () {
                                        return e.error(n)
                                    })))
                                },
                                complete: function () {
                                    t.add(l.schedule((function () {
                                        return e.complete()
                                    })))
                                }
                            }))
                        }))), t
                    } : L(n))
                }(n, l);
                if (q(n)) return function (n, l) {
                    return new x(l ? function (e) {
                        var t = new p;
                        return t.add(l.schedule((function () {
                            return n.then((function (n) {
                                t.add(l.schedule((function () {
                                    e.next(n), t.add(l.schedule((function () {
                                        return e.complete()
                                    })))
                                })))
                            }), (function (n) {
                                t.add(l.schedule((function () {
                                    return e.error(n)
                                })))
                            }))
                        }))), t
                    } : N(n))
                }(n, l);
                if (F(n)) return W(n, l);
                if (function (n) {
                        return n && "function" == typeof n[B]
                    }(n) || "string" == typeof n) return function (n, l) {
                    if (!n) throw new Error("Iterable cannot be null");
                    return new x(l ? function (e) {
                        var t, i = new p;
                        return i.add((function () {
                            t && "function" == typeof t.return && t.return()
                        })), i.add(l.schedule((function () {
                            t = n[B](), i.add(l.schedule((function () {
                                if (!e.closed) {
                                    var n, l;
                                    try {
                                        var i = t.next();
                                        n = i.value, l = i.done
                                    } catch (u) {
                                        return void e.error(u)
                                    }
                                    l ? e.complete() : (e.next(n), this.schedule())
                                }
                            })))
                        }))), i
                    } : z(n))
                }(n, l)
            }
            throw new TypeError((null !== n && typeof n || n) + " is not observable")
        }

        function Z(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Number.POSITIVE_INFINITY;
            return "function" == typeof l ? function (t) {
                return t.pipe(Z((function (e, t) {
                    return K(n(e, t)).pipe(V((function (n, i) {
                        return l(e, n, t, i)
                    })))
                }), e))
            } : ("number" == typeof l && (e = l), function (l) {
                return l.lift(new Q(n, e))
            })
        }
        var Q = function () {
                function n(l) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Number.POSITIVE_INFINITY;
                    _classCallCheck(this, n), this.project = l, this.concurrent = e
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Y(n, this.project, this.concurrent))
                    }
                }]), n
            }(),
            Y = function (n) {
                function l(n, e) {
                    var t, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Number.POSITIVE_INFINITY;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).project = e, t.concurrent = i, t.hasCompleted = !1, t.buffer = [], t.active = 0, t.index = 0, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        this.active < this.concurrent ? this._tryNext(n) : this.buffer.push(n)
                    }
                }, {
                    key: "_tryNext",
                    value: function (n) {
                        var l, e = this.index++;
                        try {
                            l = this.project(n, e)
                        } catch (t) {
                            return void this.destination.error(t)
                        }
                        this.active++, this._innerSub(l, n, e)
                    }
                }, {
                    key: "_innerSub",
                    value: function (n, l, e) {
                        var t = new R(this, void 0, void 0);
                        this.destination.add(t), $(this, n, l, e, t)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete(), this.unsubscribe()
                    }
                }, {
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        this.destination.next(l)
                    }
                }, {
                    key: "notifyComplete",
                    value: function (n) {
                        var l = this.buffer;
                        this.remove(n), this.active--, l.length > 0 ? this._next(l.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete()
                    }
                }]), l
            }(H);

        function X(n) {
            return n
        }

        function J() {
            return Z(X, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Number.POSITIVE_INFINITY)
        }

        function nn() {
            for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
            var t = Number.POSITIVE_INFINITY,
                i = null,
                u = l[l.length - 1];
            return D(u) ? (i = l.pop(), l.length > 1 && "number" == typeof l[l.length - 1] && (t = l.pop())) : "number" == typeof u && (t = l.pop()), null === i && 1 === l.length && l[0] instanceof x ? l[0] : J(t)(W(l, i))
        }

        function ln() {
            return function (n) {
                return n.lift(new en(n))
            }
        }
        var en = function () {
                function n(l) {
                    _classCallCheck(this, n), this.connectable = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        var e = this.connectable;
                        e._refCount++;
                        var t = new tn(n, e),
                            i = l.subscribe(t);
                        return t.closed || (t.connection = e.connect()), i
                    }
                }]), n
            }(),
            tn = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).connectable = e, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_unsubscribe",
                    value: function () {
                        var n = this.connectable;
                        if (n) {
                            this.connectable = null;
                            var l = n._refCount;
                            if (l <= 0) this.connection = null;
                            else if (n._refCount = l - 1, l > 1) this.connection = null;
                            else {
                                var e = this.connection,
                                    t = n._connection;
                                this.connection = null, !t || e && t !== e || t.unsubscribe()
                            }
                        } else this.connection = null
                    }
                }]), l
            }(v),
            un = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).source = n, t.subjectFactory = e, t._refCount = 0, t._isComplete = !1, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_subscribe",
                    value: function (n) {
                        return this.getSubject().subscribe(n)
                    }
                }, {
                    key: "getSubject",
                    value: function () {
                        var n = this._subject;
                        return n && !n.isStopped || (this._subject = this.subjectFactory()), this._subject
                    }
                }, {
                    key: "connect",
                    value: function () {
                        var n = this._connection;
                        return n || (this._isComplete = !1, (n = this._connection = new p).add(this.source.subscribe(new an(this.getSubject(), this))), n.closed ? (this._connection = null, n = p.EMPTY) : this._connection = n), n
                    }
                }, {
                    key: "refCount",
                    value: function () {
                        return ln()(this)
                    }
                }]), l
            }(x).prototype,
            rn = {
                operator: {
                    value: null
                },
                _refCount: {
                    value: 0,
                    writable: !0
                },
                _subject: {
                    value: null,
                    writable: !0
                },
                _connection: {
                    value: null,
                    writable: !0
                },
                _subscribe: {
                    value: un._subscribe
                },
                _isComplete: {
                    value: un._isComplete,
                    writable: !0
                },
                getSubject: {
                    value: un.getSubject
                },
                connect: {
                    value: un.connect
                },
                refCount: {
                    value: un.refCount
                }
            },
            an = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).connectable = e, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_error",
                    value: function (n) {
                        this._unsubscribe(), _get(_getPrototypeOf(l.prototype), "_error", this).call(this, n)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.connectable._isComplete = !0, this._unsubscribe(), _get(_getPrototypeOf(l.prototype), "_complete", this).call(this)
                    }
                }, {
                    key: "_unsubscribe",
                    value: function () {
                        var n = this.connectable;
                        if (n) {
                            this.connectable = null;
                            var l = n._connection;
                            n._refCount = 0, n._subject = null, n._connection = null, l && l.unsubscribe()
                        }
                    }
                }]), l
            }(A);

        function on() {
            return new P
        }

        function sn() {
            return function (n) {
                return ln()((l = on, function (n) {
                    var e;
                    e = "function" == typeof l ? l : function () {
                        return l
                    };
                    var t = Object.create(n, rn);
                    return t.source = n, t.subjectFactory = e, t
                })(n));
                var l
            }
        }
        var cn = "__parameters__";

        function dn(n, l, e) {
            var t = function (n) {
                return function () {
                    if (n) {
                        var l = n.apply(void 0, arguments);
                        for (var e in l) this[e] = l[e]
                    }
                }
            }(l);

            function i() {
                for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                if (this instanceof i) return t.apply(this, l), this;
                var u = _construct(i, l);
                return r.annotation = u, r;

                function r(n, l, e) {
                    for (var t = n.hasOwnProperty(cn) ? n[cn] : Object.defineProperty(n, cn, {
                            value: []
                        })[cn]; t.length <= e;) t.push(null);
                    return (t[e] = t[e] || []).push(u), n
                }
            }
            return e && (i.prototype = Object.create(e.prototype)), i.prototype.ngMetadataName = n, i.annotationCls = i, i
        }
        var hn = dn("Inject", (function (n) {
                return {
                    token: n
                }
            })),
            pn = dn("Optional"),
            fn = dn("Self"),
            gn = dn("SkipSelf"),
            vn = function (n) {
                return n[n.Default = 0] = "Default", n[n.Host = 1] = "Host", n[n.Self = 2] = "Self", n[n.SkipSelf = 4] = "SkipSelf", n[n.Optional = 8] = "Optional", n
            }({});

        function mn(n) {
            for (var l in n)
                if (n[l] === mn) return l;
            throw Error("Could not find renamed property on target object.")
        }

        function yn(n) {
            return {
                token: n.token,
                providedIn: n.providedIn || null,
                factory: n.factory,
                value: void 0
            }
        }
        var bn = yn;

        function _n(n) {
            var l = n[kn];
            return l && l.token === n ? l : null
        }
        var kn = mn({
            ngInjectableDef: mn
        });

        function wn(n) {
            if ("string" == typeof n) return n;
            if (n instanceof Array) return "[" + n.map(wn).join(", ") + "]";
            if (null == n) return "" + n;
            if (n.overriddenName) return "".concat(n.overriddenName);
            if (n.name) return "".concat(n.name);
            var l = n.toString();
            if (null == l) return "" + l;
            var e = l.indexOf("\n");
            return -1 === e ? l : l.substring(0, e)
        }
        var xn = mn({
            __forward_ref__: mn
        });

        function Cn(n) {
            return n.__forward_ref__ = Cn, n.toString = function () {
                return wn(this())
            }, n
        }

        function Sn(n) {
            var l = n;
            return "function" == typeof l && l.hasOwnProperty(xn) && l.__forward_ref__ === Cn ? l() : n
        }
        var In, Tn = "undefined" != typeof globalThis && globalThis,
            En = "undefined" != typeof window && window,
            An = "undefined" != typeof self && "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self,
            Pn = "undefined" != typeof global && global,
            On = Tn || Pn || En || An,
            Dn = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._desc = l, this.ngMetadataName = "InjectionToken", this.ngInjectableDef = void 0, "number" == typeof e ? this.__NG_ELEMENT_ID__ = e : void 0 !== e && (this.ngInjectableDef = yn({
                        token: this,
                        providedIn: e.providedIn || "root",
                        factory: e.factory
                    }))
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "InjectionToken ".concat(this._desc)
                    }
                }]), n
            }(),
            Rn = new Dn("INJECTOR", -1),
            Mn = new Object,
            Nn = /\n/gm,
            Bn = "\u0275",
            zn = "__source",
            Ln = mn({
                provide: String,
                useValue: mn
            }),
            Fn = void 0;

        function qn(n) {
            var l = Fn;
            return Fn = n, l
        }

        function Un(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : vn.Default;
            if (void 0 === Fn) throw new Error("inject() must be called from an injection context");
            return null === Fn ? function (n, l, e) {
                var t = _n(n);
                if (t && "root" == t.providedIn) return void 0 === t.value ? t.value = t.factory() : t.value;
                if (e & vn.Optional) return null;
                throw new Error("Injector: NOT_FOUND [".concat(wn(n), "]"))
            }(n, 0, l) : Fn.get(n, l & vn.Optional ? null : void 0, l)
        }

        function $n(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : vn.Default;
            return (In || Un)(n, l)
        }
        var Hn = $n,
            Vn = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "get",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Mn;
                        if (l === Mn) {
                            var e = new Error("NullInjectorError: No provider for ".concat(wn(n), "!"));
                            throw e.name = "NullInjectorError", e
                        }
                        return l
                    }
                }]), n
            }();

        function jn(n, l, e) {
            var t = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
            n = n && "\n" === n.charAt(0) && n.charAt(1) == Bn ? n.substr(2) : n;
            var i = wn(l);
            if (l instanceof Array) i = l.map(wn).join(" -> ");
            else if ("object" == typeof l) {
                var u = [];
                for (var r in l)
                    if (l.hasOwnProperty(r)) {
                        var a = l[r];
                        u.push(r + ":" + ("string" == typeof a ? JSON.stringify(a) : wn(a)))
                    } i = "{".concat(u.join(", "), "}")
            }
            return "".concat(e).concat(t ? "(" + t + ")" : "", "[").concat(i, "]: ").concat(n.replace(Nn, "\n  "))
        }
        var Gn = function n() {
                _classCallCheck(this, n)
            },
            Wn = function n() {
                _classCallCheck(this, n)
            };

        function Kn(n, l, e) {
            l >= n.length ? n.push(e) : n.splice(l, 0, e)
        }

        function Zn(n, l) {
            return l >= n.length - 1 ? n.pop() : n.splice(l, 1)[0]
        }
        var Qn = function () {
                var n = {
                    Emulated: 0,
                    Native: 1,
                    None: 2,
                    ShadowDom: 3
                };
                return n[n.Emulated] = "Emulated", n[n.Native] = "Native", n[n.None] = "None", n[n.ShadowDom] = "ShadowDom", n
            }(),
            Yn = ("undefined" != typeof requestAnimationFrame && requestAnimationFrame || setTimeout).bind(On),
            Xn = "ngDebugContext",
            Jn = "ngOriginalError",
            nl = "ngErrorLogger";

        function ll(n) {
            return n[Xn]
        }

        function el(n) {
            return n[Jn]
        }

        function tl(n) {
            for (var l = arguments.length, e = new Array(l > 1 ? l - 1 : 0), t = 1; t < l; t++) e[t - 1] = arguments[t];
            n.error.apply(n, e)
        }
        var il = function () {
                function n() {
                    _classCallCheck(this, n), this._console = console
                }
                return _createClass(n, [{
                    key: "handleError",
                    value: function (n) {
                        var l = this._findOriginalError(n),
                            e = this._findContext(n),
                            t = function (n) {
                                return n[nl] || tl
                            }(n);
                        t(this._console, "ERROR", n), l && t(this._console, "ORIGINAL ERROR", l), e && t(this._console, "ERROR CONTEXT", e)
                    }
                }, {
                    key: "_findContext",
                    value: function (n) {
                        return n ? ll(n) ? ll(n) : this._findContext(el(n)) : null
                    }
                }, {
                    key: "_findOriginalError",
                    value: function (n) {
                        for (var l = el(n); l && el(l);) l = el(l);
                        return l
                    }
                }]), n
            }(),
            ul = !0,
            rl = !1;

        function al() {
            return rl = !0, ul
        }
        var ol = function () {
                function n(l) {
                    if (_classCallCheck(this, n), this.defaultDoc = l, this.inertDocument = this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"), this.inertBodyElement = this.inertDocument.body, null == this.inertBodyElement) {
                        var e = this.inertDocument.createElement("html");
                        this.inertDocument.appendChild(e), this.inertBodyElement = this.inertDocument.createElement("body"), e.appendChild(this.inertBodyElement)
                    }
                    this.inertBodyElement.innerHTML = '<svg><g onload="this.parentNode.remove()"></g></svg>', !this.inertBodyElement.querySelector || this.inertBodyElement.querySelector("svg") ? (this.inertBodyElement.innerHTML = '<svg><p><style><img src="</style><img src=x onerror=alert(1)//">', this.getInertBodyElement = this.inertBodyElement.querySelector && this.inertBodyElement.querySelector("svg img") && function () {
                        try {
                            return !!window.DOMParser
                        } catch (n) {
                            return !1
                        }
                    }() ? this.getInertBodyElement_DOMParser : this.getInertBodyElement_InertDocument) : this.getInertBodyElement = this.getInertBodyElement_XHR
                }
                return _createClass(n, [{
                    key: "getInertBodyElement_XHR",
                    value: function (n) {
                        n = "<body><remove></remove>" + n + "</body>";
                        try {
                            n = encodeURI(n)
                        } catch (t) {
                            return null
                        }
                        var l = new XMLHttpRequest;
                        l.responseType = "document", l.open("GET", "data:text/html;charset=utf-8," + n, !1), l.send(void 0);
                        var e = l.response.body;
                        return e.removeChild(e.firstChild), e
                    }
                }, {
                    key: "getInertBodyElement_DOMParser",
                    value: function (n) {
                        n = "<body><remove></remove>" + n + "</body>";
                        try {
                            var l = (new window.DOMParser).parseFromString(n, "text/html").body;
                            return l.removeChild(l.firstChild), l
                        } catch (e) {
                            return null
                        }
                    }
                }, {
                    key: "getInertBodyElement_InertDocument",
                    value: function (n) {
                        var l = this.inertDocument.createElement("template");
                        return "content" in l ? (l.innerHTML = n, l) : (this.inertBodyElement.innerHTML = n, this.defaultDoc.documentMode && this.stripCustomNsAttrs(this.inertBodyElement), this.inertBodyElement)
                    }
                }, {
                    key: "stripCustomNsAttrs",
                    value: function (n) {
                        for (var l = n.attributes, e = l.length - 1; 0 < e; e--) {
                            var t = l.item(e).name;
                            "xmlns:ns1" !== t && 0 !== t.indexOf("ns1:") || n.removeAttribute(t)
                        }
                        for (var i = n.firstChild; i;) i.nodeType === Node.ELEMENT_NODE && this.stripCustomNsAttrs(i), i = i.nextSibling
                    }
                }]), n
            }(),
            sl = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,
            cl = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;

        function dl(n) {
            return (n = String(n)).match(sl) || n.match(cl) ? n : (al() && console.warn("WARNING: sanitizing unsafe URL value ".concat(n, " (see http://g.co/ng/security#xss)")), "unsafe:" + n)
        }

        function hl(n) {
            var l = {},
                e = !0,
                t = !1,
                i = void 0;
            try {
                for (var u, r = n.split(",")[Symbol.iterator](); !(e = (u = r.next()).done); e = !0) {
                    l[u.value] = !0
                }
            } catch (a) {
                t = !0, i = a
            } finally {
                try {
                    e || null == r.return || r.return()
                } finally {
                    if (t) throw i
                }
            }
            return l
        }

        function pl() {
            for (var n = {}, l = arguments.length, e = new Array(l), t = 0; t < l; t++) e[t] = arguments[t];
            for (var i = 0, u = e; i < u.length; i++) {
                var r = u[i];
                for (var a in r) r.hasOwnProperty(a) && (n[a] = !0)
            }
            return n
        }
        var fl, gl = hl("area,br,col,hr,img,wbr"),
            vl = hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),
            ml = hl("rp,rt"),
            yl = pl(ml, vl),
            bl = pl(gl, pl(vl, hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")), pl(ml, hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")), yl),
            _l = hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),
            kl = hl("srcset"),
            wl = pl(_l, kl, hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"), hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),
            xl = hl("script,style,template"),
            Cl = function () {
                function n() {
                    _classCallCheck(this, n), this.sanitizedSomething = !1, this.buf = []
                }
                return _createClass(n, [{
                    key: "sanitizeChildren",
                    value: function (n) {
                        for (var l = n.firstChild, e = !0; l;)
                            if (l.nodeType === Node.ELEMENT_NODE ? e = this.startElement(l) : l.nodeType === Node.TEXT_NODE ? this.chars(l.nodeValue) : this.sanitizedSomething = !0, e && l.firstChild) l = l.firstChild;
                            else
                                for (; l;) {
                                    l.nodeType === Node.ELEMENT_NODE && this.endElement(l);
                                    var t = this.checkClobberedElement(l, l.nextSibling);
                                    if (t) {
                                        l = t;
                                        break
                                    }
                                    l = this.checkClobberedElement(l, l.parentNode)
                                }
                        return this.buf.join("")
                    }
                }, {
                    key: "startElement",
                    value: function (n) {
                        var l = n.nodeName.toLowerCase();
                        if (!bl.hasOwnProperty(l)) return this.sanitizedSomething = !0, !xl.hasOwnProperty(l);
                        this.buf.push("<"), this.buf.push(l);
                        for (var e, t = n.attributes, i = 0; i < t.length; i++) {
                            var u = t.item(i),
                                r = u.name,
                                a = r.toLowerCase();
                            if (wl.hasOwnProperty(a)) {
                                var o = u.value;
                                _l[a] && (o = dl(o)), kl[a] && (e = o, o = (e = String(e)).split(",").map((function (n) {
                                    return dl(n.trim())
                                })).join(", ")), this.buf.push(" ", r, '="', Tl(o), '"')
                            } else this.sanitizedSomething = !0
                        }
                        return this.buf.push(">"), !0
                    }
                }, {
                    key: "endElement",
                    value: function (n) {
                        var l = n.nodeName.toLowerCase();
                        bl.hasOwnProperty(l) && !gl.hasOwnProperty(l) && (this.buf.push("</"), this.buf.push(l), this.buf.push(">"))
                    }
                }, {
                    key: "chars",
                    value: function (n) {
                        this.buf.push(Tl(n))
                    }
                }, {
                    key: "checkClobberedElement",
                    value: function (n, l) {
                        if (l && (n.compareDocumentPosition(l) & Node.DOCUMENT_POSITION_CONTAINED_BY) === Node.DOCUMENT_POSITION_CONTAINED_BY) throw new Error("Failed to sanitize html because the element is clobbered: ".concat(n.outerHTML));
                        return l
                    }
                }]), n
            }(),
            Sl = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            Il = /([^\#-~ |!])/g;

        function Tl(n) {
            return n.replace(/&/g, "&amp;").replace(Sl, (function (n) {
                return "&#" + (1024 * (n.charCodeAt(0) - 55296) + (n.charCodeAt(1) - 56320) + 65536) + ";"
            })).replace(Il, (function (n) {
                return "&#" + n.charCodeAt(0) + ";"
            })).replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }

        function El(n) {
            return "content" in n && function (n) {
                return n.nodeType === Node.ELEMENT_NODE && "TEMPLATE" === n.nodeName
            }(n) ? n.content : null
        }
        var Al = function () {
                var n = {
                    NONE: 0,
                    HTML: 1,
                    STYLE: 2,
                    SCRIPT: 3,
                    URL: 4,
                    RESOURCE_URL: 5
                };
                return n[n.NONE] = "NONE", n[n.HTML] = "HTML", n[n.STYLE] = "STYLE", n[n.SCRIPT] = "SCRIPT", n[n.URL] = "URL", n[n.RESOURCE_URL] = "RESOURCE_URL", n
            }(),
            Pl = function n() {
                _classCallCheck(this, n)
            },
            Ol = new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$", "g"),
            Dl = /^url\(([^)]+)\)$/,
            Rl = /([A-Z])/g;

        function Ml(n) {
            try {
                return null != n ? n.toString().slice(0, 30) : n
            } catch (l) {
                return "[ERROR] Exception while trying to serialize the value"
            }
        }
        var Nl = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.__NG_ELEMENT_ID__ = function () {
                    return Bl()
                }, n
            }(),
            Bl = function () {},
            zl = new Dn("The presence of this token marks an injector as being the root injector."),
            Ll = function (n, l, e) {
                return new Vl(n, l, e)
            },
            Fl = function () {
                var n = function () {
                    function n() {
                        _classCallCheck(this, n)
                    }
                    return _createClass(n, null, [{
                        key: "create",
                        value: function (n, l) {
                            return Array.isArray(n) ? Ll(n, l, "") : Ll(n.providers, n.parent, n.name || "")
                        }
                    }]), n
                }();
                return n.THROW_IF_NOT_FOUND = Mn, n.NULL = new Vn, n.ngInjectableDef = yn({
                    token: n,
                    providedIn: "any",
                    factory: function () {
                        return $n(Rn)
                    }
                }), n.__NG_ELEMENT_ID__ = -1, n
            }(),
            ql = function (n) {
                return n
            },
            Ul = [],
            $l = ql,
            Hl = function () {
                return Array.prototype.slice.call(arguments)
            },
            Vl = function () {
                function n(l) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Fl.NULL,
                        t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                    _classCallCheck(this, n), this.parent = e, this.source = t;
                    var i = this._records = new Map;
                    i.set(Fl, {
                            token: Fl,
                            fn: ql,
                            deps: Ul,
                            value: this,
                            useNew: !1
                        }), i.set(Rn, {
                            token: Rn,
                            fn: ql,
                            deps: Ul,
                            value: this,
                            useNew: !1
                        }),
                        function n(l, e) {
                            if (e)
                                if ((e = Sn(e)) instanceof Array)
                                    for (var t = 0; t < e.length; t++) n(l, e[t]);
                                else {
                                    if ("function" == typeof e) throw Gl("Function/Class not supported", e);
                                    if (!e || "object" != typeof e || !e.provide) throw Gl("Unexpected provider", e);
                                    var i = Sn(e.provide),
                                        u = function (n) {
                                            var l = function (n) {
                                                    var l = Ul,
                                                        e = n.deps;
                                                    if (e && e.length) {
                                                        l = [];
                                                        for (var t = 0; t < e.length; t++) {
                                                            var i = 6,
                                                                u = Sn(e[t]);
                                                            if (u instanceof Array)
                                                                for (var r = 0, a = u; r < a.length; r++) {
                                                                    var o = a[r];
                                                                    o instanceof pn || o == pn ? i |= 1 : o instanceof gn || o == gn ? i &= -3 : o instanceof fn || o == fn ? i &= -5 : u = o instanceof hn ? o.token : Sn(o)
                                                                }
                                                            l.push({
                                                                token: u,
                                                                options: i
                                                            })
                                                        }
                                                    } else if (n.useExisting) l = [{
                                                        token: Sn(n.useExisting),
                                                        options: 6
                                                    }];
                                                    else if (!(e || Ln in n)) throw Gl("'deps' required", n);
                                                    return l
                                                }(n),
                                                e = ql,
                                                t = Ul,
                                                i = !1,
                                                u = Sn(n.provide);
                                            if (Ln in n) t = n.useValue;
                                            else if (n.useFactory) e = n.useFactory;
                                            else if (n.useExisting);
                                            else if (n.useClass) i = !0, e = Sn(n.useClass);
                                            else {
                                                if ("function" != typeof u) throw Gl("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable", n);
                                                i = !0, e = u
                                            }
                                            return {
                                                deps: l,
                                                fn: e,
                                                useNew: i,
                                                value: t
                                            }
                                        }(e);
                                    if (!0 === e.multi) {
                                        var r = l.get(i);
                                        if (r) {
                                            if (r.fn !== Hl) throw jl(i)
                                        } else l.set(i, r = {
                                            token: e.provide,
                                            deps: [],
                                            useNew: !1,
                                            fn: Hl,
                                            value: Ul
                                        });
                                        r.deps.push({
                                            token: i = e,
                                            options: 6
                                        })
                                    }
                                    var a = l.get(i);
                                    if (a && a.fn == Hl) throw jl(i);
                                    l.set(i, u)
                                }
                        }(i, l)
                }
                return _createClass(n, [{
                    key: "get",
                    value: function (n, l) {
                        var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : vn.Default,
                            t = this._records.get(n);
                        try {
                            return function n(l, e, t, i, u, r) {
                                try {
                                    return function (l, e, t, i, u, r) {
                                        var a;
                                        if (!e || r & vn.SkipSelf) r & vn.Self || (a = i.get(l, u, vn.Default));
                                        else {
                                            if ((a = e.value) == $l) throw Error("\u0275Circular dependency");
                                            if (a === Ul) {
                                                e.value = $l;
                                                var o = e.useNew,
                                                    s = e.fn,
                                                    c = e.deps,
                                                    d = Ul;
                                                if (c.length) {
                                                    d = [];
                                                    for (var h = 0; h < c.length; h++) {
                                                        var p = c[h],
                                                            f = p.options,
                                                            g = 2 & f ? t.get(p.token) : void 0;
                                                        d.push(n(p.token, g, t, g || 4 & f ? i : Fl.NULL, 1 & f ? null : Fl.THROW_IF_NOT_FOUND, vn.Default))
                                                    }
                                                }
                                                e.value = a = o ? _construct(s, _toConsumableArray(d)) : s.apply(void 0, d)
                                            }
                                        }
                                        return a
                                    }(l, e, t, i, u, r)
                                } catch (a) {
                                    throw a instanceof Error || (a = new Error(a)), (a.ngTempTokenPath = a.ngTempTokenPath || []).unshift(l), e && e.value == $l && (e.value = Ul), a
                                }
                            }(n, t, this._records, this.parent, l, e)
                        } catch (i) {
                            return function (n, l, e, t) {
                                var i = n.ngTempTokenPath;
                                throw l[zn] && i.unshift(l[zn]), n.message = jn("\n" + n.message, i, "StaticInjectorError", t), n.ngTokenPath = i, n.ngTempTokenPath = null, n
                            }(i, n, 0, this.source)
                        }
                    }
                }, {
                    key: "toString",
                    value: function () {
                        var n = [];
                        return this._records.forEach((function (l, e) {
                            return n.push(wn(e))
                        })), "StaticInjector[".concat(n.join(", "), "]")
                    }
                }]), n
            }();

        function jl(n) {
            return Gl("Cannot mix multi providers and regular providers", n)
        }

        function Gl(n, l) {
            return new Error(jn(n, l, "StaticInjectorError"))
        }
        var Wl = new Dn("AnalyzeForEntryComponents"),
            Kl = null;

        function Zl() {
            if (!Kl) {
                var n = On.Symbol;
                if (n && n.iterator) Kl = n.iterator;
                else
                    for (var l = Object.getOwnPropertyNames(Map.prototype), e = 0; e < l.length; ++e) {
                        var t = l[e];
                        "entries" !== t && "size" !== t && Map.prototype[t] === Map.prototype.entries && (Kl = t)
                    }
            }
            return Kl
        }

        function Ql(n, l) {
            return n === l || "number" == typeof n && "number" == typeof l && isNaN(n) && isNaN(l)
        }

        function Yl(n, l) {
            var e = Jl(n),
                t = Jl(l);
            return e && t ? function (n, l, e) {
                for (var t = n[Zl()](), i = l[Zl()]();;) {
                    var u = t.next(),
                        r = i.next();
                    if (u.done && r.done) return !0;
                    if (u.done || r.done) return !1;
                    if (!e(u.value, r.value)) return !1
                }
            }(n, l, Yl) : !(e || !(n && ("object" == typeof n || "function" == typeof n)) || t || !(l && ("object" == typeof l || "function" == typeof l))) || Ql(n, l)
        }
        var Xl = function () {
            function n(l) {
                _classCallCheck(this, n), this.wrapped = l
            }
            return _createClass(n, null, [{
                key: "wrap",
                value: function (l) {
                    return new n(l)
                }
            }, {
                key: "unwrap",
                value: function (l) {
                    return n.isWrapped(l) ? l.wrapped : l
                }
            }, {
                key: "isWrapped",
                value: function (l) {
                    return l instanceof n
                }
            }]), n
        }();

        function Jl(n) {
            return !!ne(n) && (Array.isArray(n) || !(n instanceof Map) && Zl() in n)
        }

        function ne(n) {
            return null !== n && ("function" == typeof n || "object" == typeof n)
        }

        function le(n) {
            return !!n && "function" == typeof n.then
        }

        function ee(n) {
            return !!n && "function" == typeof n.subscribe
        }
        var te = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.previousValue = l, this.currentValue = e, this.firstChange = t
                }
                return _createClass(n, [{
                    key: "isFirstChange",
                    value: function () {
                        return this.firstChange
                    }
                }]), n
            }(),
            ie = function n() {
                _classCallCheck(this, n)
            },
            ue = function n() {
                _classCallCheck(this, n)
            };

        function re(n) {
            var l = Error("No component factory found for ".concat(wn(n), ". Did you add it to @NgModule.entryComponents?"));
            return l[ae] = n, l
        }
        var ae = "ngComponent",
            oe = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "resolveComponentFactory",
                    value: function (n) {
                        throw re(n)
                    }
                }]), n
            }(),
            se = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.NULL = new oe, n
            }(),
            ce = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._parent = e, this._ngModule = t, this._factories = new Map;
                    for (var i = 0; i < l.length; i++) {
                        var u = l[i];
                        this._factories.set(u.componentType, u)
                    }
                }
                return _createClass(n, [{
                    key: "resolveComponentFactory",
                    value: function (n) {
                        var l = this._factories.get(n);
                        if (!l && this._parent && (l = this._parent.resolveComponentFactory(n)), !l) throw re(n);
                        return new de(l, this._ngModule)
                    }
                }]), n
            }(),
            de = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).factory = n, t.ngModule = e, t.selector = n.selector, t.componentType = n.componentType, t.ngContentSelectors = n.ngContentSelectors, t.inputs = n.inputs, t.outputs = n.outputs, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "create",
                    value: function (n, l, e, t) {
                        return this.factory.create(n, l, e, t || this.ngModule)
                    }
                }]), l
            }(ue);

        function he() {}
        var pe = function () {
                var n = function n(l) {
                    _classCallCheck(this, n), this.nativeElement = l
                };
                return n.__NG_ELEMENT_ID__ = function () {
                    return fe(n)
                }, n
            }(),
            fe = he,
            ge = function n() {
                _classCallCheck(this, n)
            },
            ve = function () {
                var n = {
                    Important: 1,
                    DashCase: 2
                };
                return n[n.Important] = "Important", n[n.DashCase] = "DashCase", n
            }(),
            me = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.__NG_ELEMENT_ID__ = function () {
                    return ye()
                }, n
            }(),
            ye = he,
            be = new function n(l) {
                _classCallCheck(this, n), this.full = l, this.major = l.split(".")[0], this.minor = l.split(".")[1], this.patch = l.split(".").slice(2).join(".")
            }("8.2.14"),
            _e = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "supports",
                    value: function (n) {
                        return Jl(n)
                    }
                }, {
                    key: "create",
                    value: function (n) {
                        return new we(n)
                    }
                }]), n
            }(),
            ke = function (n, l) {
                return l
            },
            we = function () {
                function n(l) {
                    _classCallCheck(this, n), this.length = 0, this._linkedRecords = null, this._unlinkedRecords = null, this._previousItHead = null, this._itHead = null, this._itTail = null, this._additionsHead = null, this._additionsTail = null, this._movesHead = null, this._movesTail = null, this._removalsHead = null, this._removalsTail = null, this._identityChangesHead = null, this._identityChangesTail = null, this._trackByFn = l || ke
                }
                return _createClass(n, [{
                    key: "forEachItem",
                    value: function (n) {
                        var l;
                        for (l = this._itHead; null !== l; l = l._next) n(l)
                    }
                }, {
                    key: "forEachOperation",
                    value: function (n) {
                        for (var l = this._itHead, e = this._removalsHead, t = 0, i = null; l || e;) {
                            var u = !e || l && l.currentIndex < Ie(e, t, i) ? l : e,
                                r = Ie(u, t, i),
                                a = u.currentIndex;
                            if (u === e) t--, e = e._nextRemoved;
                            else if (l = l._next, null == u.previousIndex) t++;
                            else {
                                i || (i = []);
                                var o = r - t,
                                    s = a - t;
                                if (o != s) {
                                    for (var c = 0; c < o; c++) {
                                        var d = c < i.length ? i[c] : i[c] = 0,
                                            h = d + c;
                                        s <= h && h < o && (i[c] = d + 1)
                                    }
                                    i[u.previousIndex] = s - o
                                }
                            }
                            r !== a && n(u, r, a)
                        }
                    }
                }, {
                    key: "forEachPreviousItem",
                    value: function (n) {
                        var l;
                        for (l = this._previousItHead; null !== l; l = l._nextPrevious) n(l)
                    }
                }, {
                    key: "forEachAddedItem",
                    value: function (n) {
                        var l;
                        for (l = this._additionsHead; null !== l; l = l._nextAdded) n(l)
                    }
                }, {
                    key: "forEachMovedItem",
                    value: function (n) {
                        var l;
                        for (l = this._movesHead; null !== l; l = l._nextMoved) n(l)
                    }
                }, {
                    key: "forEachRemovedItem",
                    value: function (n) {
                        var l;
                        for (l = this._removalsHead; null !== l; l = l._nextRemoved) n(l)
                    }
                }, {
                    key: "forEachIdentityChange",
                    value: function (n) {
                        var l;
                        for (l = this._identityChangesHead; null !== l; l = l._nextIdentityChange) n(l)
                    }
                }, {
                    key: "diff",
                    value: function (n) {
                        if (null == n && (n = []), !Jl(n)) throw new Error("Error trying to diff '".concat(wn(n), "'. Only arrays and iterables are allowed"));
                        return this.check(n) ? this : null
                    }
                }, {
                    key: "onDestroy",
                    value: function () {}
                }, {
                    key: "check",
                    value: function (n) {
                        var l = this;
                        this._reset();
                        var e, t, i, u = this._itHead,
                            r = !1;
                        if (Array.isArray(n)) {
                            this.length = n.length;
                            for (var a = 0; a < this.length; a++) i = this._trackByFn(a, t = n[a]), null !== u && Ql(u.trackById, i) ? (r && (u = this._verifyReinsertion(u, t, i, a)), Ql(u.item, t) || this._addIdentityChange(u, t)) : (u = this._mismatch(u, t, i, a), r = !0), u = u._next
                        } else e = 0,
                            function (n, l) {
                                if (Array.isArray(n))
                                    for (var e = 0; e < n.length; e++) l(n[e]);
                                else
                                    for (var t, i = n[Zl()](); !(t = i.next()).done;) l(t.value)
                            }(n, (function (n) {
                                i = l._trackByFn(e, n), null !== u && Ql(u.trackById, i) ? (r && (u = l._verifyReinsertion(u, n, i, e)), Ql(u.item, n) || l._addIdentityChange(u, n)) : (u = l._mismatch(u, n, i, e), r = !0), u = u._next, e++
                            })), this.length = e;
                        return this._truncate(u), this.collection = n, this.isDirty
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        if (this.isDirty) {
                            var n, l;
                            for (n = this._previousItHead = this._itHead; null !== n; n = n._next) n._nextPrevious = n._next;
                            for (n = this._additionsHead; null !== n; n = n._nextAdded) n.previousIndex = n.currentIndex;
                            for (this._additionsHead = this._additionsTail = null, n = this._movesHead; null !== n; n = l) n.previousIndex = n.currentIndex, l = n._nextMoved;
                            this._movesHead = this._movesTail = null, this._removalsHead = this._removalsTail = null, this._identityChangesHead = this._identityChangesTail = null
                        }
                    }
                }, {
                    key: "_mismatch",
                    value: function (n, l, e, t) {
                        var i;
                        return null === n ? i = this._itTail : (i = n._prev, this._remove(n)), null !== (n = null === this._linkedRecords ? null : this._linkedRecords.get(e, t)) ? (Ql(n.item, l) || this._addIdentityChange(n, l), this._moveAfter(n, i, t)) : null !== (n = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(e, null)) ? (Ql(n.item, l) || this._addIdentityChange(n, l), this._reinsertAfter(n, i, t)) : n = this._addAfter(new xe(l, e), i, t), n
                    }
                }, {
                    key: "_verifyReinsertion",
                    value: function (n, l, e, t) {
                        var i = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(e, null);
                        return null !== i ? n = this._reinsertAfter(i, n._prev, t) : n.currentIndex != t && (n.currentIndex = t, this._addToMoves(n, t)), n
                    }
                }, {
                    key: "_truncate",
                    value: function (n) {
                        for (; null !== n;) {
                            var l = n._next;
                            this._addToRemovals(this._unlink(n)), n = l
                        }
                        null !== this._unlinkedRecords && this._unlinkedRecords.clear(), null !== this._additionsTail && (this._additionsTail._nextAdded = null), null !== this._movesTail && (this._movesTail._nextMoved = null), null !== this._itTail && (this._itTail._next = null), null !== this._removalsTail && (this._removalsTail._nextRemoved = null), null !== this._identityChangesTail && (this._identityChangesTail._nextIdentityChange = null)
                    }
                }, {
                    key: "_reinsertAfter",
                    value: function (n, l, e) {
                        null !== this._unlinkedRecords && this._unlinkedRecords.remove(n);
                        var t = n._prevRemoved,
                            i = n._nextRemoved;
                        return null === t ? this._removalsHead = i : t._nextRemoved = i, null === i ? this._removalsTail = t : i._prevRemoved = t, this._insertAfter(n, l, e), this._addToMoves(n, e), n
                    }
                }, {
                    key: "_moveAfter",
                    value: function (n, l, e) {
                        return this._unlink(n), this._insertAfter(n, l, e), this._addToMoves(n, e), n
                    }
                }, {
                    key: "_addAfter",
                    value: function (n, l, e) {
                        return this._insertAfter(n, l, e), this._additionsTail = null === this._additionsTail ? this._additionsHead = n : this._additionsTail._nextAdded = n, n
                    }
                }, {
                    key: "_insertAfter",
                    value: function (n, l, e) {
                        var t = null === l ? this._itHead : l._next;
                        return n._next = t, n._prev = l, null === t ? this._itTail = n : t._prev = n, null === l ? this._itHead = n : l._next = n, null === this._linkedRecords && (this._linkedRecords = new Se), this._linkedRecords.put(n), n.currentIndex = e, n
                    }
                }, {
                    key: "_remove",
                    value: function (n) {
                        return this._addToRemovals(this._unlink(n))
                    }
                }, {
                    key: "_unlink",
                    value: function (n) {
                        null !== this._linkedRecords && this._linkedRecords.remove(n);
                        var l = n._prev,
                            e = n._next;
                        return null === l ? this._itHead = e : l._next = e, null === e ? this._itTail = l : e._prev = l, n
                    }
                }, {
                    key: "_addToMoves",
                    value: function (n, l) {
                        return n.previousIndex === l ? n : (this._movesTail = null === this._movesTail ? this._movesHead = n : this._movesTail._nextMoved = n, n)
                    }
                }, {
                    key: "_addToRemovals",
                    value: function (n) {
                        return null === this._unlinkedRecords && (this._unlinkedRecords = new Se), this._unlinkedRecords.put(n), n.currentIndex = null, n._nextRemoved = null, null === this._removalsTail ? (this._removalsTail = this._removalsHead = n, n._prevRemoved = null) : (n._prevRemoved = this._removalsTail, this._removalsTail = this._removalsTail._nextRemoved = n), n
                    }
                }, {
                    key: "_addIdentityChange",
                    value: function (n, l) {
                        return n.item = l, this._identityChangesTail = null === this._identityChangesTail ? this._identityChangesHead = n : this._identityChangesTail._nextIdentityChange = n, n
                    }
                }, {
                    key: "isDirty",
                    get: function () {
                        return null !== this._additionsHead || null !== this._movesHead || null !== this._removalsHead || null !== this._identityChangesHead
                    }
                }]), n
            }(),
            xe = function n(l, e) {
                _classCallCheck(this, n), this.item = l, this.trackById = e, this.currentIndex = null, this.previousIndex = null, this._nextPrevious = null, this._prev = null, this._next = null, this._prevDup = null, this._nextDup = null, this._prevRemoved = null, this._nextRemoved = null, this._nextAdded = null, this._nextMoved = null, this._nextIdentityChange = null
            },
            Ce = function () {
                function n() {
                    _classCallCheck(this, n), this._head = null, this._tail = null
                }
                return _createClass(n, [{
                    key: "add",
                    value: function (n) {
                        null === this._head ? (this._head = this._tail = n, n._nextDup = null, n._prevDup = null) : (this._tail._nextDup = n, n._prevDup = this._tail, n._nextDup = null, this._tail = n)
                    }
                }, {
                    key: "get",
                    value: function (n, l) {
                        var e;
                        for (e = this._head; null !== e; e = e._nextDup)
                            if ((null === l || l <= e.currentIndex) && Ql(e.trackById, n)) return e;
                        return null
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        var l = n._prevDup,
                            e = n._nextDup;
                        return null === l ? this._head = e : l._nextDup = e, null === e ? this._tail = l : e._prevDup = l, null === this._head
                    }
                }]), n
            }(),
            Se = function () {
                function n() {
                    _classCallCheck(this, n), this.map = new Map
                }
                return _createClass(n, [{
                    key: "put",
                    value: function (n) {
                        var l = n.trackById,
                            e = this.map.get(l);
                        e || (e = new Ce, this.map.set(l, e)), e.add(n)
                    }
                }, {
                    key: "get",
                    value: function (n, l) {
                        var e = this.map.get(n);
                        return e ? e.get(n, l) : null
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        var l = n.trackById;
                        return this.map.get(l).remove(n) && this.map.delete(l), n
                    }
                }, {
                    key: "clear",
                    value: function () {
                        this.map.clear()
                    }
                }, {
                    key: "isEmpty",
                    get: function () {
                        return 0 === this.map.size
                    }
                }]), n
            }();

        function Ie(n, l, e) {
            var t = n.previousIndex;
            if (null === t) return t;
            var i = 0;
            return e && t < e.length && (i = e[t]), t + l + i
        }
        var Te = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "supports",
                    value: function (n) {
                        return n instanceof Map || ne(n)
                    }
                }, {
                    key: "create",
                    value: function () {
                        return new Ee
                    }
                }]), n
            }(),
            Ee = function () {
                function n() {
                    _classCallCheck(this, n), this._records = new Map, this._mapHead = null, this._appendAfter = null, this._previousMapHead = null, this._changesHead = null, this._changesTail = null, this._additionsHead = null, this._additionsTail = null, this._removalsHead = null, this._removalsTail = null
                }
                return _createClass(n, [{
                    key: "forEachItem",
                    value: function (n) {
                        var l;
                        for (l = this._mapHead; null !== l; l = l._next) n(l)
                    }
                }, {
                    key: "forEachPreviousItem",
                    value: function (n) {
                        var l;
                        for (l = this._previousMapHead; null !== l; l = l._nextPrevious) n(l)
                    }
                }, {
                    key: "forEachChangedItem",
                    value: function (n) {
                        var l;
                        for (l = this._changesHead; null !== l; l = l._nextChanged) n(l)
                    }
                }, {
                    key: "forEachAddedItem",
                    value: function (n) {
                        var l;
                        for (l = this._additionsHead; null !== l; l = l._nextAdded) n(l)
                    }
                }, {
                    key: "forEachRemovedItem",
                    value: function (n) {
                        var l;
                        for (l = this._removalsHead; null !== l; l = l._nextRemoved) n(l)
                    }
                }, {
                    key: "diff",
                    value: function (n) {
                        if (n) {
                            if (!(n instanceof Map || ne(n))) throw new Error("Error trying to diff '".concat(wn(n), "'. Only maps and objects are allowed"))
                        } else n = new Map;
                        return this.check(n) ? this : null
                    }
                }, {
                    key: "onDestroy",
                    value: function () {}
                }, {
                    key: "check",
                    value: function (n) {
                        var l = this;
                        this._reset();
                        var e = this._mapHead;
                        if (this._appendAfter = null, this._forEach(n, (function (n, t) {
                                if (e && e.key === t) l._maybeAddToChanges(e, n), l._appendAfter = e, e = e._next;
                                else {
                                    var i = l._getOrCreateRecordForKey(t, n);
                                    e = l._insertBeforeOrAppend(e, i)
                                }
                            })), e) {
                            e._prev && (e._prev._next = null), this._removalsHead = e;
                            for (var t = e; null !== t; t = t._nextRemoved) t === this._mapHead && (this._mapHead = null), this._records.delete(t.key), t._nextRemoved = t._next, t.previousValue = t.currentValue, t.currentValue = null, t._prev = null, t._next = null
                        }
                        return this._changesTail && (this._changesTail._nextChanged = null), this._additionsTail && (this._additionsTail._nextAdded = null), this.isDirty
                    }
                }, {
                    key: "_insertBeforeOrAppend",
                    value: function (n, l) {
                        if (n) {
                            var e = n._prev;
                            return l._next = n, l._prev = e, n._prev = l, e && (e._next = l), n === this._mapHead && (this._mapHead = l), this._appendAfter = n, n
                        }
                        return this._appendAfter ? (this._appendAfter._next = l, l._prev = this._appendAfter) : this._mapHead = l, this._appendAfter = l, null
                    }
                }, {
                    key: "_getOrCreateRecordForKey",
                    value: function (n, l) {
                        if (this._records.has(n)) {
                            var e = this._records.get(n);
                            this._maybeAddToChanges(e, l);
                            var t = e._prev,
                                i = e._next;
                            return t && (t._next = i), i && (i._prev = t), e._next = null, e._prev = null, e
                        }
                        var u = new Ae(n);
                        return this._records.set(n, u), u.currentValue = l, this._addToAdditions(u), u
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        if (this.isDirty) {
                            var n;
                            for (this._previousMapHead = this._mapHead, n = this._previousMapHead; null !== n; n = n._next) n._nextPrevious = n._next;
                            for (n = this._changesHead; null !== n; n = n._nextChanged) n.previousValue = n.currentValue;
                            for (n = this._additionsHead; null != n; n = n._nextAdded) n.previousValue = n.currentValue;
                            this._changesHead = this._changesTail = null, this._additionsHead = this._additionsTail = null, this._removalsHead = null
                        }
                    }
                }, {
                    key: "_maybeAddToChanges",
                    value: function (n, l) {
                        Ql(l, n.currentValue) || (n.previousValue = n.currentValue, n.currentValue = l, this._addToChanges(n))
                    }
                }, {
                    key: "_addToAdditions",
                    value: function (n) {
                        null === this._additionsHead ? this._additionsHead = this._additionsTail = n : (this._additionsTail._nextAdded = n, this._additionsTail = n)
                    }
                }, {
                    key: "_addToChanges",
                    value: function (n) {
                        null === this._changesHead ? this._changesHead = this._changesTail = n : (this._changesTail._nextChanged = n, this._changesTail = n)
                    }
                }, {
                    key: "_forEach",
                    value: function (n, l) {
                        n instanceof Map ? n.forEach(l) : Object.keys(n).forEach((function (e) {
                            return l(n[e], e)
                        }))
                    }
                }, {
                    key: "isDirty",
                    get: function () {
                        return null !== this._additionsHead || null !== this._changesHead || null !== this._removalsHead
                    }
                }]), n
            }(),
            Ae = function n(l) {
                _classCallCheck(this, n), this.key = l, this.previousValue = null, this.currentValue = null, this._nextPrevious = null, this._next = null, this._prev = null, this._nextAdded = null, this._nextRemoved = null, this._nextChanged = null
            },
            Pe = function () {
                var n = function () {
                    function n(l) {
                        _classCallCheck(this, n), this.factories = l
                    }
                    return _createClass(n, [{
                        key: "find",
                        value: function (n) {
                            var l, e = this.factories.find((function (l) {
                                return l.supports(n)
                            }));
                            if (null != e) return e;
                            throw new Error("Cannot find a differ supporting object '".concat(n, "' of type '").concat((l = n).name || typeof l, "'"))
                        }
                    }], [{
                        key: "create",
                        value: function (l, e) {
                            if (null != e) {
                                var t = e.factories.slice();
                                l = l.concat(t)
                            }
                            return new n(l)
                        }
                    }, {
                        key: "extend",
                        value: function (l) {
                            return {
                                provide: n,
                                useFactory: function (e) {
                                    if (!e) throw new Error("Cannot extend IterableDiffers without a parent injector");
                                    return n.create(l, e)
                                },
                                deps: [[n, new gn, new pn]]
                            }
                        }
                    }]), n
                }();
                return n.ngInjectableDef = yn({
                    token: n,
                    providedIn: "root",
                    factory: function () {
                        return new n([new _e])
                    }
                }), n
            }(),
            Oe = function () {
                var n = function () {
                    function n(l) {
                        _classCallCheck(this, n), this.factories = l
                    }
                    return _createClass(n, [{
                        key: "find",
                        value: function (n) {
                            var l = this.factories.find((function (l) {
                                return l.supports(n)
                            }));
                            if (l) return l;
                            throw new Error("Cannot find a differ supporting object '".concat(n, "'"))
                        }
                    }], [{
                        key: "create",
                        value: function (l, e) {
                            if (e) {
                                var t = e.factories.slice();
                                l = l.concat(t)
                            }
                            return new n(l)
                        }
                    }, {
                        key: "extend",
                        value: function (l) {
                            return {
                                provide: n,
                                useFactory: function (e) {
                                    if (!e) throw new Error("Cannot extend KeyValueDiffers without a parent injector");
                                    return n.create(l, e)
                                },
                                deps: [[n, new gn, new pn]]
                            }
                        }
                    }]), n
                }();
                return n.ngInjectableDef = yn({
                    token: n,
                    providedIn: "root",
                    factory: function () {
                        return new n([new Te])
                    }
                }), n
            }(),
            De = [new Te],
            Re = new Pe([new _e]),
            Me = new Oe(De),
            Ne = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.__NG_ELEMENT_ID__ = function () {
                    return Be(n, pe)
                }, n
            }(),
            Be = he,
            ze = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.__NG_ELEMENT_ID__ = function () {
                    return Le(n, pe)
                }, n
            }(),
            Le = he;

        function Fe(n, l, e, t) {
            var i = "ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(l, "'. Current value: '").concat(e, "'.");
            return t && (i += " It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),
                function (n, l) {
                    var e = new Error(n);
                    return qe(e, l), e
                }(i, n)
        }

        function qe(n, l) {
            n[Xn] = l, n[nl] = l.logError.bind(l)
        }

        function Ue(n) {
            return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(n))
        }

        function $e(n, l, e) {
            var t = n.state,
                i = 1792 & t;
            return i === l ? (n.state = -1793 & t | e, n.initIndex = -1, !0) : i === e
        }

        function He(n, l, e) {
            return (1792 & n.state) === l && n.initIndex <= e && (n.initIndex = e + 1, !0)
        }

        function Ve(n, l) {
            return n.nodes[l]
        }

        function je(n, l) {
            return n.nodes[l]
        }

        function Ge(n, l) {
            return n.nodes[l]
        }

        function We(n, l) {
            return n.nodes[l]
        }

        function Ke(n, l) {
            return n.nodes[l]
        }
        var Ze = {
                setCurrentNode: void 0,
                createRootView: void 0,
                createEmbeddedView: void 0,
                createComponentView: void 0,
                createNgModuleRef: void 0,
                overrideProvider: void 0,
                overrideComponentView: void 0,
                clearOverrides: void 0,
                checkAndUpdateView: void 0,
                checkNoChangesView: void 0,
                destroyView: void 0,
                resolveDep: void 0,
                createDebugContext: void 0,
                handleEvent: void 0,
                updateDirectives: void 0,
                updateRenderer: void 0,
                dirtyParentQueries: void 0
            },
            Qe = function () {},
            Ye = new Map;

        function Xe(n) {
            var l = Ye.get(n);
            return l || (l = wn(n) + "_" + Ye.size, Ye.set(n, l)), l
        }

        function Je(n, l, e, t) {
            if (Xl.isWrapped(t)) {
                t = Xl.unwrap(t);
                var i = n.def.nodes[l].bindingIndex + e,
                    u = Xl.unwrap(n.oldValues[i]);
                n.oldValues[i] = new Xl(u)
            }
            return t
        }
        var nt = "$$undefined",
            lt = "$$empty";

        function et(n) {
            return {
                id: nt,
                styles: n.styles,
                encapsulation: n.encapsulation,
                data: n.data
            }
        }
        var tt = 0;

        function it(n, l, e, t) {
            return !(!(2 & n.state) && Ql(n.oldValues[l.bindingIndex + e], t))
        }

        function ut(n, l, e, t) {
            return !!it(n, l, e, t) && (n.oldValues[l.bindingIndex + e] = t, !0)
        }

        function rt(n, l, e, t) {
            var i = n.oldValues[l.bindingIndex + e];
            if (1 & n.state || !Yl(i, t)) {
                var u = l.bindings[e].name;
                throw Fe(Ze.createDebugContext(n, l.nodeIndex), "".concat(u, ": ").concat(i), "".concat(u, ": ").concat(t), 0 != (1 & n.state))
            }
        }

        function at(n) {
            for (var l = n; l;) 2 & l.def.flags && (l.state |= 8), l = l.viewContainerParent || l.parent
        }

        function ot(n, l) {
            for (var e = n; e && e !== l;) e.state |= 64, e = e.viewContainerParent || e.parent
        }

        function st(n, l, e, t) {
            try {
                return at(33554432 & n.def.nodes[l].flags ? je(n, l).componentView : n), Ze.handleEvent(n, l, e, t)
            } catch (i) {
                n.root.errorHandler.handleError(i)
            }
        }

        function ct(n) {
            return n.parent ? je(n.parent, n.parentNodeDef.nodeIndex) : null
        }

        function dt(n) {
            return n.parent ? n.parentNodeDef.parent : null
        }

        function ht(n, l) {
            switch (201347067 & l.flags) {
                case 1:
                    return je(n, l.nodeIndex).renderElement;
                case 2:
                    return Ve(n, l.nodeIndex).renderText
            }
        }

        function pt(n) {
            return !!n.parent && !!(32768 & n.parentNodeDef.flags)
        }

        function ft(n) {
            return !(!n.parent || 32768 & n.parentNodeDef.flags)
        }

        function gt(n) {
            return 1 << n % 32
        }

        function vt(n) {
            var l = {},
                e = 0,
                t = {};
            return n && n.forEach((function (n) {
                var i = _slicedToArray(n, 2),
                    u = i[0],
                    r = i[1];
                "number" == typeof u ? (l[u] = r, e |= gt(u)) : t[u] = r
            })), {
                matchedQueries: l,
                references: t,
                matchedQueryIds: e
            }
        }

        function mt(n, l) {
            return n.map((function (n) {
                var e, t, i;
                return Array.isArray(n) ? (i = (e = _slicedToArray(n, 2))[0], t = e[1]) : (i = 0, t = n), t && ("function" == typeof t || "object" == typeof t) && l && Object.defineProperty(t, zn, {
                    value: l,
                    configurable: !0
                }), {
                    flags: i,
                    token: t,
                    tokenKey: Xe(t)
                }
            }))
        }

        function yt(n, l, e) {
            var t = e.renderParent;
            return t ? 0 == (1 & t.flags) || 0 == (33554432 & t.flags) || t.element.componentRendererType && t.element.componentRendererType.encapsulation === Qn.Native ? je(n, e.renderParent.nodeIndex).renderElement : void 0 : l
        }
        var bt = new WeakMap;

        function _t(n) {
            var l = bt.get(n);
            return l || ((l = n((function () {
                return Qe
            }))).factory = n, bt.set(n, l)), l
        }

        function kt(n, l, e, t, i) {
            3 === l && (e = n.renderer.parentNode(ht(n, n.def.lastRenderRootNode))), wt(n, l, 0, n.def.nodes.length - 1, e, t, i)
        }

        function wt(n, l, e, t, i, u, r) {
            for (var a = e; a <= t; a++) {
                var o = n.def.nodes[a];
                11 & o.flags && Ct(n, o, l, i, u, r), a += o.childCount
            }
        }

        function xt(n, l, e, t, i, u) {
            for (var r = n; r && !pt(r);) r = r.parent;
            for (var a = r.parent, o = dt(r), s = o.nodeIndex + o.childCount, c = o.nodeIndex + 1; c <= s; c++) {
                var d = a.def.nodes[c];
                d.ngContentIndex === l && Ct(a, d, e, t, i, u), c += d.childCount
            }
            if (!a.parent) {
                var h = n.root.projectableNodes[l];
                if (h)
                    for (var p = 0; p < h.length; p++) St(n, h[p], e, t, i, u)
            }
        }

        function Ct(n, l, e, t, i, u) {
            if (8 & l.flags) xt(n, l.ngContent.index, e, t, i, u);
            else {
                var r = ht(n, l);
                if (3 === e && 33554432 & l.flags && 48 & l.bindingFlags ? (16 & l.bindingFlags && St(n, r, e, t, i, u), 32 & l.bindingFlags && St(je(n, l.nodeIndex).componentView, r, e, t, i, u)) : St(n, r, e, t, i, u), 16777216 & l.flags)
                    for (var a = je(n, l.nodeIndex).viewContainer._embeddedViews, o = 0; o < a.length; o++) kt(a[o], e, t, i, u);
                1 & l.flags && !l.element.name && wt(n, e, l.nodeIndex + 1, l.nodeIndex + l.childCount, t, i, u)
            }
        }

        function St(n, l, e, t, i, u) {
            var r = n.renderer;
            switch (e) {
                case 1:
                    r.appendChild(t, l);
                    break;
                case 2:
                    r.insertBefore(t, l, i);
                    break;
                case 3:
                    r.removeChild(t, l);
                    break;
                case 0:
                    u.push(l)
            }
        }
        var It = /^:([^:]+):(.+)$/;

        function Tt(n) {
            if (":" === n[0]) {
                var l = n.match(It);
                return [l[1], l[2]]
            }
            return ["", n]
        }

        function Et(n) {
            for (var l = 0, e = 0; e < n.length; e++) l |= n[e].flags;
            return l
        }

        function At(n, l, e, t, i, u, r, a, o, s, c, d, h, p, f, g, v, m, y, b) {
            switch (n) {
                case 1:
                    return l + Pt(e) + t;
                case 2:
                    return l + Pt(e) + t + Pt(i) + u;
                case 3:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a;
                case 4:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s;
                case 5:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s + Pt(c) + d;
                case 6:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s + Pt(c) + d + Pt(h) + p;
                case 7:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s + Pt(c) + d + Pt(h) + p + Pt(f) + g;
                case 8:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s + Pt(c) + d + Pt(h) + p + Pt(f) + g + Pt(v) + m;
                case 9:
                    return l + Pt(e) + t + Pt(i) + u + Pt(r) + a + Pt(o) + s + Pt(c) + d + Pt(h) + p + Pt(f) + g + Pt(v) + m + Pt(y) + b;
                default:
                    throw new Error("Does not support more than 9 expressions")
            }
        }

        function Pt(n) {
            return null != n ? n.toString() : ""
        }
        var Ot = new Object,
            Dt = Xe(Fl),
            Rt = Xe(Rn),
            Mt = Xe(Gn);

        function Nt(n, l, e, t) {
            return e = Sn(e), {
                index: -1,
                deps: mt(t, wn(l)),
                flags: n,
                token: l,
                value: e
            }
        }

        function Bt(n, l) {
            var e, t, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Fl.THROW_IF_NOT_FOUND,
                u = qn(n);
            try {
                if (8 & l.flags) return l.token;
                if (2 & l.flags && (i = null), 1 & l.flags) return n._parent.get(l.token, i);
                var r = l.tokenKey;
                switch (r) {
                    case Dt:
                    case Rt:
                    case Mt:
                        return n
                }
                var a, o = n._def.providersByKey[r];
                if (o) {
                    var s = n._providers[o.index];
                    return void 0 === s && (s = n._providers[o.index] = zt(n, o)), s === Ot ? void 0 : s
                }
                if ((a = _n(l.token)) && (e = n, null != (t = a).providedIn && (function (n, l) {
                        return n._def.modules.indexOf(l) > -1
                    }(e, t.providedIn) || "root" === t.providedIn && e._def.isRoot))) {
                    var c = n._providers.length;
                    return n._def.providers[c] = n._def.providersByKey[l.tokenKey] = {
                        flags: 5120,
                        value: a.factory,
                        deps: [],
                        index: c,
                        token: l.token
                    }, n._providers[c] = Ot, n._providers[c] = zt(n, n._def.providersByKey[l.tokenKey])
                }
                return 4 & l.flags ? i : n._parent.get(l.token, i)
            } finally {
                qn(u)
            }
        }

        function zt(n, l) {
            var e;
            switch (201347067 & l.flags) {
                case 512:
                    e = function (n, l, e) {
                        var t = e.length;
                        switch (t) {
                            case 0:
                                return new l;
                            case 1:
                                return new l(Bt(n, e[0]));
                            case 2:
                                return new l(Bt(n, e[0]), Bt(n, e[1]));
                            case 3:
                                return new l(Bt(n, e[0]), Bt(n, e[1]), Bt(n, e[2]));
                            default:
                                for (var i = new Array(t), u = 0; u < t; u++) i[u] = Bt(n, e[u]);
                                return _construct(l, i)
                        }
                    }(n, l.value, l.deps);
                    break;
                case 1024:
                    e = function (n, l, e) {
                        var t = e.length;
                        switch (t) {
                            case 0:
                                return l();
                            case 1:
                                return l(Bt(n, e[0]));
                            case 2:
                                return l(Bt(n, e[0]), Bt(n, e[1]));
                            case 3:
                                return l(Bt(n, e[0]), Bt(n, e[1]), Bt(n, e[2]));
                            default:
                                for (var i = Array(t), u = 0; u < t; u++) i[u] = Bt(n, e[u]);
                                return l.apply(void 0, i)
                        }
                    }(n, l.value, l.deps);
                    break;
                case 2048:
                    e = Bt(n, l.deps[0]);
                    break;
                case 256:
                    e = l.value
            }
            return e === Ot || null === e || "object" != typeof e || 131072 & l.flags || "function" != typeof e.ngOnDestroy || (l.flags |= 131072), void 0 === e ? Ot : e
        }

        function Lt(n, l) {
            var e = n.viewContainer._embeddedViews;
            if ((null == l || l >= e.length) && (l = e.length - 1), l < 0) return null;
            var t = e[l];
            return t.viewContainerParent = null, Zn(e, l), Ze.dirtyParentQueries(t), qt(t), t
        }

        function Ft(n, l, e) {
            var t = l ? ht(l, l.def.lastRenderRootNode) : n.renderElement,
                i = e.renderer.parentNode(t),
                u = e.renderer.nextSibling(t);
            kt(e, 2, i, u, void 0)
        }

        function qt(n) {
            kt(n, 3, null, null, void 0)
        }
        var Ut = new Object;

        function $t(n, l, e, t, i, u) {
            return new Ht(n, l, e, t, i, u)
        }
        var Ht = function (n) {
                function l(n, e, t, i, u, r) {
                    var a;
                    return _classCallCheck(this, l), (a = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).selector = n, a.componentType = e, a._inputs = i, a._outputs = u, a.ngContentSelectors = r, a.viewDefFactory = t, a
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "create",
                    value: function (n, l, e, t) {
                        if (!t) throw new Error("ngModule should be provided");
                        var i = _t(this.viewDefFactory),
                            u = i.nodes[0].element.componentProvider.nodeIndex,
                            r = Ze.createRootView(n, l || [], e, i, t, Ut),
                            a = Ge(r, u).instance;
                        return e && r.renderer.setAttribute(je(r, 0).renderElement, "ng-version", be.full), new Vt(r, new Kt(r), a)
                    }
                }, {
                    key: "inputs",
                    get: function () {
                        var n = [],
                            l = this._inputs;
                        for (var e in l) n.push({
                            propName: e,
                            templateName: l[e]
                        });
                        return n
                    }
                }, {
                    key: "outputs",
                    get: function () {
                        var n = [];
                        for (var l in this._outputs) n.push({
                            propName: l,
                            templateName: this._outputs[l]
                        });
                        return n
                    }
                }]), l
            }(ue),
            Vt = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._view = n, i._viewRef = e, i._component = t, i._elDef = i._view.def.nodes[0], i.hostView = e, i.changeDetectorRef = e, i.instance = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "destroy",
                    value: function () {
                        this._viewRef.destroy()
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._viewRef.onDestroy(n)
                    }
                }, {
                    key: "location",
                    get: function () {
                        return new pe(je(this._view, this._elDef.nodeIndex).renderElement)
                    }
                }, {
                    key: "injector",
                    get: function () {
                        return new Xt(this._view, this._elDef)
                    }
                }, {
                    key: "componentType",
                    get: function () {
                        return this._component.constructor
                    }
                }]), l
            }(ie);

        function jt(n, l, e) {
            return new Gt(n, l, e)
        }
        var Gt = function () {
            function n(l, e, t) {
                _classCallCheck(this, n), this._view = l, this._elDef = e, this._data = t, this._embeddedViews = []
            }
            return _createClass(n, [{
                key: "clear",
                value: function () {
                    for (var n = this._embeddedViews.length - 1; n >= 0; n--) {
                        var l = Lt(this._data, n);
                        Ze.destroyView(l)
                    }
                }
            }, {
                key: "get",
                value: function (n) {
                    var l = this._embeddedViews[n];
                    if (l) {
                        var e = new Kt(l);
                        return e.attachToViewContainerRef(this), e
                    }
                    return null
                }
            }, {
                key: "createEmbeddedView",
                value: function (n, l, e) {
                    var t = n.createEmbeddedView(l || {});
                    return this.insert(t, e), t
                }
            }, {
                key: "createComponent",
                value: function (n, l, e, t, i) {
                    var u = e || this.parentInjector;
                    i || n instanceof de || (i = u.get(Gn));
                    var r = n.create(u, t, void 0, i);
                    return this.insert(r.hostView, l), r
                }
            }, {
                key: "insert",
                value: function (n, l) {
                    if (n.destroyed) throw new Error("Cannot insert a destroyed View in a ViewContainer!");
                    var e, t, i, u, r, a = n;
                    return e = this._view, t = this._data, i = l, u = a._view, r = t.viewContainer._embeddedViews, null == i && (i = r.length), u.viewContainerParent = e, Kn(r, i, u),
                        function (n, l) {
                            var e = ct(l);
                            if (e && e !== n && !(16 & l.state)) {
                                l.state |= 16;
                                var t = e.template._projectedViews;
                                t || (t = e.template._projectedViews = []), t.push(l),
                                    function (n, l) {
                                        if (!(4 & l.flags)) {
                                            n.nodeFlags |= 4, l.flags |= 4;
                                            for (var e = l.parent; e;) e.childFlags |= 4, e = e.parent
                                        }
                                    }(l.parent.def, l.parentNodeDef)
                            }
                        }(t, u), Ze.dirtyParentQueries(u), Ft(t, i > 0 ? r[i - 1] : null, u), a.attachToViewContainerRef(this), n
                }
            }, {
                key: "move",
                value: function (n, l) {
                    if (n.destroyed) throw new Error("Cannot move a destroyed View in a ViewContainer!");
                    var e, t, i, u, r, a = this._embeddedViews.indexOf(n._view);
                    return e = this._data, t = a, i = l, u = e.viewContainer._embeddedViews, r = u[t], Zn(u, t), null == i && (i = u.length), Kn(u, i, r), Ze.dirtyParentQueries(r), qt(r), Ft(e, i > 0 ? u[i - 1] : null, r), n
                }
            }, {
                key: "indexOf",
                value: function (n) {
                    return this._embeddedViews.indexOf(n._view)
                }
            }, {
                key: "remove",
                value: function (n) {
                    var l = Lt(this._data, n);
                    l && Ze.destroyView(l)
                }
            }, {
                key: "detach",
                value: function (n) {
                    var l = Lt(this._data, n);
                    return l ? new Kt(l) : null
                }
            }, {
                key: "element",
                get: function () {
                    return new pe(this._data.renderElement)
                }
            }, {
                key: "injector",
                get: function () {
                    return new Xt(this._view, this._elDef)
                }
            }, {
                key: "parentInjector",
                get: function () {
                    for (var n = this._view, l = this._elDef.parent; !l && n;) l = dt(n), n = n.parent;
                    return n ? new Xt(n, l) : new Xt(this._view, null)
                }
            }, {
                key: "length",
                get: function () {
                    return this._embeddedViews.length
                }
            }]), n
        }();

        function Wt(n) {
            return new Kt(n)
        }
        var Kt = function () {
            function n(l) {
                _classCallCheck(this, n), this._view = l, this._viewContainerRef = null, this._appRef = null
            }
            return _createClass(n, [{
                key: "markForCheck",
                value: function () {
                    at(this._view)
                }
            }, {
                key: "detach",
                value: function () {
                    this._view.state &= -5
                }
            }, {
                key: "detectChanges",
                value: function () {
                    var n = this._view.root.rendererFactory;
                    n.begin && n.begin();
                    try {
                        Ze.checkAndUpdateView(this._view)
                    } finally {
                        n.end && n.end()
                    }
                }
            }, {
                key: "checkNoChanges",
                value: function () {
                    Ze.checkNoChangesView(this._view)
                }
            }, {
                key: "reattach",
                value: function () {
                    this._view.state |= 4
                }
            }, {
                key: "onDestroy",
                value: function (n) {
                    this._view.disposables || (this._view.disposables = []), this._view.disposables.push(n)
                }
            }, {
                key: "destroy",
                value: function () {
                    this._appRef ? this._appRef.detachView(this) : this._viewContainerRef && this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)), Ze.destroyView(this._view)
                }
            }, {
                key: "detachFromAppRef",
                value: function () {
                    this._appRef = null, qt(this._view), Ze.dirtyParentQueries(this._view)
                }
            }, {
                key: "attachToAppRef",
                value: function (n) {
                    if (this._viewContainerRef) throw new Error("This view is already attached to a ViewContainer!");
                    this._appRef = n
                }
            }, {
                key: "attachToViewContainerRef",
                value: function (n) {
                    if (this._appRef) throw new Error("This view is already attached directly to the ApplicationRef!");
                    this._viewContainerRef = n
                }
            }, {
                key: "rootNodes",
                get: function () {
                    return kt(this._view, 0, void 0, void 0, n = []), n;
                    var n
                }
            }, {
                key: "context",
                get: function () {
                    return this._view.context
                }
            }, {
                key: "destroyed",
                get: function () {
                    return 0 != (128 & this._view.state)
                }
            }]), n
        }();

        function Zt(n, l) {
            return new Qt(n, l)
        }
        var Qt = function (n) {
            function l(n, e) {
                var t;
                return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._parentView = n, t._def = e, t
            }
            return _inherits(l, n), _createClass(l, [{
                key: "createEmbeddedView",
                value: function (n) {
                    return new Kt(Ze.createEmbeddedView(this._parentView, this._def, this._def.element.template, n))
                }
            }, {
                key: "elementRef",
                get: function () {
                    return new pe(je(this._parentView, this._def.nodeIndex).renderElement)
                }
            }]), l
        }(Ne);

        function Yt(n, l) {
            return new Xt(n, l)
        }
        var Xt = function () {
            function n(l, e) {
                _classCallCheck(this, n), this.view = l, this.elDef = e
            }
            return _createClass(n, [{
                key: "get",
                value: function (n) {
                    var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Fl.THROW_IF_NOT_FOUND;
                    return Ze.resolveDep(this.view, this.elDef, !!this.elDef && 0 != (33554432 & this.elDef.flags), {
                        flags: 0,
                        token: n,
                        tokenKey: Xe(n)
                    }, l)
                }
            }]), n
        }();

        function Jt(n, l) {
            var e = n.def.nodes[l];
            if (1 & e.flags) {
                var t = je(n, e.nodeIndex);
                return e.element.template ? t.template : t.renderElement
            }
            if (2 & e.flags) return Ve(n, e.nodeIndex).renderText;
            if (20240 & e.flags) return Ge(n, e.nodeIndex).instance;
            throw new Error("Illegal state: read nodeValue for node index ".concat(l))
        }

        function ni(n) {
            return new li(n.renderer)
        }
        var li = function () {
            function n(l) {
                _classCallCheck(this, n), this.delegate = l
            }
            return _createClass(n, [{
                key: "selectRootElement",
                value: function (n) {
                    return this.delegate.selectRootElement(n)
                }
            }, {
                key: "createElement",
                value: function (n, l) {
                    var e = _slicedToArray(Tt(l), 2),
                        t = e[0],
                        i = e[1],
                        u = this.delegate.createElement(i, t);
                    return n && this.delegate.appendChild(n, u), u
                }
            }, {
                key: "createViewRoot",
                value: function (n) {
                    return n
                }
            }, {
                key: "createTemplateAnchor",
                value: function (n) {
                    var l = this.delegate.createComment("");
                    return n && this.delegate.appendChild(n, l), l
                }
            }, {
                key: "createText",
                value: function (n, l) {
                    var e = this.delegate.createText(l);
                    return n && this.delegate.appendChild(n, e), e
                }
            }, {
                key: "projectNodes",
                value: function (n, l) {
                    for (var e = 0; e < l.length; e++) this.delegate.appendChild(n, l[e])
                }
            }, {
                key: "attachViewAfter",
                value: function (n, l) {
                    for (var e = this.delegate.parentNode(n), t = this.delegate.nextSibling(n), i = 0; i < l.length; i++) this.delegate.insertBefore(e, l[i], t)
                }
            }, {
                key: "detachView",
                value: function (n) {
                    for (var l = 0; l < n.length; l++) {
                        var e = n[l],
                            t = this.delegate.parentNode(e);
                        this.delegate.removeChild(t, e)
                    }
                }
            }, {
                key: "destroyView",
                value: function (n, l) {
                    for (var e = 0; e < l.length; e++) this.delegate.destroyNode(l[e])
                }
            }, {
                key: "listen",
                value: function (n, l, e) {
                    return this.delegate.listen(n, l, e)
                }
            }, {
                key: "listenGlobal",
                value: function (n, l, e) {
                    return this.delegate.listen(n, l, e)
                }
            }, {
                key: "setElementProperty",
                value: function (n, l, e) {
                    this.delegate.setProperty(n, l, e)
                }
            }, {
                key: "setElementAttribute",
                value: function (n, l, e) {
                    var t = _slicedToArray(Tt(l), 2),
                        i = t[0],
                        u = t[1];
                    null != e ? this.delegate.setAttribute(n, u, e, i) : this.delegate.removeAttribute(n, u, i)
                }
            }, {
                key: "setBindingDebugInfo",
                value: function (n, l, e) {}
            }, {
                key: "setElementClass",
                value: function (n, l, e) {
                    e ? this.delegate.addClass(n, l) : this.delegate.removeClass(n, l)
                }
            }, {
                key: "setElementStyle",
                value: function (n, l, e) {
                    null != e ? this.delegate.setStyle(n, l, e) : this.delegate.removeStyle(n, l)
                }
            }, {
                key: "invokeElementMethod",
                value: function (n, l, e) {
                    n[l].apply(n, e)
                }
            }, {
                key: "setText",
                value: function (n, l) {
                    this.delegate.setValue(n, l)
                }
            }, {
                key: "animate",
                value: function () {
                    throw new Error("Renderer.animate is no longer supported!")
                }
            }]), n
        }();

        function ei(n, l, e, t) {
            return new ti(n, l, e, t)
        }
        var ti = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this._moduleType = l, this._parent = e, this._bootstrapComponents = t, this._def = i, this._destroyListeners = [], this._destroyed = !1, this.injector = this,
                        function (n) {
                            for (var l = n._def, e = n._providers = new Array(l.providers.length), t = 0; t < l.providers.length; t++) {
                                var i = l.providers[t];
                                4096 & i.flags || void 0 === e[t] && (e[t] = zt(n, i))
                            }
                        }(this)
                }
                return _createClass(n, [{
                    key: "get",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Fl.THROW_IF_NOT_FOUND,
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : vn.Default,
                            t = 0;
                        return e & vn.SkipSelf ? t |= 1 : e & vn.Self && (t |= 4), Bt(this, {
                            token: n,
                            tokenKey: Xe(n),
                            flags: t
                        }, l)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        if (this._destroyed) throw new Error("The ng module ".concat(wn(this.instance.constructor), " has already been destroyed."));
                        this._destroyed = !0,
                            function (n, l) {
                                for (var e = n._def, t = new Set, i = 0; i < e.providers.length; i++)
                                    if (131072 & e.providers[i].flags) {
                                        var u = n._providers[i];
                                        if (u && u !== Ot) {
                                            var r = u.ngOnDestroy;
                                            "function" != typeof r || t.has(u) || (r.apply(u), t.add(u))
                                        }
                                    }
                            }(this), this._destroyListeners.forEach((function (n) {
                                return n()
                            }))
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._destroyListeners.push(n)
                    }
                }, {
                    key: "instance",
                    get: function () {
                        return this.get(this._moduleType)
                    }
                }, {
                    key: "componentFactoryResolver",
                    get: function () {
                        return this.get(se)
                    }
                }]), n
            }(),
            ii = Xe((function n() {
                _classCallCheck(this, n)
            })),
            ui = Xe(me),
            ri = Xe(pe),
            ai = Xe(ze),
            oi = Xe(Ne),
            si = Xe(Nl),
            ci = Xe(Fl),
            di = Xe(Rn);

        function hi(n, l, e, t, i, u, r, a) {
            var o = [];
            if (r)
                for (var s in r) {
                    var c = _slicedToArray(r[s], 2),
                        d = c[0],
                        h = c[1];
                    o[d] = {
                        flags: 8,
                        name: s,
                        nonMinifiedName: h,
                        ns: null,
                        securityContext: null,
                        suffix: null
                    }
                }
            var p = [];
            if (a)
                for (var f in a) p.push({
                    type: 1,
                    propName: f,
                    target: null,
                    eventName: a[f]
                });
            return gi(n, l |= 16384, e, t, i, i, u, o, p)
        }

        function pi(n, l, e) {
            return gi(-1, n |= 16, null, 0, l, l, e)
        }

        function fi(n, l, e, t, i) {
            return gi(-1, n, l, 0, e, t, i)
        }

        function gi(n, l, e, t, i, u, r, a, o) {
            var s = vt(e),
                c = s.matchedQueries,
                d = s.references,
                h = s.matchedQueryIds;
            o || (o = []), a || (a = []), u = Sn(u);
            var p = mt(r, wn(i));
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: n,
                flags: l,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: c,
                matchedQueryIds: h,
                references: d,
                ngContentIndex: -1,
                childCount: t,
                bindings: a,
                bindingFlags: Et(a),
                outputs: o,
                element: null,
                provider: {
                    token: i,
                    value: u,
                    deps: p
                },
                text: null,
                query: null,
                ngContent: null
            }
        }

        function vi(n, l) {
            return _i(n, l)
        }

        function mi(n, l) {
            for (var e = n; e.parent && !pt(e);) e = e.parent;
            return ki(e.parent, dt(e), !0, l.provider.value, l.provider.deps)
        }

        function yi(n, l) {
            var e = ki(n, l.parent, (32768 & l.flags) > 0, l.provider.value, l.provider.deps);
            if (l.outputs.length)
                for (var t = 0; t < l.outputs.length; t++) {
                    var i = l.outputs[t],
                        u = e[i.propName];
                    if (!ee(u)) throw new Error("@Output ".concat(i.propName, " not initialized in '").concat(e.constructor.name, "'."));
                    var r = u.subscribe(bi(n, l.parent.nodeIndex, i.eventName));
                    n.disposables[l.outputIndex + t] = r.unsubscribe.bind(r)
                }
            return e
        }

        function bi(n, l, e) {
            return function (t) {
                return st(n, l, e, t)
            }
        }

        function _i(n, l) {
            var e = (8192 & l.flags) > 0,
                t = l.provider;
            switch (201347067 & l.flags) {
                case 512:
                    return ki(n, l.parent, e, t.value, t.deps);
                case 1024:
                    return function (n, l, e, t, i) {
                        var u = i.length;
                        switch (u) {
                            case 0:
                                return t();
                            case 1:
                                return t(xi(n, l, e, i[0]));
                            case 2:
                                return t(xi(n, l, e, i[0]), xi(n, l, e, i[1]));
                            case 3:
                                return t(xi(n, l, e, i[0]), xi(n, l, e, i[1]), xi(n, l, e, i[2]));
                            default:
                                for (var r = Array(u), a = 0; a < u; a++) r[a] = xi(n, l, e, i[a]);
                                return t.apply(void 0, r)
                        }
                    }(n, l.parent, e, t.value, t.deps);
                case 2048:
                    return xi(n, l.parent, e, t.deps[0]);
                case 256:
                    return t.value
            }
        }

        function ki(n, l, e, t, i) {
            var u = i.length;
            switch (u) {
                case 0:
                    return new t;
                case 1:
                    return new t(xi(n, l, e, i[0]));
                case 2:
                    return new t(xi(n, l, e, i[0]), xi(n, l, e, i[1]));
                case 3:
                    return new t(xi(n, l, e, i[0]), xi(n, l, e, i[1]), xi(n, l, e, i[2]));
                default:
                    for (var r = new Array(u), a = 0; a < u; a++) r[a] = xi(n, l, e, i[a]);
                    return _construct(t, r)
            }
        }
        var wi = {};

        function xi(n, l, e, t) {
            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : Fl.THROW_IF_NOT_FOUND;
            if (8 & t.flags) return t.token;
            var u = n;
            2 & t.flags && (i = null);
            var r = t.tokenKey;
            r === si && (e = !(!l || !l.element.componentView)), l && 1 & t.flags && (e = !1, l = l.parent);
            for (var a = n; a;) {
                if (l) switch (r) {
                    case ii:
                        return ni(Ci(a, l, e));
                    case ui:
                        return Ci(a, l, e).renderer;
                    case ri:
                        return new pe(je(a, l.nodeIndex).renderElement);
                    case ai:
                        return je(a, l.nodeIndex).viewContainer;
                    case oi:
                        if (l.element.template) return je(a, l.nodeIndex).template;
                        break;
                    case si:
                        return Wt(Ci(a, l, e));
                    case ci:
                    case di:
                        return Yt(a, l);
                    default:
                        var o = (e ? l.element.allProviders : l.element.publicProviders)[r];
                        if (o) {
                            var s = Ge(a, o.nodeIndex);
                            return s || (s = {
                                instance: _i(a, o)
                            }, a.nodes[o.nodeIndex] = s), s.instance
                        }
                }
                e = pt(a), l = dt(a), a = a.parent, 4 & t.flags && (a = null)
            }
            var c = u.root.injector.get(t.token, wi);
            return c !== wi || i === wi ? c : u.root.ngModule.injector.get(t.token, i)
        }

        function Ci(n, l, e) {
            var t;
            if (e) t = je(n, l.nodeIndex).componentView;
            else
                for (t = n; t.parent && !pt(t);) t = t.parent;
            return t
        }

        function Si(n, l, e, t, i, u) {
            if (32768 & e.flags) {
                var r = je(n, e.parent.nodeIndex).componentView;
                2 & r.def.flags && (r.state |= 8)
            }
            if (l.instance[e.bindings[t].name] = i, 524288 & e.flags) {
                u = u || {};
                var a = Xl.unwrap(n.oldValues[e.bindingIndex + t]);
                u[e.bindings[t].nonMinifiedName] = new te(a, i, 0 != (2 & n.state))
            }
            return n.oldValues[e.bindingIndex + t] = i, u
        }

        function Ii(n, l) {
            if (n.def.nodeFlags & l)
                for (var e = n.def.nodes, t = 0, i = 0; i < e.length; i++) {
                    var u = e[i],
                        r = u.parent;
                    for (!r && u.flags & l && Ei(n, i, u.flags & l, t++), 0 == (u.childFlags & l) && (i += u.childCount); r && 1 & r.flags && i === r.nodeIndex + r.childCount;) r.directChildFlags & l && (t = Ti(n, r, l, t)), r = r.parent
                }
        }

        function Ti(n, l, e, t) {
            for (var i = l.nodeIndex + 1; i <= l.nodeIndex + l.childCount; i++) {
                var u = n.def.nodes[i];
                u.flags & e && Ei(n, i, u.flags & e, t++), i += u.childCount
            }
            return t
        }

        function Ei(n, l, e, t) {
            var i = Ge(n, l);
            if (i) {
                var u = i.instance;
                u && (Ze.setCurrentNode(n, l), 1048576 & e && He(n, 512, t) && u.ngAfterContentInit(), 2097152 & e && u.ngAfterContentChecked(), 4194304 & e && He(n, 768, t) && u.ngAfterViewInit(), 8388608 & e && u.ngAfterViewChecked(), 131072 & e && u.ngOnDestroy())
            }
        }
        var Ai = new Dn("SCHEDULER_TOKEN", {
                providedIn: "root",
                factory: function () {
                    return Yn
                }
            }),
            Pi = {},
            Oi = function () {
                var n = {
                    LocaleId: 0,
                    DayPeriodsFormat: 1,
                    DayPeriodsStandalone: 2,
                    DaysFormat: 3,
                    DaysStandalone: 4,
                    MonthsFormat: 5,
                    MonthsStandalone: 6,
                    Eras: 7,
                    FirstDayOfWeek: 8,
                    WeekendRange: 9,
                    DateFormat: 10,
                    TimeFormat: 11,
                    DateTimeFormat: 12,
                    NumberSymbols: 13,
                    NumberFormats: 14,
                    CurrencySymbol: 15,
                    CurrencyName: 16,
                    Currencies: 17,
                    PluralCase: 18,
                    ExtraData: 19
                };
                return n[n.LocaleId] = "LocaleId", n[n.DayPeriodsFormat] = "DayPeriodsFormat", n[n.DayPeriodsStandalone] = "DayPeriodsStandalone", n[n.DaysFormat] = "DaysFormat", n[n.DaysStandalone] = "DaysStandalone", n[n.MonthsFormat] = "MonthsFormat", n[n.MonthsStandalone] = "MonthsStandalone", n[n.Eras] = "Eras", n[n.FirstDayOfWeek] = "FirstDayOfWeek", n[n.WeekendRange] = "WeekendRange", n[n.DateFormat] = "DateFormat", n[n.TimeFormat] = "TimeFormat", n[n.DateTimeFormat] = "DateTimeFormat", n[n.NumberSymbols] = "NumberSymbols", n[n.NumberFormats] = "NumberFormats", n[n.CurrencySymbol] = "CurrencySymbol", n[n.CurrencyName] = "CurrencyName", n[n.Currencies] = "Currencies", n[n.PluralCase] = "PluralCase", n[n.ExtraData] = "ExtraData", n
            }(),
            Di = void 0,
            Ri = ["en", [["a", "p"], ["AM", "PM"], Di], [["AM", "PM"], Di, Di], [["S", "M", "T", "W", "T", "F", "S"], ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]], Di, [["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"], ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]], Di, [["B", "A"], ["BC", "AD"], ["Before Christ", "Anno Domini"]], 0, [6, 0], ["M/d/yy", "MMM d, y", "MMMM d, y", "EEEE, MMMM d, y"], ["h:mm a", "h:mm:ss a", "h:mm:ss a z", "h:mm:ss a zzzz"], ["{1}, {0}", Di, "{1} 'at' {0}", Di], [".", ",", ";", "%", "+", "-", "E", "\xd7", "\u2030", "\u221e", "NaN", ":"], ["#,##0.###", "#,##0%", "\xa4#,##0.00", "#E0"], "$", "US Dollar", {}, function (n) {
                var l = Math.floor(Math.abs(n)),
                    e = n.toString().replace(/^[^.]*\.?/, "").length;
                return 1 === l && 0 === e ? 1 : 5
            }];

        function Mi(n) {
            var l = n.toLowerCase().replace(/_/g, "-"),
                e = Pi[l];
            if (e) return e;
            var t = l.split("-")[0];
            if (e = Pi[t]) return e;
            if ("en" === t) return Ri;
            throw new Error('Missing locale data for the locale "'.concat(n, '".'))
        }
        var Ni = "en-US";

        function Bi(n) {
            null == n && function (n) {
                throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"))
            }(), "string" == typeof n && n.toLowerCase().replace(/_/g, "-")
        }
        var zi = function (n) {
            function l() {
                var n, e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).__isAsync = e, n
            }
            return _inherits(l, n), _createClass(l, [{
                key: "emit",
                value: function (n) {
                    _get(_getPrototypeOf(l.prototype), "next", this).call(this, n)
                }
            }, {
                key: "subscribe",
                value: function (n, e, t) {
                    var i, u = function (n) {
                            return null
                        },
                        r = function () {
                            return null
                        };
                    n && "object" == typeof n ? (i = this.__isAsync ? function (l) {
                        setTimeout((function () {
                            return n.next(l)
                        }))
                    } : function (l) {
                        n.next(l)
                    }, n.error && (u = this.__isAsync ? function (l) {
                        setTimeout((function () {
                            return n.error(l)
                        }))
                    } : function (l) {
                        n.error(l)
                    }), n.complete && (r = this.__isAsync ? function () {
                        setTimeout((function () {
                            return n.complete()
                        }))
                    } : function () {
                        n.complete()
                    })) : (i = this.__isAsync ? function (l) {
                        setTimeout((function () {
                            return n(l)
                        }))
                    } : function (l) {
                        n(l)
                    }, e && (u = this.__isAsync ? function (n) {
                        setTimeout((function () {
                            return e(n)
                        }))
                    } : function (n) {
                        e(n)
                    }), t && (r = this.__isAsync ? function () {
                        setTimeout((function () {
                            return t()
                        }))
                    } : function () {
                        t()
                    }));
                    var a = _get(_getPrototypeOf(l.prototype), "subscribe", this).call(this, i, u, r);
                    return n instanceof p && n.add(a), a
                }
            }]), l
        }(P);

        function Li() {
            return this._results[Zl()]()
        }
        var Fi = function () {
                function n() {
                    _classCallCheck(this, n), this.dirty = !0, this._results = [], this.changes = new zi, this.length = 0;
                    var l = Zl(),
                        e = n.prototype;
                    e[l] || (e[l] = Li)
                }
                return _createClass(n, [{
                    key: "map",
                    value: function (n) {
                        return this._results.map(n)
                    }
                }, {
                    key: "filter",
                    value: function (n) {
                        return this._results.filter(n)
                    }
                }, {
                    key: "find",
                    value: function (n) {
                        return this._results.find(n)
                    }
                }, {
                    key: "reduce",
                    value: function (n, l) {
                        return this._results.reduce(n, l)
                    }
                }, {
                    key: "forEach",
                    value: function (n) {
                        this._results.forEach(n)
                    }
                }, {
                    key: "some",
                    value: function (n) {
                        return this._results.some(n)
                    }
                }, {
                    key: "toArray",
                    value: function () {
                        return this._results.slice()
                    }
                }, {
                    key: "toString",
                    value: function () {
                        return this._results.toString()
                    }
                }, {
                    key: "reset",
                    value: function (n) {
                        this._results = function n(l, e) {
                            void 0 === e && (e = l);
                            for (var t = 0; t < l.length; t++) {
                                var i = l[t];
                                Array.isArray(i) ? (e === l && (e = l.slice(0, t)), n(i, e)) : e !== l && e.push(i)
                            }
                            return e
                        }(n), this.dirty = !1, this.length = this._results.length, this.last = this._results[this.length - 1], this.first = this._results[0]
                    }
                }, {
                    key: "notifyOnChanges",
                    value: function () {
                        this.changes.emit(this)
                    }
                }, {
                    key: "setDirty",
                    value: function () {
                        this.dirty = !0
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.changes.complete(), this.changes.unsubscribe()
                    }
                }]), n
            }(),
            qi = new Dn("Application Initializer"),
            Ui = function () {
                function n(l) {
                    var e = this;
                    _classCallCheck(this, n), this.appInits = l, this.initialized = !1, this.done = !1, this.donePromise = new Promise((function (n, l) {
                        e.resolve = n, e.reject = l
                    }))
                }
                return _createClass(n, [{
                    key: "runInitializers",
                    value: function () {
                        var n = this;
                        if (!this.initialized) {
                            var l = [],
                                e = function () {
                                    n.done = !0, n.resolve()
                                };
                            if (this.appInits)
                                for (var t = 0; t < this.appInits.length; t++) {
                                    var i = this.appInits[t]();
                                    le(i) && l.push(i)
                                }
                            Promise.all(l).then((function () {
                                e()
                            })).catch((function (l) {
                                n.reject(l)
                            })), 0 === l.length && e(), this.initialized = !0
                        }
                    }
                }]), n
            }(),
            $i = new Dn("AppId");

        function Hi() {
            return "".concat(Vi()).concat(Vi()).concat(Vi())
        }

        function Vi() {
            return String.fromCharCode(97 + Math.floor(25 * Math.random()))
        }
        var ji = new Dn("Platform Initializer"),
            Gi = new Dn("Platform ID"),
            Wi = new Dn("appBootstrapListener"),
            Ki = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "log",
                    value: function (n) {
                        console.log(n)
                    }
                }, {
                    key: "warn",
                    value: function (n) {
                        console.warn(n)
                    }
                }]), n
            }(),
            Zi = new Dn("LocaleId"),
            Qi = !1;

        function Yi() {
            throw new Error("Runtime compiler is not loaded")
        }
        var Xi, Ji, nu = Yi,
            lu = Yi,
            eu = Yi,
            tu = Yi,
            iu = function () {
                function n() {
                    _classCallCheck(this, n), this.compileModuleSync = nu, this.compileModuleAsync = lu, this.compileModuleAndAllComponentsSync = eu, this.compileModuleAndAllComponentsAsync = tu
                }
                return _createClass(n, [{
                    key: "clearCache",
                    value: function () {}
                }, {
                    key: "clearCacheFor",
                    value: function (n) {}
                }, {
                    key: "getModuleId",
                    value: function (n) {}
                }]), n
            }(),
            uu = function n() {
                _classCallCheck(this, n)
            };
        var ru, au = !(!(ru = On.wtf) || !(Xi = ru.trace) || (Ji = Xi.events, 0));

        function ou(n, l) {
            return null
        }
        var su = au ? function (n) {
                var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                return Ji.createScope(n, l)
            } : function (n, l) {
                return ou
            },
            cu = au ? function (n, l) {
                return Xi.leaveScope(n, l), l
            } : function (n, l) {
                return l
            },
            du = Promise.resolve(0);

        function hu(n) {
            "undefined" == typeof Zone ? du.then((function () {
                n && n.apply(null, null)
            })) : Zone.current.scheduleMicroTask("scheduleMicrotask", n)
        }
        var pu = function () {
            function n(l) {
                var e, t = l.enableLongStackTrace,
                    i = void 0 !== t && t;
                if (_classCallCheck(this, n), this.hasPendingMicrotasks = !1, this.hasPendingMacrotasks = !1, this.isStable = !0, this.onUnstable = new zi(!1), this.onMicrotaskEmpty = new zi(!1), this.onStable = new zi(!1), this.onError = new zi(!1), "undefined" == typeof Zone) throw new Error("In this configuration Angular requires Zone.js");
                Zone.assertZonePatched(), this._nesting = 0, this._outer = this._inner = Zone.current, Zone.wtfZoneSpec && (this._inner = this._inner.fork(Zone.wtfZoneSpec)), Zone.TaskTrackingZoneSpec && (this._inner = this._inner.fork(new Zone.TaskTrackingZoneSpec)), i && Zone.longStackTraceZoneSpec && (this._inner = this._inner.fork(Zone.longStackTraceZoneSpec)), (e = this)._inner = e._inner.fork({
                    name: "angular",
                    properties: {
                        isAngularZone: !0
                    },
                    onInvokeTask: function (n, l, t, i, u, r) {
                        try {
                            return mu(e), n.invokeTask(t, i, u, r)
                        } finally {
                            yu(e)
                        }
                    },
                    onInvoke: function (n, l, t, i, u, r, a) {
                        try {
                            return mu(e), n.invoke(t, i, u, r, a)
                        } finally {
                            yu(e)
                        }
                    },
                    onHasTask: function (n, l, t, i) {
                        n.hasTask(t, i), l === t && ("microTask" == i.change ? (e.hasPendingMicrotasks = i.microTask, vu(e)) : "macroTask" == i.change && (e.hasPendingMacrotasks = i.macroTask))
                    },
                    onHandleError: function (n, l, t, i) {
                        return n.handleError(t, i), e.runOutsideAngular((function () {
                            return e.onError.emit(i)
                        })), !1
                    }
                })
            }
            return _createClass(n, [{
                key: "run",
                value: function (n, l, e) {
                    return this._inner.run(n, l, e)
                }
            }, {
                key: "runTask",
                value: function (n, l, e, t) {
                    var i = this._inner,
                        u = i.scheduleEventTask("NgZoneEvent: " + t, n, gu, fu, fu);
                    try {
                        return i.runTask(u, l, e)
                    } finally {
                        i.cancelTask(u)
                    }
                }
            }, {
                key: "runGuarded",
                value: function (n, l, e) {
                    return this._inner.runGuarded(n, l, e)
                }
            }, {
                key: "runOutsideAngular",
                value: function (n) {
                    return this._outer.run(n)
                }
            }], [{
                key: "isInAngularZone",
                value: function () {
                    return !0 === Zone.current.get("isAngularZone")
                }
            }, {
                key: "assertInAngularZone",
                value: function () {
                    if (!n.isInAngularZone()) throw new Error("Expected to be in Angular Zone, but it is not!")
                }
            }, {
                key: "assertNotInAngularZone",
                value: function () {
                    if (n.isInAngularZone()) throw new Error("Expected to not be in Angular Zone, but it is!")
                }
            }]), n
        }();

        function fu() {}
        var gu = {};

        function vu(n) {
            if (0 == n._nesting && !n.hasPendingMicrotasks && !n.isStable) try {
                n._nesting++, n.onMicrotaskEmpty.emit(null)
            } finally {
                if (n._nesting--, !n.hasPendingMicrotasks) try {
                    n.runOutsideAngular((function () {
                        return n.onStable.emit(null)
                    }))
                } finally {
                    n.isStable = !0
                }
            }
        }

        function mu(n) {
            n._nesting++, n.isStable && (n.isStable = !1, n.onUnstable.emit(null))
        }

        function yu(n) {
            n._nesting--, vu(n)
        }
        var bu, _u = function () {
                function n() {
                    _classCallCheck(this, n), this.hasPendingMicrotasks = !1, this.hasPendingMacrotasks = !1, this.isStable = !0, this.onUnstable = new zi, this.onMicrotaskEmpty = new zi, this.onStable = new zi, this.onError = new zi
                }
                return _createClass(n, [{
                    key: "run",
                    value: function (n) {
                        return n()
                    }
                }, {
                    key: "runGuarded",
                    value: function (n) {
                        return n()
                    }
                }, {
                    key: "runOutsideAngular",
                    value: function (n) {
                        return n()
                    }
                }, {
                    key: "runTask",
                    value: function (n) {
                        return n()
                    }
                }]), n
            }(),
            ku = function () {
                function n(l) {
                    var e = this;
                    _classCallCheck(this, n), this._ngZone = l, this._pendingCount = 0, this._isZoneStable = !0, this._didWork = !1, this._callbacks = [], this.taskTrackingZone = null, this._watchAngularEvents(), l.run((function () {
                        e.taskTrackingZone = "undefined" == typeof Zone ? null : Zone.current.get("TaskTrackingZone")
                    }))
                }
                return _createClass(n, [{
                    key: "_watchAngularEvents",
                    value: function () {
                        var n = this;
                        this._ngZone.onUnstable.subscribe({
                            next: function () {
                                n._didWork = !0, n._isZoneStable = !1
                            }
                        }), this._ngZone.runOutsideAngular((function () {
                            n._ngZone.onStable.subscribe({
                                next: function () {
                                    pu.assertNotInAngularZone(), hu((function () {
                                        n._isZoneStable = !0, n._runCallbacksIfReady()
                                    }))
                                }
                            })
                        }))
                    }
                }, {
                    key: "increasePendingRequestCount",
                    value: function () {
                        return this._pendingCount += 1, this._didWork = !0, this._pendingCount
                    }
                }, {
                    key: "decreasePendingRequestCount",
                    value: function () {
                        if (this._pendingCount -= 1, this._pendingCount < 0) throw new Error("pending async requests below zero");
                        return this._runCallbacksIfReady(), this._pendingCount
                    }
                }, {
                    key: "isStable",
                    value: function () {
                        return this._isZoneStable && 0 === this._pendingCount && !this._ngZone.hasPendingMacrotasks
                    }
                }, {
                    key: "_runCallbacksIfReady",
                    value: function () {
                        var n = this;
                        if (this.isStable()) hu((function () {
                            for (; 0 !== n._callbacks.length;) {
                                var l = n._callbacks.pop();
                                clearTimeout(l.timeoutId), l.doneCb(n._didWork)
                            }
                            n._didWork = !1
                        }));
                        else {
                            var l = this.getPendingTasks();
                            this._callbacks = this._callbacks.filter((function (n) {
                                return !n.updateCb || !n.updateCb(l) || (clearTimeout(n.timeoutId), !1)
                            })), this._didWork = !0
                        }
                    }
                }, {
                    key: "getPendingTasks",
                    value: function () {
                        return this.taskTrackingZone ? this.taskTrackingZone.macroTasks.map((function (n) {
                            return {
                                source: n.source,
                                creationLocation: n.creationLocation,
                                data: n.data
                            }
                        })) : []
                    }
                }, {
                    key: "addCallback",
                    value: function (n, l, e) {
                        var t = this,
                            i = -1;
                        l && l > 0 && (i = setTimeout((function () {
                            t._callbacks = t._callbacks.filter((function (n) {
                                return n.timeoutId !== i
                            })), n(t._didWork, t.getPendingTasks())
                        }), l)), this._callbacks.push({
                            doneCb: n,
                            timeoutId: i,
                            updateCb: e
                        })
                    }
                }, {
                    key: "whenStable",
                    value: function (n, l, e) {
                        if (e && !this.taskTrackingZone) throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');
                        this.addCallback(n, l, e), this._runCallbacksIfReady()
                    }
                }, {
                    key: "getPendingRequestCount",
                    value: function () {
                        return this._pendingCount
                    }
                }, {
                    key: "findProviders",
                    value: function (n, l, e) {
                        return []
                    }
                }]), n
            }(),
            wu = function () {
                function n() {
                    _classCallCheck(this, n), this._applications = new Map, xu.addToWindow(this)
                }
                return _createClass(n, [{
                    key: "registerApplication",
                    value: function (n, l) {
                        this._applications.set(n, l)
                    }
                }, {
                    key: "unregisterApplication",
                    value: function (n) {
                        this._applications.delete(n)
                    }
                }, {
                    key: "unregisterAllApplications",
                    value: function () {
                        this._applications.clear()
                    }
                }, {
                    key: "getTestability",
                    value: function (n) {
                        return this._applications.get(n) || null
                    }
                }, {
                    key: "getAllTestabilities",
                    value: function () {
                        return Array.from(this._applications.values())
                    }
                }, {
                    key: "getAllRootElements",
                    value: function () {
                        return Array.from(this._applications.keys())
                    }
                }, {
                    key: "findTestabilityInTree",
                    value: function (n) {
                        var l = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        return xu.findTestabilityInTree(this, n, l)
                    }
                }]), n
            }(),
            xu = new(function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "addToWindow",
                    value: function (n) {}
                }, {
                    key: "findTestabilityInTree",
                    value: function (n, l, e) {
                        return null
                    }
                }]), n
            }()),
            Cu = function (n, l, e) {
                return n.get(uu).createCompiler([l]).compileModuleAsync(e)
            },
            Su = new Dn("AllowMultipleToken"),
            Iu = function n(l, e) {
                _classCallCheck(this, n), this.name = l, this.token = e
            };

        function Tu(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                t = "Platform: ".concat(l),
                i = new Dn(t);
            return function () {
                var l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    u = Eu();
                if (!u || u.injector.get(Su, !1))
                    if (n) n(e.concat(l).concat({
                        provide: i,
                        useValue: !0
                    }));
                    else {
                        var r = e.concat(l).concat({
                            provide: i,
                            useValue: !0
                        });
                        ! function (n) {
                            if (bu && !bu.destroyed && !bu.injector.get(Su, !1)) throw new Error("There can be only one platform. Destroy the previous one to create a new one.");
                            bu = n.get(Au);
                            var l = n.get(ji, null);
                            l && l.forEach((function (n) {
                                return n()
                            }))
                        }(Fl.create({
                            providers: r,
                            name: t
                        }))
                    } return function (n) {
                    var l = Eu();
                    if (!l) throw new Error("No platform exists!");
                    if (!l.injector.get(n, null)) throw new Error("A platform with a different configuration has been created. Please destroy it first.");
                    return l
                }(i)
            }
        }

        function Eu() {
            return bu && !bu.destroyed ? bu : null
        }
        var Au = function () {
            function n(l) {
                _classCallCheck(this, n), this._injector = l, this._modules = [], this._destroyListeners = [], this._destroyed = !1
            }
            return _createClass(n, [{
                key: "bootstrapModuleFactory",
                value: function (n, l) {
                    var e, t = this,
                        i = "noop" === (e = l ? l.ngZone : void 0) ? new _u : ("zone.js" === e ? void 0 : e) || new pu({
                            enableLongStackTrace: al()
                        }),
                        u = [{
                            provide: pu,
                            useValue: i
                        }];
                    return i.run((function () {
                        var l = Fl.create({
                                providers: u,
                                parent: t.injector,
                                name: n.moduleType.name
                            }),
                            e = n.create(l),
                            r = e.injector.get(il, null);
                        if (!r) throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");
                        return Qi && Bi(e.injector.get(Zi, Ni) || Ni), e.onDestroy((function () {
                                return Ru(t._modules, e)
                            })), i.runOutsideAngular((function () {
                                return i.onError.subscribe({
                                    next: function (n) {
                                        r.handleError(n)
                                    }
                                })
                            })),
                            function (n, l, i) {
                                try {
                                    var u = ((r = e.injector.get(Ui)).runInitializers(), r.donePromise.then((function () {
                                        return t._moduleDoBootstrap(e), e
                                    })));
                                    return le(u) ? u.catch((function (e) {
                                        throw l.runOutsideAngular((function () {
                                            return n.handleError(e)
                                        })), e
                                    })) : u
                                } catch (a) {
                                    throw l.runOutsideAngular((function () {
                                        return n.handleError(a)
                                    })), a
                                }
                                var r
                            }(r, i)
                    }))
                }
            }, {
                key: "bootstrapModule",
                value: function (n) {
                    var l = this,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                        t = Pu({}, e);
                    return Cu(this.injector, t, n).then((function (n) {
                        return l.bootstrapModuleFactory(n, t)
                    }))
                }
            }, {
                key: "_moduleDoBootstrap",
                value: function (n) {
                    var l = n.injector.get(Du);
                    if (n._bootstrapComponents.length > 0) n._bootstrapComponents.forEach((function (n) {
                        return l.bootstrap(n)
                    }));
                    else {
                        if (!n.instance.ngDoBootstrap) throw new Error("The module ".concat(wn(n.instance.constructor), ' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ') + "Please define one of these.");
                        n.instance.ngDoBootstrap(l)
                    }
                    this._modules.push(n)
                }
            }, {
                key: "onDestroy",
                value: function (n) {
                    this._destroyListeners.push(n)
                }
            }, {
                key: "destroy",
                value: function () {
                    if (this._destroyed) throw new Error("The platform has already been destroyed!");
                    this._modules.slice().forEach((function (n) {
                        return n.destroy()
                    })), this._destroyListeners.forEach((function (n) {
                        return n()
                    })), this._destroyed = !0
                }
            }, {
                key: "injector",
                get: function () {
                    return this._injector
                }
            }, {
                key: "destroyed",
                get: function () {
                    return this._destroyed
                }
            }]), n
        }();

        function Pu(n, l) {
            return Array.isArray(l) ? l.reduce(Pu, n) : Object.assign({}, n, l)
        }
        var Ou, Du = ((Ou = function () {
            function n(l, e, t, i, u, r) {
                var a = this;
                _classCallCheck(this, n), this._zone = l, this._console = e, this._injector = t, this._exceptionHandler = i, this._componentFactoryResolver = u, this._initStatus = r, this._bootstrapListeners = [], this._views = [], this._runningTick = !1, this._enforceNoNewChanges = !1, this._stable = !0, this.componentTypes = [], this.components = [], this._enforceNoNewChanges = al(), this._zone.onMicrotaskEmpty.subscribe({
                    next: function () {
                        a._zone.run((function () {
                            a.tick()
                        }))
                    }
                });
                var o = new x((function (n) {
                        a._stable = a._zone.isStable && !a._zone.hasPendingMacrotasks && !a._zone.hasPendingMicrotasks, a._zone.runOutsideAngular((function () {
                            n.next(a._stable), n.complete()
                        }))
                    })),
                    s = new x((function (n) {
                        var l;
                        a._zone.runOutsideAngular((function () {
                            l = a._zone.onStable.subscribe((function () {
                                pu.assertNotInAngularZone(), hu((function () {
                                    a._stable || a._zone.hasPendingMacrotasks || a._zone.hasPendingMicrotasks || (a._stable = !0, n.next(!0))
                                }))
                            }))
                        }));
                        var e = a._zone.onUnstable.subscribe((function () {
                            pu.assertInAngularZone(), a._stable && (a._stable = !1, a._zone.runOutsideAngular((function () {
                                n.next(!1)
                            })))
                        }));
                        return function () {
                            l.unsubscribe(), e.unsubscribe()
                        }
                    }));
                this.isStable = nn(o, s.pipe(sn()))
            }
            return _createClass(n, [{
                key: "bootstrap",
                value: function (n, l) {
                    var e, t = this;
                    if (!this._initStatus.done) throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");
                    e = n instanceof ue ? n : this._componentFactoryResolver.resolveComponentFactory(n), this.componentTypes.push(e.componentType);
                    var i = e instanceof de ? null : this._injector.get(Gn),
                        u = e.create(Fl.NULL, [], l || e.selector, i);
                    u.onDestroy((function () {
                        t._unloadComponent(u)
                    }));
                    var r = u.injector.get(ku, null);
                    return r && u.injector.get(wu).registerApplication(u.location.nativeElement, r), this._loadComponent(u), al() && this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."), u
                }
            }, {
                key: "tick",
                value: function () {
                    var l = this;
                    if (this._runningTick) throw new Error("ApplicationRef.tick is called recursively");
                    var e = n._tickScope();
                    try {
                        this._runningTick = !0;
                        var t = !0,
                            i = !1,
                            u = void 0;
                        try {
                            for (var r, a = this._views[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) r.value.detectChanges()
                        } catch (p) {
                            i = !0, u = p
                        } finally {
                            try {
                                t || null == a.return || a.return()
                            } finally {
                                if (i) throw u
                            }
                        }
                        if (this._enforceNoNewChanges) {
                            var o = !0,
                                s = !1,
                                c = void 0;
                            try {
                                for (var d, h = this._views[Symbol.iterator](); !(o = (d = h.next()).done); o = !0) d.value.checkNoChanges()
                            } catch (p) {
                                s = !0, c = p
                            } finally {
                                try {
                                    o || null == h.return || h.return()
                                } finally {
                                    if (s) throw c
                                }
                            }
                        }
                    } catch (f) {
                        this._zone.runOutsideAngular((function () {
                            return l._exceptionHandler.handleError(f)
                        }))
                    } finally {
                        this._runningTick = !1, cu(e)
                    }
                }
            }, {
                key: "attachView",
                value: function (n) {
                    var l = n;
                    this._views.push(l), l.attachToAppRef(this)
                }
            }, {
                key: "detachView",
                value: function (n) {
                    var l = n;
                    Ru(this._views, l), l.detachFromAppRef()
                }
            }, {
                key: "_loadComponent",
                value: function (n) {
                    this.attachView(n.hostView), this.tick(), this.components.push(n), this._injector.get(Wi, []).concat(this._bootstrapListeners).forEach((function (l) {
                        return l(n)
                    }))
                }
            }, {
                key: "_unloadComponent",
                value: function (n) {
                    this.detachView(n.hostView), Ru(this.components, n)
                }
            }, {
                key: "ngOnDestroy",
                value: function () {
                    this._views.slice().forEach((function (n) {
                        return n.destroy()
                    }))
                }
            }, {
                key: "viewCount",
                get: function () {
                    return this._views.length
                }
            }]), n
        }())._tickScope = su("ApplicationRef#tick()"), Ou);

        function Ru(n, l) {
            var e = n.indexOf(l);
            e > -1 && n.splice(e, 1)
        }
        var Mu = function n() {
                _classCallCheck(this, n)
            },
            Nu = function n() {
                _classCallCheck(this, n)
            },
            Bu = {
                factoryPathPrefix: "",
                factoryPathSuffix: ".ngfactory"
            },
            zu = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._compiler = l, this._config = e || Bu
                }
                return _createClass(n, [{
                    key: "load",
                    value: function (n) {
                        return !Qi && this._compiler instanceof iu ? this.loadFactory(n) : this.loadAndCompile(n)
                    }
                }, {
                    key: "loadAndCompile",
                    value: function (n) {
                        var l = this,
                            t = _slicedToArray(n.split("#"), 2),
                            i = t[0],
                            u = t[1];
                        return void 0 === u && (u = "default"), e("zn8P")(i).then((function (n) {
                            return n[u]
                        })).then((function (n) {
                            return Lu(n, i, u)
                        })).then((function (n) {
                            return l._compiler.compileModuleAsync(n)
                        }))
                    }
                }, {
                    key: "loadFactory",
                    value: function (n) {
                        var l = _slicedToArray(n.split("#"), 2),
                            t = l[0],
                            i = l[1],
                            u = "NgFactory";
                        return void 0 === i && (i = "default", u = ""), e("zn8P")(this._config.factoryPathPrefix + t + this._config.factoryPathSuffix).then((function (n) {
                            return n[i + u]
                        })).then((function (n) {
                            return Lu(n, t, i)
                        }))
                    }
                }]), n
            }();

        function Lu(n, l, e) {
            if (!n) throw new Error("Cannot find '".concat(e, "' in '").concat(l, "'"));
            return n
        }
        var Fu = function n(l, e) {
                _classCallCheck(this, n), this.name = l, this.callback = e
            },
            qu = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.listeners = [], this.parent = null, this._debugContext = t, this.nativeNode = l, e && e instanceof Uu && e.addChild(this)
                }
                return _createClass(n, [{
                    key: "injector",
                    get: function () {
                        return this._debugContext.injector
                    }
                }, {
                    key: "componentInstance",
                    get: function () {
                        return this._debugContext.component
                    }
                }, {
                    key: "context",
                    get: function () {
                        return this._debugContext.context
                    }
                }, {
                    key: "references",
                    get: function () {
                        return this._debugContext.references
                    }
                }, {
                    key: "providerTokens",
                    get: function () {
                        return this._debugContext.providerTokens
                    }
                }]), n
            }(),
            Uu = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e, t))).properties = {}, i.attributes = {}, i.classes = {}, i.styles = {}, i.childNodes = [], i.nativeElement = n, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "addChild",
                    value: function (n) {
                        n && (this.childNodes.push(n), n.parent = this)
                    }
                }, {
                    key: "removeChild",
                    value: function (n) {
                        var l = this.childNodes.indexOf(n); - 1 !== l && (n.parent = null, this.childNodes.splice(l, 1))
                    }
                }, {
                    key: "insertChildrenAfter",
                    value: function (n, l) {
                        var e, t = this,
                            i = this.childNodes.indexOf(n); - 1 !== i && ((e = this.childNodes).splice.apply(e, [i + 1, 0].concat(_toConsumableArray(l))), l.forEach((function (l) {
                            l.parent && l.parent.removeChild(l), n.parent = t
                        })))
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, l) {
                        var e = this.childNodes.indexOf(n); - 1 === e ? this.addChild(l) : (l.parent && l.parent.removeChild(l), l.parent = this, this.childNodes.splice(e, 0, l))
                    }
                }, {
                    key: "query",
                    value: function (n) {
                        return this.queryAll(n)[0] || null
                    }
                }, {
                    key: "queryAll",
                    value: function (n) {
                        var e = [];
                        return function n(e, t, i) {
                            e.childNodes.forEach((function (e) {
                                e instanceof l && (t(e) && i.push(e), n(e, t, i))
                            }))
                        }(this, n, e), e
                    }
                }, {
                    key: "queryAllNodes",
                    value: function (n) {
                        var e = [];
                        return function n(e, t, i) {
                            e instanceof l && e.childNodes.forEach((function (e) {
                                t(e) && i.push(e), e instanceof l && n(e, t, i)
                            }))
                        }(this, n, e), e
                    }
                }, {
                    key: "triggerEventHandler",
                    value: function (n, l) {
                        this.listeners.forEach((function (e) {
                            e.name == n && e.callback(l)
                        }))
                    }
                }, {
                    key: "children",
                    get: function () {
                        return this.childNodes.filter((function (n) {
                            return n instanceof l
                        }))
                    }
                }]), l
            }(qu),
            $u = new Map,
            Hu = function (n) {
                return $u.get(n) || null
            };

        function Vu(n) {
            $u.set(n.nativeNode, n)
        }
        var ju = Tu(null, "core", [{
            provide: Gi,
            useValue: "unknown"
        }, {
            provide: Au,
            deps: [Fl]
        }, {
            provide: wu,
            deps: []
        }, {
            provide: Ki,
            deps: []
        }]);

        function Gu() {
            return Re
        }

        function Wu() {
            return Me
        }

        function Ku(n) {
            return n ? (Qi && Bi(n), n) : Ni
        }

        function Zu(n) {
            var l = [];
            return n.onStable.subscribe((function () {
                    for (; l.length;) l.pop()()
                })),
                function (n) {
                    l.push(n)
                }
        }
        var Qu = function n(l) {
            _classCallCheck(this, n)
        };

        function Yu(n, l, e, t, i, u) {
            n |= 1;
            var r = vt(l),
                a = r.matchedQueries,
                o = r.references;
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                flags: n,
                checkIndex: -1,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: a,
                matchedQueryIds: r.matchedQueryIds,
                references: o,
                ngContentIndex: e,
                childCount: t,
                bindings: [],
                bindingFlags: 0,
                outputs: [],
                element: {
                    ns: null,
                    name: null,
                    attrs: null,
                    template: u ? _t(u) : null,
                    componentProvider: null,
                    componentView: null,
                    componentRendererType: null,
                    publicProviders: null,
                    allProviders: null,
                    handleEvent: i || Qe
                },
                provider: null,
                text: null,
                query: null,
                ngContent: null
            }
        }

        function Xu(n, l, e, t, i, u) {
            var r, a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [],
                o = arguments.length > 7 ? arguments[7] : void 0,
                s = arguments.length > 8 ? arguments[8] : void 0,
                c = arguments.length > 9 ? arguments[9] : void 0,
                d = arguments.length > 10 ? arguments[10] : void 0,
                h = arguments.length > 11 ? arguments[11] : void 0;
            c || (c = Qe);
            var p = vt(e),
                f = p.matchedQueries,
                g = p.references,
                v = p.matchedQueryIds,
                m = null,
                y = null;
            u && (m = (r = _slicedToArray(Tt(u), 2))[0], y = r[1]), o = o || [];
            for (var b = new Array(o.length), _ = 0; _ < o.length; _++) {
                var k = _slicedToArray(o[_], 3),
                    w = k[0],
                    x = k[1],
                    C = k[2],
                    S = _slicedToArray(Tt(x), 2),
                    I = S[0],
                    T = S[1],
                    E = void 0,
                    A = void 0;
                switch (15 & w) {
                    case 4:
                        A = C;
                        break;
                    case 1:
                    case 8:
                        E = C
                }
                b[_] = {
                    flags: w,
                    ns: I,
                    name: T,
                    nonMinifiedName: T,
                    securityContext: E,
                    suffix: A
                }
            }
            s = s || [];
            for (var P = new Array(s.length), O = 0; O < s.length; O++) {
                var D = _slicedToArray(s[O], 2),
                    R = D[0],
                    M = D[1];
                P[O] = {
                    type: 0,
                    target: R,
                    eventName: M,
                    propName: null
                }
            }
            var N = (a = a || []).map((function (n) {
                var l = _slicedToArray(n, 2),
                    e = l[0],
                    t = l[1],
                    i = _slicedToArray(Tt(e), 2);
                return [i[0], i[1], t]
            }));
            return h = function (n) {
                if (n && n.id === nt) {
                    var l = null != n.encapsulation && n.encapsulation !== Qn.None || n.styles.length || Object.keys(n.data).length;
                    n.id = l ? "c".concat(tt++) : lt
                }
                return n && n.id === lt && (n = null), n || null
            }(h), d && (l |= 33554432), {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: n,
                flags: l |= 1,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: f,
                matchedQueryIds: v,
                references: g,
                ngContentIndex: t,
                childCount: i,
                bindings: b,
                bindingFlags: Et(b),
                outputs: P,
                element: {
                    ns: m,
                    name: y,
                    attrs: N,
                    template: null,
                    componentProvider: null,
                    componentView: d || null,
                    componentRendererType: h,
                    publicProviders: null,
                    allProviders: null,
                    handleEvent: c || Qe
                },
                provider: null,
                text: null,
                query: null,
                ngContent: null
            }
        }

        function Ju(n, l, e) {
            var t, i = e.element,
                u = n.root.selectorOrNode,
                r = n.renderer;
            if (n.parent || !u) {
                t = i.name ? r.createElement(i.name, i.ns) : r.createComment("");
                var a = yt(n, l, e);
                a && r.appendChild(a, t)
            } else t = r.selectRootElement(u, !!i.componentRendererType && i.componentRendererType.encapsulation === Qn.ShadowDom);
            if (i.attrs)
                for (var o = 0; o < i.attrs.length; o++) {
                    var s = _slicedToArray(i.attrs[o], 3),
                        c = s[0],
                        d = s[1],
                        h = s[2];
                    r.setAttribute(t, d, h, c)
                }
            return t
        }

        function nr(n, l, e, t) {
            for (var i = 0; i < e.outputs.length; i++) {
                var u = e.outputs[i],
                    r = lr(n, e.nodeIndex, (d = u.eventName, (c = u.target) ? "".concat(c, ":").concat(d) : d)),
                    a = u.target,
                    o = n;
                "component" === u.target && (a = null, o = l);
                var s = o.renderer.listen(a || t, u.eventName, r);
                n.disposables[e.outputIndex + i] = s
            }
            var c, d
        }

        function lr(n, l, e) {
            return function (t) {
                return st(n, l, e, t)
            }
        }

        function er(n, l, e, t) {
            if (!ut(n, l, e, t)) return !1;
            var i = l.bindings[e],
                u = je(n, l.nodeIndex),
                r = u.renderElement,
                a = i.name;
            switch (15 & i.flags) {
                case 1:
                    ! function (n, l, e, t, i, u) {
                        var r = l.securityContext,
                            a = r ? n.root.sanitizer.sanitize(r, u) : u;
                        a = null != a ? a.toString() : null;
                        var o = n.renderer;
                        null != u ? o.setAttribute(e, i, a, t) : o.removeAttribute(e, i, t)
                    }(n, i, r, i.ns, a, t);
                    break;
                case 2:
                    ! function (n, l, e, t) {
                        var i = n.renderer;
                        t ? i.addClass(l, e) : i.removeClass(l, e)
                    }(n, r, a, t);
                    break;
                case 4:
                    ! function (n, l, e, t, i) {
                        var u = n.root.sanitizer.sanitize(Al.STYLE, i);
                        if (null != u) {
                            u = u.toString();
                            var r = l.suffix;
                            null != r && (u += r)
                        } else u = null;
                        var a = n.renderer;
                        null != u ? a.setStyle(e, t, u) : a.removeStyle(e, t)
                    }(n, i, r, a, t);
                    break;
                case 8:
                    ! function (n, l, e, t, i) {
                        var u = l.securityContext,
                            r = u ? n.root.sanitizer.sanitize(u, i) : i;
                        n.renderer.setProperty(e, t, r)
                    }(33554432 & l.flags && 32 & i.flags ? u.componentView : n, i, r, a, t)
            }
            return !0
        }

        function tr(n, l, e) {
            var t = [];
            for (var i in e) t.push({
                propName: i,
                bindingType: e[i]
            });
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: -1,
                flags: n,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                ngContentIndex: -1,
                matchedQueries: {},
                matchedQueryIds: 0,
                references: {},
                childCount: 0,
                bindings: [],
                bindingFlags: 0,
                outputs: [],
                element: null,
                provider: null,
                text: null,
                query: {
                    id: l,
                    filterId: gt(l),
                    bindings: t
                },
                ngContent: null
            }
        }

        function ir(n) {
            for (var l = n.def.nodeMatchedQueries; n.parent && ft(n);) {
                var e = n.parentNodeDef;
                n = n.parent;
                for (var t = e.nodeIndex + e.childCount, i = 0; i <= t; i++) {
                    var u = n.def.nodes[i];
                    67108864 & u.flags && 536870912 & u.flags && (u.query.filterId & l) === u.query.filterId && Ke(n, i).setDirty(), !(1 & u.flags && i + u.childCount < e.nodeIndex) && 67108864 & u.childFlags && 536870912 & u.childFlags || (i += u.childCount)
                }
            }
            if (134217728 & n.def.nodeFlags)
                for (var r = 0; r < n.def.nodes.length; r++) {
                    var a = n.def.nodes[r];
                    134217728 & a.flags && 536870912 & a.flags && Ke(n, r).setDirty(), r += a.childCount
                }
        }

        function ur(n, l) {
            var e = Ke(n, l.nodeIndex);
            if (e.dirty) {
                var t, i = void 0;
                if (67108864 & l.flags) {
                    var u = l.parent.parent;
                    i = rr(n, u.nodeIndex, u.nodeIndex + u.childCount, l.query, []), t = Ge(n, l.parent.nodeIndex).instance
                } else 134217728 & l.flags && (i = rr(n, 0, n.def.nodes.length - 1, l.query, []), t = n.component);
                e.reset(i);
                for (var r = l.query.bindings, a = !1, o = 0; o < r.length; o++) {
                    var s = r[o],
                        c = void 0;
                    switch (s.bindingType) {
                        case 0:
                            c = e.first;
                            break;
                        case 1:
                            c = e, a = !0
                    }
                    t[s.propName] = c
                }
                a && e.notifyOnChanges()
            }
        }

        function rr(n, l, e, t, i) {
            for (var u = l; u <= e; u++) {
                var r = n.def.nodes[u],
                    a = r.matchedQueries[t.id];
                if (null != a && i.push(ar(n, r, a)), 1 & r.flags && r.element.template && (r.element.template.nodeMatchedQueries & t.filterId) === t.filterId) {
                    var o = je(n, u);
                    if ((r.childMatchedQueries & t.filterId) === t.filterId && (rr(n, u + 1, u + r.childCount, t, i), u += r.childCount), 16777216 & r.flags)
                        for (var s = o.viewContainer._embeddedViews, c = 0; c < s.length; c++) {
                            var d = s[c],
                                h = ct(d);
                            h && h === o && rr(d, 0, d.def.nodes.length - 1, t, i)
                        }
                    var p = o.template._projectedViews;
                    if (p)
                        for (var f = 0; f < p.length; f++) {
                            var g = p[f];
                            rr(g, 0, g.def.nodes.length - 1, t, i)
                        }
                }(r.childMatchedQueries & t.filterId) !== t.filterId && (u += r.childCount)
            }
            return i
        }

        function ar(n, l, e) {
            if (null != e) switch (e) {
                case 1:
                    return je(n, l.nodeIndex).renderElement;
                case 0:
                    return new pe(je(n, l.nodeIndex).renderElement);
                case 2:
                    return je(n, l.nodeIndex).template;
                case 3:
                    return je(n, l.nodeIndex).viewContainer;
                case 4:
                    return Ge(n, l.nodeIndex).instance
            }
        }

        function or(n, l) {
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: -1,
                flags: 8,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: {},
                matchedQueryIds: 0,
                references: {},
                ngContentIndex: n,
                childCount: 0,
                bindings: [],
                bindingFlags: 0,
                outputs: [],
                element: null,
                provider: null,
                text: null,
                query: null,
                ngContent: {
                    index: l
                }
            }
        }

        function sr(n, l, e) {
            var t = yt(n, l, e);
            t && xt(n, e.ngContent.index, 1, t, null, void 0)
        }

        function cr(n, l) {
            return hr(128, n, new Array(l + 1))
        }

        function dr(n, l) {
            for (var e = Object.keys(l), t = e.length, i = new Array(t), u = 0; u < t; u++) {
                var r = e[u];
                i[l[r]] = r
            }
            return hr(64, n, i)
        }

        function hr(n, l, e) {
            for (var t = new Array(e.length), i = 0; i < e.length; i++) {
                var u = e[i];
                t[i] = {
                    flags: 8,
                    name: u,
                    ns: null,
                    nonMinifiedName: u,
                    securityContext: null,
                    suffix: null
                }
            }
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: l,
                flags: n,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: {},
                matchedQueryIds: 0,
                references: {},
                ngContentIndex: -1,
                childCount: 0,
                bindings: t,
                bindingFlags: Et(t),
                outputs: [],
                element: null,
                provider: null,
                text: null,
                query: null,
                ngContent: null
            }
        }

        function pr(n, l, e) {
            for (var t = new Array(e.length - 1), i = 1; i < e.length; i++) t[i - 1] = {
                flags: 8,
                name: null,
                ns: null,
                nonMinifiedName: null,
                securityContext: null,
                suffix: e[i]
            };
            return {
                nodeIndex: -1,
                parent: null,
                renderParent: null,
                bindingIndex: -1,
                outputIndex: -1,
                checkIndex: n,
                flags: 2,
                childFlags: 0,
                directChildFlags: 0,
                childMatchedQueries: 0,
                matchedQueries: {},
                matchedQueryIds: 0,
                references: {},
                ngContentIndex: l,
                childCount: 0,
                bindings: t,
                bindingFlags: 8,
                outputs: [],
                element: null,
                provider: null,
                text: {
                    prefix: e[0]
                },
                query: null,
                ngContent: null
            }
        }

        function fr(n, l, e) {
            var t, i = n.renderer;
            t = i.createText(e.text.prefix);
            var u = yt(n, l, e);
            return u && i.appendChild(u, t), {
                renderText: t
            }
        }

        function gr(n, l) {
            return (null != n ? n.toString() : "") + l.suffix
        }

        function vr(n, l, e, t) {
            for (var i = 0, u = 0, r = 0, a = 0, o = 0, s = null, c = null, d = !1, h = !1, p = null, f = 0; f < l.length; f++) {
                var g = l[f];
                if (g.nodeIndex = f, g.parent = s, g.bindingIndex = i, g.outputIndex = u, g.renderParent = c, r |= g.flags, o |= g.matchedQueryIds, g.element) {
                    var v = g.element;
                    v.publicProviders = s ? s.element.publicProviders : Object.create(null), v.allProviders = v.publicProviders, d = !1, h = !1, g.element.template && (o |= g.element.template.nodeMatchedQueries)
                }
                if (yr(s, g, l.length), i += g.bindings.length, u += g.outputs.length, !c && 3 & g.flags && (p = g), 20224 & g.flags) {
                    d || (d = !0, s.element.publicProviders = Object.create(s.element.publicProviders), s.element.allProviders = s.element.publicProviders);
                    var m = 0 != (32768 & g.flags);
                    0 == (8192 & g.flags) || m ? s.element.publicProviders[Xe(g.provider.token)] = g : (h || (h = !0, s.element.allProviders = Object.create(s.element.publicProviders)), s.element.allProviders[Xe(g.provider.token)] = g), m && (s.element.componentProvider = g)
                }
                if (s ? (s.childFlags |= g.flags, s.directChildFlags |= g.flags, s.childMatchedQueries |= g.matchedQueryIds, g.element && g.element.template && (s.childMatchedQueries |= g.element.template.nodeMatchedQueries)) : a |= g.flags, g.childCount > 0) s = g, mr(g) || (c = g);
                else
                    for (; s && f === s.nodeIndex + s.childCount;) {
                        var y = s.parent;
                        y && (y.childFlags |= s.childFlags, y.childMatchedQueries |= s.childMatchedQueries), c = (s = y) && mr(s) ? s.renderParent : s
                    }
            }
            return {
                factory: null,
                nodeFlags: r,
                rootNodeFlags: a,
                nodeMatchedQueries: o,
                flags: n,
                nodes: l,
                updateDirectives: e || Qe,
                updateRenderer: t || Qe,
                handleEvent: function (n, e, t, i) {
                    return l[e].element.handleEvent(n, t, i)
                },
                bindingCount: i,
                outputCount: u,
                lastRenderRootNode: p
            }
        }

        function mr(n) {
            return 0 != (1 & n.flags) && null === n.element.name
        }

        function yr(n, l, e) {
            var t = l.element && l.element.template;
            if (t) {
                if (!t.lastRenderRootNode) throw new Error("Illegal State: Embedded templates without nodes are not allowed!");
                if (t.lastRenderRootNode && 16777216 & t.lastRenderRootNode.flags) throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(l.nodeIndex, "!"))
            }
            if (20224 & l.flags && 0 == (1 & (n ? n.flags : 0))) throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(l.nodeIndex, "!"));
            if (l.query) {
                if (67108864 & l.flags && (!n || 0 == (16384 & n.flags))) throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(l.nodeIndex, "!"));
                if (134217728 & l.flags && n) throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(l.nodeIndex, "!"))
            }
            if (l.childCount) {
                var i = n ? n.nodeIndex + n.childCount : e - 1;
                if (l.nodeIndex <= i && l.nodeIndex + l.childCount > i) throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(l.nodeIndex, "!"))
            }
        }

        function br(n, l, e, t) {
            var i = wr(n.root, n.renderer, n, l, e);
            return xr(i, n.component, t), Cr(i), i
        }

        function _r(n, l, e) {
            var t = wr(n, n.renderer, null, null, l);
            return xr(t, e, e), Cr(t), t
        }

        function kr(n, l, e, t) {
            var i, u = l.element.componentRendererType;
            return i = u ? n.root.rendererFactory.createRenderer(t, u) : n.root.renderer, wr(n.root, i, n, l.element.componentProvider, e)
        }

        function wr(n, l, e, t, i) {
            var u = new Array(i.nodes.length),
                r = i.outputCount ? new Array(i.outputCount) : null;
            return {
                def: i,
                parent: e,
                viewContainerParent: null,
                parentNodeDef: t,
                context: null,
                component: null,
                nodes: u,
                state: 13,
                root: n,
                renderer: l,
                oldValues: new Array(i.bindingCount),
                disposables: r,
                initIndex: -1
            }
        }

        function xr(n, l, e) {
            n.component = l, n.context = e
        }

        function Cr(n) {
            var l;
            pt(n) && (l = je(n.parent, n.parentNodeDef.parent.nodeIndex).renderElement);
            for (var e = n.def, t = n.nodes, i = 0; i < e.nodes.length; i++) {
                var u = e.nodes[i],
                    r = void 0;
                switch (Ze.setCurrentNode(n, i), 201347067 & u.flags) {
                    case 1:
                        var a = Ju(n, l, u),
                            o = void 0;
                        if (33554432 & u.flags) {
                            var s = _t(u.element.componentView);
                            o = Ze.createComponentView(n, u, s, a)
                        }
                        nr(n, o, u, a), r = {
                            renderElement: a,
                            componentView: o,
                            viewContainer: null,
                            template: u.element.template ? Zt(n, u) : void 0
                        }, 16777216 & u.flags && (r.viewContainer = jt(n, u, r));
                        break;
                    case 2:
                        r = fr(n, l, u);
                        break;
                    case 512:
                    case 1024:
                    case 2048:
                    case 256:
                        (r = t[i]) || 4096 & u.flags || (r = {
                            instance: vi(n, u)
                        });
                        break;
                    case 16:
                        r = {
                            instance: mi(n, u)
                        };
                        break;
                    case 16384:
                        (r = t[i]) || (r = {
                            instance: yi(n, u)
                        }), 32768 & u.flags && xr(je(n, u.parent.nodeIndex).componentView, r.instance, r.instance);
                        break;
                    case 32:
                    case 64:
                    case 128:
                        r = {
                            value: void 0
                        };
                        break;
                    case 67108864:
                    case 134217728:
                        r = new Fi;
                        break;
                    case 8:
                        sr(n, l, u), r = void 0
                }
                t[i] = r
            }
            Rr(n, Dr.CreateViewNodes), zr(n, 201326592, 268435456, 0)
        }

        function Sr(n) {
            Er(n), Ze.updateDirectives(n, 1), Mr(n, Dr.CheckNoChanges), Ze.updateRenderer(n, 1), Rr(n, Dr.CheckNoChanges), n.state &= -97
        }

        function Ir(n) {
            1 & n.state ? (n.state &= -2, n.state |= 2) : n.state &= -3, $e(n, 0, 256), Er(n), Ze.updateDirectives(n, 0), Mr(n, Dr.CheckAndUpdate), zr(n, 67108864, 536870912, 0);
            var l = $e(n, 256, 512);
            Ii(n, 2097152 | (l ? 1048576 : 0)), Ze.updateRenderer(n, 0), Rr(n, Dr.CheckAndUpdate), zr(n, 134217728, 536870912, 0), Ii(n, 8388608 | ((l = $e(n, 512, 768)) ? 4194304 : 0)), 2 & n.def.flags && (n.state &= -9), n.state &= -97, $e(n, 768, 1024)
        }

        function Tr(n, l, e, t, i, u, r, a, o, s, c, d, h) {
            return 0 === e ? function (n, l, e, t, i, u, r, a, o, s, c, d) {
                switch (201347067 & l.flags) {
                    case 1:
                        return function (n, l, e, t, i, u, r, a, o, s, c, d) {
                            var h = l.bindings.length,
                                p = !1;
                            return h > 0 && er(n, l, 0, e) && (p = !0), h > 1 && er(n, l, 1, t) && (p = !0), h > 2 && er(n, l, 2, i) && (p = !0), h > 3 && er(n, l, 3, u) && (p = !0), h > 4 && er(n, l, 4, r) && (p = !0), h > 5 && er(n, l, 5, a) && (p = !0), h > 6 && er(n, l, 6, o) && (p = !0), h > 7 && er(n, l, 7, s) && (p = !0), h > 8 && er(n, l, 8, c) && (p = !0), h > 9 && er(n, l, 9, d) && (p = !0), p
                        }(n, l, e, t, i, u, r, a, o, s, c, d);
                    case 2:
                        return function (n, l, e, t, i, u, r, a, o, s, c, d) {
                            var h = !1,
                                p = l.bindings,
                                f = p.length;
                            if (f > 0 && ut(n, l, 0, e) && (h = !0), f > 1 && ut(n, l, 1, t) && (h = !0), f > 2 && ut(n, l, 2, i) && (h = !0), f > 3 && ut(n, l, 3, u) && (h = !0), f > 4 && ut(n, l, 4, r) && (h = !0), f > 5 && ut(n, l, 5, a) && (h = !0), f > 6 && ut(n, l, 6, o) && (h = !0), f > 7 && ut(n, l, 7, s) && (h = !0), f > 8 && ut(n, l, 8, c) && (h = !0), f > 9 && ut(n, l, 9, d) && (h = !0), h) {
                                var g = l.text.prefix;
                                f > 0 && (g += gr(e, p[0])), f > 1 && (g += gr(t, p[1])), f > 2 && (g += gr(i, p[2])), f > 3 && (g += gr(u, p[3])), f > 4 && (g += gr(r, p[4])), f > 5 && (g += gr(a, p[5])), f > 6 && (g += gr(o, p[6])), f > 7 && (g += gr(s, p[7])), f > 8 && (g += gr(c, p[8])), f > 9 && (g += gr(d, p[9]));
                                var v = Ve(n, l.nodeIndex).renderText;
                                n.renderer.setValue(v, g)
                            }
                            return h
                        }(n, l, e, t, i, u, r, a, o, s, c, d);
                    case 16384:
                        return function (n, l, e, t, i, u, r, a, o, s, c, d) {
                            var h = Ge(n, l.nodeIndex),
                                p = h.instance,
                                f = !1,
                                g = void 0,
                                v = l.bindings.length;
                            return v > 0 && it(n, l, 0, e) && (f = !0, g = Si(n, h, l, 0, e, g)), v > 1 && it(n, l, 1, t) && (f = !0, g = Si(n, h, l, 1, t, g)), v > 2 && it(n, l, 2, i) && (f = !0, g = Si(n, h, l, 2, i, g)), v > 3 && it(n, l, 3, u) && (f = !0, g = Si(n, h, l, 3, u, g)), v > 4 && it(n, l, 4, r) && (f = !0, g = Si(n, h, l, 4, r, g)), v > 5 && it(n, l, 5, a) && (f = !0, g = Si(n, h, l, 5, a, g)), v > 6 && it(n, l, 6, o) && (f = !0, g = Si(n, h, l, 6, o, g)), v > 7 && it(n, l, 7, s) && (f = !0, g = Si(n, h, l, 7, s, g)), v > 8 && it(n, l, 8, c) && (f = !0, g = Si(n, h, l, 8, c, g)), v > 9 && it(n, l, 9, d) && (f = !0, g = Si(n, h, l, 9, d, g)), g && p.ngOnChanges(g), 65536 & l.flags && He(n, 256, l.nodeIndex) && p.ngOnInit(), 262144 & l.flags && p.ngDoCheck(), f
                        }(n, l, e, t, i, u, r, a, o, s, c, d);
                    case 32:
                    case 64:
                    case 128:
                        return function (n, l, e, t, i, u, r, a, o, s, c, d) {
                            var h = l.bindings,
                                p = !1,
                                f = h.length;
                            if (f > 0 && ut(n, l, 0, e) && (p = !0), f > 1 && ut(n, l, 1, t) && (p = !0), f > 2 && ut(n, l, 2, i) && (p = !0), f > 3 && ut(n, l, 3, u) && (p = !0), f > 4 && ut(n, l, 4, r) && (p = !0), f > 5 && ut(n, l, 5, a) && (p = !0), f > 6 && ut(n, l, 6, o) && (p = !0), f > 7 && ut(n, l, 7, s) && (p = !0), f > 8 && ut(n, l, 8, c) && (p = !0), f > 9 && ut(n, l, 9, d) && (p = !0), p) {
                                var g, v = We(n, l.nodeIndex);
                                switch (201347067 & l.flags) {
                                    case 32:
                                        g = new Array(h.length), f > 0 && (g[0] = e), f > 1 && (g[1] = t), f > 2 && (g[2] = i), f > 3 && (g[3] = u), f > 4 && (g[4] = r), f > 5 && (g[5] = a), f > 6 && (g[6] = o), f > 7 && (g[7] = s), f > 8 && (g[8] = c), f > 9 && (g[9] = d);
                                        break;
                                    case 64:
                                        g = {}, f > 0 && (g[h[0].name] = e), f > 1 && (g[h[1].name] = t), f > 2 && (g[h[2].name] = i), f > 3 && (g[h[3].name] = u), f > 4 && (g[h[4].name] = r), f > 5 && (g[h[5].name] = a), f > 6 && (g[h[6].name] = o), f > 7 && (g[h[7].name] = s), f > 8 && (g[h[8].name] = c), f > 9 && (g[h[9].name] = d);
                                        break;
                                    case 128:
                                        var m = e;
                                        switch (f) {
                                            case 1:
                                                g = m.transform(e);
                                                break;
                                            case 2:
                                                g = m.transform(t);
                                                break;
                                            case 3:
                                                g = m.transform(t, i);
                                                break;
                                            case 4:
                                                g = m.transform(t, i, u);
                                                break;
                                            case 5:
                                                g = m.transform(t, i, u, r);
                                                break;
                                            case 6:
                                                g = m.transform(t, i, u, r, a);
                                                break;
                                            case 7:
                                                g = m.transform(t, i, u, r, a, o);
                                                break;
                                            case 8:
                                                g = m.transform(t, i, u, r, a, o, s);
                                                break;
                                            case 9:
                                                g = m.transform(t, i, u, r, a, o, s, c);
                                                break;
                                            case 10:
                                                g = m.transform(t, i, u, r, a, o, s, c, d)
                                        }
                                }
                                v.value = g
                            }
                            return p
                        }(n, l, e, t, i, u, r, a, o, s, c, d);
                    default:
                        throw "unreachable"
                }
            }(n, l, t, i, u, r, a, o, s, c, d, h) : function (n, l, e) {
                switch (201347067 & l.flags) {
                    case 1:
                        return function (n, l, e) {
                            for (var t = !1, i = 0; i < e.length; i++) er(n, l, i, e[i]) && (t = !0);
                            return t
                        }(n, l, e);
                    case 2:
                        return function (n, l, e) {
                            for (var t = l.bindings, i = !1, u = 0; u < e.length; u++) ut(n, l, u, e[u]) && (i = !0);
                            if (i) {
                                for (var r = "", a = 0; a < e.length; a++) r += gr(e[a], t[a]);
                                r = l.text.prefix + r;
                                var o = Ve(n, l.nodeIndex).renderText;
                                n.renderer.setValue(o, r)
                            }
                            return i
                        }(n, l, e);
                    case 16384:
                        return function (n, l, e) {
                            for (var t = Ge(n, l.nodeIndex), i = t.instance, u = !1, r = void 0, a = 0; a < e.length; a++) it(n, l, a, e[a]) && (u = !0, r = Si(n, t, l, a, e[a], r));
                            return r && i.ngOnChanges(r), 65536 & l.flags && He(n, 256, l.nodeIndex) && i.ngOnInit(), 262144 & l.flags && i.ngDoCheck(), u
                        }(n, l, e);
                    case 32:
                    case 64:
                    case 128:
                        return function (n, l, e) {
                            for (var t = l.bindings, i = !1, u = 0; u < e.length; u++) ut(n, l, u, e[u]) && (i = !0);
                            if (i) {
                                var r, a = We(n, l.nodeIndex);
                                switch (201347067 & l.flags) {
                                    case 32:
                                        r = e;
                                        break;
                                    case 64:
                                        r = {};
                                        for (var o = 0; o < e.length; o++) r[t[o].name] = e[o];
                                        break;
                                    case 128:
                                        var s = e[0],
                                            c = e.slice(1);
                                        r = s.transform.apply(s, _toConsumableArray(c))
                                }
                                a.value = r
                            }
                            return i
                        }(n, l, e);
                    default:
                        throw "unreachable"
                }
            }(n, l, t)
        }

        function Er(n) {
            var l = n.def;
            if (4 & l.nodeFlags)
                for (var e = 0; e < l.nodes.length; e++) {
                    var t = l.nodes[e];
                    if (4 & t.flags) {
                        var i = je(n, e).template._projectedViews;
                        if (i)
                            for (var u = 0; u < i.length; u++) {
                                var r = i[u];
                                r.state |= 32, ot(r, n)
                            }
                    } else 0 == (4 & t.childFlags) && (e += t.childCount)
                }
        }

        function Ar(n, l, e, t, i, u, r, a, o, s, c, d, h) {
            return 0 === e ? function (n, l, e, t, i, u, r, a, o, s, c, d) {
                var h = l.bindings.length;
                h > 0 && rt(n, l, 0, e), h > 1 && rt(n, l, 1, t), h > 2 && rt(n, l, 2, i), h > 3 && rt(n, l, 3, u), h > 4 && rt(n, l, 4, r), h > 5 && rt(n, l, 5, a), h > 6 && rt(n, l, 6, o), h > 7 && rt(n, l, 7, s), h > 8 && rt(n, l, 8, c), h > 9 && rt(n, l, 9, d)
            }(n, l, t, i, u, r, a, o, s, c, d, h) : function (n, l, e) {
                for (var t = 0; t < e.length; t++) rt(n, l, t, e[t])
            }(n, l, t), !1
        }

        function Pr(n, l) {
            if (Ke(n, l.nodeIndex).dirty) throw Fe(Ze.createDebugContext(n, l.nodeIndex), "Query ".concat(l.query.id, " not dirty"), "Query ".concat(l.query.id, " dirty"), 0 != (1 & n.state))
        }

        function Or(n) {
            if (!(128 & n.state)) {
                if (Mr(n, Dr.Destroy), Rr(n, Dr.Destroy), Ii(n, 131072), n.disposables)
                    for (var l = 0; l < n.disposables.length; l++) n.disposables[l]();
                ! function (n) {
                    if (16 & n.state) {
                        var l = ct(n);
                        if (l) {
                            var e = l.template._projectedViews;
                            e && (Zn(e, e.indexOf(n)), Ze.dirtyParentQueries(n))
                        }
                    }
                }(n), n.renderer.destroyNode && function (n) {
                    for (var l = n.def.nodes.length, e = 0; e < l; e++) {
                        var t = n.def.nodes[e];
                        1 & t.flags ? n.renderer.destroyNode(je(n, e).renderElement) : 2 & t.flags ? n.renderer.destroyNode(Ve(n, e).renderText) : (67108864 & t.flags || 134217728 & t.flags) && Ke(n, e).destroy()
                    }
                }(n), pt(n) && n.renderer.destroy(), n.state |= 128
            }
        }
        var Dr = function () {
            var n = {
                CreateViewNodes: 0,
                CheckNoChanges: 1,
                CheckNoChangesProjectedViews: 2,
                CheckAndUpdate: 3,
                CheckAndUpdateProjectedViews: 4,
                Destroy: 5
            };
            return n[n.CreateViewNodes] = "CreateViewNodes", n[n.CheckNoChanges] = "CheckNoChanges", n[n.CheckNoChangesProjectedViews] = "CheckNoChangesProjectedViews", n[n.CheckAndUpdate] = "CheckAndUpdate", n[n.CheckAndUpdateProjectedViews] = "CheckAndUpdateProjectedViews", n[n.Destroy] = "Destroy", n
        }();

        function Rr(n, l) {
            var e = n.def;
            if (33554432 & e.nodeFlags)
                for (var t = 0; t < e.nodes.length; t++) {
                    var i = e.nodes[t];
                    33554432 & i.flags ? Nr(je(n, t).componentView, l) : 0 == (33554432 & i.childFlags) && (t += i.childCount)
                }
        }

        function Mr(n, l) {
            var e = n.def;
            if (16777216 & e.nodeFlags)
                for (var t = 0; t < e.nodes.length; t++) {
                    var i = e.nodes[t];
                    if (16777216 & i.flags)
                        for (var u = je(n, t).viewContainer._embeddedViews, r = 0; r < u.length; r++) Nr(u[r], l);
                    else 0 == (16777216 & i.childFlags) && (t += i.childCount)
                }
        }

        function Nr(n, l) {
            var e = n.state;
            switch (l) {
                case Dr.CheckNoChanges:
                    0 == (128 & e) && (12 == (12 & e) ? Sr(n) : 64 & e && Br(n, Dr.CheckNoChangesProjectedViews));
                    break;
                case Dr.CheckNoChangesProjectedViews:
                    0 == (128 & e) && (32 & e ? Sr(n) : 64 & e && Br(n, l));
                    break;
                case Dr.CheckAndUpdate:
                    0 == (128 & e) && (12 == (12 & e) ? Ir(n) : 64 & e && Br(n, Dr.CheckAndUpdateProjectedViews));
                    break;
                case Dr.CheckAndUpdateProjectedViews:
                    0 == (128 & e) && (32 & e ? Ir(n) : 64 & e && Br(n, l));
                    break;
                case Dr.Destroy:
                    Or(n);
                    break;
                case Dr.CreateViewNodes:
                    Cr(n)
            }
        }

        function Br(n, l) {
            Mr(n, l), Rr(n, l)
        }

        function zr(n, l, e, t) {
            if (n.def.nodeFlags & l && n.def.nodeFlags & e)
                for (var i = n.def.nodes.length, u = 0; u < i; u++) {
                    var r = n.def.nodes[u];
                    if (r.flags & l && r.flags & e) switch (Ze.setCurrentNode(n, r.nodeIndex), t) {
                        case 0:
                            ur(n, r);
                            break;
                        case 1:
                            Pr(n, r)
                    }
                    r.childFlags & l && r.childFlags & e || (u += r.childCount)
                }
        }
        var Lr = !1;

        function Fr(n, l, e, t, i, u) {
            var r = i.injector.get(ge);
            return _r(Ur(n, i, r, l, e), t, u)
        }

        function qr(n, l, e, t, i, u) {
            var r = i.injector.get(ge),
                a = Ur(n, i, new ba(r), l, e),
                o = Yr(t);
            return ma(ra.create, _r, null, [a, o, u])
        }

        function Ur(n, l, e, t, i) {
            var u = l.injector.get(Pl),
                r = l.injector.get(il),
                a = e.createRenderer(null, null);
            return {
                ngModule: l,
                injector: n,
                projectableNodes: t,
                selectorOrNode: i,
                sanitizer: u,
                rendererFactory: e,
                renderer: a,
                errorHandler: r
            }
        }

        function $r(n, l, e, t) {
            var i = Yr(e);
            return ma(ra.create, br, null, [n, l, i, t])
        }

        function Hr(n, l, e, t) {
            return e = Wr.get(l.element.componentProvider.provider.token) || Yr(e), ma(ra.create, kr, null, [n, l, e, t])
        }

        function Vr(n, l, e, t) {
            return ei(n, l, e, function (n) {
                var l = function (n) {
                        var l = !1,
                            e = !1;
                        return 0 === jr.size ? {
                            hasOverrides: l,
                            hasDeprecatedOverrides: e
                        } : (n.providers.forEach((function (n) {
                            var t = jr.get(n.token);
                            3840 & n.flags && t && (l = !0, e = e || t.deprecatedBehavior)
                        })), n.modules.forEach((function (n) {
                            Gr.forEach((function (t, i) {
                                _n(i).providedIn === n && (l = !0, e = e || t.deprecatedBehavior)
                            }))
                        })), {
                            hasOverrides: l,
                            hasDeprecatedOverrides: e
                        })
                    }(n),
                    e = l.hasOverrides,
                    t = l.hasDeprecatedOverrides;
                return e ? (function (n) {
                    for (var l = 0; l < n.providers.length; l++) {
                        var e = n.providers[l];
                        t && (e.flags |= 4096);
                        var i = jr.get(e.token);
                        i && (e.flags = -3841 & e.flags | i.flags, e.deps = mt(i.deps), e.value = i.value)
                    }
                    if (Gr.size > 0) {
                        var u = new Set(n.modules);
                        Gr.forEach((function (l, e) {
                            if (u.has(_n(e).providedIn)) {
                                var i = {
                                    token: e,
                                    flags: l.flags | (t ? 4096 : 0),
                                    deps: mt(l.deps),
                                    value: l.value,
                                    index: n.providers.length
                                };
                                n.providers.push(i), n.providersByKey[Xe(e)] = i
                            }
                        }))
                    }
                }(n = n.factory((function () {
                    return Qe
                }))), n) : n
            }(t))
        }
        var jr = new Map,
            Gr = new Map,
            Wr = new Map;

        function Kr(n) {
            var l;
            jr.set(n.token, n), "function" == typeof n.token && (l = _n(n.token)) && "function" == typeof l.providedIn && Gr.set(n.token, n)
        }

        function Zr(n, l) {
            var e = _t(l.viewDefFactory),
                t = _t(e.nodes[0].element.componentView);
            Wr.set(n, t)
        }

        function Qr() {
            jr.clear(), Gr.clear(), Wr.clear()
        }

        function Yr(n) {
            if (0 === jr.size) return n;
            var l = function (n) {
                for (var l = [], e = null, t = 0; t < n.nodes.length; t++) {
                    var i = n.nodes[t];
                    1 & i.flags && (e = i), e && 3840 & i.flags && jr.has(i.provider.token) && (l.push(e.nodeIndex), e = null)
                }
                return l
            }(n);
            if (0 === l.length) return n;
            n = n.factory((function () {
                return Qe
            }));
            for (var e = 0; e < l.length; e++) t(n, l[e]);
            return n;

            function t(n, l) {
                for (var e = l + 1; e < n.nodes.length; e++) {
                    var t = n.nodes[e];
                    if (1 & t.flags) return;
                    if (3840 & t.flags) {
                        var i = t.provider,
                            u = jr.get(i.token);
                        u && (t.flags = -3841 & t.flags | u.flags, i.deps = mt(u.deps), i.value = u.value)
                    }
                }
            }
        }

        function Xr(n, l, e, t, i, u, r, a, o, s, c, d, h) {
            var p = n.def.nodes[l];
            return Tr(n, p, e, t, i, u, r, a, o, s, c, d, h), 224 & p.flags ? We(n, l).value : void 0
        }

        function Jr(n, l, e, t, i, u, r, a, o, s, c, d, h) {
            var p = n.def.nodes[l];
            return Ar(n, p, e, t, i, u, r, a, o, s, c, d, h), 224 & p.flags ? We(n, l).value : void 0
        }

        function na(n) {
            return ma(ra.detectChanges, Ir, null, [n])
        }

        function la(n) {
            return ma(ra.checkNoChanges, Sr, null, [n])
        }

        function ea(n) {
            return ma(ra.destroy, Or, null, [n])
        }
        var ta, ia, ua, ra = function () {
            var n = {
                create: 0,
                detectChanges: 1,
                checkNoChanges: 2,
                destroy: 3,
                handleEvent: 4
            };
            return n[n.create] = "create", n[n.detectChanges] = "detectChanges", n[n.checkNoChanges] = "checkNoChanges", n[n.destroy] = "destroy", n[n.handleEvent] = "handleEvent", n
        }();

        function aa(n, l) {
            ia = n, ua = l
        }

        function oa(n, l, e, t) {
            return aa(n, l), ma(ra.handleEvent, n.def.handleEvent, null, [n, l, e, t])
        }

        function sa(n, l) {
            if (128 & n.state) throw Ue(ra[ta]);
            return aa(n, pa(n, 0)), n.def.updateDirectives((function (n, e, t) {
                for (var i = n.def.nodes[e], u = arguments.length, r = new Array(u > 3 ? u - 3 : 0), a = 3; a < u; a++) r[a - 3] = arguments[a];
                return 0 === l ? da(n, i, t, r) : ha(n, i, t, r), 16384 & i.flags && aa(n, pa(n, e)), 224 & i.flags ? We(n, i.nodeIndex).value : void 0
            }), n)
        }

        function ca(n, l) {
            if (128 & n.state) throw Ue(ra[ta]);
            return aa(n, fa(n, 0)), n.def.updateRenderer((function (n, e, t) {
                for (var i = n.def.nodes[e], u = arguments.length, r = new Array(u > 3 ? u - 3 : 0), a = 3; a < u; a++) r[a - 3] = arguments[a];
                return 0 === l ? da(n, i, t, r) : ha(n, i, t, r), 3 & i.flags && aa(n, fa(n, e)), 224 & i.flags ? We(n, i.nodeIndex).value : void 0
            }), n)
        }

        function da(n, l, e, t) {
            if (Tr.apply(void 0, [n, l, e].concat(_toConsumableArray(t)))) {
                var i = 1 === e ? t[0] : t;
                if (16384 & l.flags) {
                    for (var u = {}, r = 0; r < l.bindings.length; r++) {
                        var a = l.bindings[r],
                            o = i[r];
                        8 & a.flags && (u[(p = a.nonMinifiedName, f = void 0, f = p.replace(/[$@]/g, "_"), "ng-reflect-".concat(p = f.replace(Rl, (function () {
                            for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                            return "-" + l[1].toLowerCase()
                        }))))] = Ml(o))
                    }
                    var s = l.parent,
                        c = je(n, s.nodeIndex).renderElement;
                    if (s.element.name)
                        for (var d in u) {
                            var h = u[d];
                            null != h ? n.renderer.setAttribute(c, d, h) : n.renderer.removeAttribute(c, d)
                        } else n.renderer.setValue(c, "bindings=".concat(JSON.stringify(u, null, 2)))
                }
            }
            var p, f
        }

        function ha(n, l, e, t) {
            Ar.apply(void 0, [n, l, e].concat(_toConsumableArray(t)))
        }

        function pa(n, l) {
            for (var e = l; e < n.def.nodes.length; e++) {
                var t = n.def.nodes[e];
                if (16384 & t.flags && t.bindings && t.bindings.length) return e
            }
            return null
        }

        function fa(n, l) {
            for (var e = l; e < n.def.nodes.length; e++) {
                var t = n.def.nodes[e];
                if (3 & t.flags && t.bindings && t.bindings.length) return e
            }
            return null
        }
        var ga = function () {
            function n(l, e) {
                _classCallCheck(this, n), this.view = l, this.nodeIndex = e, null == e && (this.nodeIndex = e = 0), this.nodeDef = l.def.nodes[e];
                for (var t = this.nodeDef, i = l; t && 0 == (1 & t.flags);) t = t.parent;
                if (!t)
                    for (; !t && i;) t = dt(i), i = i.parent;
                this.elDef = t, this.elView = i
            }
            return _createClass(n, [{
                key: "logError",
                value: function (n) {
                    for (var l = arguments.length, e = new Array(l > 1 ? l - 1 : 0), t = 1; t < l; t++) e[t - 1] = arguments[t];
                    var i, u;
                    2 & this.nodeDef.flags ? (i = this.view.def, u = this.nodeDef.nodeIndex) : (i = this.elView.def, u = this.elDef.nodeIndex);
                    var r = function (n, l) {
                            for (var e = -1, t = 0; t <= l; t++) 3 & n.nodes[t].flags && e++;
                            return e
                        }(i, u),
                        a = -1;
                    i.factory((function () {
                        var l;
                        return ++a === r ? (l = n.error).bind.apply(l, [n].concat(e)) : Qe
                    })), a < r && (n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"), n.error.apply(n, e))
                }
            }, {
                key: "elOrCompView",
                get: function () {
                    return je(this.elView, this.elDef.nodeIndex).componentView || this.view
                }
            }, {
                key: "injector",
                get: function () {
                    return Yt(this.elView, this.elDef)
                }
            }, {
                key: "component",
                get: function () {
                    return this.elOrCompView.component
                }
            }, {
                key: "context",
                get: function () {
                    return this.elOrCompView.context
                }
            }, {
                key: "providerTokens",
                get: function () {
                    var n = [];
                    if (this.elDef)
                        for (var l = this.elDef.nodeIndex + 1; l <= this.elDef.nodeIndex + this.elDef.childCount; l++) {
                            var e = this.elView.def.nodes[l];
                            20224 & e.flags && n.push(e.provider.token), l += e.childCount
                        }
                    return n
                }
            }, {
                key: "references",
                get: function () {
                    var n = {};
                    if (this.elDef) {
                        va(this.elView, this.elDef, n);
                        for (var l = this.elDef.nodeIndex + 1; l <= this.elDef.nodeIndex + this.elDef.childCount; l++) {
                            var e = this.elView.def.nodes[l];
                            20224 & e.flags && va(this.elView, e, n), l += e.childCount
                        }
                    }
                    return n
                }
            }, {
                key: "componentRenderElement",
                get: function () {
                    var n = function (n) {
                        for (; n && !pt(n);) n = n.parent;
                        return n.parent ? je(n.parent, dt(n).nodeIndex) : null
                    }(this.elOrCompView);
                    return n ? n.renderElement : void 0
                }
            }, {
                key: "renderNode",
                get: function () {
                    return 2 & this.nodeDef.flags ? ht(this.view, this.nodeDef) : ht(this.elView, this.elDef)
                }
            }]), n
        }();

        function va(n, l, e) {
            for (var t in l.references) e[t] = ar(n, l, l.references[t])
        }

        function ma(n, l, e, t) {
            var i, u, r = ta,
                a = ia,
                o = ua;
            try {
                ta = n;
                var s = l.apply(e, t);
                return ia = a, ua = o, ta = r, s
            } catch (c) {
                if (ll(c) || !ia) throw c;
                throw i = c, u = ya(), i instanceof Error || (i = new Error(i.toString())), qe(i, u), i
            }
        }

        function ya() {
            return ia ? new ga(ia, ua) : null
        }
        var ba = function () {
                function n(l) {
                    _classCallCheck(this, n), this.delegate = l
                }
                return _createClass(n, [{
                    key: "createRenderer",
                    value: function (n, l) {
                        return new _a(this.delegate.createRenderer(n, l))
                    }
                }, {
                    key: "begin",
                    value: function () {
                        this.delegate.begin && this.delegate.begin()
                    }
                }, {
                    key: "end",
                    value: function () {
                        this.delegate.end && this.delegate.end()
                    }
                }, {
                    key: "whenRenderingDone",
                    value: function () {
                        return this.delegate.whenRenderingDone ? this.delegate.whenRenderingDone() : Promise.resolve(null)
                    }
                }]), n
            }(),
            _a = function () {
                function n(l) {
                    _classCallCheck(this, n), this.delegate = l, this.debugContextFactory = ya, this.data = this.delegate.data
                }
                return _createClass(n, [{
                    key: "createDebugContext",
                    value: function (n) {
                        return this.debugContextFactory(n)
                    }
                }, {
                    key: "destroyNode",
                    value: function (n) {
                        var l = Hu(n);
                        ! function (n) {
                            $u.delete(n.nativeNode)
                        }(l), l instanceof qu && (l.listeners.length = 0), this.delegate.destroyNode && this.delegate.destroyNode(n)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.delegate.destroy()
                    }
                }, {
                    key: "createElement",
                    value: function (n, l) {
                        var e = this.delegate.createElement(n, l),
                            t = this.createDebugContext(e);
                        if (t) {
                            var i = new Uu(e, null, t);
                            i.name = n, Vu(i)
                        }
                        return e
                    }
                }, {
                    key: "createComment",
                    value: function (n) {
                        var l = this.delegate.createComment(n),
                            e = this.createDebugContext(l);
                        return e && Vu(new qu(l, null, e)), l
                    }
                }, {
                    key: "createText",
                    value: function (n) {
                        var l = this.delegate.createText(n),
                            e = this.createDebugContext(l);
                        return e && Vu(new qu(l, null, e)), l
                    }
                }, {
                    key: "appendChild",
                    value: function (n, l) {
                        var e = Hu(n),
                            t = Hu(l);
                        e && t && e instanceof Uu && e.addChild(t), this.delegate.appendChild(n, l)
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, l, e) {
                        var t = Hu(n),
                            i = Hu(l),
                            u = Hu(e);
                        t && i && t instanceof Uu && t.insertBefore(u, i), this.delegate.insertBefore(n, l, e)
                    }
                }, {
                    key: "removeChild",
                    value: function (n, l) {
                        var e = Hu(n),
                            t = Hu(l);
                        e && t && e instanceof Uu && e.removeChild(t), this.delegate.removeChild(n, l)
                    }
                }, {
                    key: "selectRootElement",
                    value: function (n, l) {
                        var e = this.delegate.selectRootElement(n, l),
                            t = ya();
                        return t && Vu(new Uu(e, null, t)), e
                    }
                }, {
                    key: "setAttribute",
                    value: function (n, l, e, t) {
                        var i = Hu(n);
                        i && i instanceof Uu && (i.attributes[t ? t + ":" + l : l] = e), this.delegate.setAttribute(n, l, e, t)
                    }
                }, {
                    key: "removeAttribute",
                    value: function (n, l, e) {
                        var t = Hu(n);
                        t && t instanceof Uu && (t.attributes[e ? e + ":" + l : l] = null), this.delegate.removeAttribute(n, l, e)
                    }
                }, {
                    key: "addClass",
                    value: function (n, l) {
                        var e = Hu(n);
                        e && e instanceof Uu && (e.classes[l] = !0), this.delegate.addClass(n, l)
                    }
                }, {
                    key: "removeClass",
                    value: function (n, l) {
                        var e = Hu(n);
                        e && e instanceof Uu && (e.classes[l] = !1), this.delegate.removeClass(n, l)
                    }
                }, {
                    key: "setStyle",
                    value: function (n, l, e, t) {
                        var i = Hu(n);
                        i && i instanceof Uu && (i.styles[l] = e), this.delegate.setStyle(n, l, e, t)
                    }
                }, {
                    key: "removeStyle",
                    value: function (n, l, e) {
                        var t = Hu(n);
                        t && t instanceof Uu && (t.styles[l] = null), this.delegate.removeStyle(n, l, e)
                    }
                }, {
                    key: "setProperty",
                    value: function (n, l, e) {
                        var t = Hu(n);
                        t && t instanceof Uu && (t.properties[l] = e), this.delegate.setProperty(n, l, e)
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e) {
                        if ("string" != typeof n) {
                            var t = Hu(n);
                            t && t.listeners.push(new Fu(l, e))
                        }
                        return this.delegate.listen(n, l, e)
                    }
                }, {
                    key: "parentNode",
                    value: function (n) {
                        return this.delegate.parentNode(n)
                    }
                }, {
                    key: "nextSibling",
                    value: function (n) {
                        return this.delegate.nextSibling(n)
                    }
                }, {
                    key: "setValue",
                    value: function (n, l) {
                        return this.delegate.setValue(n, l)
                    }
                }]), n
            }();
        var ka = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).moduleType = n, i._bootstrapComponents = e, i._ngModuleDefFactory = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "create",
                    value: function (n) {
                        ! function () {
                            if (!Lr) {
                                Lr = !0;
                                var n = al() ? {
                                    setCurrentNode: aa,
                                    createRootView: qr,
                                    createEmbeddedView: $r,
                                    createComponentView: Hr,
                                    createNgModuleRef: Vr,
                                    overrideProvider: Kr,
                                    overrideComponentView: Zr,
                                    clearOverrides: Qr,
                                    checkAndUpdateView: na,
                                    checkNoChangesView: la,
                                    destroyView: ea,
                                    createDebugContext: function (n, l) {
                                        return new ga(n, l)
                                    },
                                    handleEvent: oa,
                                    updateDirectives: sa,
                                    updateRenderer: ca
                                } : {
                                    setCurrentNode: function () {},
                                    createRootView: Fr,
                                    createEmbeddedView: br,
                                    createComponentView: kr,
                                    createNgModuleRef: ei,
                                    overrideProvider: Qe,
                                    overrideComponentView: Qe,
                                    clearOverrides: Qe,
                                    checkAndUpdateView: Ir,
                                    checkNoChangesView: Sr,
                                    destroyView: Or,
                                    createDebugContext: function (n, l) {
                                        return new ga(n, l)
                                    },
                                    handleEvent: function (n, l, e, t) {
                                        return n.def.handleEvent(n, l, e, t)
                                    },
                                    updateDirectives: function (n, l) {
                                        return n.def.updateDirectives(0 === l ? Xr : Jr, n)
                                    },
                                    updateRenderer: function (n, l) {
                                        return n.def.updateRenderer(0 === l ? Xr : Jr, n)
                                    }
                                };
                                Ze.setCurrentNode = n.setCurrentNode, Ze.createRootView = n.createRootView, Ze.createEmbeddedView = n.createEmbeddedView, Ze.createComponentView = n.createComponentView, Ze.createNgModuleRef = n.createNgModuleRef, Ze.overrideProvider = n.overrideProvider, Ze.overrideComponentView = n.overrideComponentView, Ze.clearOverrides = n.clearOverrides, Ze.checkAndUpdateView = n.checkAndUpdateView, Ze.checkNoChangesView = n.checkNoChangesView, Ze.destroyView = n.destroyView, Ze.resolveDep = xi, Ze.createDebugContext = n.createDebugContext, Ze.handleEvent = n.handleEvent, Ze.updateDirectives = n.updateDirectives, Ze.updateRenderer = n.updateRenderer, Ze.dirtyParentQueries = ir
                            }
                        }();
                        var l = function (n) {
                            var l = Array.from(n.providers),
                                e = Array.from(n.modules),
                                t = {};
                            for (var i in n.providersByKey) t[i] = n.providersByKey[i];
                            return {
                                factory: n.factory,
                                isRoot: n.isRoot,
                                providers: l,
                                modules: e,
                                providersByKey: t
                            }
                        }(_t(this._ngModuleDefFactory));
                        return Ze.createNgModuleRef(this.moduleType, n || Fl.NULL, this._bootstrapComponents, l)
                    }
                }]), l
            }(Wn),
            wa = {
                production: !0
            },
            xa = function n() {
                _classCallCheck(this, n)
            },
            Ca = function () {
                function n(l) {
                    _classCallCheck(this, n), this.kongService = l
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
//                        wa.production && !document.domain.endsWith("netlify.com") && (this.baddomain = !0);
                        var n = !1;
                        try {
                            localStorage && localStorage.fsa && (localStorage.removeItem("fsa"), n = !0)
                        } catch (l) {}!wa.production || this.inIframe() || n || "festive-perlman-5fad70.netlify.com" != document.location.host || (document.location.href = "https://www.kongregate.com/games/to_change_later/cividlization-2", this.baddomain = !0);
                        try {
                            localStorage.openpages = Date.now(), window.addEventListener("storage", (function (n) {
                                "openpages" == n.key && (localStorage.page_available = Date.now()), "page_available" == n.key && (this.error = "Game is already running in another tab")
                            }).bind(this), !1)
                        } catch (l) {}
                        this.kongService.submmitStat("initialized", 1)
                    }
                }, {
                    key: "inIframe",
                    value: function () {
                        return window.self !== window.top
                    }
                }]), n
            }(),
            Sa = function n() {
                _classCallCheck(this, n)
            },
            Ia = new Dn("Location Initialized"),
            Ta = function n() {
                _classCallCheck(this, n)
            },
            Ea = new Dn("appBaseHref"),
            Aa = function () {
                function n(l, e) {
                    var t = this;
                    _classCallCheck(this, n), this._subject = new zi, this._urlChangeListeners = [], this._platformStrategy = l;
                    var i = this._platformStrategy.getBaseHref();
                    this._platformLocation = e, this._baseHref = n.stripTrailingSlash(Pa(i)), this._platformStrategy.onPopState((function (n) {
                        t._subject.emit({
                            url: t.path(!0),
                            pop: !0,
                            state: n.state,
                            type: n.type
                        })
                    }))
                }
                return _createClass(n, [{
                    key: "path",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        return this.normalize(this._platformStrategy.path(n))
                    }
                }, {
                    key: "getState",
                    value: function () {
                        return this._platformLocation.getState()
                    }
                }, {
                    key: "isCurrentPathEqualTo",
                    value: function (l) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                        return this.path() == this.normalize(l + n.normalizeQueryParams(e))
                    }
                }, {
                    key: "normalize",
                    value: function (l) {
                        return n.stripTrailingSlash(function (n, l) {
                            return n && l.startsWith(n) ? l.substring(n.length) : l
                        }(this._baseHref, Pa(l)))
                    }
                }, {
                    key: "prepareExternalUrl",
                    value: function (n) {
                        return n && "/" !== n[0] && (n = "/" + n), this._platformStrategy.prepareExternalUrl(n)
                    }
                }, {
                    key: "go",
                    value: function (l) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                        this._platformStrategy.pushState(t, "", l, e), this._notifyUrlChangeListeners(this.prepareExternalUrl(l + n.normalizeQueryParams(e)), t)
                    }
                }, {
                    key: "replaceState",
                    value: function (l) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                        this._platformStrategy.replaceState(t, "", l, e), this._notifyUrlChangeListeners(this.prepareExternalUrl(l + n.normalizeQueryParams(e)), t)
                    }
                }, {
                    key: "forward",
                    value: function () {
                        this._platformStrategy.forward()
                    }
                }, {
                    key: "back",
                    value: function () {
                        this._platformStrategy.back()
                    }
                }, {
                    key: "onUrlChange",
                    value: function (n) {
                        var l = this;
                        this._urlChangeListeners.push(n), this.subscribe((function (n) {
                            l._notifyUrlChangeListeners(n.url, n.state)
                        }))
                    }
                }, {
                    key: "_notifyUrlChangeListeners",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            l = arguments.length > 1 ? arguments[1] : void 0;
                        this._urlChangeListeners.forEach((function (e) {
                            return e(n, l)
                        }))
                    }
                }, {
                    key: "subscribe",
                    value: function (n, l, e) {
                        return this._subject.subscribe({
                            next: n,
                            error: l,
                            complete: e
                        })
                    }
                }], [{
                    key: "normalizeQueryParams",
                    value: function (n) {
                        return n && "?" !== n[0] ? "?" + n : n
                    }
                }, {
                    key: "joinWithSlash",
                    value: function (n, l) {
                        if (0 == n.length) return l;
                        if (0 == l.length) return n;
                        var e = 0;
                        return n.endsWith("/") && e++, l.startsWith("/") && e++, 2 == e ? n + l.substring(1) : 1 == e ? n + l : n + "/" + l
                    }
                }, {
                    key: "stripTrailingSlash",
                    value: function (n) {
                        var l = n.match(/#|\?|$/),
                            e = l && l.index || n.length;
                        return n.slice(0, e - ("/" === n[e - 1] ? 1 : 0)) + n.slice(e)
                    }
                }]), n
            }();

        function Pa(n) {
            return n.replace(/\/index.html$/, "")
        }
        var Oa = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._platformLocation = n, t._baseHref = "", null != e && (t._baseHref = e), t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "onPopState",
                    value: function (n) {
                        this._platformLocation.onPopState(n), this._platformLocation.onHashChange(n)
                    }
                }, {
                    key: "getBaseHref",
                    value: function () {
                        return this._baseHref
                    }
                }, {
                    key: "path",
                    value: function () {
                        arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        var n = this._platformLocation.hash;
                        return null == n && (n = "#"), n.length > 0 ? n.substring(1) : n
                    }
                }, {
                    key: "prepareExternalUrl",
                    value: function (n) {
                        var l = Aa.joinWithSlash(this._baseHref, n);
                        return l.length > 0 ? "#" + l : l
                    }
                }, {
                    key: "pushState",
                    value: function (n, l, e, t) {
                        var i = this.prepareExternalUrl(e + Aa.normalizeQueryParams(t));
                        0 == i.length && (i = this._platformLocation.pathname), this._platformLocation.pushState(n, l, i)
                    }
                }, {
                    key: "replaceState",
                    value: function (n, l, e, t) {
                        var i = this.prepareExternalUrl(e + Aa.normalizeQueryParams(t));
                        0 == i.length && (i = this._platformLocation.pathname), this._platformLocation.replaceState(n, l, i)
                    }
                }, {
                    key: "forward",
                    value: function () {
                        this._platformLocation.forward()
                    }
                }, {
                    key: "back",
                    value: function () {
                        this._platformLocation.back()
                    }
                }]), l
            }(Ta),
            Da = function (n) {
                function l(n, e) {
                    var t;
                    if (_classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._platformLocation = n, null == e && (e = t._platformLocation.getBaseHrefFromDOM()), null == e) throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");
                    return t._baseHref = e, _possibleConstructorReturn(t)
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "onPopState",
                    value: function (n) {
                        this._platformLocation.onPopState(n), this._platformLocation.onHashChange(n)
                    }
                }, {
                    key: "getBaseHref",
                    value: function () {
                        return this._baseHref
                    }
                }, {
                    key: "prepareExternalUrl",
                    value: function (n) {
                        return Aa.joinWithSlash(this._baseHref, n)
                    }
                }, {
                    key: "path",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            l = this._platformLocation.pathname + Aa.normalizeQueryParams(this._platformLocation.search),
                            e = this._platformLocation.hash;
                        return e && n ? "".concat(l).concat(e) : l
                    }
                }, {
                    key: "pushState",
                    value: function (n, l, e, t) {
                        var i = this.prepareExternalUrl(e + Aa.normalizeQueryParams(t));
                        this._platformLocation.pushState(n, l, i)
                    }
                }, {
                    key: "replaceState",
                    value: function (n, l, e, t) {
                        var i = this.prepareExternalUrl(e + Aa.normalizeQueryParams(t));
                        this._platformLocation.replaceState(n, l, i)
                    }
                }, {
                    key: "forward",
                    value: function () {
                        this._platformLocation.forward()
                    }
                }, {
                    key: "back",
                    value: function () {
                        this._platformLocation.back()
                    }
                }]), l
            }(Ta),
            Ra = function () {
                var n = {
                    Zero: 0,
                    One: 1,
                    Two: 2,
                    Few: 3,
                    Many: 4,
                    Other: 5
                };
                return n[n.Zero] = "Zero", n[n.One] = "One", n[n.Two] = "Two", n[n.Few] = "Few", n[n.Many] = "Many", n[n.Other] = "Other", n
            }(),
            Ma = function () {
                var n = {
                    Format: 0,
                    Standalone: 1
                };
                return n[n.Format] = "Format", n[n.Standalone] = "Standalone", n
            }(),
            Na = function () {
                var n = {
                    Narrow: 0,
                    Abbreviated: 1,
                    Wide: 2,
                    Short: 3
                };
                return n[n.Narrow] = "Narrow", n[n.Abbreviated] = "Abbreviated", n[n.Wide] = "Wide", n[n.Short] = "Short", n
            }(),
            Ba = function () {
                var n = {
                    Short: 0,
                    Medium: 1,
                    Long: 2,
                    Full: 3
                };
                return n[n.Short] = "Short", n[n.Medium] = "Medium", n[n.Long] = "Long", n[n.Full] = "Full", n
            }(),
            za = function () {
                var n = {
                    Decimal: 0,
                    Group: 1,
                    List: 2,
                    PercentSign: 3,
                    PlusSign: 4,
                    MinusSign: 5,
                    Exponential: 6,
                    SuperscriptingExponent: 7,
                    PerMille: 8,
                    Infinity: 9,
                    NaN: 10,
                    TimeSeparator: 11,
                    CurrencyDecimal: 12,
                    CurrencyGroup: 13
                };
                return n[n.Decimal] = "Decimal", n[n.Group] = "Group", n[n.List] = "List", n[n.PercentSign] = "PercentSign", n[n.PlusSign] = "PlusSign", n[n.MinusSign] = "MinusSign", n[n.Exponential] = "Exponential", n[n.SuperscriptingExponent] = "SuperscriptingExponent", n[n.PerMille] = "PerMille", n[n.Infinity] = "Infinity", n[n.NaN] = "NaN", n[n.TimeSeparator] = "TimeSeparator", n[n.CurrencyDecimal] = "CurrencyDecimal", n[n.CurrencyGroup] = "CurrencyGroup", n
            }();

        function La(n, l, e) {
            var t = Mi(n),
                i = ja([t[Oi.DaysFormat], t[Oi.DaysStandalone]], l);
            return ja(i, e)
        }

        function Fa(n, l, e) {
            var t = Mi(n),
                i = ja([t[Oi.MonthsFormat], t[Oi.MonthsStandalone]], l);
            return ja(i, e)
        }

        function qa(n, l) {
            return ja(Mi(n)[Oi.DateFormat], l)
        }

        function Ua(n, l) {
            return ja(Mi(n)[Oi.TimeFormat], l)
        }

        function $a(n, l) {
            return ja(Mi(n)[Oi.DateTimeFormat], l)
        }

        function Ha(n, l) {
            var e = Mi(n),
                t = e[Oi.NumberSymbols][l];
            if (void 0 === t) {
                if (l === za.CurrencyDecimal) return e[Oi.NumberSymbols][za.Decimal];
                if (l === za.CurrencyGroup) return e[Oi.NumberSymbols][za.Group]
            }
            return t
        }

        function Va(n) {
            if (!n[Oi.ExtraData]) throw new Error('Missing extra locale data for the locale "'.concat(n[Oi.LocaleId], '". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))
        }

        function ja(n, l) {
            for (var e = l; e > -1; e--)
                if (void 0 !== n[e]) return n[e];
            throw new Error("Locale data API: locale data undefined")
        }

        function Ga(n) {
            var l = _slicedToArray(n.split(":"), 2);
            return {
                hours: +l[0],
                minutes: +l[1]
            }
        }
        var Wa = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,
            Ka = {},
            Za = /((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,
            Qa = function () {
                var n = {
                    Short: 0,
                    ShortGMT: 1,
                    Long: 2,
                    Extended: 3
                };
                return n[n.Short] = "Short", n[n.ShortGMT] = "ShortGMT", n[n.Long] = "Long", n[n.Extended] = "Extended", n
            }(),
            Ya = function () {
                var n = {
                    FullYear: 0,
                    Month: 1,
                    Date: 2,
                    Hours: 3,
                    Minutes: 4,
                    Seconds: 5,
                    FractionalSeconds: 6,
                    Day: 7
                };
                return n[n.FullYear] = "FullYear", n[n.Month] = "Month", n[n.Date] = "Date", n[n.Hours] = "Hours", n[n.Minutes] = "Minutes", n[n.Seconds] = "Seconds", n[n.FractionalSeconds] = "FractionalSeconds", n[n.Day] = "Day", n
            }(),
            Xa = function () {
                var n = {
                    DayPeriods: 0,
                    Days: 1,
                    Months: 2,
                    Eras: 3
                };
                return n[n.DayPeriods] = "DayPeriods", n[n.Days] = "Days", n[n.Months] = "Months", n[n.Eras] = "Eras", n
            }();

        function Ja(n, l, e, t) {
            var i = function (n) {
                if (co(n)) return n;
                if ("number" == typeof n && !isNaN(n)) return new Date(n);
                if ("string" == typeof n) {
                    n = n.trim();
                    var l, e = parseFloat(n);
                    if (!isNaN(n - e)) return new Date(e);
                    if (/^(\d{4}-\d{1,2}-\d{1,2})$/.test(n)) {
                        var t = _slicedToArray(n.split("-").map((function (n) {
                                return +n
                            })), 3),
                            i = t[0],
                            u = t[1],
                            r = t[2];
                        return new Date(i, u - 1, r)
                    }
                    if (l = n.match(Wa)) return function (n) {
                        var l = new Date(0),
                            e = 0,
                            t = 0,
                            i = n[8] ? l.setUTCFullYear : l.setFullYear,
                            u = n[8] ? l.setUTCHours : l.setHours;
                        n[9] && (e = Number(n[9] + n[10]), t = Number(n[9] + n[11])), i.call(l, Number(n[1]), Number(n[2]) - 1, Number(n[3]));
                        var r = Number(n[4] || 0) - e,
                            a = Number(n[5] || 0) - t,
                            o = Number(n[6] || 0),
                            s = Math.round(1e3 * parseFloat("0." + (n[7] || 0)));
                        return u.call(l, r, a, o, s), l
                    }(l)
                }
                var a = new Date(n);
                if (!co(a)) throw new Error('Unable to convert "'.concat(n, '" into a date'));
                return a
            }(n);
            l = function n(l, e) {
                var t = function (n) {
                    return Mi(n)[Oi.LocaleId]
                }(l);
                if (Ka[t] = Ka[t] || {}, Ka[t][e]) return Ka[t][e];
                var i = "";
                switch (e) {
                    case "shortDate":
                        i = qa(l, Ba.Short);
                        break;
                    case "mediumDate":
                        i = qa(l, Ba.Medium);
                        break;
                    case "longDate":
                        i = qa(l, Ba.Long);
                        break;
                    case "fullDate":
                        i = qa(l, Ba.Full);
                        break;
                    case "shortTime":
                        i = Ua(l, Ba.Short);
                        break;
                    case "mediumTime":
                        i = Ua(l, Ba.Medium);
                        break;
                    case "longTime":
                        i = Ua(l, Ba.Long);
                        break;
                    case "fullTime":
                        i = Ua(l, Ba.Full);
                        break;
                    case "short":
                        var u = n(l, "shortTime"),
                            r = n(l, "shortDate");
                        i = no($a(l, Ba.Short), [u, r]);
                        break;
                    case "medium":
                        var a = n(l, "mediumTime"),
                            o = n(l, "mediumDate");
                        i = no($a(l, Ba.Medium), [a, o]);
                        break;
                    case "long":
                        var s = n(l, "longTime"),
                            c = n(l, "longDate");
                        i = no($a(l, Ba.Long), [s, c]);
                        break;
                    case "full":
                        var d = n(l, "fullTime"),
                            h = n(l, "fullDate");
                        i = no($a(l, Ba.Full), [d, h])
                }
                return i && (Ka[t][e] = i), i
            }(e, l) || l;
            for (var u, r = []; l;) {
                if (!(u = Za.exec(l))) {
                    r.push(l);
                    break
                }
                var a = (r = r.concat(u.slice(1))).pop();
                if (!a) break;
                l = a
            }
            var o = i.getTimezoneOffset();
            t && (o = so(t, o), i = function (n, l, e) {
                var t = n.getTimezoneOffset();
                return function (n, l) {
                    return (n = new Date(n.getTime())).setMinutes(n.getMinutes() + l), n
                }(n, -1 * (so(l, t) - t))
            }(i, t));
            var s = "";
            return r.forEach((function (n) {
                var l = function (n) {
                    if (oo[n]) return oo[n];
                    var l;
                    switch (n) {
                        case "G":
                        case "GG":
                        case "GGG":
                            l = to(Xa.Eras, Na.Abbreviated);
                            break;
                        case "GGGG":
                            l = to(Xa.Eras, Na.Wide);
                            break;
                        case "GGGGG":
                            l = to(Xa.Eras, Na.Narrow);
                            break;
                        case "y":
                            l = eo(Ya.FullYear, 1, 0, !1, !0);
                            break;
                        case "yy":
                            l = eo(Ya.FullYear, 2, 0, !0, !0);
                            break;
                        case "yyy":
                            l = eo(Ya.FullYear, 3, 0, !1, !0);
                            break;
                        case "yyyy":
                            l = eo(Ya.FullYear, 4, 0, !1, !0);
                            break;
                        case "M":
                        case "L":
                            l = eo(Ya.Month, 1, 1);
                            break;
                        case "MM":
                        case "LL":
                            l = eo(Ya.Month, 2, 1);
                            break;
                        case "MMM":
                            l = to(Xa.Months, Na.Abbreviated);
                            break;
                        case "MMMM":
                            l = to(Xa.Months, Na.Wide);
                            break;
                        case "MMMMM":
                            l = to(Xa.Months, Na.Narrow);
                            break;
                        case "LLL":
                            l = to(Xa.Months, Na.Abbreviated, Ma.Standalone);
                            break;
                        case "LLLL":
                            l = to(Xa.Months, Na.Wide, Ma.Standalone);
                            break;
                        case "LLLLL":
                            l = to(Xa.Months, Na.Narrow, Ma.Standalone);
                            break;
                        case "w":
                            l = ao(1);
                            break;
                        case "ww":
                            l = ao(2);
                            break;
                        case "W":
                            l = ao(1, !0);
                            break;
                        case "d":
                            l = eo(Ya.Date, 1);
                            break;
                        case "dd":
                            l = eo(Ya.Date, 2);
                            break;
                        case "E":
                        case "EE":
                        case "EEE":
                            l = to(Xa.Days, Na.Abbreviated);
                            break;
                        case "EEEE":
                            l = to(Xa.Days, Na.Wide);
                            break;
                        case "EEEEE":
                            l = to(Xa.Days, Na.Narrow);
                            break;
                        case "EEEEEE":
                            l = to(Xa.Days, Na.Short);
                            break;
                        case "a":
                        case "aa":
                        case "aaa":
                            l = to(Xa.DayPeriods, Na.Abbreviated);
                            break;
                        case "aaaa":
                            l = to(Xa.DayPeriods, Na.Wide);
                            break;
                        case "aaaaa":
                            l = to(Xa.DayPeriods, Na.Narrow);
                            break;
                        case "b":
                        case "bb":
                        case "bbb":
                            l = to(Xa.DayPeriods, Na.Abbreviated, Ma.Standalone, !0);
                            break;
                        case "bbbb":
                            l = to(Xa.DayPeriods, Na.Wide, Ma.Standalone, !0);
                            break;
                        case "bbbbb":
                            l = to(Xa.DayPeriods, Na.Narrow, Ma.Standalone, !0);
                            break;
                        case "B":
                        case "BB":
                        case "BBB":
                            l = to(Xa.DayPeriods, Na.Abbreviated, Ma.Format, !0);
                            break;
                        case "BBBB":
                            l = to(Xa.DayPeriods, Na.Wide, Ma.Format, !0);
                            break;
                        case "BBBBB":
                            l = to(Xa.DayPeriods, Na.Narrow, Ma.Format, !0);
                            break;
                        case "h":
                            l = eo(Ya.Hours, 1, -12);
                            break;
                        case "hh":
                            l = eo(Ya.Hours, 2, -12);
                            break;
                        case "H":
                            l = eo(Ya.Hours, 1);
                            break;
                        case "HH":
                            l = eo(Ya.Hours, 2);
                            break;
                        case "m":
                            l = eo(Ya.Minutes, 1);
                            break;
                        case "mm":
                            l = eo(Ya.Minutes, 2);
                            break;
                        case "s":
                            l = eo(Ya.Seconds, 1);
                            break;
                        case "ss":
                            l = eo(Ya.Seconds, 2);
                            break;
                        case "S":
                            l = eo(Ya.FractionalSeconds, 1);
                            break;
                        case "SS":
                            l = eo(Ya.FractionalSeconds, 2);
                            break;
                        case "SSS":
                            l = eo(Ya.FractionalSeconds, 3);
                            break;
                        case "Z":
                        case "ZZ":
                        case "ZZZ":
                            l = io(Qa.Short);
                            break;
                        case "ZZZZZ":
                            l = io(Qa.Extended);
                            break;
                        case "O":
                        case "OO":
                        case "OOO":
                        case "z":
                        case "zz":
                        case "zzz":
                            l = io(Qa.ShortGMT);
                            break;
                        case "OOOO":
                        case "ZZZZ":
                        case "zzzz":
                            l = io(Qa.Long);
                            break;
                        default:
                            return null
                    }
                    return oo[n] = l, l
                }(n);
                s += l ? l(i, e, o) : "''" === n ? "'" : n.replace(/(^'|'$)/g, "").replace(/''/g, "'")
            })), s
        }

        function no(n, l) {
            return l && (n = n.replace(/\{([^}]+)}/g, (function (n, e) {
                return null != l && e in l ? l[e] : n
            }))), n
        }

        function lo(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "-",
                t = arguments.length > 3 ? arguments[3] : void 0,
                i = arguments.length > 4 ? arguments[4] : void 0,
                u = "";
            (n < 0 || i && n <= 0) && (i ? n = 1 - n : (n = -n, u = e));
            for (var r = String(n); r.length < l;) r = "0" + r;
            return t && (r = r.substr(r.length - l)), u + r
        }

        function eo(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                t = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
            return function (u, r) {
                var a, o = function (n, l) {
                    switch (n) {
                        case Ya.FullYear:
                            return l.getFullYear();
                        case Ya.Month:
                            return l.getMonth();
                        case Ya.Date:
                            return l.getDate();
                        case Ya.Hours:
                            return l.getHours();
                        case Ya.Minutes:
                            return l.getMinutes();
                        case Ya.Seconds:
                            return l.getSeconds();
                        case Ya.FractionalSeconds:
                            return l.getMilliseconds();
                        case Ya.Day:
                            return l.getDay();
                        default:
                            throw new Error('Unknown DateType value "'.concat(n, '".'))
                    }
                }(n, u);
                if ((e > 0 || o > -e) && (o += e), n === Ya.Hours) 0 === o && -12 === e && (o = 12);
                else if (n === Ya.FractionalSeconds) return a = l, lo(o, 3).substr(0, a);
                var s = Ha(r, za.MinusSign);
                return lo(o, l, s, t, i)
            }
        }

        function to(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Ma.Format,
                t = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            return function (i, u) {
                return function (n, l, e, t, i, u) {
                    switch (e) {
                        case Xa.Months:
                            return Fa(l, i, t)[n.getMonth()];
                        case Xa.Days:
                            return La(l, i, t)[n.getDay()];
                        case Xa.DayPeriods:
                            var r = n.getHours(),
                                a = n.getMinutes();
                            if (u) {
                                var o, s = function (n) {
                                        var l = Mi(n);
                                        return Va(l), (l[Oi.ExtraData][2] || []).map((function (n) {
                                            return "string" == typeof n ? Ga(n) : [Ga(n[0]), Ga(n[1])]
                                        }))
                                    }(l),
                                    c = function (n, l, e) {
                                        var t = Mi(n);
                                        Va(t);
                                        var i = ja([t[Oi.ExtraData][0], t[Oi.ExtraData][1]], l) || [];
                                        return ja(i, e) || []
                                    }(l, i, t);
                                if (s.forEach((function (n, l) {
                                        if (Array.isArray(n)) {
                                            var e = n[0],
                                                t = e.hours,
                                                i = e.minutes,
                                                u = n[1],
                                                s = u.hours,
                                                d = u.minutes;
                                            r >= t && a >= i && (r < s || r === s && a < d) && (o = c[l])
                                        } else {
                                            var h = n.hours,
                                                p = n.minutes;
                                            h === r && p === a && (o = c[l])
                                        }
                                    })), o) return o
                            }
                            return function (n, l, e) {
                                var t = Mi(n),
                                    i = ja([t[Oi.DayPeriodsFormat], t[Oi.DayPeriodsStandalone]], l);
                                return ja(i, e)
                            }(l, i, t)[r < 12 ? 0 : 1];
                        case Xa.Eras:
                            return function (n, l) {
                                return ja(Mi(n)[Oi.Eras], l)
                            }(l, t)[n.getFullYear() <= 0 ? 0 : 1];
                        default:
                            throw new Error("unexpected translation type ".concat(e))
                    }
                }(i, u, n, l, e, t)
            }
        }

        function io(n) {
            return function (l, e, t) {
                var i = -1 * t,
                    u = Ha(e, za.MinusSign),
                    r = i > 0 ? Math.floor(i / 60) : Math.ceil(i / 60);
                switch (n) {
                    case Qa.Short:
                        return (i >= 0 ? "+" : "") + lo(r, 2, u) + lo(Math.abs(i % 60), 2, u);
                    case Qa.ShortGMT:
                        return "GMT" + (i >= 0 ? "+" : "") + lo(r, 1, u);
                    case Qa.Long:
                        return "GMT" + (i >= 0 ? "+" : "") + lo(r, 2, u) + ":" + lo(Math.abs(i % 60), 2, u);
                    case Qa.Extended:
                        return 0 === t ? "Z" : (i >= 0 ? "+" : "") + lo(r, 2, u) + ":" + lo(Math.abs(i % 60), 2, u);
                    default:
                        throw new Error('Unknown zone width "'.concat(n, '"'))
                }
            }
        }
        var uo = 0,
            ro = 4;

        function ao(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return function (e, t) {
                var i, u, r, a;
                if (l) {
                    var o = new Date(e.getFullYear(), e.getMonth(), 1).getDay() - 1,
                        s = e.getDate();
                    i = 1 + Math.floor((s + o) / 7)
                } else {
                    var c = (u = e.getFullYear(), r = new Date(u, uo, 1).getDay(), new Date(u, 0, 1 + (r <= ro ? ro : ro + 7) - r)),
                        d = (a = e, new Date(a.getFullYear(), a.getMonth(), a.getDate() + (ro - a.getDay()))).getTime() - c.getTime();
                    i = 1 + Math.round(d / 6048e5)
                }
                return lo(i, n, Ha(t, za.MinusSign))
            }
        }
        var oo = {};

        function so(n, l) {
            n = n.replace(/:/g, "");
            var e = Date.parse("Jan 01, 1970 00:00:00 " + n) / 6e4;
            return isNaN(e) ? l : e
        }

        function co(n) {
            return n instanceof Date && !isNaN(n.valueOf())
        }
        var ho = new Dn("UseV4Plurals"),
            po = function n() {
                _classCallCheck(this, n)
            },
            fo = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).locale = n, t.deprecatedPluralFn = e, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getPluralCategory",
                    value: function (n, l) {
                        switch (this.deprecatedPluralFn ? this.deprecatedPluralFn(l || this.locale, n) : function (n) {
                            return Mi(n)[Oi.PluralCase]
                        }(l || this.locale)(n)) {
                            case Ra.Zero:
                                return "zero";
                            case Ra.One:
                                return "one";
                            case Ra.Two:
                                return "two";
                            case Ra.Few:
                                return "few";
                            case Ra.Many:
                                return "many";
                            default:
                                return "other"
                        }
                    }
                }]), l
            }(po),
            go = function n() {
                _classCallCheck(this, n)
            },
            vo = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this._iterableDiffers = l, this._keyValueDiffers = e, this._ngEl = t, this._renderer = i, this._initialClasses = []
                }
                return _createClass(n, [{
                    key: "getValue",
                    value: function () {
                        return null
                    }
                }, {
                    key: "setClass",
                    value: function (n) {
                        this._removeClasses(this._initialClasses), this._initialClasses = "string" == typeof n ? n.split(/\s+/) : [], this._applyClasses(this._initialClasses), this._applyClasses(this._rawClass)
                    }
                }, {
                    key: "setNgClass",
                    value: function (n) {
                        this._removeClasses(this._rawClass), this._applyClasses(this._initialClasses), this._iterableDiffer = null, this._keyValueDiffer = null, this._rawClass = "string" == typeof n ? n.split(/\s+/) : n, this._rawClass && (Jl(this._rawClass) ? this._iterableDiffer = this._iterableDiffers.find(this._rawClass).create() : this._keyValueDiffer = this._keyValueDiffers.find(this._rawClass).create())
                    }
                }, {
                    key: "applyChanges",
                    value: function () {
                        if (this._iterableDiffer) {
                            var n = this._iterableDiffer.diff(this._rawClass);
                            n && this._applyIterableChanges(n)
                        } else if (this._keyValueDiffer) {
                            var l = this._keyValueDiffer.diff(this._rawClass);
                            l && this._applyKeyValueChanges(l)
                        }
                    }
                }, {
                    key: "_applyKeyValueChanges",
                    value: function (n) {
                        var l = this;
                        n.forEachAddedItem((function (n) {
                            return l._toggleClass(n.key, n.currentValue)
                        })), n.forEachChangedItem((function (n) {
                            return l._toggleClass(n.key, n.currentValue)
                        })), n.forEachRemovedItem((function (n) {
                            n.previousValue && l._toggleClass(n.key, !1)
                        }))
                    }
                }, {
                    key: "_applyIterableChanges",
                    value: function (n) {
                        var l = this;
                        n.forEachAddedItem((function (n) {
                            if ("string" != typeof n.item) throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(wn(n.item)));
                            l._toggleClass(n.item, !0)
                        })), n.forEachRemovedItem((function (n) {
                            return l._toggleClass(n.item, !1)
                        }))
                    }
                }, {
                    key: "_applyClasses",
                    value: function (n) {
                        var l = this;
                        n && (Array.isArray(n) || n instanceof Set ? n.forEach((function (n) {
                            return l._toggleClass(n, !0)
                        })) : Object.keys(n).forEach((function (e) {
                            return l._toggleClass(e, !!n[e])
                        })))
                    }
                }, {
                    key: "_removeClasses",
                    value: function (n) {
                        var l = this;
                        n && (Array.isArray(n) || n instanceof Set ? n.forEach((function (n) {
                            return l._toggleClass(n, !1)
                        })) : Object.keys(n).forEach((function (n) {
                            return l._toggleClass(n, !1)
                        })))
                    }
                }, {
                    key: "_toggleClass",
                    value: function (n, l) {
                        var e = this;
                        (n = n.trim()) && n.split(/\s+/g).forEach((function (n) {
                            l ? e._renderer.addClass(e._ngEl.nativeElement, n) : e._renderer.removeClass(e._ngEl.nativeElement, n)
                        }))
                    }
                }]), n
            }(),
            mo = function (n) {
                function l(n) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "ngDoCheck",
                    value: function () {
                        this._delegate.applyChanges()
                    }
                }, {
                    key: "klass",
                    set: function (n) {
                        this._delegate.setClass(n)
                    }
                }, {
                    key: "ngClass",
                    set: function (n) {
                        this._delegate.setNgClass(n)
                    }
                }]), l
            }(function () {
                var n = function () {
                    function n(l) {
                        _classCallCheck(this, n), this._delegate = l
                    }
                    return _createClass(n, [{
                        key: "getValue",
                        value: function () {
                            return this._delegate.getValue()
                        }
                    }]), n
                }();
                return n.ngDirectiveDef = void 0, n
            }()),
            yo = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.$implicit = l, this.ngForOf = e, this.index = t, this.count = i
                }
                return _createClass(n, [{
                    key: "first",
                    get: function () {
                        return 0 === this.index
                    }
                }, {
                    key: "last",
                    get: function () {
                        return this.index === this.count - 1
                    }
                }, {
                    key: "even",
                    get: function () {
                        return this.index % 2 == 0
                    }
                }, {
                    key: "odd",
                    get: function () {
                        return !this.even
                    }
                }]), n
            }(),
            bo = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._viewContainer = l, this._template = e, this._differs = t, this._ngForOfDirty = !0, this._differ = null
                }
                return _createClass(n, [{
                    key: "ngDoCheck",
                    value: function () {
                        if (this._ngForOfDirty) {
                            this._ngForOfDirty = !1;
                            var n = this._ngForOf;
                            if (!this._differ && n) try {
                                this._differ = this._differs.find(n).create(this.ngForTrackBy)
                            } catch (t) {
                                throw new Error("Cannot find a differ supporting object '".concat(n, "' of type '").concat((l = n).name || typeof l, "'. NgFor only supports binding to Iterables such as Arrays."))
                            }
                        }
                        var l;
                        if (this._differ) {
                            var e = this._differ.diff(this._ngForOf);
                            e && this._applyChanges(e)
                        }
                    }
                }, {
                    key: "_applyChanges",
                    value: function (n) {
                        var l = this,
                            e = [];
                        n.forEachOperation((function (n, t, i) {
                            if (null == n.previousIndex) {
                                var u = l._viewContainer.createEmbeddedView(l._template, new yo(null, l._ngForOf, -1, -1), null === i ? void 0 : i),
                                    r = new _o(n, u);
                                e.push(r)
                            } else if (null == i) l._viewContainer.remove(null === t ? void 0 : t);
                            else if (null !== t) {
                                var a = l._viewContainer.get(t);
                                l._viewContainer.move(a, i);
                                var o = new _o(n, a);
                                e.push(o)
                            }
                        }));
                        for (var t = 0; t < e.length; t++) this._perViewChange(e[t].view, e[t].record);
                        for (var i = 0, u = this._viewContainer.length; i < u; i++) {
                            var r = this._viewContainer.get(i);
                            r.context.index = i, r.context.count = u, r.context.ngForOf = this._ngForOf
                        }
                        n.forEachIdentityChange((function (n) {
                            l._viewContainer.get(n.currentIndex).context.$implicit = n.item
                        }))
                    }
                }, {
                    key: "_perViewChange",
                    value: function (n, l) {
                        n.context.$implicit = l.item
                    }
                }, {
                    key: "ngForOf",
                    set: function (n) {
                        this._ngForOf = n, this._ngForOfDirty = !0
                    }
                }, {
                    key: "ngForTrackBy",
                    set: function (n) {
                        al() && null != n && "function" != typeof n && console && console.warn && console.warn("trackBy must be a function, but received ".concat(JSON.stringify(n), ". ") + "See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."), this._trackByFn = n
                    },
                    get: function () {
                        return this._trackByFn
                    }
                }, {
                    key: "ngForTemplate",
                    set: function (n) {
                        n && (this._template = n)
                    }
                }], [{
                    key: "ngTemplateContextGuard",
                    value: function (n, l) {
                        return !0
                    }
                }]), n
            }(),
            _o = function n(l, e) {
                _classCallCheck(this, n), this.record = l, this.view = e
            },
            ko = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._viewContainer = l, this._context = new wo, this._thenTemplateRef = null, this._elseTemplateRef = null, this._thenViewRef = null, this._elseViewRef = null, this._thenTemplateRef = e
                }
                return _createClass(n, [{
                    key: "_updateView",
                    value: function () {
                        this._context.$implicit ? this._thenViewRef || (this._viewContainer.clear(), this._elseViewRef = null, this._thenTemplateRef && (this._thenViewRef = this._viewContainer.createEmbeddedView(this._thenTemplateRef, this._context))) : this._elseViewRef || (this._viewContainer.clear(), this._thenViewRef = null, this._elseTemplateRef && (this._elseViewRef = this._viewContainer.createEmbeddedView(this._elseTemplateRef, this._context)))
                    }
                }, {
                    key: "ngIf",
                    set: function (n) {
                        this._context.$implicit = this._context.ngIf = n, this._updateView()
                    }
                }, {
                    key: "ngIfThen",
                    set: function (n) {
                        xo("ngIfThen", n), this._thenTemplateRef = n, this._thenViewRef = null, this._updateView()
                    }
                }, {
                    key: "ngIfElse",
                    set: function (n) {
                        xo("ngIfElse", n), this._elseTemplateRef = n, this._elseViewRef = null, this._updateView()
                    }
                }]), n
            }(),
            wo = function n() {
                _classCallCheck(this, n), this.$implicit = null, this.ngIf = null
            };

        function xo(n, l) {
            if (l && !l.createEmbeddedView) throw new Error("".concat(n, " must be a TemplateRef, but received '").concat(wn(l), "'."))
        }
        var Co = function n() {
                _classCallCheck(this, n)
            },
            So = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._ngEl = l, this._differs = e, this._renderer = t
                }
                return _createClass(n, [{
                    key: "getValue",
                    value: function () {
                        return null
                    }
                }, {
                    key: "setNgStyle",
                    value: function (n) {
                        this._ngStyle = n, !this._differ && n && (this._differ = this._differs.find(n).create())
                    }
                }, {
                    key: "applyChanges",
                    value: function () {
                        if (this._differ) {
                            var n = this._differ.diff(this._ngStyle);
                            n && this._applyChanges(n)
                        }
                    }
                }, {
                    key: "_applyChanges",
                    value: function (n) {
                        var l = this;
                        n.forEachRemovedItem((function (n) {
                            return l._setStyle(n.key, null)
                        })), n.forEachAddedItem((function (n) {
                            return l._setStyle(n.key, n.currentValue)
                        })), n.forEachChangedItem((function (n) {
                            return l._setStyle(n.key, n.currentValue)
                        }))
                    }
                }, {
                    key: "_setStyle",
                    value: function (n, l) {
                        var e = _slicedToArray(n.split("."), 2),
                            t = e[0],
                            i = e[1];
                        null != (l = null != l && i ? "".concat(l).concat(i) : l) ? this._renderer.setStyle(this._ngEl.nativeElement, t, l) : this._renderer.removeStyle(this._ngEl.nativeElement, t)
                    }
                }]), n
            }(),
            Io = function (n) {
                function l(n) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "ngDoCheck",
                    value: function () {
                        this._delegate.applyChanges()
                    }
                }, {
                    key: "ngStyle",
                    set: function (n) {
                        this._delegate.setNgStyle(n)
                    }
                }]), l
            }(function () {
                var n = function () {
                    function n(l) {
                        _classCallCheck(this, n), this._delegate = l
                    }
                    return _createClass(n, [{
                        key: "getValue",
                        value: function () {
                            return this._delegate.getValue()
                        }
                    }]), n
                }();
                return n.ngDirectiveDef = void 0, n
            }()),
            To = function () {
                function n(l) {
                    _classCallCheck(this, n), this._viewContainerRef = l, this._viewRef = null, this.ngTemplateOutletContext = null, this.ngTemplateOutlet = null
                }
                return _createClass(n, [{
                    key: "ngOnChanges",
                    value: function (n) {
                        this._shouldRecreateView(n) ? (this._viewRef && this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)), this.ngTemplateOutlet && (this._viewRef = this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet, this.ngTemplateOutletContext))) : this._viewRef && this.ngTemplateOutletContext && this._updateExistingContext(this.ngTemplateOutletContext)
                    }
                }, {
                    key: "_shouldRecreateView",
                    value: function (n) {
                        var l = n.ngTemplateOutletContext;
                        return !!n.ngTemplateOutlet || l && this._hasContextShapeChanged(l)
                    }
                }, {
                    key: "_hasContextShapeChanged",
                    value: function (n) {
                        var l = Object.keys(n.previousValue || {}),
                            e = Object.keys(n.currentValue || {});
                        if (l.length === e.length) {
                            var t = !0,
                                i = !1,
                                u = void 0;
                            try {
                                for (var r, a = e[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                                    var o = r.value;
                                    if (-1 === l.indexOf(o)) return !0
                                }
                            } catch (s) {
                                i = !0, u = s
                            } finally {
                                try {
                                    t || null == a.return || a.return()
                                } finally {
                                    if (i) throw u
                                }
                            }
                            return !1
                        }
                        return !0
                    }
                }, {
                    key: "_updateExistingContext",
                    value: function (n) {
                        for (var l = 0, e = Object.keys(n); l < e.length; l++) {
                            var t = e[l];
                            this._viewRef.context[t] = this.ngTemplateOutletContext[t]
                        }
                    }
                }]), n
            }(),
            Eo = function () {
                function n(l) {
                    _classCallCheck(this, n), this.locale = l
                }
                return _createClass(n, [{
                    key: "transform",
                    value: function (l) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "mediumDate",
                            t = arguments.length > 2 ? arguments[2] : void 0,
                            i = arguments.length > 3 ? arguments[3] : void 0;
                        if (null == l || "" === l || l != l) return null;
                        try {
                            return Ja(l, e, i || this.locale, t)
                        } catch (u) {
                            throw function (n, l) {
                                return Error("InvalidPipeArgument: '".concat(l, "' for pipe '").concat(wn(n), "'"))
                            }(n, u.message)
                        }
                    }
                }]), n
            }(),
            Ao = function () {
                function n(l) {
                    _classCallCheck(this, n), this.differs = l, this.keyValues = []
                }
                return _createClass(n, [{
                    key: "transform",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Po;
                        if (!n || !(n instanceof Map) && "object" != typeof n) return null;
                        this.differ || (this.differ = this.differs.find(n).create());
                        var t = this.differ.diff(n);
                        return t && (this.keyValues = [], t.forEachItem((function (n) {
                            var e, t;
                            l.keyValues.push((e = n.key, t = n.currentValue, {
                                key: e,
                                value: t
                            }))
                        })), this.keyValues.sort(e)), this.keyValues
                    }
                }]), n
            }();

        function Po(n, l) {
            var e = n.key,
                t = l.key;
            if (e === t) return 0;
            if (void 0 === e) return 1;
            if (void 0 === t) return -1;
            if (null === e) return 1;
            if (null === t) return -1;
            if ("string" == typeof e && "string" == typeof t) return e < t ? -1 : 1;
            if ("number" == typeof e && "number" == typeof t) return e - t;
            if ("boolean" == typeof e && "boolean" == typeof t) return e < t ? -1 : 1;
            var i = String(e),
                u = String(t);
            return i == u ? 0 : i < u ? -1 : 1
        }
        var Oo, Do = function n() {
                _classCallCheck(this, n)
            },
            Ro = new Dn("DocumentToken"),
            Mo = "server",
            No = ((Oo = function n() {
                _classCallCheck(this, n)
            }).ngInjectableDef = yn({
                token: Oo,
                providedIn: "root",
                factory: function () {
                    return new Bo($n(Ro), window, $n(il))
                }
            }), Oo),
            Bo = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.document = l, this.window = e, this.errorHandler = t, this.offset = function () {
                        return [0, 0]
                    }
                }
                return _createClass(n, [{
                    key: "setOffset",
                    value: function (n) {
                        this.offset = Array.isArray(n) ? function () {
                            return n
                        } : n
                    }
                }, {
                    key: "getScrollPosition",
                    value: function () {
                        return this.supportScrollRestoration() ? [this.window.scrollX, this.window.scrollY] : [0, 0]
                    }
                }, {
                    key: "scrollToPosition",
                    value: function (n) {
                        this.supportScrollRestoration() && this.window.scrollTo(n[0], n[1])
                    }
                }, {
                    key: "scrollToAnchor",
                    value: function (n) {
                        if (this.supportScrollRestoration()) {
                            n = this.window.CSS && this.window.CSS.escape ? this.window.CSS.escape(n) : n.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g, "\\$1");
                            try {
                                var l = this.document.querySelector("#".concat(n));
                                if (l) return void this.scrollToElement(l);
                                var e = this.document.querySelector("[name='".concat(n, "']"));
                                if (e) return void this.scrollToElement(e)
                            } catch (t) {
                                this.errorHandler.handleError(t)
                            }
                        }
                    }
                }, {
                    key: "setHistoryScrollRestoration",
                    value: function (n) {
                        if (this.supportScrollRestoration()) {
                            var l = this.window.history;
                            l && l.scrollRestoration && (l.scrollRestoration = n)
                        }
                    }
                }, {
                    key: "scrollToElement",
                    value: function (n) {
                        var l = n.getBoundingClientRect(),
                            e = l.left + this.window.pageXOffset,
                            t = l.top + this.window.pageYOffset,
                            i = this.offset();
                        this.window.scrollTo(e - i[0], t - i[1])
                    }
                }, {
                    key: "supportScrollRestoration",
                    value: function () {
                        try {
                            return !!this.window && !!this.window.scrollTo
                        } catch (n) {
                            return !1
                        }
                    }
                }]), n
            }(),
            zo = new x((function (n) {
                return n.complete()
            }));

        function Lo(n) {
            return n ? function (n) {
                return new x((function (l) {
                    return n.schedule((function () {
                        return l.complete()
                    }))
                }))
            }(n) : zo
        }

        function Fo(n) {
            var l = new x((function (l) {
                l.next(n), l.complete()
            }));
            return l._isScalar = !0, l.value = n, l
        }

        function qo() {
            for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
            var t = l[l.length - 1];
            switch (D(t) ? l.pop() : t = void 0, l.length) {
                case 0:
                    return Lo(t);
                case 1:
                    return t ? W(l, t) : Fo(l[0]);
                default:
                    return W(l, t)
            }
        }
        var Uo = function (n) {
            function l(n) {
                var e;
                return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._value = n, e
            }
            return _inherits(l, n), _createClass(l, [{
                key: "_subscribe",
                value: function (n) {
                    var e = _get(_getPrototypeOf(l.prototype), "_subscribe", this).call(this, n);
                    return e && !e.closed && n.next(this._value), e
                }
            }, {
                key: "getValue",
                value: function () {
                    if (this.hasError) throw this.thrownError;
                    if (this.closed) throw new T;
                    return this._value
                }
            }, {
                key: "next",
                value: function (n) {
                    _get(_getPrototypeOf(l.prototype), "next", this).call(this, this._value = n)
                }
            }, {
                key: "value",
                get: function () {
                    return this.getValue()
                }
            }]), l
        }(P);

        function $o() {
            return Error.call(this), this.message = "no elements in sequence", this.name = "EmptyError", this
        }
        $o.prototype = Object.create(Error.prototype);
        var Ho = $o,
            Vo = {},
            jo = function () {
                function n(l) {
                    _classCallCheck(this, n), this.resultSelector = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Go(n, this.resultSelector))
                    }
                }]), n
            }(),
            Go = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).resultSelector = e, t.active = 0, t.values = [], t.observables = [], t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        this.values.push(Vo), this.observables.push(n)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        var n = this.observables,
                            l = n.length;
                        if (0 === l) this.destination.complete();
                        else {
                            this.active = l, this.toRespond = l;
                            for (var e = 0; e < l; e++) {
                                var t = n[e];
                                this.add($(this, t, t, e))
                            }
                        }
                    }
                }, {
                    key: "notifyComplete",
                    value: function (n) {
                        0 == (this.active -= 1) && this.destination.complete()
                    }
                }, {
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        var u = this.values,
                            r = this.toRespond ? u[e] === Vo ? --this.toRespond : this.toRespond : 0;
                        u[e] = l, 0 === r && (this.resultSelector ? this._tryResultSelector(u) : this.destination.next(u.slice()))
                    }
                }, {
                    key: "_tryResultSelector",
                    value: function (n) {
                        var l;
                        try {
                            l = this.resultSelector.apply(this, n)
                        } catch (e) {
                            return void this.destination.error(e)
                        }
                        this.destination.next(l)
                    }
                }]), l
            }(H);

        function Wo(n) {
            return new x((function (l) {
                var e;
                try {
                    e = n()
                } catch (t) {
                    return void l.error(t)
                }
                return (e ? K(e) : Lo()).subscribe(l)
            }))
        }

        function Ko() {
            return J(1)
        }

        function Zo(n, l) {
            return function (e) {
                return e.lift(new Qo(n, l))
            }
        }
        var Qo = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.predicate = l, this.thisArg = e
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Yo(n, this.predicate, this.thisArg))
                    }
                }]), n
            }(),
            Yo = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).predicate = e, i.thisArg = t, i.count = 0, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        var l;
                        try {
                            l = this.predicate.call(this.thisArg, n, this.count++)
                        } catch (e) {
                            return void this.destination.error(e)
                        }
                        l && this.destination.next(n)
                    }
                }]), l
            }(v);

        function Xo() {
            return Error.call(this), this.message = "argument out of range", this.name = "ArgumentOutOfRangeError", this
        }
        Xo.prototype = Object.create(Error.prototype);
        var Jo = Xo;

        function ns(n) {
            return function (l) {
                return 0 === n ? Lo() : l.lift(new ls(n))
            }
        }
        var ls = function () {
                function n(l) {
                    if (_classCallCheck(this, n), this.total = l, this.total < 0) throw new Jo
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new es(n, this.total))
                    }
                }]), n
            }(),
            es = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).total = e, t.ring = new Array, t.count = 0, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        var l = this.ring,
                            e = this.total,
                            t = this.count++;
                        l.length < e ? l.push(n) : l[t % e] = n
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        var n = this.destination,
                            l = this.count;
                        if (l > 0)
                            for (var e = this.count >= this.total ? this.total : this.count, t = this.ring, i = 0; i < e; i++) {
                                var u = l++ % e;
                                n.next(t[u])
                            }
                        n.complete()
                    }
                }]), l
            }(v);

        function ts(n, l, e) {
            return function (t) {
                return t.lift(new is(n, l, e))
            }
        }
        var is = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.nextOrObserver = l, this.error = e, this.complete = t
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new us(n, this.nextOrObserver, this.error, this.complete))
                    }
                }]), n
            }(),
            us = function (n) {
                function l(n, e, i, u) {
                    var r;
                    return _classCallCheck(this, l), (r = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n)))._tapNext = b, r._tapError = b, r._tapComplete = b, r._tapError = i || b, r._tapComplete = u || b, t(e) ? (r._context = _assertThisInitialized(r), r._tapNext = e) : e && (r._context = e, r._tapNext = e.next || b, r._tapError = e.error || b, r._tapComplete = e.complete || b), r
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        try {
                            this._tapNext.call(this._context, n)
                        } catch (l) {
                            return void this.destination.error(l)
                        }
                        this.destination.next(n)
                    }
                }, {
                    key: "_error",
                    value: function (n) {
                        try {
                            this._tapError.call(this._context, n)
                        } catch (n) {
                            return void this.destination.error(n)
                        }
                        this.destination.error(n)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        try {
                            this._tapComplete.call(this._context)
                        } catch (n) {
                            return void this.destination.error(n)
                        }
                        return this.destination.complete()
                    }
                }]), l
            }(v),
            rs = function () {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : as;
                return ts({
                    hasValue: !1,
                    next: function () {
                        this.hasValue = !0
                    },
                    complete: function () {
                        if (!this.hasValue) throw n()
                    }
                })
            };

        function as() {
            return new Ho
        }

        function os() {
            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
            return function (l) {
                return l.lift(new ss(n))
            }
        }
        var ss = function () {
                function n(l) {
                    _classCallCheck(this, n), this.defaultValue = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new cs(n, this.defaultValue))
                    }
                }]), n
            }(),
            cs = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).defaultValue = e, t.isEmpty = !0, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        this.isEmpty = !1, this.destination.next(n)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.isEmpty && this.destination.next(this.defaultValue), this.destination.complete()
                    }
                }]), l
            }(v);

        function ds(n, l) {
            var e = arguments.length >= 2;
            return function (t) {
                return t.pipe(n ? Zo((function (l, e) {
                    return n(l, e, t)
                })) : X, ns(1), e ? os(l) : rs((function () {
                    return new Ho
                })))
            }
        }

        function hs(n) {
            return function (l) {
                var e = new ps(n),
                    t = l.lift(e);
                return e.caught = t
            }
        }
        var ps = function () {
                function n(l) {
                    _classCallCheck(this, n), this.selector = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new fs(n, this.selector, this.caught))
                    }
                }]), n
            }(),
            fs = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).selector = e, i.caught = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "error",
                    value: function (n) {
                        if (!this.isStopped) {
                            var e;
                            try {
                                e = this.selector(n, this.caught)
                            } catch (i) {
                                return void _get(_getPrototypeOf(l.prototype), "error", this).call(this, i)
                            }
                            this._unsubscribeAndRecycle();
                            var t = new R(this, void 0, void 0);
                            this.add(t), $(this, e, void 0, void 0, t)
                        }
                    }
                }]), l
            }(H);

        function gs(n) {
            return function (l) {
                return 0 === n ? Lo() : l.lift(new vs(n))
            }
        }
        var vs = function () {
                function n(l) {
                    if (_classCallCheck(this, n), this.total = l, this.total < 0) throw new Jo
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new ms(n, this.total))
                    }
                }]), n
            }(),
            ms = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).total = e, t.count = 0, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        var l = this.total,
                            e = ++this.count;
                        e <= l && (this.destination.next(n), e === l && (this.destination.complete(), this.unsubscribe()))
                    }
                }]), l
            }(v);

        function ys(n, l) {
            var e = arguments.length >= 2;
            return function (t) {
                return t.pipe(n ? Zo((function (l, e) {
                    return n(l, e, t)
                })) : X, gs(1), e ? os(l) : rs((function () {
                    return new Ho
                })))
            }
        }
        var bs = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.predicate = l, this.thisArg = e, this.source = t
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new _s(n, this.predicate, this.thisArg, this.source))
                    }
                }]), n
            }(),
            _s = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).predicate = e, u.thisArg = t, u.source = i, u.index = 0, u.thisArg = t || _assertThisInitialized(u), u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "notifyComplete",
                    value: function (n) {
                        this.destination.next(n), this.destination.complete()
                    }
                }, {
                    key: "_next",
                    value: function (n) {
                        var l = !1;
                        try {
                            l = this.predicate.call(this.thisArg, n, this.index++, this.source)
                        } catch (e) {
                            return void this.destination.error(e)
                        }
                        l || this.notifyComplete(!1)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.notifyComplete(!0)
                    }
                }]), l
            }(v);

        function ks(n, l) {
            return "function" == typeof l ? function (e) {
                return e.pipe(ks((function (e, t) {
                    return K(n(e, t)).pipe(V((function (n, i) {
                        return l(e, n, t, i)
                    })))
                })))
            } : function (l) {
                return l.lift(new ws(n))
            }
        }
        var ws = function () {
                function n(l) {
                    _classCallCheck(this, n), this.project = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new xs(n, this.project))
                    }
                }]), n
            }(),
            xs = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).project = e, t.index = 0, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        var l, e = this.index++;
                        try {
                            l = this.project(n, e)
                        } catch (t) {
                            return void this.destination.error(t)
                        }
                        this._innerSub(l, n, e)
                    }
                }, {
                    key: "_innerSub",
                    value: function (n, l, e) {
                        var t = this.innerSubscription;
                        t && t.unsubscribe();
                        var i = new R(this, void 0, void 0);
                        this.destination.add(i), this.innerSubscription = $(this, n, l, e, i)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        var n = this.innerSubscription;
                        n && !n.closed || _get(_getPrototypeOf(l.prototype), "_complete", this).call(this), this.unsubscribe()
                    }
                }, {
                    key: "_unsubscribe",
                    value: function () {
                        this.innerSubscription = null
                    }
                }, {
                    key: "notifyComplete",
                    value: function (n) {
                        this.destination.remove(n), this.innerSubscription = null, this.isStopped && _get(_getPrototypeOf(l.prototype), "_complete", this).call(this)
                    }
                }, {
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        this.destination.next(l)
                    }
                }]), l
            }(H);

        function Cs(n, l) {
            var e = !1;
            return arguments.length >= 2 && (e = !0),
                function (t) {
                    return t.lift(new Ss(n, l, e))
                }
        }
        var Ss = function () {
                function n(l, e) {
                    var t = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    _classCallCheck(this, n), this.accumulator = l, this.seed = e, this.hasSeed = t
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Is(n, this.accumulator, this.seed, this.hasSeed))
                    }
                }]), n
            }(),
            Is = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).accumulator = e, u._seed = t, u.hasSeed = i, u.index = 0, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        if (this.hasSeed) return this._tryNext(n);
                        this.seed = n, this.destination.next(n)
                    }
                }, {
                    key: "_tryNext",
                    value: function (n) {
                        var l, e = this.index++;
                        try {
                            l = this.accumulator(this.seed, n, e)
                        } catch (t) {
                            this.destination.error(t)
                        }
                        this.seed = l, this.destination.next(l)
                    }
                }, {
                    key: "seed",
                    get: function () {
                        return this._seed
                    },
                    set: function (n) {
                        this.hasSeed = !0, this._seed = n
                    }
                }]), l
            }(v);

        function Ts(n, l) {
            return Z(n, l, 1)
        }
        var Es = function () {
                function n(l) {
                    _classCallCheck(this, n), this.callback = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new As(n, this.callback))
                    }
                }]), n
            }(),
            As = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).add(new p(e)), t
                }
                return _inherits(l, n), l
            }(v),
            Ps = null;

        function Os() {
            return Ps
        }
        var Ds, Rs = function (n) {
                function l() {
                    var n;
                    _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._animationPrefix = null, n._transitionEnd = null;
                    try {
                        var e = n.createElement("div", document);
                        if (null != n.getStyle(e, "animationName")) n._animationPrefix = "";
                        else
                            for (var t = ["Webkit", "Moz", "O", "ms"], i = 0; i < t.length; i++)
                                if (null != n.getStyle(e, t[i] + "AnimationName")) {
                                    n._animationPrefix = "-" + t[i].toLowerCase() + "-";
                                    break
                                } var u = {
                            WebkitTransition: "webkitTransitionEnd",
                            MozTransition: "transitionend",
                            OTransition: "oTransitionEnd otransitionend",
                            transition: "transitionend"
                        };
                        Object.keys(u).forEach((function (l) {
                            null != n.getStyle(e, l) && (n._transitionEnd = u[l])
                        }))
                    } catch (r) {
                        n._animationPrefix = null, n._transitionEnd = null
                    }
                    return n
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getDistributedNodes",
                    value: function (n) {
                        return n.getDistributedNodes()
                    }
                }, {
                    key: "resolveAndSetHref",
                    value: function (n, l, e) {
                        n.href = null == e ? l : l + "/../" + e
                    }
                }, {
                    key: "supportsDOMEvents",
                    value: function () {
                        return !0
                    }
                }, {
                    key: "supportsNativeShadowDOM",
                    value: function () {
                        return "function" == typeof document.body.createShadowRoot
                    }
                }, {
                    key: "getAnimationPrefix",
                    value: function () {
                        return this._animationPrefix ? this._animationPrefix : ""
                    }
                }, {
                    key: "getTransitionEnd",
                    value: function () {
                        return this._transitionEnd ? this._transitionEnd : ""
                    }
                }, {
                    key: "supportsAnimation",
                    value: function () {
                        return null != this._animationPrefix && null != this._transitionEnd
                    }
                }]), l
            }(function () {
                function n() {
                    _classCallCheck(this, n), this.resourceLoaderType = null
                }
                return _createClass(n, [{
                    key: "attrToPropMap",
                    get: function () {
                        return this._attrToPropMap
                    },
                    set: function (n) {
                        this._attrToPropMap = n
                    }
                }]), n
            }()),
            Ms = {
                class: "className",
                innerHtml: "innerHTML",
                readonly: "readOnly",
                tabindex: "tabIndex"
            },
            Ns = {
                "\b": "Backspace",
                "\t": "Tab",
                "\x7f": "Delete",
                "\x1b": "Escape",
                Del: "Delete",
                Esc: "Escape",
                Left: "ArrowLeft",
                Right: "ArrowRight",
                Up: "ArrowUp",
                Down: "ArrowDown",
                Menu: "ContextMenu",
                Scroll: "ScrollLock",
                Win: "OS"
            },
            Bs = {
                A: "1",
                B: "2",
                C: "3",
                D: "4",
                E: "5",
                F: "6",
                G: "7",
                H: "8",
                I: "9",
                J: "*",
                K: "+",
                M: "-",
                N: ".",
                O: "/",
                "`": "0",
                "\x90": "NumLock"
            },
            zs = function () {
                if (On.Node) return On.Node.prototype.contains || function (n) {
                    return !!(16 & this.compareDocumentPosition(n))
                }
            }(),
            Ls = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "parse",
                    value: function (n) {
                        throw new Error("parse not implemented")
                    }
                }, {
                    key: "hasProperty",
                    value: function (n, l) {
                        return l in n
                    }
                }, {
                    key: "setProperty",
                    value: function (n, l, e) {
                        n[l] = e
                    }
                }, {
                    key: "getProperty",
                    value: function (n, l) {
                        return n[l]
                    }
                }, {
                    key: "invoke",
                    value: function (n, l, e) {
                        n[l].apply(n, _toConsumableArray(e))
                    }
                }, {
                    key: "logError",
                    value: function (n) {
                        window.console && (console.error ? console.error(n) : console.log(n))
                    }
                }, {
                    key: "log",
                    value: function (n) {
                        window.console && window.console.log && window.console.log(n)
                    }
                }, {
                    key: "logGroup",
                    value: function (n) {
                        window.console && window.console.group && window.console.group(n)
                    }
                }, {
                    key: "logGroupEnd",
                    value: function () {
                        window.console && window.console.groupEnd && window.console.groupEnd()
                    }
                }, {
                    key: "contains",
                    value: function (n, l) {
                        return zs.call(n, l)
                    }
                }, {
                    key: "querySelector",
                    value: function (n, l) {
                        return n.querySelector(l)
                    }
                }, {
                    key: "querySelectorAll",
                    value: function (n, l) {
                        return n.querySelectorAll(l)
                    }
                }, {
                    key: "on",
                    value: function (n, l, e) {
                        n.addEventListener(l, e, !1)
                    }
                }, {
                    key: "onAndCancel",
                    value: function (n, l, e) {
                        return n.addEventListener(l, e, !1),
                            function () {
                                n.removeEventListener(l, e, !1)
                            }
                    }
                }, {
                    key: "dispatchEvent",
                    value: function (n, l) {
                        n.dispatchEvent(l)
                    }
                }, {
                    key: "createMouseEvent",
                    value: function (n) {
                        var l = this.getDefaultDocument().createEvent("MouseEvent");
                        return l.initEvent(n, !0, !0), l
                    }
                }, {
                    key: "createEvent",
                    value: function (n) {
                        var l = this.getDefaultDocument().createEvent("Event");
                        return l.initEvent(n, !0, !0), l
                    }
                }, {
                    key: "preventDefault",
                    value: function (n) {
                        n.preventDefault(), n.returnValue = !1
                    }
                }, {
                    key: "isPrevented",
                    value: function (n) {
                        return n.defaultPrevented || null != n.returnValue && !n.returnValue
                    }
                }, {
                    key: "getInnerHTML",
                    value: function (n) {
                        return n.innerHTML
                    }
                }, {
                    key: "getTemplateContent",
                    value: function (n) {
                        return "content" in n && this.isTemplateElement(n) ? n.content : null
                    }
                }, {
                    key: "getOuterHTML",
                    value: function (n) {
                        return n.outerHTML
                    }
                }, {
                    key: "nodeName",
                    value: function (n) {
                        return n.nodeName
                    }
                }, {
                    key: "nodeValue",
                    value: function (n) {
                        return n.nodeValue
                    }
                }, {
                    key: "type",
                    value: function (n) {
                        return n.type
                    }
                }, {
                    key: "content",
                    value: function (n) {
                        return this.hasProperty(n, "content") ? n.content : n
                    }
                }, {
                    key: "firstChild",
                    value: function (n) {
                        return n.firstChild
                    }
                }, {
                    key: "nextSibling",
                    value: function (n) {
                        return n.nextSibling
                    }
                }, {
                    key: "parentElement",
                    value: function (n) {
                        return n.parentNode
                    }
                }, {
                    key: "childNodes",
                    value: function (n) {
                        return n.childNodes
                    }
                }, {
                    key: "childNodesAsList",
                    value: function (n) {
                        for (var l = n.childNodes, e = new Array(l.length), t = 0; t < l.length; t++) e[t] = l[t];
                        return e
                    }
                }, {
                    key: "clearNodes",
                    value: function (n) {
                        for (; n.firstChild;) n.removeChild(n.firstChild)
                    }
                }, {
                    key: "appendChild",
                    value: function (n, l) {
                        n.appendChild(l)
                    }
                }, {
                    key: "removeChild",
                    value: function (n, l) {
                        n.removeChild(l)
                    }
                }, {
                    key: "replaceChild",
                    value: function (n, l, e) {
                        n.replaceChild(l, e)
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        return n.parentNode && n.parentNode.removeChild(n), n
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, l, e) {
                        n.insertBefore(e, l)
                    }
                }, {
                    key: "insertAllBefore",
                    value: function (n, l, e) {
                        e.forEach((function (e) {
                            return n.insertBefore(e, l)
                        }))
                    }
                }, {
                    key: "insertAfter",
                    value: function (n, l, e) {
                        n.insertBefore(e, l.nextSibling)
                    }
                }, {
                    key: "setInnerHTML",
                    value: function (n, l) {
                        n.innerHTML = l
                    }
                }, {
                    key: "getText",
                    value: function (n) {
                        return n.textContent
                    }
                }, {
                    key: "setText",
                    value: function (n, l) {
                        n.textContent = l
                    }
                }, {
                    key: "getValue",
                    value: function (n) {
                        return n.value
                    }
                }, {
                    key: "setValue",
                    value: function (n, l) {
                        n.value = l
                    }
                }, {
                    key: "getChecked",
                    value: function (n) {
                        return n.checked
                    }
                }, {
                    key: "setChecked",
                    value: function (n, l) {
                        n.checked = l
                    }
                }, {
                    key: "createComment",
                    value: function (n) {
                        return this.getDefaultDocument().createComment(n)
                    }
                }, {
                    key: "createTemplate",
                    value: function (n) {
                        var l = this.getDefaultDocument().createElement("template");
                        return l.innerHTML = n, l
                    }
                }, {
                    key: "createElement",
                    value: function (n, l) {
                        return (l = l || this.getDefaultDocument()).createElement(n)
                    }
                }, {
                    key: "createElementNS",
                    value: function (n, l, e) {
                        return (e = e || this.getDefaultDocument()).createElementNS(n, l)
                    }
                }, {
                    key: "createTextNode",
                    value: function (n, l) {
                        return (l = l || this.getDefaultDocument()).createTextNode(n)
                    }
                }, {
                    key: "createScriptTag",
                    value: function (n, l, e) {
                        var t = (e = e || this.getDefaultDocument()).createElement("SCRIPT");
                        return t.setAttribute(n, l), t
                    }
                }, {
                    key: "createStyleElement",
                    value: function (n, l) {
                        var e = (l = l || this.getDefaultDocument()).createElement("style");
                        return this.appendChild(e, this.createTextNode(n, l)), e
                    }
                }, {
                    key: "createShadowRoot",
                    value: function (n) {
                        return n.createShadowRoot()
                    }
                }, {
                    key: "getShadowRoot",
                    value: function (n) {
                        return n.shadowRoot
                    }
                }, {
                    key: "getHost",
                    value: function (n) {
                        return n.host
                    }
                }, {
                    key: "clone",
                    value: function (n) {
                        return n.cloneNode(!0)
                    }
                }, {
                    key: "getElementsByClassName",
                    value: function (n, l) {
                        return n.getElementsByClassName(l)
                    }
                }, {
                    key: "getElementsByTagName",
                    value: function (n, l) {
                        return n.getElementsByTagName(l)
                    }
                }, {
                    key: "classList",
                    value: function (n) {
                        return Array.prototype.slice.call(n.classList, 0)
                    }
                }, {
                    key: "addClass",
                    value: function (n, l) {
                        n.classList.add(l)
                    }
                }, {
                    key: "removeClass",
                    value: function (n, l) {
                        n.classList.remove(l)
                    }
                }, {
                    key: "hasClass",
                    value: function (n, l) {
                        return n.classList.contains(l)
                    }
                }, {
                    key: "setStyle",
                    value: function (n, l, e) {
                        n.style[l] = e
                    }
                }, {
                    key: "removeStyle",
                    value: function (n, l) {
                        n.style[l] = ""
                    }
                }, {
                    key: "getStyle",
                    value: function (n, l) {
                        return n.style[l]
                    }
                }, {
                    key: "hasStyle",
                    value: function (n, l, e) {
                        var t = this.getStyle(n, l) || "";
                        return e ? t == e : t.length > 0
                    }
                }, {
                    key: "tagName",
                    value: function (n) {
                        return n.tagName
                    }
                }, {
                    key: "attributeMap",
                    value: function (n) {
                        for (var l = new Map, e = n.attributes, t = 0; t < e.length; t++) {
                            var i = e.item(t);
                            l.set(i.name, i.value)
                        }
                        return l
                    }
                }, {
                    key: "hasAttribute",
                    value: function (n, l) {
                        return n.hasAttribute(l)
                    }
                }, {
                    key: "hasAttributeNS",
                    value: function (n, l, e) {
                        return n.hasAttributeNS(l, e)
                    }
                }, {
                    key: "getAttribute",
                    value: function (n, l) {
                        return n.getAttribute(l)
                    }
                }, {
                    key: "getAttributeNS",
                    value: function (n, l, e) {
                        return n.getAttributeNS(l, e)
                    }
                }, {
                    key: "setAttribute",
                    value: function (n, l, e) {
                        n.setAttribute(l, e)
                    }
                }, {
                    key: "setAttributeNS",
                    value: function (n, l, e, t) {
                        n.setAttributeNS(l, e, t)
                    }
                }, {
                    key: "removeAttribute",
                    value: function (n, l) {
                        n.removeAttribute(l)
                    }
                }, {
                    key: "removeAttributeNS",
                    value: function (n, l, e) {
                        n.removeAttributeNS(l, e)
                    }
                }, {
                    key: "templateAwareRoot",
                    value: function (n) {
                        return this.isTemplateElement(n) ? this.content(n) : n
                    }
                }, {
                    key: "createHtmlDocument",
                    value: function () {
                        return document.implementation.createHTMLDocument("fakeTitle")
                    }
                }, {
                    key: "getDefaultDocument",
                    value: function () {
                        return document
                    }
                }, {
                    key: "getBoundingClientRect",
                    value: function (n) {
                        try {
                            return n.getBoundingClientRect()
                        } catch (l) {
                            return {
                                top: 0,
                                bottom: 0,
                                left: 0,
                                right: 0,
                                width: 0,
                                height: 0
                            }
                        }
                    }
                }, {
                    key: "getTitle",
                    value: function (n) {
                        return n.title
                    }
                }, {
                    key: "setTitle",
                    value: function (n, l) {
                        n.title = l || ""
                    }
                }, {
                    key: "elementMatches",
                    value: function (n, l) {
                        return !!this.isElementNode(n) && (n.matches && n.matches(l) || n.msMatchesSelector && n.msMatchesSelector(l) || n.webkitMatchesSelector && n.webkitMatchesSelector(l))
                    }
                }, {
                    key: "isTemplateElement",
                    value: function (n) {
                        return this.isElementNode(n) && "TEMPLATE" === n.nodeName
                    }
                }, {
                    key: "isTextNode",
                    value: function (n) {
                        return n.nodeType === Node.TEXT_NODE
                    }
                }, {
                    key: "isCommentNode",
                    value: function (n) {
                        return n.nodeType === Node.COMMENT_NODE
                    }
                }, {
                    key: "isElementNode",
                    value: function (n) {
                        return n.nodeType === Node.ELEMENT_NODE
                    }
                }, {
                    key: "hasShadowRoot",
                    value: function (n) {
                        return null != n.shadowRoot && n instanceof HTMLElement
                    }
                }, {
                    key: "isShadowRoot",
                    value: function (n) {
                        return n instanceof DocumentFragment
                    }
                }, {
                    key: "importIntoDoc",
                    value: function (n) {
                        return document.importNode(this.templateAwareRoot(n), !0)
                    }
                }, {
                    key: "adoptNode",
                    value: function (n) {
                        return document.adoptNode(n)
                    }
                }, {
                    key: "getHref",
                    value: function (n) {
                        return n.getAttribute("href")
                    }
                }, {
                    key: "getEventKey",
                    value: function (n) {
                        var l = n.key;
                        if (null == l) {
                            if (null == (l = n.keyIdentifier)) return "Unidentified";
                            l.startsWith("U+") && (l = String.fromCharCode(parseInt(l.substring(2), 16)), 3 === n.location && Bs.hasOwnProperty(l) && (l = Bs[l]))
                        }
                        return Ns[l] || l
                    }
                }, {
                    key: "getGlobalEventTarget",
                    value: function (n, l) {
                        return "window" === l ? window : "document" === l ? n : "body" === l ? n.body : null
                    }
                }, {
                    key: "getHistory",
                    value: function () {
                        return window.history
                    }
                }, {
                    key: "getLocation",
                    value: function () {
                        return window.location
                    }
                }, {
                    key: "getBaseHref",
                    value: function (n) {
                        var l, e = Fs || (Fs = document.querySelector("base")) ? Fs.getAttribute("href") : null;
                        return null == e ? null : (l = e, Ds || (Ds = document.createElement("a")), Ds.setAttribute("href", l), "/" === Ds.pathname.charAt(0) ? Ds.pathname : "/" + Ds.pathname)
                    }
                }, {
                    key: "resetBaseElement",
                    value: function () {
                        Fs = null
                    }
                }, {
                    key: "getUserAgent",
                    value: function () {
                        return window.navigator.userAgent
                    }
                }, {
                    key: "setData",
                    value: function (n, l, e) {
                        this.setAttribute(n, "data-" + l, e)
                    }
                }, {
                    key: "getData",
                    value: function (n, l) {
                        return this.getAttribute(n, "data-" + l)
                    }
                }, {
                    key: "getComputedStyle",
                    value: function (n) {
                        function l(l) {
                            return n.apply(this, arguments)
                        }
                        return l.toString = function () {
                            return n.toString()
                        }, l
                    }((function (n) {
                        return getComputedStyle(n)
                    }))
                }, {
                    key: "supportsWebAnimation",
                    value: function () {
                        return "function" == typeof Element.prototype.animate
                    }
                }, {
                    key: "performanceNow",
                    value: function () {
                        return window.performance && window.performance.now ? window.performance.now() : (new Date).getTime()
                    }
                }, {
                    key: "supportsCookies",
                    value: function () {
                        return !0
                    }
                }, {
                    key: "getCookie",
                    value: function (n) {
                        return function (n, l) {
                            l = encodeURIComponent(l);
                            var e = !0,
                                t = !1,
                                i = void 0;
                            try {
                                for (var u, r = n.split(";")[Symbol.iterator](); !(e = (u = r.next()).done); e = !0) {
                                    var a = u.value,
                                        o = a.indexOf("="),
                                        s = _slicedToArray(-1 == o ? [a, ""] : [a.slice(0, o), a.slice(o + 1)], 2),
                                        c = s[0],
                                        d = s[1];
                                    if (c.trim() === l) return decodeURIComponent(d)
                                }
                            } catch (h) {
                                t = !0, i = h
                            } finally {
                                try {
                                    e || null == r.return || r.return()
                                } finally {
                                    if (t) throw i
                                }
                            }
                            return null
                        }(document.cookie, n)
                    }
                }, {
                    key: "setCookie",
                    value: function (n, l) {
                        document.cookie = encodeURIComponent(n) + "=" + encodeURIComponent(l)
                    }
                }, {
                    key: "attrToPropMap",
                    get: function () {
                        return Ms
                    }
                }], [{
                    key: "makeCurrent",
                    value: function () {
                        var n;
                        n = new l, Ps || (Ps = n)
                    }
                }]), l
            }(Rs),
            Fs = null;

        function qs() {
            return !!window.history.pushState
        }
        var Us = new Dn("TRANSITION_ID"),
            $s = [{
                provide: qi,
                useFactory: function (n, l, e) {
                    return function () {
                        e.get(Ui).donePromise.then((function () {
                            var e = Os();
                            Array.prototype.slice.apply(e.querySelectorAll(l, "style[ng-transition]")).filter((function (l) {
                                return e.getAttribute(l, "ng-transition") === n
                            })).forEach((function (n) {
                                return e.remove(n)
                            }))
                        }))
                    }
                },
                deps: [Us, Ro, Fl],
                multi: !0
            }],
            Hs = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "addToWindow",
                    value: function (n) {
                        On.getAngularTestability = function (l) {
                            var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                                t = n.findTestabilityInTree(l, e);
                            if (null == t) throw new Error("Could not find testability for element.");
                            return t
                        }, On.getAllAngularTestabilities = function () {
                            return n.getAllTestabilities()
                        }, On.getAllAngularRootElements = function () {
                            return n.getAllRootElements()
                        }, On.frameworkStabilizers || (On.frameworkStabilizers = []), On.frameworkStabilizers.push((function (n) {
                            var l = On.getAllAngularTestabilities(),
                                e = l.length,
                                t = !1,
                                i = function (l) {
                                    t = t || l, 0 == --e && n(t)
                                };
                            l.forEach((function (n) {
                                n.whenStable(i)
                            }))
                        }))
                    }
                }, {
                    key: "findTestabilityInTree",
                    value: function (n, l, e) {
                        if (null == l) return null;
                        var t = n.getTestability(l);
                        return null != t ? t : e ? Os().isShadowRoot(l) ? this.findTestabilityInTree(n, Os().getHost(l), !0) : this.findTestabilityInTree(n, Os().parentElement(l), !0) : null
                    }
                }], [{
                    key: "init",
                    value: function () {
                        var l;
                        l = new n, xu = l
                    }
                }]), n
            }();

        function Vs(n, l) {
            "undefined" != typeof COMPILED && COMPILED || ((On.ng = On.ng || {})[n] = l)
        }
        var js = {
            ApplicationRef: Du,
            NgZone: pu
        };

        function Gs(n) {
            return Hu(n)
        }
        var Ws = new Dn("EventManagerPlugins"),
            Ks = function () {
                function n(l, e) {
                    var t = this;
                    _classCallCheck(this, n), this._zone = e, this._eventNameToPlugin = new Map, l.forEach((function (n) {
                        return n.manager = t
                    })), this._plugins = l.slice().reverse()
                }
                return _createClass(n, [{
                    key: "addEventListener",
                    value: function (n, l, e) {
                        return this._findPluginFor(l).addEventListener(n, l, e)
                    }
                }, {
                    key: "addGlobalEventListener",
                    value: function (n, l, e) {
                        return this._findPluginFor(l).addGlobalEventListener(n, l, e)
                    }
                }, {
                    key: "getZone",
                    value: function () {
                        return this._zone
                    }
                }, {
                    key: "_findPluginFor",
                    value: function (n) {
                        var l = this._eventNameToPlugin.get(n);
                        if (l) return l;
                        for (var e = this._plugins, t = 0; t < e.length; t++) {
                            var i = e[t];
                            if (i.supports(n)) return this._eventNameToPlugin.set(n, i), i
                        }
                        throw new Error("No event manager plugin found for event ".concat(n))
                    }
                }]), n
            }(),
            Zs = function () {
                function n(l) {
                    _classCallCheck(this, n), this._doc = l
                }
                return _createClass(n, [{
                    key: "addGlobalEventListener",
                    value: function (n, l, e) {
                        var t = Os().getGlobalEventTarget(this._doc, n);
                        if (!t) throw new Error("Unsupported event target ".concat(t, " for event ").concat(l));
                        return this.addEventListener(t, l, e)
                    }
                }]), n
            }(),
            Qs = function () {
                function n() {
                    _classCallCheck(this, n), this._stylesSet = new Set
                }
                return _createClass(n, [{
                    key: "addStyles",
                    value: function (n) {
                        var l = this,
                            e = new Set;
                        n.forEach((function (n) {
                            l._stylesSet.has(n) || (l._stylesSet.add(n), e.add(n))
                        })), this.onStylesAdded(e)
                    }
                }, {
                    key: "onStylesAdded",
                    value: function (n) {}
                }, {
                    key: "getAllStyles",
                    value: function () {
                        return Array.from(this._stylesSet)
                    }
                }]), n
            }(),
            Ys = function (n) {
                function l(n) {
                    var e;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._doc = n, e._hostNodes = new Set, e._styleNodes = new Set, e._hostNodes.add(n.head), e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_addStylesToHost",
                    value: function (n, l) {
                        var e = this;
                        n.forEach((function (n) {
                            var t = e._doc.createElement("style");
                            t.textContent = n, e._styleNodes.add(l.appendChild(t))
                        }))
                    }
                }, {
                    key: "addHost",
                    value: function (n) {
                        this._addStylesToHost(this._stylesSet, n), this._hostNodes.add(n)
                    }
                }, {
                    key: "removeHost",
                    value: function (n) {
                        this._hostNodes.delete(n)
                    }
                }, {
                    key: "onStylesAdded",
                    value: function (n) {
                        var l = this;
                        this._hostNodes.forEach((function (e) {
                            return l._addStylesToHost(n, e)
                        }))
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this._styleNodes.forEach((function (n) {
                            return Os().remove(n)
                        }))
                    }
                }]), l
            }(Qs),
            Xs = {
                svg: "http://www.w3.org/2000/svg",
                xhtml: "http://www.w3.org/1999/xhtml",
                xlink: "http://www.w3.org/1999/xlink",
                xml: "http://www.w3.org/XML/1998/namespace",
                xmlns: "http://www.w3.org/2000/xmlns/"
            },
            Js = /%COMP%/g,
            nc = "_nghost-%COMP%",
            lc = "_ngcontent-%COMP%";

        function ec(n, l, e) {
            for (var t = 0; t < l.length; t++) {
                var i = l[t];
                Array.isArray(i) ? ec(n, i, e) : (i = i.replace(Js, n), e.push(i))
            }
            return e
        }

        function tc(n) {
            return function (l) {
                !1 === n(l) && (l.preventDefault(), l.returnValue = !1)
            }
        }
        var ic = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.eventManager = l, this.sharedStylesHost = e, this.appId = t, this.rendererByCompId = new Map, this.defaultRenderer = new uc(l)
                }
                return _createClass(n, [{
                    key: "createRenderer",
                    value: function (n, l) {
                        if (!n || !l) return this.defaultRenderer;
                        switch (l.encapsulation) {
                            case Qn.Emulated:
                                var e = this.rendererByCompId.get(l.id);
                                return e || (e = new oc(this.eventManager, this.sharedStylesHost, l, this.appId), this.rendererByCompId.set(l.id, e)), e.applyToHost(n), e;
                            case Qn.Native:
                            case Qn.ShadowDom:
                                return new sc(this.eventManager, this.sharedStylesHost, n, l);
                            default:
                                if (!this.rendererByCompId.has(l.id)) {
                                    var t = ec(l.id, l.styles, []);
                                    this.sharedStylesHost.addStyles(t), this.rendererByCompId.set(l.id, this.defaultRenderer)
                                }
                                return this.defaultRenderer
                        }
                    }
                }, {
                    key: "begin",
                    value: function () {}
                }, {
                    key: "end",
                    value: function () {}
                }]), n
            }(),
            uc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.eventManager = l, this.data = Object.create(null)
                }
                return _createClass(n, [{
                    key: "destroy",
                    value: function () {}
                }, {
                    key: "createElement",
                    value: function (n, l) {
                        return l ? document.createElementNS(Xs[l] || l, n) : document.createElement(n)
                    }
                }, {
                    key: "createComment",
                    value: function (n) {
                        return document.createComment(n)
                    }
                }, {
                    key: "createText",
                    value: function (n) {
                        return document.createTextNode(n)
                    }
                }, {
                    key: "appendChild",
                    value: function (n, l) {
                        n.appendChild(l)
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, l, e) {
                        n && n.insertBefore(l, e)
                    }
                }, {
                    key: "removeChild",
                    value: function (n, l) {
                        n && n.removeChild(l)
                    }
                }, {
                    key: "selectRootElement",
                    value: function (n, l) {
                        var e = "string" == typeof n ? document.querySelector(n) : n;
                        if (!e) throw new Error('The selector "'.concat(n, '" did not match any elements'));
                        return l || (e.textContent = ""), e
                    }
                }, {
                    key: "parentNode",
                    value: function (n) {
                        return n.parentNode
                    }
                }, {
                    key: "nextSibling",
                    value: function (n) {
                        return n.nextSibling
                    }
                }, {
                    key: "setAttribute",
                    value: function (n, l, e, t) {
                        if (t) {
                            l = t + ":" + l;
                            var i = Xs[t];
                            i ? n.setAttributeNS(i, l, e) : n.setAttribute(l, e)
                        } else n.setAttribute(l, e)
                    }
                }, {
                    key: "removeAttribute",
                    value: function (n, l, e) {
                        if (e) {
                            var t = Xs[e];
                            t ? n.removeAttributeNS(t, l) : n.removeAttribute("".concat(e, ":").concat(l))
                        } else n.removeAttribute(l)
                    }
                }, {
                    key: "addClass",
                    value: function (n, l) {
                        n.classList.add(l)
                    }
                }, {
                    key: "removeClass",
                    value: function (n, l) {
                        n.classList.remove(l)
                    }
                }, {
                    key: "setStyle",
                    value: function (n, l, e, t) {
                        t & ve.DashCase ? n.style.setProperty(l, e, t & ve.Important ? "important" : "") : n.style[l] = e
                    }
                }, {
                    key: "removeStyle",
                    value: function (n, l, e) {
                        e & ve.DashCase ? n.style.removeProperty(l) : n.style[l] = ""
                    }
                }, {
                    key: "setProperty",
                    value: function (n, l, e) {
                        ac(l, "property"), n[l] = e
                    }
                }, {
                    key: "setValue",
                    value: function (n, l) {
                        n.nodeValue = l
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e) {
                        return ac(l, "listener"), "string" == typeof n ? this.eventManager.addGlobalEventListener(n, l, tc(e)) : this.eventManager.addEventListener(n, l, tc(e))
                    }
                }]), n
            }(),
            rc = "@".charCodeAt(0);

        function ac(n, l) {
            if (n.charCodeAt(0) === rc) throw new Error("Found the synthetic ".concat(l, " ").concat(n, '. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))
        }
        var oc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).component = t;
                    var r = ec(i + "-" + t.id, t.styles, []);
                    return e.addStyles(r), u.contentAttr = lc.replace(Js, i + "-" + t.id), u.hostAttr = nc.replace(Js, i + "-" + t.id), u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "applyToHost",
                    value: function (n) {
                        _get(_getPrototypeOf(l.prototype), "setAttribute", this).call(this, n, this.hostAttr, "")
                    }
                }, {
                    key: "createElement",
                    value: function (n, e) {
                        var t = _get(_getPrototypeOf(l.prototype), "createElement", this).call(this, n, e);
                        return _get(_getPrototypeOf(l.prototype), "setAttribute", this).call(this, t, this.contentAttr, ""), t
                    }
                }]), l
            }(uc),
            sc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).sharedStylesHost = e, u.hostEl = t, u.component = i, u.shadowRoot = i.encapsulation === Qn.ShadowDom ? t.attachShadow({
                        mode: "open"
                    }) : t.createShadowRoot(), u.sharedStylesHost.addHost(u.shadowRoot);
                    for (var r = ec(i.id, i.styles, []), a = 0; a < r.length; a++) {
                        var o = document.createElement("style");
                        o.textContent = r[a], u.shadowRoot.appendChild(o)
                    }
                    return u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "nodeOrShadowRoot",
                    value: function (n) {
                        return n === this.hostEl ? this.shadowRoot : n
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.sharedStylesHost.removeHost(this.shadowRoot)
                    }
                }, {
                    key: "appendChild",
                    value: function (n, e) {
                        return _get(_getPrototypeOf(l.prototype), "appendChild", this).call(this, this.nodeOrShadowRoot(n), e)
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, e, t) {
                        return _get(_getPrototypeOf(l.prototype), "insertBefore", this).call(this, this.nodeOrShadowRoot(n), e, t)
                    }
                }, {
                    key: "removeChild",
                    value: function (n, e) {
                        return _get(_getPrototypeOf(l.prototype), "removeChild", this).call(this, this.nodeOrShadowRoot(n), e)
                    }
                }, {
                    key: "parentNode",
                    value: function (n) {
                        return this.nodeOrShadowRoot(_get(_getPrototypeOf(l.prototype), "parentNode", this).call(this, this.nodeOrShadowRoot(n)))
                    }
                }]), l
            }(uc),
            cc = "undefined" != typeof Zone && Zone.__symbol__ || function (n) {
                return "__zone_symbol__" + n
            },
            dc = cc("addEventListener"),
            hc = cc("removeEventListener"),
            pc = {},
            fc = "__zone_symbol__propagationStopped",
            gc = function () {
                var n = "undefined" != typeof Zone && Zone[cc("BLACK_LISTED_EVENTS")];
                if (n) {
                    var l = {};
                    return n.forEach((function (n) {
                        l[n] = n
                    })), l
                }
            }(),
            vc = function (n) {
                return !!gc && gc.hasOwnProperty(n)
            },
            mc = function (n) {
                var l = pc[n.type];
                if (l) {
                    var e = this[l];
                    if (e) {
                        var t = [n];
                        if (1 === e.length) {
                            var i = e[0];
                            return i.zone !== Zone.current ? i.zone.run(i.handler, this, t) : i.handler.apply(this, t)
                        }
                        for (var u = e.slice(), r = 0; r < u.length && !0 !== n[fc]; r++) {
                            var a = u[r];
                            a.zone !== Zone.current ? a.zone.run(a.handler, this, t) : a.handler.apply(this, t)
                        }
                    }
                }
            },
            yc = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).ngZone = e, t && function (n) {
                        return n === Mo
                    }(t) || i.patchEvent(), i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "patchEvent",
                    value: function () {
                        if ("undefined" != typeof Event && Event && Event.prototype && !Event.prototype.__zone_symbol__stopImmediatePropagation) {
                            var n = Event.prototype.__zone_symbol__stopImmediatePropagation = Event.prototype.stopImmediatePropagation;
                            Event.prototype.stopImmediatePropagation = function () {
                                this && (this[fc] = !0), n && n.apply(this, arguments)
                            }
                        }
                    }
                }, {
                    key: "supports",
                    value: function (n) {
                        return !0
                    }
                }, {
                    key: "addEventListener",
                    value: function (n, l, e) {
                        var t = this,
                            i = e;
                        if (!n[dc] || pu.isInAngularZone() && !vc(l)) n.addEventListener(l, i, !1);
                        else {
                            var u = pc[l];
                            u || (u = pc[l] = cc("ANGULAR" + l + "FALSE"));
                            var r = n[u],
                                a = r && r.length > 0;
                            r || (r = n[u] = []);
                            var o = vc(l) ? Zone.root : Zone.current;
                            if (0 === r.length) r.push({
                                zone: o,
                                handler: i
                            });
                            else {
                                for (var s = !1, c = 0; c < r.length; c++)
                                    if (r[c].handler === i) {
                                        s = !0;
                                        break
                                    } s || r.push({
                                    zone: o,
                                    handler: i
                                })
                            }
                            a || n[dc](l, mc, !1)
                        }
                        return function () {
                            return t.removeEventListener(n, l, i)
                        }
                    }
                }, {
                    key: "removeEventListener",
                    value: function (n, l, e) {
                        var t = n[hc];
                        if (!t) return n.removeEventListener.apply(n, [l, e, !1]);
                        var i = pc[l],
                            u = i && n[i];
                        if (!u) return n.removeEventListener.apply(n, [l, e, !1]);
                        for (var r = !1, a = 0; a < u.length; a++)
                            if (u[a].handler === e) {
                                r = !0, u.splice(a, 1);
                                break
                            } r ? 0 === u.length && t.apply(n, [l, mc, !1]) : n.removeEventListener.apply(n, [l, e, !1])
                    }
                }]), l
            }(Zs),
            bc = {
                pan: !0,
                panstart: !0,
                panmove: !0,
                panend: !0,
                pancancel: !0,
                panleft: !0,
                panright: !0,
                panup: !0,
                pandown: !0,
                pinch: !0,
                pinchstart: !0,
                pinchmove: !0,
                pinchend: !0,
                pinchcancel: !0,
                pinchin: !0,
                pinchout: !0,
                press: !0,
                pressup: !0,
                rotate: !0,
                rotatestart: !0,
                rotatemove: !0,
                rotateend: !0,
                rotatecancel: !0,
                swipe: !0,
                swipeleft: !0,
                swiperight: !0,
                swipeup: !0,
                swipedown: !0,
                tap: !0
            },
            _c = new Dn("HammerGestureConfig"),
            kc = new Dn("HammerLoader"),
            wc = function () {
                function n() {
                    _classCallCheck(this, n), this.events = [], this.overrides = {}
                }
                return _createClass(n, [{
                    key: "buildHammer",
                    value: function (n) {
                        var l = new Hammer(n, this.options);
                        for (var e in l.get("pinch").set({
                                enable: !0
                            }), l.get("rotate").set({
                                enable: !0
                            }), this.overrides) l.get(e).set(this.overrides[e]);
                        return l
                    }
                }]), n
            }(),
            xc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n)))._config = e, u.console = t, u.loader = i, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "supports",
                    value: function (n) {
                        return !(!bc.hasOwnProperty(n.toLowerCase()) && !this.isCustomEvent(n) || !window.Hammer && !this.loader && (this.console.warn('The "'.concat(n, '" event cannot be bound because Hammer.JS is not ') + "loaded and no custom loader has been specified."), 1))
                    }
                }, {
                    key: "addEventListener",
                    value: function (n, l, e) {
                        var t = this,
                            i = this.manager.getZone();
                        if (l = l.toLowerCase(), !window.Hammer && this.loader) {
                            var u = !1,
                                r = function () {
                                    u = !0
                                };
                            return this.loader().then((function () {
                                    if (!window.Hammer) return t.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."), void(r = function () {});
                                    u || (r = t.addEventListener(n, l, e))
                                })).catch((function () {
                                    t.console.warn('The "'.concat(l, '" event cannot be bound because the custom ') + "Hammer.JS loader failed."), r = function () {}
                                })),
                                function () {
                                    r()
                                }
                        }
                        return i.runOutsideAngular((function () {
                            var u = t._config.buildHammer(n),
                                r = function (n) {
                                    i.runGuarded((function () {
                                        e(n)
                                    }))
                                };
                            return u.on(l, r),
                                function () {
                                    u.off(l, r), "function" == typeof u.destroy && u.destroy()
                                }
                        }))
                    }
                }, {
                    key: "isCustomEvent",
                    value: function (n) {
                        return this._config.events.indexOf(n) > -1
                    }
                }]), l
            }(Zs),
            Cc = ["alt", "control", "meta", "shift"],
            Sc = {
                alt: function (n) {
                    return n.altKey
                },
                control: function (n) {
                    return n.ctrlKey
                },
                meta: function (n) {
                    return n.metaKey
                },
                shift: function (n) {
                    return n.shiftKey
                }
            },
            Ic = function (n) {
                function l(n) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "supports",
                    value: function (n) {
                        return null != l.parseEventName(n)
                    }
                }, {
                    key: "addEventListener",
                    value: function (n, e, t) {
                        var i = l.parseEventName(e),
                            u = l.eventCallback(i.fullKey, t, this.manager.getZone());
                        return this.manager.getZone().runOutsideAngular((function () {
                            return Os().onAndCancel(n, i.domEventName, u)
                        }))
                    }
                }], [{
                    key: "parseEventName",
                    value: function (n) {
                        var e = n.toLowerCase().split("."),
                            t = e.shift();
                        if (0 === e.length || "keydown" !== t && "keyup" !== t) return null;
                        var i = l._normalizeKey(e.pop()),
                            u = "";
                        if (Cc.forEach((function (n) {
                                var l = e.indexOf(n);
                                l > -1 && (e.splice(l, 1), u += n + ".")
                            })), u += i, 0 != e.length || 0 === i.length) return null;
                        var r = {};
                        return r.domEventName = t, r.fullKey = u, r
                    }
                }, {
                    key: "getEventFullKey",
                    value: function (n) {
                        var l = "",
                            e = Os().getEventKey(n);
                        return " " === (e = e.toLowerCase()) ? e = "space" : "." === e && (e = "dot"), Cc.forEach((function (t) {
                            t != e && (0, Sc[t])(n) && (l += t + ".")
                        })), l += e
                    }
                }, {
                    key: "eventCallback",
                    value: function (n, e, t) {
                        return function (i) {
                            l.getEventFullKey(i) === n && t.runGuarded((function () {
                                return e(i)
                            }))
                        }
                    }
                }, {
                    key: "_normalizeKey",
                    value: function (n) {
                        switch (n) {
                            case "esc":
                                return "escape";
                            default:
                                return n
                        }
                    }
                }]), l
            }(Zs),
            Tc = function n() {
                _classCallCheck(this, n)
            },
            Ec = function (n) {
                function l(n) {
                    var e;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._doc = n, e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "sanitize",
                    value: function (n, l) {
                        if (null == l) return null;
                        switch (n) {
                            case Al.NONE:
                                return l;
                            case Al.HTML:
                                return l instanceof Pc ? l.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(l, "HTML"), function (n, l) {
                                    var e = null;
                                    try {
                                        fl = fl || new ol(n);
                                        var t = l ? String(l) : "";
                                        e = fl.getInertBodyElement(t);
                                        var i = 5,
                                            u = t;
                                        do {
                                            if (0 === i) throw new Error("Failed to sanitize html because the input is unstable");
                                            i--, t = u, u = e.innerHTML, e = fl.getInertBodyElement(t)
                                        } while (t !== u);
                                        var r = new Cl,
                                            a = r.sanitizeChildren(El(e) || e);
                                        return al() && r.sanitizedSomething && console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"), a
                                    } finally {
                                        if (e)
                                            for (var o = El(e) || e; o.firstChild;) o.removeChild(o.firstChild)
                                    }
                                }(this._doc, String(l)));
                            case Al.STYLE:
                                return l instanceof Oc ? l.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(l, "Style"), function (n) {
                                    if (!(n = String(n).trim())) return "";
                                    var l = n.match(Dl);
                                    return l && dl(l[1]) === l[1] || n.match(Ol) && function (n) {
                                        for (var l = !0, e = !0, t = 0; t < n.length; t++) {
                                            var i = n.charAt(t);
                                            "'" === i && e ? l = !l : '"' === i && l && (e = !e)
                                        }
                                        return l && e
                                    }(n) ? n : (al() && console.warn("WARNING: sanitizing unsafe style value ".concat(n, " (see http://g.co/ng/security#xss).")), "unsafe")
                                }(l));
                            case Al.SCRIPT:
                                if (l instanceof Dc) return l.changingThisBreaksApplicationSecurity;
                                throw this.checkNotSafeValue(l, "Script"), new Error("unsafe value used in a script context");
                            case Al.URL:
                                return l instanceof Mc || l instanceof Rc ? l.changingThisBreaksApplicationSecurity : (this.checkNotSafeValue(l, "URL"), dl(String(l)));
                            case Al.RESOURCE_URL:
                                if (l instanceof Mc) return l.changingThisBreaksApplicationSecurity;
                                throw this.checkNotSafeValue(l, "ResourceURL"), new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");
                            default:
                                throw new Error("Unexpected SecurityContext ".concat(n, " (see http://g.co/ng/security#xss)"))
                        }
                    }
                }, {
                    key: "checkNotSafeValue",
                    value: function (n, l) {
                        if (n instanceof Ac) throw new Error("Required a safe ".concat(l, ", got a ").concat(n.getTypeName(), " ") + "(see http://g.co/ng/security#xss)")
                    }
                }, {
                    key: "bypassSecurityTrustHtml",
                    value: function (n) {
                        return new Pc(n)
                    }
                }, {
                    key: "bypassSecurityTrustStyle",
                    value: function (n) {
                        return new Oc(n)
                    }
                }, {
                    key: "bypassSecurityTrustScript",
                    value: function (n) {
                        return new Dc(n)
                    }
                }, {
                    key: "bypassSecurityTrustUrl",
                    value: function (n) {
                        return new Rc(n)
                    }
                }, {
                    key: "bypassSecurityTrustResourceUrl",
                    value: function (n) {
                        return new Mc(n)
                    }
                }]), l
            }(Tc),
            Ac = function () {
                function n(l) {
                    _classCallCheck(this, n), this.changingThisBreaksApplicationSecurity = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity) + " (see http://g.co/ng/security#xss)"
                    }
                }]), n
            }(),
            Pc = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getTypeName",
                    value: function () {
                        return "HTML"
                    }
                }]), l
            }(Ac),
            Oc = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getTypeName",
                    value: function () {
                        return "Style"
                    }
                }]), l
            }(Ac),
            Dc = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getTypeName",
                    value: function () {
                        return "Script"
                    }
                }]), l
            }(Ac),
            Rc = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getTypeName",
                    value: function () {
                        return "URL"
                    }
                }]), l
            }(Ac),
            Mc = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getTypeName",
                    value: function () {
                        return "ResourceURL"
                    }
                }]), l
            }(Ac),
            Nc = Tu(ju, "browser", [{
                provide: Gi,
                useValue: "browser"
            }, {
                provide: ji,
                useValue: function () {
                    Ls.makeCurrent(), Hs.init()
                },
                multi: !0
            }, {
                provide: Sa,
                useClass: function (n) {
                    function l(n) {
                        var e;
                        return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._doc = n, e._init(), e
                    }
                    return _inherits(l, n), _createClass(l, [{
                        key: "_init",
                        value: function () {
                            this.location = Os().getLocation(), this._history = Os().getHistory()
                        }
                    }, {
                        key: "getBaseHrefFromDOM",
                        value: function () {
                            return Os().getBaseHref(this._doc)
                        }
                    }, {
                        key: "onPopState",
                        value: function (n) {
                            Os().getGlobalEventTarget(this._doc, "window").addEventListener("popstate", n, !1)
                        }
                    }, {
                        key: "onHashChange",
                        value: function (n) {
                            Os().getGlobalEventTarget(this._doc, "window").addEventListener("hashchange", n, !1)
                        }
                    }, {
                        key: "pushState",
                        value: function (n, l, e) {
                            qs() ? this._history.pushState(n, l, e) : this.location.hash = e
                        }
                    }, {
                        key: "replaceState",
                        value: function (n, l, e) {
                            qs() ? this._history.replaceState(n, l, e) : this.location.hash = e
                        }
                    }, {
                        key: "forward",
                        value: function () {
                            this._history.forward()
                        }
                    }, {
                        key: "back",
                        value: function () {
                            this._history.back()
                        }
                    }, {
                        key: "getState",
                        value: function () {
                            return this._history.state
                        }
                    }, {
                        key: "href",
                        get: function () {
                            return this.location.href
                        }
                    }, {
                        key: "protocol",
                        get: function () {
                            return this.location.protocol
                        }
                    }, {
                        key: "hostname",
                        get: function () {
                            return this.location.hostname
                        }
                    }, {
                        key: "port",
                        get: function () {
                            return this.location.port
                        }
                    }, {
                        key: "pathname",
                        get: function () {
                            return this.location.pathname
                        },
                        set: function (n) {
                            this.location.pathname = n
                        }
                    }, {
                        key: "search",
                        get: function () {
                            return this.location.search
                        }
                    }, {
                        key: "hash",
                        get: function () {
                            return this.location.hash
                        }
                    }]), l
                }(Sa),
                deps: [Ro]
            }, {
                provide: Ro,
                useFactory: function () {
                    return document
                },
                deps: []
            }]);

        function Bc() {
            return new il
        }
        var zc = function () {
            function n(l) {
                if (_classCallCheck(this, n), l) throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")
            }
            return _createClass(n, null, [{
                key: "withServerTransition",
                value: function (l) {
                    return {
                        ngModule: n,
                        providers: [{
                            provide: $i,
                            useValue: l.appId
                        }, {
                            provide: Us,
                            useExisting: $i
                        }, $s]
                    }
                }
            }]), n
        }();
        "undefined" != typeof window && window;
        var Lc = function n(l, e) {
                _classCallCheck(this, n), this.id = l, this.url = e
            },
            Fc = function (n) {
                function l(n, e) {
                    var t, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "imperative",
                        u = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).navigationTrigger = i, t.restoredState = u, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "NavigationStart(id: ".concat(this.id, ", url: '").concat(this.url, "')")
                    }
                }]), l
            }(Lc),
            qc = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "NavigationEnd(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "')")
                    }
                }]), l
            }(Lc),
            Uc = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).reason = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "NavigationCancel(id: ".concat(this.id, ", url: '").concat(this.url, "')")
                    }
                }]), l
            }(Lc),
            $c = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).error = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "NavigationError(id: ".concat(this.id, ", url: '").concat(this.url, "', error: ").concat(this.error, ")")
                    }
                }]), l
            }(Lc),
            Hc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, u.state = i, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "RoutesRecognized(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "', state: ").concat(this.state, ")")
                    }
                }]), l
            }(Lc),
            Vc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, u.state = i, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "GuardsCheckStart(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "', state: ").concat(this.state, ")")
                    }
                }]), l
            }(Lc),
            jc = function (n) {
                function l(n, e, t, i, u) {
                    var r;
                    return _classCallCheck(this, l), (r = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, r.state = i, r.shouldActivate = u, r
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "GuardsCheckEnd(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "', state: ").concat(this.state, ", shouldActivate: ").concat(this.shouldActivate, ")")
                    }
                }]), l
            }(Lc),
            Gc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, u.state = i, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "ResolveStart(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "', state: ").concat(this.state, ")")
                    }
                }]), l
            }(Lc),
            Wc = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).urlAfterRedirects = t, u.state = i, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return "ResolveEnd(id: ".concat(this.id, ", url: '").concat(this.url, "', urlAfterRedirects: '").concat(this.urlAfterRedirects, "', state: ").concat(this.state, ")")
                    }
                }]), l
            }(Lc),
            Kc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.route = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "RouteConfigLoadStart(path: ".concat(this.route.path, ")")
                    }
                }]), n
            }(),
            Zc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.route = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "RouteConfigLoadEnd(path: ".concat(this.route.path, ")")
                    }
                }]), n
            }(),
            Qc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.snapshot = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "ChildActivationStart(path: '".concat(this.snapshot.routeConfig && this.snapshot.routeConfig.path || "", "')")
                    }
                }]), n
            }(),
            Yc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.snapshot = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "ChildActivationEnd(path: '".concat(this.snapshot.routeConfig && this.snapshot.routeConfig.path || "", "')")
                    }
                }]), n
            }(),
            Xc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.snapshot = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "ActivationStart(path: '".concat(this.snapshot.routeConfig && this.snapshot.routeConfig.path || "", "')")
                    }
                }]), n
            }(),
            Jc = function () {
                function n(l) {
                    _classCallCheck(this, n), this.snapshot = l
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "ActivationEnd(path: '".concat(this.snapshot.routeConfig && this.snapshot.routeConfig.path || "", "')")
                    }
                }]), n
            }(),
            nd = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.routerEvent = l, this.position = e, this.anchor = t
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "Scroll(anchor: '".concat(this.anchor, "', position: '").concat(this.position ? "".concat(this.position[0], ", ").concat(this.position[1]) : null, "')")
                    }
                }]), n
            }(),
            ld = function n() {
                _classCallCheck(this, n)
            },
            ed = "primary",
            td = function () {
                function n(l) {
                    _classCallCheck(this, n), this.params = l || {}
                }
                return _createClass(n, [{
                    key: "has",
                    value: function (n) {
                        return this.params.hasOwnProperty(n)
                    }
                }, {
                    key: "get",
                    value: function (n) {
                        if (this.has(n)) {
                            var l = this.params[n];
                            return Array.isArray(l) ? l[0] : l
                        }
                        return null
                    }
                }, {
                    key: "getAll",
                    value: function (n) {
                        if (this.has(n)) {
                            var l = this.params[n];
                            return Array.isArray(l) ? l : [l]
                        }
                        return []
                    }
                }, {
                    key: "keys",
                    get: function () {
                        return Object.keys(this.params)
                    }
                }]), n
            }();

        function id(n) {
            return new td(n)
        }
        var ud = "ngNavigationCancelingError";

        function rd(n) {
            var l = Error("NavigationCancelingError: " + n);
            return l[ud] = !0, l
        }

        function ad(n, l, e) {
            var t = e.path.split("/");
            if (t.length > n.length) return null;
            if ("full" === e.pathMatch && (l.hasChildren() || t.length < n.length)) return null;
            for (var i = {}, u = 0; u < t.length; u++) {
                var r = t[u],
                    a = n[u];
                if (r.startsWith(":")) i[r.substring(1)] = a;
                else if (r !== a.path) return null
            }
            return {
                consumed: n.slice(0, t.length),
                posParams: i
            }
        }
        var od = function n(l, e) {
            _classCallCheck(this, n), this.routes = l, this.module = e
        };

        function sd(n) {
            for (var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", e = 0; e < n.length; e++) {
                var t = n[e];
                cd(t, dd(l, t))
            }
        }

        function cd(n, l) {
            if (!n) throw new Error("\n      Invalid configuration of route '".concat(l, "': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));
            if (Array.isArray(n)) throw new Error("Invalid configuration of route '".concat(l, "': Array cannot be specified"));
            if (!n.component && !n.children && !n.loadChildren && n.outlet && n.outlet !== ed) throw new Error("Invalid configuration of route '".concat(l, "': a componentless route without children or loadChildren cannot have a named outlet set"));
            if (n.redirectTo && n.children) throw new Error("Invalid configuration of route '".concat(l, "': redirectTo and children cannot be used together"));
            if (n.redirectTo && n.loadChildren) throw new Error("Invalid configuration of route '".concat(l, "': redirectTo and loadChildren cannot be used together"));
            if (n.children && n.loadChildren) throw new Error("Invalid configuration of route '".concat(l, "': children and loadChildren cannot be used together"));
            if (n.redirectTo && n.component) throw new Error("Invalid configuration of route '".concat(l, "': redirectTo and component cannot be used together"));
            if (n.path && n.matcher) throw new Error("Invalid configuration of route '".concat(l, "': path and matcher cannot be used together"));
            if (void 0 === n.redirectTo && !n.component && !n.children && !n.loadChildren) throw new Error("Invalid configuration of route '".concat(l, "'. One of the following must be provided: component, redirectTo, children or loadChildren"));
            if (void 0 === n.path && void 0 === n.matcher) throw new Error("Invalid configuration of route '".concat(l, "': routes must have either a path or a matcher specified"));
            if ("string" == typeof n.path && "/" === n.path.charAt(0)) throw new Error("Invalid configuration of route '".concat(l, "': path cannot start with a slash"));
            if ("" === n.path && void 0 !== n.redirectTo && void 0 === n.pathMatch) throw new Error("Invalid configuration of route '{path: \"".concat(l, '", redirectTo: "').concat(n.redirectTo, "\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));
            if (void 0 !== n.pathMatch && "full" !== n.pathMatch && "prefix" !== n.pathMatch) throw new Error("Invalid configuration of route '".concat(l, "': pathMatch can only be set to 'prefix' or 'full'"));
            n.children && sd(n.children, l)
        }

        function dd(n, l) {
            return l ? n || l.path ? n && !l.path ? "".concat(n, "/") : !n && l.path ? l.path : "".concat(n, "/").concat(l.path) : "" : n
        }

        function hd(n) {
            var l = n.children && n.children.map(hd),
                e = l ? Object.assign({}, n, {
                    children: l
                }) : Object.assign({}, n);
            return !e.component && (l || e.loadChildren) && e.outlet && e.outlet !== ed && (e.component = ld), e
        }

        function pd(n, l) {
            var e, t = Object.keys(n),
                i = Object.keys(l);
            if (!t || !i || t.length != i.length) return !1;
            for (var u = 0; u < t.length; u++)
                if (n[e = t[u]] !== l[e]) return !1;
            return !0
        }

        function fd(n) {
            return Array.prototype.concat.apply([], n)
        }

        function gd(n) {
            return n.length > 0 ? n[n.length - 1] : null
        }

        function vd(n, l) {
            for (var e in n) n.hasOwnProperty(e) && l(n[e], e)
        }

        function md(n) {
            return ee(n) ? n : le(n) ? K(Promise.resolve(n)) : qo(n)
        }

        function yd(n, l, e) {
            return e ? function (n, l) {
                return pd(n, l)
            }(n.queryParams, l.queryParams) && function n(l, e) {
                if (!wd(l.segments, e.segments)) return !1;
                if (l.numberOfChildren !== e.numberOfChildren) return !1;
                for (var t in e.children) {
                    if (!l.children[t]) return !1;
                    if (!n(l.children[t], e.children[t])) return !1
                }
                return !0
            }(n.root, l.root) : function (n, l) {
                return Object.keys(l).length <= Object.keys(n).length && Object.keys(l).every((function (e) {
                    return l[e] === n[e]
                }))
            }(n.queryParams, l.queryParams) && function n(l, e) {
                return function l(e, t, i) {
                    if (e.segments.length > i.length) return !!wd(e.segments.slice(0, i.length), i) && !t.hasChildren();
                    if (e.segments.length === i.length) {
                        if (!wd(e.segments, i)) return !1;
                        for (var u in t.children) {
                            if (!e.children[u]) return !1;
                            if (!n(e.children[u], t.children[u])) return !1
                        }
                        return !0
                    }
                    var r = i.slice(0, e.segments.length),
                        a = i.slice(e.segments.length);
                    return !!wd(e.segments, r) && !!e.children[ed] && l(e.children[ed], t, a)
                }(l, e, e.segments)
            }(n.root, l.root)
        }
        var bd = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.root = l, this.queryParams = e, this.fragment = t
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return Id.serialize(this)
                    }
                }, {
                    key: "queryParamMap",
                    get: function () {
                        return this._queryParamMap || (this._queryParamMap = id(this.queryParams)), this._queryParamMap
                    }
                }]), n
            }(),
            _d = function () {
                function n(l, e) {
                    var t = this;
                    _classCallCheck(this, n), this.segments = l, this.children = e, this.parent = null, vd(e, (function (n, l) {
                        return n.parent = t
                    }))
                }
                return _createClass(n, [{
                    key: "hasChildren",
                    value: function () {
                        return this.numberOfChildren > 0
                    }
                }, {
                    key: "toString",
                    value: function () {
                        return Td(this)
                    }
                }, {
                    key: "numberOfChildren",
                    get: function () {
                        return Object.keys(this.children).length
                    }
                }]), n
            }(),
            kd = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.path = l, this.parameters = e
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return Rd(this)
                    }
                }, {
                    key: "parameterMap",
                    get: function () {
                        return this._parameterMap || (this._parameterMap = id(this.parameters)), this._parameterMap
                    }
                }]), n
            }();

        function wd(n, l) {
            return n.length === l.length && n.every((function (n, e) {
                return n.path === l[e].path
            }))
        }

        function xd(n, l) {
            var e = [];
            return vd(n.children, (function (n, t) {
                t === ed && (e = e.concat(l(n, t)))
            })), vd(n.children, (function (n, t) {
                t !== ed && (e = e.concat(l(n, t)))
            })), e
        }
        var Cd = function n() {
                _classCallCheck(this, n)
            },
            Sd = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "parse",
                    value: function (n) {
                        var l = new Ld(n);
                        return new bd(l.parseRootSegment(), l.parseQueryParams(), l.parseFragment())
                    }
                }, {
                    key: "serialize",
                    value: function (n) {
                        var l, e, t;
                        return "".concat("/".concat(function n(l, e) {
                            if (!l.hasChildren()) return Td(l);
                            if (e) {
                                var t = l.children[ed] ? n(l.children[ed], !1) : "",
                                    i = [];
                                return vd(l.children, (function (l, e) {
                                    e !== ed && i.push("".concat(e, ":").concat(n(l, !1)))
                                })), i.length > 0 ? "".concat(t, "(").concat(i.join("//"), ")") : t
                            }
                            var u = xd(l, (function (e, t) {
                                return t === ed ? [n(l.children[ed], !1)] : ["".concat(t, ":").concat(n(e, !1))]
                            }));
                            return "".concat(Td(l), "/(").concat(u.join("//"), ")")
                        }(n.root, !0)), (e = n.queryParams, t = Object.keys(e).map((function (n) {
                            var l = e[n];
                            return Array.isArray(l) ? l.map((function (l) {
                                return "".concat(Ad(n), "=").concat(Ad(l))
                            })).join("&") : "".concat(Ad(n), "=").concat(Ad(l))
                        })), t.length ? "?".concat(t.join("&")) : "")).concat("string" == typeof n.fragment ? "#".concat((l = n.fragment, encodeURI(l))) : "")
                    }
                }]), n
            }(),
            Id = new Sd;

        function Td(n) {
            return n.segments.map((function (n) {
                return Rd(n)
            })).join("/")
        }

        function Ed(n) {
            return encodeURIComponent(n).replace(/%40/g, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",")
        }

        function Ad(n) {
            return Ed(n).replace(/%3B/gi, ";")
        }

        function Pd(n) {
            return Ed(n).replace(/\(/g, "%28").replace(/\)/g, "%29").replace(/%26/gi, "&")
        }

        function Od(n) {
            return decodeURIComponent(n)
        }

        function Dd(n) {
            return Od(n.replace(/\+/g, "%20"))
        }

        function Rd(n) {
            return "".concat(Pd(n.path)).concat((l = n.parameters, Object.keys(l).map((function (n) {
                return ";".concat(Pd(n), "=").concat(Pd(l[n]))
            })).join("")));
            var l
        }
        var Md = /^[^\/()?;=#]+/;

        function Nd(n) {
            var l = n.match(Md);
            return l ? l[0] : ""
        }
        var Bd = /^[^=?&#]+/,
            zd = /^[^?&#]+/,
            Ld = function () {
                function n(l) {
                    _classCallCheck(this, n), this.url = l, this.remaining = l
                }
                return _createClass(n, [{
                    key: "parseRootSegment",
                    value: function () {
                        return this.consumeOptional("/"), "" === this.remaining || this.peekStartsWith("?") || this.peekStartsWith("#") ? new _d([], {}) : new _d([], this.parseChildren())
                    }
                }, {
                    key: "parseQueryParams",
                    value: function () {
                        var n = {};
                        if (this.consumeOptional("?"))
                            do {
                                this.parseQueryParam(n)
                            } while (this.consumeOptional("&"));
                        return n
                    }
                }, {
                    key: "parseFragment",
                    value: function () {
                        return this.consumeOptional("#") ? decodeURIComponent(this.remaining) : null
                    }
                }, {
                    key: "parseChildren",
                    value: function () {
                        if ("" === this.remaining) return {};
                        this.consumeOptional("/");
                        var n = [];
                        for (this.peekStartsWith("(") || n.push(this.parseSegment()); this.peekStartsWith("/") && !this.peekStartsWith("//") && !this.peekStartsWith("/(");) this.capture("/"), n.push(this.parseSegment());
                        var l = {};
                        this.peekStartsWith("/(") && (this.capture("/"), l = this.parseParens(!0));
                        var e = {};
                        return this.peekStartsWith("(") && (e = this.parseParens(!1)), (n.length > 0 || Object.keys(l).length > 0) && (e[ed] = new _d(n, l)), e
                    }
                }, {
                    key: "parseSegment",
                    value: function () {
                        var n = Nd(this.remaining);
                        if ("" === n && this.peekStartsWith(";")) throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining, "'."));
                        return this.capture(n), new kd(Od(n), this.parseMatrixParams())
                    }
                }, {
                    key: "parseMatrixParams",
                    value: function () {
                        for (var n = {}; this.consumeOptional(";");) this.parseParam(n);
                        return n
                    }
                }, {
                    key: "parseParam",
                    value: function (n) {
                        var l = Nd(this.remaining);
                        if (l) {
                            this.capture(l);
                            var e = "";
                            if (this.consumeOptional("=")) {
                                var t = Nd(this.remaining);
                                t && this.capture(e = t)
                            }
                            n[Od(l)] = Od(e)
                        }
                    }
                }, {
                    key: "parseQueryParam",
                    value: function (n) {
                        var l = function (n) {
                            var l = n.match(Bd);
                            return l ? l[0] : ""
                        }(this.remaining);
                        if (l) {
                            this.capture(l);
                            var e = "";
                            if (this.consumeOptional("=")) {
                                var t = function (n) {
                                    var l = n.match(zd);
                                    return l ? l[0] : ""
                                }(this.remaining);
                                t && this.capture(e = t)
                            }
                            var i = Dd(l),
                                u = Dd(e);
                            if (n.hasOwnProperty(i)) {
                                var r = n[i];
                                Array.isArray(r) || (n[i] = r = [r]), r.push(u)
                            } else n[i] = u
                        }
                    }
                }, {
                    key: "parseParens",
                    value: function (n) {
                        var l = {};
                        for (this.capture("("); !this.consumeOptional(")") && this.remaining.length > 0;) {
                            var e = Nd(this.remaining),
                                t = this.remaining[e.length];
                            if ("/" !== t && ")" !== t && ";" !== t) throw new Error("Cannot parse url '".concat(this.url, "'"));
                            var i = void 0;
                            e.indexOf(":") > -1 ? (i = e.substr(0, e.indexOf(":")), this.capture(i), this.capture(":")) : n && (i = ed);
                            var u = this.parseChildren();
                            l[i] = 1 === Object.keys(u).length ? u[ed] : new _d([], u), this.consumeOptional("//")
                        }
                        return l
                    }
                }, {
                    key: "peekStartsWith",
                    value: function (n) {
                        return this.remaining.startsWith(n)
                    }
                }, {
                    key: "consumeOptional",
                    value: function (n) {
                        return !!this.peekStartsWith(n) && (this.remaining = this.remaining.substring(n.length), !0)
                    }
                }, {
                    key: "capture",
                    value: function (n) {
                        if (!this.consumeOptional(n)) throw new Error('Expected "'.concat(n, '".'))
                    }
                }]), n
            }(),
            Fd = function () {
                function n(l) {
                    _classCallCheck(this, n), this._root = l
                }
                return _createClass(n, [{
                    key: "parent",
                    value: function (n) {
                        var l = this.pathFromRoot(n);
                        return l.length > 1 ? l[l.length - 2] : null
                    }
                }, {
                    key: "children",
                    value: function (n) {
                        var l = qd(n, this._root);
                        return l ? l.children.map((function (n) {
                            return n.value
                        })) : []
                    }
                }, {
                    key: "firstChild",
                    value: function (n) {
                        var l = qd(n, this._root);
                        return l && l.children.length > 0 ? l.children[0].value : null
                    }
                }, {
                    key: "siblings",
                    value: function (n) {
                        var l = Ud(n, this._root);
                        return l.length < 2 ? [] : l[l.length - 2].children.map((function (n) {
                            return n.value
                        })).filter((function (l) {
                            return l !== n
                        }))
                    }
                }, {
                    key: "pathFromRoot",
                    value: function (n) {
                        return Ud(n, this._root).map((function (n) {
                            return n.value
                        }))
                    }
                }, {
                    key: "root",
                    get: function () {
                        return this._root.value
                    }
                }]), n
            }();

        function qd(n, l) {
            if (n === l.value) return l;
            var e = !0,
                t = !1,
                i = void 0;
            try {
                for (var u, r = l.children[Symbol.iterator](); !(e = (u = r.next()).done); e = !0) {
                    var a = qd(n, u.value);
                    if (a) return a
                }
            } catch (o) {
                t = !0, i = o
            } finally {
                try {
                    e || null == r.return || r.return()
                } finally {
                    if (t) throw i
                }
            }
            return null
        }

        function Ud(n, l) {
            if (n === l.value) return [l];
            var e = !0,
                t = !1,
                i = void 0;
            try {
                for (var u, r = l.children[Symbol.iterator](); !(e = (u = r.next()).done); e = !0) {
                    var a = Ud(n, u.value);
                    if (a.length) return a.unshift(l), a
                }
            } catch (o) {
                t = !0, i = o
            } finally {
                try {
                    e || null == r.return || r.return()
                } finally {
                    if (t) throw i
                }
            }
            return []
        }
        var $d = function () {
            function n(l, e) {
                _classCallCheck(this, n), this.value = l, this.children = e
            }
            return _createClass(n, [{
                key: "toString",
                value: function () {
                    return "TreeNode(".concat(this.value, ")")
                }
            }]), n
        }();

        function Hd(n) {
            var l = {};
            return n && n.children.forEach((function (n) {
                return l[n.value.outlet] = n
            })), l
        }
        var Vd = function (n) {
            function l(n, e) {
                var t;
                return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).snapshot = e, Qd(_assertThisInitialized(t), n), t
            }
            return _inherits(l, n), _createClass(l, [{
                key: "toString",
                value: function () {
                    return this.snapshot.toString()
                }
            }]), l
        }(Fd);

        function jd(n, l) {
            var e = function (n, l) {
                    var e = new Kd([], {}, {}, "", {}, ed, l, null, n.root, -1, {});
                    return new Zd("", new $d(e, []))
                }(n, l),
                t = new Uo([new kd("", {})]),
                i = new Uo({}),
                u = new Uo({}),
                r = new Uo({}),
                a = new Uo(""),
                o = new Gd(t, i, r, a, u, ed, l, e.root);
            return o.snapshot = e.root, new Vd(new $d(o, []), e)
        }
        var Gd = function () {
            function n(l, e, t, i, u, r, a, o) {
                _classCallCheck(this, n), this.url = l, this.params = e, this.queryParams = t, this.fragment = i, this.data = u, this.outlet = r, this.component = a, this._futureSnapshot = o
            }
            return _createClass(n, [{
                key: "toString",
                value: function () {
                    return this.snapshot ? this.snapshot.toString() : "Future(".concat(this._futureSnapshot, ")")
                }
            }, {
                key: "routeConfig",
                get: function () {
                    return this._futureSnapshot.routeConfig
                }
            }, {
                key: "root",
                get: function () {
                    return this._routerState.root
                }
            }, {
                key: "parent",
                get: function () {
                    return this._routerState.parent(this)
                }
            }, {
                key: "firstChild",
                get: function () {
                    return this._routerState.firstChild(this)
                }
            }, {
                key: "children",
                get: function () {
                    return this._routerState.children(this)
                }
            }, {
                key: "pathFromRoot",
                get: function () {
                    return this._routerState.pathFromRoot(this)
                }
            }, {
                key: "paramMap",
                get: function () {
                    return this._paramMap || (this._paramMap = this.params.pipe(V((function (n) {
                        return id(n)
                    })))), this._paramMap
                }
            }, {
                key: "queryParamMap",
                get: function () {
                    return this._queryParamMap || (this._queryParamMap = this.queryParams.pipe(V((function (n) {
                        return id(n)
                    })))), this._queryParamMap
                }
            }]), n
        }();

        function Wd(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "emptyOnly",
                e = n.pathFromRoot,
                t = 0;
            if ("always" !== l)
                for (t = e.length - 1; t >= 1;) {
                    var i = e[t],
                        u = e[t - 1];
                    if (i.routeConfig && "" === i.routeConfig.path) t--;
                    else {
                        if (u.component) break;
                        t--
                    }
                }
            return function (n) {
                return n.reduce((function (n, l) {
                    return {
                        params: Object.assign({}, n.params, l.params),
                        data: Object.assign({}, n.data, l.data),
                        resolve: Object.assign({}, n.resolve, l._resolvedData)
                    }
                }), {
                    params: {},
                    data: {},
                    resolve: {}
                })
            }(e.slice(t))
        }
        var Kd = function () {
                function n(l, e, t, i, u, r, a, o, s, c, d) {
                    _classCallCheck(this, n), this.url = l, this.params = e, this.queryParams = t, this.fragment = i, this.data = u, this.outlet = r, this.component = a, this.routeConfig = o, this._urlSegment = s, this._lastPathIndex = c, this._resolve = d
                }
                return _createClass(n, [{
                    key: "toString",
                    value: function () {
                        return "Route(url:'".concat(this.url.map((function (n) {
                            return n.toString()
                        })).join("/"), "', path:'").concat(this.routeConfig ? this.routeConfig.path : "", "')")
                    }
                }, {
                    key: "root",
                    get: function () {
                        return this._routerState.root
                    }
                }, {
                    key: "parent",
                    get: function () {
                        return this._routerState.parent(this)
                    }
                }, {
                    key: "firstChild",
                    get: function () {
                        return this._routerState.firstChild(this)
                    }
                }, {
                    key: "children",
                    get: function () {
                        return this._routerState.children(this)
                    }
                }, {
                    key: "pathFromRoot",
                    get: function () {
                        return this._routerState.pathFromRoot(this)
                    }
                }, {
                    key: "paramMap",
                    get: function () {
                        return this._paramMap || (this._paramMap = id(this.params)), this._paramMap
                    }
                }, {
                    key: "queryParamMap",
                    get: function () {
                        return this._queryParamMap || (this._queryParamMap = id(this.queryParams)), this._queryParamMap
                    }
                }]), n
            }(),
            Zd = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, e))).url = n, Qd(_assertThisInitialized(t), e), t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "toString",
                    value: function () {
                        return Yd(this._root)
                    }
                }]), l
            }(Fd);

        function Qd(n, l) {
            l.value._routerState = n, l.children.forEach((function (l) {
                return Qd(n, l)
            }))
        }

        function Yd(n) {
            var l = n.children.length > 0 ? " { ".concat(n.children.map(Yd).join(", "), " } ") : "";
            return "".concat(n.value).concat(l)
        }

        function Xd(n) {
            if (n.snapshot) {
                var l = n.snapshot,
                    e = n._futureSnapshot;
                n.snapshot = e, pd(l.queryParams, e.queryParams) || n.queryParams.next(e.queryParams), l.fragment !== e.fragment && n.fragment.next(e.fragment), pd(l.params, e.params) || n.params.next(e.params),
                    function (n, l) {
                        if (n.length !== l.length) return !1;
                        for (var e = 0; e < n.length; ++e)
                            if (!pd(n[e], l[e])) return !1;
                        return !0
                    }(l.url, e.url) || n.url.next(e.url), pd(l.data, e.data) || n.data.next(e.data)
            } else n.snapshot = n._futureSnapshot, n.data.next(n._futureSnapshot.data)
        }

        function Jd(n, l) {
            var e, t;
            return pd(n.params, l.params) && wd(e = n.url, t = l.url) && e.every((function (n, l) {
                return pd(n.parameters, t[l].parameters)
            })) && !(!n.parent != !l.parent) && (!n.parent || Jd(n.parent, l.parent))
        }

        function nh(n) {
            return "object" == typeof n && null != n && !n.outlets && !n.segmentPath
        }

        function lh(n, l, e, t, i) {
            var u = {};
            return t && vd(t, (function (n, l) {
                u[l] = Array.isArray(n) ? n.map((function (n) {
                    return "".concat(n)
                })) : "".concat(n)
            })), new bd(e.root === n ? l : function n(l, e, t) {
                var i = {};
                return vd(l.children, (function (l, u) {
                    i[u] = l === e ? t : n(l, e, t)
                })), new _d(l.segments, i)
            }(e.root, n, l), u, i)
        }
        var eh = function () {
                function n(l, e, t) {
                    if (_classCallCheck(this, n), this.isAbsolute = l, this.numberOfDoubleDots = e, this.commands = t, l && t.length > 0 && nh(t[0])) throw new Error("Root segment cannot have matrix parameters");
                    var i = t.find((function (n) {
                        return "object" == typeof n && null != n && n.outlets
                    }));
                    if (i && i !== gd(t)) throw new Error("{outlets:{}} has to be the last command")
                }
                return _createClass(n, [{
                    key: "toRoot",
                    value: function () {
                        return this.isAbsolute && 1 === this.commands.length && "/" == this.commands[0]
                    }
                }]), n
            }(),
            th = function n(l, e, t) {
                _classCallCheck(this, n), this.segmentGroup = l, this.processChildren = e, this.index = t
            };

        function ih(n) {
            return "object" == typeof n && null != n && n.outlets ? n.outlets[ed] : "".concat(n)
        }

        function uh(n, l, e) {
            if (n || (n = new _d([], {})), 0 === n.segments.length && n.hasChildren()) return rh(n, l, e);
            var t = function (n, l, e) {
                    for (var t = 0, i = l, u = {
                            match: !1,
                            pathIndex: 0,
                            commandIndex: 0
                        }; i < n.segments.length;) {
                        if (t >= e.length) return u;
                        var r = n.segments[i],
                            a = ih(e[t]),
                            o = t < e.length - 1 ? e[t + 1] : null;
                        if (i > 0 && void 0 === a) break;
                        if (a && o && "object" == typeof o && void 0 === o.outlets) {
                            if (!ch(a, o, r)) return u;
                            t += 2
                        } else {
                            if (!ch(a, {}, r)) return u;
                            t++
                        }
                        i++
                    }
                    return {
                        match: !0,
                        pathIndex: i,
                        commandIndex: t
                    }
                }(n, l, e),
                i = e.slice(t.commandIndex);
            if (t.match && t.pathIndex < n.segments.length) {
                var u = new _d(n.segments.slice(0, t.pathIndex), {});
                return u.children[ed] = new _d(n.segments.slice(t.pathIndex), n.children), rh(u, 0, i)
            }
            return t.match && 0 === i.length ? new _d(n.segments, {}) : t.match && !n.hasChildren() ? ah(n, l, e) : t.match ? rh(n, 0, i) : ah(n, l, e)
        }

        function rh(n, l, e) {
            if (0 === e.length) return new _d(n.segments, {});
            var t = function (n) {
                    return "object" != typeof n[0] ? _defineProperty({}, ed, n) : void 0 === n[0].outlets ? _defineProperty({}, ed, n) : n[0].outlets
                }(e),
                i = {};
            return vd(t, (function (e, t) {
                null !== e && (i[t] = uh(n.children[t], l, e))
            })), vd(n.children, (function (n, l) {
                void 0 === t[l] && (i[l] = n)
            })), new _d(n.segments, i)
        }

        function ah(n, l, e) {
            for (var t = n.segments.slice(0, l), i = 0; i < e.length;) {
                if ("object" == typeof e[i] && void 0 !== e[i].outlets) {
                    var u = oh(e[i].outlets);
                    return new _d(t, u)
                }
                if (0 === i && nh(e[0])) t.push(new kd(n.segments[l].path, e[0])), i++;
                else {
                    var r = ih(e[i]),
                        a = i < e.length - 1 ? e[i + 1] : null;
                    r && a && nh(a) ? (t.push(new kd(r, sh(a))), i += 2) : (t.push(new kd(r, {})), i++)
                }
            }
            return new _d(t, {})
        }

        function oh(n) {
            var l = {};
            return vd(n, (function (n, e) {
                null !== n && (l[e] = ah(new _d([], {}), 0, n))
            })), l
        }

        function sh(n) {
            var l = {};
            return vd(n, (function (n, e) {
                return l[e] = "".concat(n)
            })), l
        }

        function ch(n, l, e) {
            return n == e.path && pd(l, e.parameters)
        }
        var dh = function () {
            function n(l, e, t, i) {
                _classCallCheck(this, n), this.routeReuseStrategy = l, this.futureState = e, this.currState = t, this.forwardEvent = i
            }
            return _createClass(n, [{
                key: "activate",
                value: function (n) {
                    var l = this.futureState._root,
                        e = this.currState ? this.currState._root : null;
                    this.deactivateChildRoutes(l, e, n), Xd(this.futureState.root), this.activateChildRoutes(l, e, n)
                }
            }, {
                key: "deactivateChildRoutes",
                value: function (n, l, e) {
                    var t = this,
                        i = Hd(l);
                    n.children.forEach((function (n) {
                        var l = n.value.outlet;
                        t.deactivateRoutes(n, i[l], e), delete i[l]
                    })), vd(i, (function (n, l) {
                        t.deactivateRouteAndItsChildren(n, e)
                    }))
                }
            }, {
                key: "deactivateRoutes",
                value: function (n, l, e) {
                    var t = n.value,
                        i = l ? l.value : null;
                    if (t === i)
                        if (t.component) {
                            var u = e.getContext(t.outlet);
                            u && this.deactivateChildRoutes(n, l, u.children)
                        } else this.deactivateChildRoutes(n, l, e);
                    else i && this.deactivateRouteAndItsChildren(l, e)
                }
            }, {
                key: "deactivateRouteAndItsChildren",
                value: function (n, l) {
                    this.routeReuseStrategy.shouldDetach(n.value.snapshot) ? this.detachAndStoreRouteSubtree(n, l) : this.deactivateRouteAndOutlet(n, l)
                }
            }, {
                key: "detachAndStoreRouteSubtree",
                value: function (n, l) {
                    var e = l.getContext(n.value.outlet);
                    if (e && e.outlet) {
                        var t = e.outlet.detach(),
                            i = e.children.onOutletDeactivated();
                        this.routeReuseStrategy.store(n.value.snapshot, {
                            componentRef: t,
                            route: n,
                            contexts: i
                        })
                    }
                }
            }, {
                key: "deactivateRouteAndOutlet",
                value: function (n, l) {
                    var e = this,
                        t = l.getContext(n.value.outlet);
                    if (t) {
                        var i = Hd(n),
                            u = n.value.component ? t.children : l;
                        vd(i, (function (n, l) {
                            return e.deactivateRouteAndItsChildren(n, u)
                        })), t.outlet && (t.outlet.deactivate(), t.children.onOutletDeactivated())
                    }
                }
            }, {
                key: "activateChildRoutes",
                value: function (n, l, e) {
                    var t = this,
                        i = Hd(l);
                    n.children.forEach((function (n) {
                        t.activateRoutes(n, i[n.value.outlet], e), t.forwardEvent(new Jc(n.value.snapshot))
                    })), n.children.length && this.forwardEvent(new Yc(n.value.snapshot))
                }
            }, {
                key: "activateRoutes",
                value: function (n, l, e) {
                    var t = n.value,
                        i = l ? l.value : null;
                    if (Xd(t), t === i)
                        if (t.component) {
                            var u = e.getOrCreateContext(t.outlet);
                            this.activateChildRoutes(n, l, u.children)
                        } else this.activateChildRoutes(n, l, e);
                    else if (t.component) {
                        var r = e.getOrCreateContext(t.outlet);
                        if (this.routeReuseStrategy.shouldAttach(t.snapshot)) {
                            var a = this.routeReuseStrategy.retrieve(t.snapshot);
                            this.routeReuseStrategy.store(t.snapshot, null), r.children.onOutletReAttached(a.contexts), r.attachRef = a.componentRef, r.route = a.route.value, r.outlet && r.outlet.attach(a.componentRef, a.route.value), hh(a.route)
                        } else {
                            var o = function (n) {
                                    for (var l = n.parent; l; l = l.parent) {
                                        var e = l.routeConfig;
                                        if (e && e._loadedConfig) return e._loadedConfig;
                                        if (e && e.component) return null
                                    }
                                    return null
                                }(t.snapshot),
                                s = o ? o.module.componentFactoryResolver : null;
                            r.attachRef = null, r.route = t, r.resolver = s, r.outlet && r.outlet.activateWith(t, s), this.activateChildRoutes(n, null, r.children)
                        }
                    } else this.activateChildRoutes(n, null, e)
                }
            }]), n
        }();

        function hh(n) {
            Xd(n.value), n.children.forEach(hh)
        }

        function ph(n) {
            return "function" == typeof n
        }

        function fh(n) {
            return n instanceof bd
        }
        var gh = function n(l) {
                _classCallCheck(this, n), this.segmentGroup = l || null
            },
            vh = function n(l) {
                _classCallCheck(this, n), this.urlTree = l
            };

        function mh(n) {
            return new x((function (l) {
                return l.error(new gh(n))
            }))
        }

        function yh(n) {
            return new x((function (l) {
                return l.error(new vh(n))
            }))
        }

        function bh(n) {
            return new x((function (l) {
                return l.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(n, "'")))
            }))
        }
        var _h = function () {
            function n(l, e, t, i, u) {
                _classCallCheck(this, n), this.configLoader = e, this.urlSerializer = t, this.urlTree = i, this.config = u, this.allowRedirects = !0, this.ngModule = l.get(Gn)
            }
            return _createClass(n, [{
                key: "apply",
                value: function () {
                    var n = this;
                    return this.expandSegmentGroup(this.ngModule, this.config, this.urlTree.root, ed).pipe(V((function (l) {
                        return n.createUrlTree(l, n.urlTree.queryParams, n.urlTree.fragment)
                    }))).pipe(hs((function (l) {
                        if (l instanceof vh) return n.allowRedirects = !1, n.match(l.urlTree);
                        if (l instanceof gh) throw n.noMatchError(l);
                        throw l
                    })))
                }
            }, {
                key: "match",
                value: function (n) {
                    var l = this;
                    return this.expandSegmentGroup(this.ngModule, this.config, n.root, ed).pipe(V((function (e) {
                        return l.createUrlTree(e, n.queryParams, n.fragment)
                    }))).pipe(hs((function (n) {
                        if (n instanceof gh) throw l.noMatchError(n);
                        throw n
                    })))
                }
            }, {
                key: "noMatchError",
                value: function (n) {
                    return new Error("Cannot match any routes. URL Segment: '".concat(n.segmentGroup, "'"))
                }
            }, {
                key: "createUrlTree",
                value: function (n, l, e) {
                    var t = n.segments.length > 0 ? new _d([], _defineProperty({}, ed, n)) : n;
                    return new bd(t, l, e)
                }
            }, {
                key: "expandSegmentGroup",
                value: function (n, l, e, t) {
                    return 0 === e.segments.length && e.hasChildren() ? this.expandChildren(n, l, e).pipe(V((function (n) {
                        return new _d([], n)
                    }))) : this.expandSegment(n, e, l, e.segments, t, !0)
                }
            }, {
                key: "expandChildren",
                value: function (n, l, e) {
                    var t = this;
                    return function (e, i) {
                        if (0 === Object.keys(e).length) return qo({});
                        var u = [],
                            r = [],
                            a = {};
                        return vd(e, (function (e, i) {
                            var o, s, c = (o = i, s = e, t.expandSegmentGroup(n, l, s, o)).pipe(V((function (n) {
                                return a[i] = n
                            })));
                            i === ed ? u.push(c) : r.push(c)
                        })), qo.apply(null, u.concat(r)).pipe(Ko(), ds(), V((function () {
                            return a
                        })))
                    }(e.children)
                }
            }, {
                key: "expandSegment",
                value: function (n, l, e, t, i, u) {
                    var r = this;
                    return qo.apply(void 0, _toConsumableArray(e)).pipe(V((function (a) {
                        return r.expandSegmentAgainstRoute(n, l, e, a, t, i, u).pipe(hs((function (n) {
                            if (n instanceof gh) return qo(null);
                            throw n
                        })))
                    })), Ko(), ys((function (n) {
                        return !!n
                    })), hs((function (n, e) {
                        if (n instanceof Ho || "EmptyError" === n.name) {
                            if (r.noLeftoversInUrl(l, t, i)) return qo(new _d([], {}));
                            throw new gh(l)
                        }
                        throw n
                    })))
                }
            }, {
                key: "noLeftoversInUrl",
                value: function (n, l, e) {
                    return 0 === l.length && !n.children[e]
                }
            }, {
                key: "expandSegmentAgainstRoute",
                value: function (n, l, e, t, i, u, r) {
                    return Ch(t) !== u ? mh(l) : void 0 === t.redirectTo ? this.matchSegmentAgainstRoute(n, l, t, i) : r && this.allowRedirects ? this.expandSegmentAgainstRouteUsingRedirect(n, l, e, t, i, u) : mh(l)
                }
            }, {
                key: "expandSegmentAgainstRouteUsingRedirect",
                value: function (n, l, e, t, i, u) {
                    return "**" === t.path ? this.expandWildCardWithParamsAgainstRouteUsingRedirect(n, e, t, u) : this.expandRegularSegmentAgainstRouteUsingRedirect(n, l, e, t, i, u)
                }
            }, {
                key: "expandWildCardWithParamsAgainstRouteUsingRedirect",
                value: function (n, l, e, t) {
                    var i = this,
                        u = this.applyRedirectCommands([], e.redirectTo, {});
                    return e.redirectTo.startsWith("/") ? yh(u) : this.lineralizeSegments(e, u).pipe(Z((function (e) {
                        var u = new _d(e, {});
                        return i.expandSegment(n, u, l, e, t, !1)
                    })))
                }
            }, {
                key: "expandRegularSegmentAgainstRouteUsingRedirect",
                value: function (n, l, e, t, i, u) {
                    var r = this,
                        a = kh(l, t, i),
                        o = a.matched,
                        s = a.consumedSegments,
                        c = a.lastChild,
                        d = a.positionalParamSegments;
                    if (!o) return mh(l);
                    var h = this.applyRedirectCommands(s, t.redirectTo, d);
                    return t.redirectTo.startsWith("/") ? yh(h) : this.lineralizeSegments(t, h).pipe(Z((function (t) {
                        return r.expandSegment(n, l, e, t.concat(i.slice(c)), u, !1)
                    })))
                }
            }, {
                key: "matchSegmentAgainstRoute",
                value: function (n, l, e, t) {
                    var i = this;
                    if ("**" === e.path) return e.loadChildren ? this.configLoader.load(n.injector, e).pipe(V((function (n) {
                        return e._loadedConfig = n, new _d(t, {})
                    }))) : qo(new _d(t, {}));
                    var u = kh(l, e, t),
                        r = u.matched,
                        a = u.consumedSegments,
                        o = u.lastChild;
                    if (!r) return mh(l);
                    var s = t.slice(o);
                    return this.getChildConfig(n, e, t).pipe(Z((function (n) {
                        var e = n.module,
                            t = n.routes,
                            u = function (n, l, e, t) {
                                return e.length > 0 && function (n, l, e) {
                                    return e.some((function (e) {
                                        return xh(n, l, e) && Ch(e) !== ed
                                    }))
                                }(n, e, t) ? {
                                    segmentGroup: wh(new _d(l, function (n, l) {
                                        var e = {};
                                        e[ed] = l;
                                        var t = !0,
                                            i = !1,
                                            u = void 0;
                                        try {
                                            for (var r, a = n[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                                                var o = r.value;
                                                "" === o.path && Ch(o) !== ed && (e[Ch(o)] = new _d([], {}))
                                            }
                                        } catch (s) {
                                            i = !0, u = s
                                        } finally {
                                            try {
                                                t || null == a.return || a.return()
                                            } finally {
                                                if (i) throw u
                                            }
                                        }
                                        return e
                                    }(t, new _d(e, n.children)))),
                                    slicedSegments: []
                                } : 0 === e.length && function (n, l, e) {
                                    return e.some((function (e) {
                                        return xh(n, l, e)
                                    }))
                                }(n, e, t) ? {
                                    segmentGroup: wh(new _d(n.segments, function (n, l, e, t) {
                                        var i = {},
                                            u = !0,
                                            r = !1,
                                            a = void 0;
                                        try {
                                            for (var o, s = e[Symbol.iterator](); !(u = (o = s.next()).done); u = !0) {
                                                var c = o.value;
                                                xh(n, l, c) && !t[Ch(c)] && (i[Ch(c)] = new _d([], {}))
                                            }
                                        } catch (d) {
                                            r = !0, a = d
                                        } finally {
                                            try {
                                                u || null == s.return || s.return()
                                            } finally {
                                                if (r) throw a
                                            }
                                        }
                                        return Object.assign({}, t, i)
                                    }(n, e, t, n.children))),
                                    slicedSegments: e
                                } : {
                                    segmentGroup: n,
                                    slicedSegments: e
                                }
                            }(l, a, s, t),
                            r = u.segmentGroup,
                            o = u.slicedSegments;
                        return 0 === o.length && r.hasChildren() ? i.expandChildren(e, t, r).pipe(V((function (n) {
                            return new _d(a, n)
                        }))) : 0 === t.length && 0 === o.length ? qo(new _d(a, {})) : i.expandSegment(e, r, t, o, ed, !0).pipe(V((function (n) {
                            return new _d(a.concat(n.segments), n.children)
                        })))
                    })))
                }
            }, {
                key: "getChildConfig",
                value: function (n, l, e) {
                    var t = this;
                    return l.children ? qo(new od(l.children, n)) : l.loadChildren ? void 0 !== l._loadedConfig ? qo(l._loadedConfig) : function (n, l, e) {
                        var t, i = l.canLoad;
                        return i && 0 !== i.length ? K(i).pipe(V((function (t) {
                            var i, u = n.get(t);
                            if (function (n) {
                                    return n && ph(n.canLoad)
                                }(u)) i = u.canLoad(l, e);
                            else {
                                if (!ph(u)) throw new Error("Invalid CanLoad guard");
                                i = u(l, e)
                            }
                            return md(i)
                        }))).pipe(Ko(), (t = function (n) {
                            return !0 === n
                        }, function (n) {
                            return n.lift(new bs(t, void 0, n))
                        })) : qo(!0)
                    }(n.injector, l, e).pipe(Z((function (e) {
                        return e ? t.configLoader.load(n.injector, l).pipe(V((function (n) {
                            return l._loadedConfig = n, n
                        }))) : function (n) {
                            return new x((function (l) {
                                return l.error(rd("Cannot load children because the guard of the route \"path: '".concat(n.path, "'\" returned false")))
                            }))
                        }(l)
                    }))) : qo(new od([], n))
                }
            }, {
                key: "lineralizeSegments",
                value: function (n, l) {
                    for (var e = [], t = l.root;;) {
                        if (e = e.concat(t.segments), 0 === t.numberOfChildren) return qo(e);
                        if (t.numberOfChildren > 1 || !t.children[ed]) return bh(n.redirectTo);
                        t = t.children[ed]
                    }
                }
            }, {
                key: "applyRedirectCommands",
                value: function (n, l, e) {
                    return this.applyRedirectCreatreUrlTree(l, this.urlSerializer.parse(l), n, e)
                }
            }, {
                key: "applyRedirectCreatreUrlTree",
                value: function (n, l, e, t) {
                    var i = this.createSegmentGroup(n, l.root, e, t);
                    return new bd(i, this.createQueryParams(l.queryParams, this.urlTree.queryParams), l.fragment)
                }
            }, {
                key: "createQueryParams",
                value: function (n, l) {
                    var e = {};
                    return vd(n, (function (n, t) {
                        if ("string" == typeof n && n.startsWith(":")) {
                            var i = n.substring(1);
                            e[t] = l[i]
                        } else e[t] = n
                    })), e
                }
            }, {
                key: "createSegmentGroup",
                value: function (n, l, e, t) {
                    var i = this,
                        u = this.createSegments(n, l.segments, e, t),
                        r = {};
                    return vd(l.children, (function (l, u) {
                        r[u] = i.createSegmentGroup(n, l, e, t)
                    })), new _d(u, r)
                }
            }, {
                key: "createSegments",
                value: function (n, l, e, t) {
                    var i = this;
                    return l.map((function (l) {
                        return l.path.startsWith(":") ? i.findPosParam(n, l, t) : i.findOrReturn(l, e)
                    }))
                }
            }, {
                key: "findPosParam",
                value: function (n, l, e) {
                    var t = e[l.path.substring(1)];
                    if (!t) throw new Error("Cannot redirect to '".concat(n, "'. Cannot find '").concat(l.path, "'."));
                    return t
                }
            }, {
                key: "findOrReturn",
                value: function (n, l) {
                    var e = 0,
                        t = !0,
                        i = !1,
                        u = void 0;
                    try {
                        for (var r, a = l[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                            var o = r.value;
                            if (o.path === n.path) return l.splice(e), o;
                            e++
                        }
                    } catch (s) {
                        i = !0, u = s
                    } finally {
                        try {
                            t || null == a.return || a.return()
                        } finally {
                            if (i) throw u
                        }
                    }
                    return n
                }
            }]), n
        }();

        function kh(n, l, e) {
            if ("" === l.path) return "full" === l.pathMatch && (n.hasChildren() || e.length > 0) ? {
                matched: !1,
                consumedSegments: [],
                lastChild: 0,
                positionalParamSegments: {}
            } : {
                matched: !0,
                consumedSegments: [],
                lastChild: 0,
                positionalParamSegments: {}
            };
            var t = (l.matcher || ad)(e, n, l);
            return t ? {
                matched: !0,
                consumedSegments: t.consumed,
                lastChild: t.consumed.length,
                positionalParamSegments: t.posParams
            } : {
                matched: !1,
                consumedSegments: [],
                lastChild: 0,
                positionalParamSegments: {}
            }
        }

        function wh(n) {
            if (1 === n.numberOfChildren && n.children[ed]) {
                var l = n.children[ed];
                return new _d(n.segments.concat(l.segments), l.children)
            }
            return n
        }

        function xh(n, l, e) {
            return (!(n.hasChildren() || l.length > 0) || "full" !== e.pathMatch) && "" === e.path && void 0 !== e.redirectTo
        }

        function Ch(n) {
            return n.outlet || ed
        }
        var Sh = function n(l) {
                _classCallCheck(this, n), this.path = l, this.route = this.path[this.path.length - 1]
            },
            Ih = function n(l, e) {
                _classCallCheck(this, n), this.component = l, this.route = e
            };

        function Th(n, l, e) {
            var t = function (n) {
                if (!n) return null;
                for (var l = n.parent; l; l = l.parent) {
                    var e = l.routeConfig;
                    if (e && e._loadedConfig) return e._loadedConfig
                }
                return null
            }(l);
            return (t ? t.module.injector : e).get(n)
        }

        function Eh(n, l, e) {
            var t = Hd(n),
                i = n.value;
            vd(t, (function (n, t) {
                Eh(n, i.component ? l ? l.children.getContext(t) : null : l, e)
            })), e.canDeactivateChecks.push(new Ih(i.component && l && l.outlet && l.outlet.isActivated ? l.outlet.component : null, i))
        }
        var Ah = Symbol("INITIAL_VALUE");

        function Ph() {
            return ks((function (n) {
                return (function () {
                    for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                    var t = null,
                        i = null;
                    return D(l[l.length - 1]) && (i = l.pop()), "function" == typeof l[l.length - 1] && (t = l.pop()), 1 === l.length && o(l[0]) && (l = l[0]), W(l, i).lift(new jo(t))
                }).apply(void 0, _toConsumableArray(n.map((function (n) {
                    return n.pipe(gs(1), function () {
                        for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                        return function (n) {
                            var e = l[l.length - 1];
                            D(e) ? l.pop() : e = null;
                            var t = l.length;
                            return function () {
                                return Ko()(qo.apply(void 0, arguments))
                            }(1 !== t || e ? t > 0 ? W(l, e) : Lo(e) : Fo(l[0]), n)
                        }
                    }(Ah))
                })))).pipe(Cs((function (n, l) {
                    var e = !1;
                    return l.reduce((function (n, t, i) {
                        if (n !== Ah) return n;
                        if (t === Ah && (e = !0), !e) {
                            if (!1 === t) return t;
                            if (i === l.length - 1 || fh(t)) return t
                        }
                        return n
                    }), n)
                }), Ah), Zo((function (n) {
                    return n !== Ah
                })), V((function (n) {
                    return fh(n) ? n : !0 === n
                })), gs(1))
            }))
        }

        function Oh(n, l) {
            return null !== n && l && l(new Xc(n)), qo(!0)
        }

        function Dh(n, l) {
            return null !== n && l && l(new Qc(n)), qo(!0)
        }

        function Rh(n, l, e) {
            var t = l.routeConfig ? l.routeConfig.canActivate : null;
            return t && 0 !== t.length ? qo(t.map((function (t) {
                return Wo((function () {
                    var i, u = Th(t, l, e);
                    if (function (n) {
                            return n && ph(n.canActivate)
                        }(u)) i = md(u.canActivate(l, n));
                    else {
                        if (!ph(u)) throw new Error("Invalid CanActivate guard");
                        i = md(u(l, n))
                    }
                    return i.pipe(ys())
                }))
            }))).pipe(Ph()) : qo(!0)
        }

        function Mh(n, l, e) {
            var t = l[l.length - 1],
                i = l.slice(0, l.length - 1).reverse().map((function (n) {
                    return function (n) {
                        var l = n.routeConfig ? n.routeConfig.canActivateChild : null;
                        return l && 0 !== l.length ? {
                            node: n,
                            guards: l
                        } : null
                    }(n)
                })).filter((function (n) {
                    return null !== n
                })).map((function (l) {
                    return Wo((function () {
                        return qo(l.guards.map((function (i) {
                            var u, r = Th(i, l.node, e);
                            if (function (n) {
                                    return n && ph(n.canActivateChild)
                                }(r)) u = md(r.canActivateChild(t, n));
                            else {
                                if (!ph(r)) throw new Error("Invalid CanActivateChild guard");
                                u = md(r(t, n))
                            }
                            return u.pipe(ys())
                        }))).pipe(Ph())
                    }))
                }));
            return qo(i).pipe(Ph())
        }
        var Nh = function n() {
                _classCallCheck(this, n)
            },
            Bh = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this.rootComponentType = l, this.config = e, this.urlTree = t, this.url = i, this.paramsInheritanceStrategy = u, this.relativeLinkResolution = r
                }
                return _createClass(n, [{
                    key: "recognize",
                    value: function () {
                        try {
                            var n = Fh(this.urlTree.root, [], [], this.config, this.relativeLinkResolution).segmentGroup,
                                l = this.processSegmentGroup(this.config, n, ed),
                                e = new Kd([], Object.freeze({}), Object.freeze(Object.assign({}, this.urlTree.queryParams)), this.urlTree.fragment, {}, ed, this.rootComponentType, null, this.urlTree.root, -1, {}),
                                t = new $d(e, l),
                                i = new Zd(this.url, t);
                            return this.inheritParamsAndData(i._root), qo(i)
                        } catch (u) {
                            return new x((function (n) {
                                return n.error(u)
                            }))
                        }
                    }
                }, {
                    key: "inheritParamsAndData",
                    value: function (n) {
                        var l = this,
                            e = n.value,
                            t = Wd(e, this.paramsInheritanceStrategy);
                        e.params = Object.freeze(t.params), e.data = Object.freeze(t.data), n.children.forEach((function (n) {
                            return l.inheritParamsAndData(n)
                        }))
                    }
                }, {
                    key: "processSegmentGroup",
                    value: function (n, l, e) {
                        return 0 === l.segments.length && l.hasChildren() ? this.processChildren(n, l) : this.processSegment(n, l, l.segments, e)
                    }
                }, {
                    key: "processChildren",
                    value: function (n, l) {
                        var e, t = this,
                            i = xd(l, (function (l, e) {
                                return t.processSegmentGroup(n, l, e)
                            }));
                        return e = {}, i.forEach((function (n) {
                            var l = e[n.value.outlet];
                            if (l) {
                                var t = l.url.map((function (n) {
                                        return n.toString()
                                    })).join("/"),
                                    i = n.value.url.map((function (n) {
                                        return n.toString()
                                    })).join("/");
                                throw new Error("Two segments cannot have the same outlet name: '".concat(t, "' and '").concat(i, "'."))
                            }
                            e[n.value.outlet] = n.value
                        })), i.sort((function (n, l) {
                            return n.value.outlet === ed ? -1 : l.value.outlet === ed ? 1 : n.value.outlet.localeCompare(l.value.outlet)
                        })), i
                    }
                }, {
                    key: "processSegment",
                    value: function (n, l, e, t) {
                        var i = !0,
                            u = !1,
                            r = void 0;
                        try {
                            for (var a, o = n[Symbol.iterator](); !(i = (a = o.next()).done); i = !0) {
                                var s = a.value;
                                try {
                                    return this.processSegmentAgainstRoute(s, l, e, t)
                                } catch (c) {
                                    if (!(c instanceof Nh)) throw c
                                }
                            }
                        } catch (d) {
                            u = !0, r = d
                        } finally {
                            try {
                                i || null == o.return || o.return()
                            } finally {
                                if (u) throw r
                            }
                        }
                        if (this.noLeftoversInUrl(l, e, t)) return [];
                        throw new Nh
                    }
                }, {
                    key: "noLeftoversInUrl",
                    value: function (n, l, e) {
                        return 0 === l.length && !n.children[e]
                    }
                }, {
                    key: "processSegmentAgainstRoute",
                    value: function (n, l, e, t) {
                        if (n.redirectTo) throw new Nh;
                        if ((n.outlet || ed) !== t) throw new Nh;
                        var i, u = [],
                            r = [];
                        if ("**" === n.path) {
                            var a = e.length > 0 ? gd(e).parameters : {};
                            i = new Kd(e, a, Object.freeze(Object.assign({}, this.urlTree.queryParams)), this.urlTree.fragment, $h(n), t, n.component, n, zh(l), Lh(l) + e.length, Hh(n))
                        } else {
                            var o = function (n, l, e) {
                                if ("" === l.path) {
                                    if ("full" === l.pathMatch && (n.hasChildren() || e.length > 0)) throw new Nh;
                                    return {
                                        consumedSegments: [],
                                        lastChild: 0,
                                        parameters: {}
                                    }
                                }
                                var t = (l.matcher || ad)(e, n, l);
                                if (!t) throw new Nh;
                                var i = {};
                                vd(t.posParams, (function (n, l) {
                                    i[l] = n.path
                                }));
                                var u = t.consumed.length > 0 ? Object.assign({}, i, t.consumed[t.consumed.length - 1].parameters) : i;
                                return {
                                    consumedSegments: t.consumed,
                                    lastChild: t.consumed.length,
                                    parameters: u
                                }
                            }(l, n, e);
                            u = o.consumedSegments, r = e.slice(o.lastChild), i = new Kd(u, o.parameters, Object.freeze(Object.assign({}, this.urlTree.queryParams)), this.urlTree.fragment, $h(n), t, n.component, n, zh(l), Lh(l) + u.length, Hh(n))
                        }
                        var s = function (n) {
                                return n.children ? n.children : n.loadChildren ? n._loadedConfig.routes : []
                            }(n),
                            c = Fh(l, u, r, s, this.relativeLinkResolution),
                            d = c.segmentGroup,
                            h = c.slicedSegments;
                        if (0 === h.length && d.hasChildren()) {
                            var p = this.processChildren(s, d);
                            return [new $d(i, p)]
                        }
                        if (0 === s.length && 0 === h.length) return [new $d(i, [])];
                        var f = this.processSegment(s, d, h, ed);
                        return [new $d(i, f)]
                    }
                }]), n
            }();

        function zh(n) {
            for (var l = n; l._sourceSegment;) l = l._sourceSegment;
            return l
        }

        function Lh(n) {
            for (var l = n, e = l._segmentIndexShift ? l._segmentIndexShift : 0; l._sourceSegment;) e += (l = l._sourceSegment)._segmentIndexShift ? l._segmentIndexShift : 0;
            return e - 1
        }

        function Fh(n, l, e, t, i) {
            if (e.length > 0 && function (n, l, e) {
                    return e.some((function (e) {
                        return qh(n, l, e) && Uh(e) !== ed
                    }))
                }(n, e, t)) {
                var u = new _d(l, function (n, l, e, t) {
                    var i = {};
                    i[ed] = t, t._sourceSegment = n, t._segmentIndexShift = l.length;
                    var u = !0,
                        r = !1,
                        a = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(u = (o = s.next()).done); u = !0) {
                            var c = o.value;
                            if ("" === c.path && Uh(c) !== ed) {
                                var d = new _d([], {});
                                d._sourceSegment = n, d._segmentIndexShift = l.length, i[Uh(c)] = d
                            }
                        }
                    } catch (h) {
                        r = !0, a = h
                    } finally {
                        try {
                            u || null == s.return || s.return()
                        } finally {
                            if (r) throw a
                        }
                    }
                    return i
                }(n, l, t, new _d(e, n.children)));
                return u._sourceSegment = n, u._segmentIndexShift = l.length, {
                    segmentGroup: u,
                    slicedSegments: []
                }
            }
            if (0 === e.length && function (n, l, e) {
                    return e.some((function (e) {
                        return qh(n, l, e)
                    }))
                }(n, e, t)) {
                var r = new _d(n.segments, function (n, l, e, t, i, u) {
                    var r = {},
                        a = !0,
                        o = !1,
                        s = void 0;
                    try {
                        for (var c, d = t[Symbol.iterator](); !(a = (c = d.next()).done); a = !0) {
                            var h = c.value;
                            if (qh(n, e, h) && !i[Uh(h)]) {
                                var p = new _d([], {});
                                p._sourceSegment = n, p._segmentIndexShift = "legacy" === u ? n.segments.length : l.length, r[Uh(h)] = p
                            }
                        }
                    } catch (f) {
                        o = !0, s = f
                    } finally {
                        try {
                            a || null == d.return || d.return()
                        } finally {
                            if (o) throw s
                        }
                    }
                    return Object.assign({}, i, r)
                }(n, l, e, t, n.children, i));
                return r._sourceSegment = n, r._segmentIndexShift = l.length, {
                    segmentGroup: r,
                    slicedSegments: e
                }
            }
            var a = new _d(n.segments, n.children);
            return a._sourceSegment = n, a._segmentIndexShift = l.length, {
                segmentGroup: a,
                slicedSegments: e
            }
        }

        function qh(n, l, e) {
            return (!(n.hasChildren() || l.length > 0) || "full" !== e.pathMatch) && "" === e.path && void 0 === e.redirectTo
        }

        function Uh(n) {
            return n.outlet || ed
        }

        function $h(n) {
            return n.data || {}
        }

        function Hh(n) {
            return n.resolve || {}
        }

        function Vh(n, l, e, t) {
            var i = Th(n, l, t);
            return md(i.resolve ? i.resolve(l, e) : i(l, e))
        }

        function jh(n) {
            return function (l) {
                return l.pipe(ks((function (l) {
                    var e = n(l);
                    return e ? K(e).pipe(V((function () {
                        return l
                    }))) : K([l])
                })))
            }
        }
        var Gh = function n() {
                _classCallCheck(this, n)
            },
            Wh = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "shouldDetach",
                    value: function (n) {
                        return !1
                    }
                }, {
                    key: "store",
                    value: function (n, l) {}
                }, {
                    key: "shouldAttach",
                    value: function (n) {
                        return !1
                    }
                }, {
                    key: "retrieve",
                    value: function (n) {
                        return null
                    }
                }, {
                    key: "shouldReuseRoute",
                    value: function (n, l) {
                        return n.routeConfig === l.routeConfig
                    }
                }]), n
            }(),
            Kh = new Dn("ROUTES"),
            Zh = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.loader = l, this.compiler = e, this.onLoadStartListener = t, this.onLoadEndListener = i
                }
                return _createClass(n, [{
                    key: "load",
                    value: function (n, l) {
                        var e = this;
                        return this.onLoadStartListener && this.onLoadStartListener(l), this.loadModuleFactory(l.loadChildren).pipe(V((function (t) {
                            e.onLoadEndListener && e.onLoadEndListener(l);
                            var i = t.create(n);
                            return new od(fd(i.injector.get(Kh)).map(hd), i)
                        })))
                    }
                }, {
                    key: "loadModuleFactory",
                    value: function (n) {
                        var l = this;
                        return "string" == typeof n ? K(this.loader.load(n)) : md(n()).pipe(Z((function (n) {
                            return n instanceof Wn ? qo(n) : K(l.compiler.compileModuleAsync(n))
                        })))
                    }
                }]), n
            }(),
            Qh = function n() {
                _classCallCheck(this, n)
            },
            Yh = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "shouldProcessUrl",
                    value: function (n) {
                        return !0
                    }
                }, {
                    key: "extract",
                    value: function (n) {
                        return n
                    }
                }, {
                    key: "merge",
                    value: function (n, l) {
                        return n
                    }
                }]), n
            }();

        function Xh(n) {
            throw n
        }

        function Jh(n, l, e) {
            return l.parse("/")
        }

        function np(n, l) {
            return qo(null)
        }
        var lp = function () {
                function n(l, e, t, i, u, r, a, o) {
                    var s = this;
                    _classCallCheck(this, n), this.rootComponentType = l, this.urlSerializer = e, this.rootContexts = t, this.location = i, this.config = o, this.lastSuccessfulNavigation = null, this.currentNavigation = null, this.navigationId = 0, this.isNgZoneEnabled = !1, this.events = new P, this.errorHandler = Xh, this.malformedUriErrorHandler = Jh, this.navigated = !1, this.lastSuccessfulId = -1, this.hooks = {
                        beforePreactivation: np,
                        afterPreactivation: np
                    }, this.urlHandlingStrategy = new Yh, this.routeReuseStrategy = new Wh, this.onSameUrlNavigation = "ignore", this.paramsInheritanceStrategy = "emptyOnly", this.urlUpdateStrategy = "deferred", this.relativeLinkResolution = "legacy", this.ngModule = u.get(Gn), this.console = u.get(Ki);
                    var c = u.get(pu);
                    this.isNgZoneEnabled = c instanceof pu, this.resetConfig(o), this.currentUrlTree = new bd(new _d([], {}), {}, null), this.rawUrlTree = this.currentUrlTree, this.browserUrlTree = this.currentUrlTree, this.configLoader = new Zh(r, a, (function (n) {
                        return s.triggerEvent(new Kc(n))
                    }), (function (n) {
                        return s.triggerEvent(new Zc(n))
                    })), this.routerState = jd(this.currentUrlTree, this.rootComponentType), this.transitions = new Uo({
                        id: 0,
                        currentUrlTree: this.currentUrlTree,
                        currentRawUrl: this.currentUrlTree,
                        extractedUrl: this.urlHandlingStrategy.extract(this.currentUrlTree),
                        urlAfterRedirects: this.urlHandlingStrategy.extract(this.currentUrlTree),
                        rawUrl: this.currentUrlTree,
                        extras: {},
                        resolve: null,
                        reject: null,
                        promise: Promise.resolve(!0),
                        source: "imperative",
                        restoredState: null,
                        currentSnapshot: this.routerState.snapshot,
                        targetSnapshot: null,
                        currentRouterState: this.routerState,
                        targetRouterState: null,
                        guards: {
                            canActivateChecks: [],
                            canDeactivateChecks: []
                        },
                        guardsResult: null
                    }), this.navigations = this.setupNavigations(this.transitions), this.processNavigations()
                }
                return _createClass(n, [{
                    key: "setupNavigations",
                    value: function (n) {
                        var l = this,
                            e = this.events;
                        return n.pipe(Zo((function (n) {
                            return 0 !== n.id
                        })), V((function (n) {
                            return Object.assign({}, n, {
                                extractedUrl: l.urlHandlingStrategy.extract(n.rawUrl)
                            })
                        })), ks((function (n) {
                            var t, i, u, r = !1,
                                a = !1;
                            return qo(n).pipe(ts((function (n) {
                                l.currentNavigation = {
                                    id: n.id,
                                    initialUrl: n.currentRawUrl,
                                    extractedUrl: n.extractedUrl,
                                    trigger: n.source,
                                    extras: n.extras,
                                    previousNavigation: l.lastSuccessfulNavigation ? Object.assign({}, l.lastSuccessfulNavigation, {
                                        previousNavigation: null
                                    }) : null
                                }
                            })), ks((function (n) {
                                var t, i, u, r, a = !l.navigated || n.extractedUrl.toString() !== l.browserUrlTree.toString();
                                if (("reload" === l.onSameUrlNavigation || a) && l.urlHandlingStrategy.shouldProcessUrl(n.rawUrl)) return qo(n).pipe(ks((function (n) {
                                    var t = l.transitions.getValue();
                                    return e.next(new Fc(n.id, l.serializeUrl(n.extractedUrl), n.source, n.restoredState)), t !== l.transitions.getValue() ? zo : [n]
                                })), ks((function (n) {
                                    return Promise.resolve(n)
                                })), (t = l.ngModule.injector, i = l.configLoader, u = l.urlSerializer, r = l.config, function (n) {
                                    return n.pipe(ks((function (n) {
                                        return function (n, l, e, t, i) {
                                            return new _h(n, l, e, t, i).apply()
                                        }(t, i, u, n.extractedUrl, r).pipe(V((function (l) {
                                            return Object.assign({}, n, {
                                                urlAfterRedirects: l
                                            })
                                        })))
                                    })))
                                }), ts((function (n) {
                                    l.currentNavigation = Object.assign({}, l.currentNavigation, {
                                        finalUrl: n.urlAfterRedirects
                                    })
                                })), function (n, e, t, i, u) {
                                    return function (t) {
                                        return t.pipe(Z((function (t) {
                                            return function (n, l, e, t) {
                                                var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "emptyOnly",
                                                    u = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : "legacy";
                                                return new Bh(n, l, e, t, i, u).recognize()
                                            }(n, e, t.urlAfterRedirects, (r = t.urlAfterRedirects, l.serializeUrl(r)), i, u).pipe(V((function (n) {
                                                return Object.assign({}, t, {
                                                    targetSnapshot: n
                                                })
                                            })));
                                            var r
                                        })))
                                    }
                                }(l.rootComponentType, l.config, 0, l.paramsInheritanceStrategy, l.relativeLinkResolution), ts((function (n) {
                                    "eager" === l.urlUpdateStrategy && (n.extras.skipLocationChange || l.setBrowserUrl(n.urlAfterRedirects, !!n.extras.replaceUrl, n.id, n.extras.state), l.browserUrlTree = n.urlAfterRedirects)
                                })), ts((function (n) {
                                    var t = new Hc(n.id, l.serializeUrl(n.extractedUrl), l.serializeUrl(n.urlAfterRedirects), n.targetSnapshot);
                                    e.next(t)
                                })));
                                if (a && l.rawUrlTree && l.urlHandlingStrategy.shouldProcessUrl(l.rawUrlTree)) {
                                    var o = n.id,
                                        s = n.extractedUrl,
                                        c = n.source,
                                        d = n.restoredState,
                                        h = n.extras,
                                        p = new Fc(o, l.serializeUrl(s), c, d);
                                    e.next(p);
                                    var f = jd(s, l.rootComponentType).snapshot;
                                    return qo(Object.assign({}, n, {
                                        targetSnapshot: f,
                                        urlAfterRedirects: s,
                                        extras: Object.assign({}, h, {
                                            skipLocationChange: !1,
                                            replaceUrl: !1
                                        })
                                    }))
                                }
                                return l.rawUrlTree = n.rawUrl, l.browserUrlTree = n.urlAfterRedirects, n.resolve(null), zo
                            })), jh((function (n) {
                                var e = n.targetSnapshot,
                                    t = n.id,
                                    i = n.extractedUrl,
                                    u = n.rawUrl,
                                    r = n.extras,
                                    a = r.skipLocationChange,
                                    o = r.replaceUrl;
                                return l.hooks.beforePreactivation(e, {
                                    navigationId: t,
                                    appliedUrlTree: i,
                                    rawUrlTree: u,
                                    skipLocationChange: !!a,
                                    replaceUrl: !!o
                                })
                            })), ts((function (n) {
                                var e = new Vc(n.id, l.serializeUrl(n.extractedUrl), l.serializeUrl(n.urlAfterRedirects), n.targetSnapshot);
                                l.triggerEvent(e)
                            })), V((function (n) {
                                return Object.assign({}, n, {
                                    guards: (e = n.targetSnapshot, t = n.currentSnapshot, i = l.rootContexts, u = e._root, function n(l, e, t, i) {
                                        var u = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {
                                                canDeactivateChecks: [],
                                                canActivateChecks: []
                                            },
                                            r = Hd(e);
                                        return l.children.forEach((function (l) {
                                            ! function (l, e, t, i) {
                                                var u = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {
                                                        canDeactivateChecks: [],
                                                        canActivateChecks: []
                                                    },
                                                    r = l.value,
                                                    a = e ? e.value : null,
                                                    o = t ? t.getContext(l.value.outlet) : null;
                                                if (a && r.routeConfig === a.routeConfig) {
                                                    var s = function (n, l, e) {
                                                        if ("function" == typeof e) return e(n, l);
                                                        switch (e) {
                                                            case "pathParamsChange":
                                                                return !wd(n.url, l.url);
                                                            case "pathParamsOrQueryParamsChange":
                                                                return !wd(n.url, l.url) || !pd(n.queryParams, l.queryParams);
                                                            case "always":
                                                                return !0;
                                                            case "paramsOrQueryParamsChange":
                                                                return !Jd(n, l) || !pd(n.queryParams, l.queryParams);
                                                            case "paramsChange":
                                                            default:
                                                                return !Jd(n, l)
                                                        }
                                                    }(a, r, r.routeConfig.runGuardsAndResolvers);
                                                    s ? u.canActivateChecks.push(new Sh(i)) : (r.data = a.data, r._resolvedData = a._resolvedData), n(l, e, r.component ? o ? o.children : null : t, i, u), s && u.canDeactivateChecks.push(new Ih(o && o.outlet && o.outlet.component || null, a))
                                                } else a && Eh(e, o, u), u.canActivateChecks.push(new Sh(i)), n(l, null, r.component ? o ? o.children : null : t, i, u)
                                            }(l, r[l.value.outlet], t, i.concat([l.value]), u), delete r[l.value.outlet]
                                        })), vd(r, (function (n, l) {
                                            return Eh(n, t.getContext(l), u)
                                        })), u
                                    }(u, t ? t._root : null, i, [u.value]))
                                });
                                var e, t, i, u
                            })), (i = l.ngModule.injector, u = function (n) {
                                return l.triggerEvent(n)
                            }, function (n) {
                                return n.pipe(Z((function (n) {
                                    var l = n.targetSnapshot,
                                        e = n.currentSnapshot,
                                        t = n.guards,
                                        r = t.canActivateChecks,
                                        a = t.canDeactivateChecks;
                                    return 0 === a.length && 0 === r.length ? qo(Object.assign({}, n, {
                                        guardsResult: !0
                                    })) : function (n, l, e, t) {
                                        return K(n).pipe(Z((function (n) {
                                            return function (n, l, e, t, i) {
                                                var u = l && l.routeConfig ? l.routeConfig.canDeactivate : null;
                                                return u && 0 !== u.length ? qo(u.map((function (u) {
                                                    var r, a = Th(u, l, i);
                                                    if (function (n) {
                                                            return n && ph(n.canDeactivate)
                                                        }(a)) r = md(a.canDeactivate(n, l, e, t));
                                                    else {
                                                        if (!ph(a)) throw new Error("Invalid CanDeactivate guard");
                                                        r = md(a(n, l, e, t))
                                                    }
                                                    return r.pipe(ys())
                                                }))).pipe(Ph()) : qo(!0)
                                            }(n.component, n.route, e, l, t)
                                        })), ys((function (n) {
                                            return !0 !== n
                                        }), !0))
                                    }(a, l, e, i).pipe(Z((function (n) {
                                        return n && "boolean" == typeof n ? function (n, l, e, t) {
                                            return K(l).pipe(Ts((function (l) {
                                                return K([Dh(l.route.parent, t), Oh(l.route, t), Mh(n, l.path, e), Rh(n, l.route, e)]).pipe(Ko(), ys((function (n) {
                                                    return !0 !== n
                                                }), !0))
                                            })), ys((function (n) {
                                                return !0 !== n
                                            }), !0))
                                        }(l, r, i, u) : qo(n)
                                    })), V((function (l) {
                                        return Object.assign({}, n, {
                                            guardsResult: l
                                        })
                                    })))
                                })))
                            }), ts((function (n) {
                                if (fh(n.guardsResult)) {
                                    var e = rd('Redirecting to "'.concat(l.serializeUrl(n.guardsResult), '"'));
                                    throw e.url = n.guardsResult, e
                                }
                            })), ts((function (n) {
                                var e = new jc(n.id, l.serializeUrl(n.extractedUrl), l.serializeUrl(n.urlAfterRedirects), n.targetSnapshot, !!n.guardsResult);
                                l.triggerEvent(e)
                            })), Zo((function (n) {
                                if (!n.guardsResult) {
                                    l.resetUrlToCurrentUrlTree();
                                    var t = new Uc(n.id, l.serializeUrl(n.extractedUrl), "");
                                    return e.next(t), n.resolve(!1), !1
                                }
                                return !0
                            })), jh((function (n) {
                                if (n.guards.canActivateChecks.length) return qo(n).pipe(ts((function (n) {
                                    var e = new Gc(n.id, l.serializeUrl(n.extractedUrl), l.serializeUrl(n.urlAfterRedirects), n.targetSnapshot);
                                    l.triggerEvent(e)
                                })), function (n, l) {
                                    return function (e) {
                                        return e.pipe(Z((function (e) {
                                            var t = e.targetSnapshot,
                                                i = e.guards.canActivateChecks;
                                            return i.length ? K(i).pipe(Ts((function (e) {
                                                return function (n, l, e, t) {
                                                    return function (n, l, e, t) {
                                                        var i = Object.keys(n);
                                                        if (0 === i.length) return qo({});
                                                        if (1 === i.length) {
                                                            var u = i[0];
                                                            return Vh(n[u], l, e, t).pipe(V((function (n) {
                                                                return _defineProperty({}, u, n)
                                                            })))
                                                        }
                                                        var r = {};
                                                        return K(i).pipe(Z((function (i) {
                                                            return Vh(n[i], l, e, t).pipe(V((function (n) {
                                                                return r[i] = n, n
                                                            })))
                                                        }))).pipe(ds(), V((function () {
                                                            return r
                                                        })))
                                                    }(n._resolve, n, l, t).pipe(V((function (l) {
                                                        return n._resolvedData = l, n.data = Object.assign({}, n.data, Wd(n, e).resolve), null
                                                    })))
                                                }(e.route, t, n, l)
                                            })), function (n, l) {
                                                return arguments.length >= 2 ? function (e) {
                                                    return _(Cs(n, l), ns(1), os(l))(e)
                                                } : function (l) {
                                                    return _(Cs((function (l, e, t) {
                                                        return n(l, e, t + 1)
                                                    })), ns(1))(l)
                                                }
                                            }((function (n, l) {
                                                return n
                                            })), V((function (n) {
                                                return e
                                            }))) : qo(e)
                                        })))
                                    }
                                }(l.paramsInheritanceStrategy, l.ngModule.injector), ts((function (n) {
                                    var e = new Wc(n.id, l.serializeUrl(n.extractedUrl), l.serializeUrl(n.urlAfterRedirects), n.targetSnapshot);
                                    l.triggerEvent(e)
                                })))
                            })), jh((function (n) {
                                var e = n.targetSnapshot,
                                    t = n.id,
                                    i = n.extractedUrl,
                                    u = n.rawUrl,
                                    r = n.extras,
                                    a = r.skipLocationChange,
                                    o = r.replaceUrl;
                                return l.hooks.afterPreactivation(e, {
                                    navigationId: t,
                                    appliedUrlTree: i,
                                    rawUrlTree: u,
                                    skipLocationChange: !!a,
                                    replaceUrl: !!o
                                })
                            })), V((function (n) {
                                var e, t, i, u, r = (e = l.routeReuseStrategy, t = n.targetSnapshot, i = n.currentRouterState, u = function n(l, e, t) {
                                    if (t && l.shouldReuseRoute(e.value, t.value.snapshot)) {
                                        var i = t.value;
                                        i._futureSnapshot = e.value;
                                        var u = function (l, e, t) {
                                            return e.children.map((function (e) {
                                                var i = !0,
                                                    u = !1,
                                                    r = void 0;
                                                try {
                                                    for (var a, o = t.children[Symbol.iterator](); !(i = (a = o.next()).done); i = !0) {
                                                        var s = a.value;
                                                        if (l.shouldReuseRoute(s.value.snapshot, e.value)) return n(l, e, s)
                                                    }
                                                } catch (c) {
                                                    u = !0, r = c
                                                } finally {
                                                    try {
                                                        i || null == o.return || o.return()
                                                    } finally {
                                                        if (u) throw r
                                                    }
                                                }
                                                return n(l, e)
                                            }))
                                        }(l, e, t);
                                        return new $d(i, u)
                                    }
                                    var r = l.retrieve(e.value);
                                    if (r) {
                                        var a = r.route;
                                        return function n(l, e) {
                                            if (l.value.routeConfig !== e.value.routeConfig) throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");
                                            if (l.children.length !== e.children.length) throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");
                                            e.value._futureSnapshot = l.value;
                                            for (var t = 0; t < l.children.length; ++t) n(l.children[t], e.children[t])
                                        }(e, a), a
                                    }
                                    var o, s = new Gd(new Uo((o = e.value).url), new Uo(o.params), new Uo(o.queryParams), new Uo(o.fragment), new Uo(o.data), o.outlet, o.component, o),
                                        c = e.children.map((function (e) {
                                            return n(l, e)
                                        }));
                                    return new $d(s, c)
                                }(e, t._root, i ? i._root : void 0), new Vd(u, t));
                                return Object.assign({}, n, {
                                    targetRouterState: r
                                })
                            })), ts((function (n) {
                                l.currentUrlTree = n.urlAfterRedirects, l.rawUrlTree = l.urlHandlingStrategy.merge(l.currentUrlTree, n.rawUrl), l.routerState = n.targetRouterState, "deferred" === l.urlUpdateStrategy && (n.extras.skipLocationChange || l.setBrowserUrl(l.rawUrlTree, !!n.extras.replaceUrl, n.id, n.extras.state), l.browserUrlTree = n.urlAfterRedirects)
                            })), function (n, l, e) {
                                return V((function (t) {
                                    return new dh(l, t.targetRouterState, t.currentRouterState, e).activate(n), t
                                }))
                            }(l.rootContexts, l.routeReuseStrategy, (function (n) {
                                return l.triggerEvent(n)
                            })), ts({
                                next: function () {
                                    r = !0
                                },
                                complete: function () {
                                    r = !0
                                }
                            }), (t = function () {
                                if (!r && !a) {
                                    l.resetUrlToCurrentUrlTree();
                                    var t = new Uc(n.id, l.serializeUrl(n.extractedUrl), "Navigation ID ".concat(n.id, " is not equal to the current navigation id ").concat(l.navigationId));
                                    e.next(t), n.resolve(!1)
                                }
                                l.currentNavigation = null
                            }, function (n) {
                                return n.lift(new Es(t))
                            }), hs((function (t) {
                                if (a = !0, (o = t) && o[ud]) {
                                    var i = fh(t.url);
                                    i || (l.navigated = !0, l.resetStateAndUrl(n.currentRouterState, n.currentUrlTree, n.rawUrl));
                                    var u = new Uc(n.id, l.serializeUrl(n.extractedUrl), t.message);
                                    e.next(u), n.resolve(!1), i && l.navigateByUrl(t.url)
                                } else {
                                    l.resetStateAndUrl(n.currentRouterState, n.currentUrlTree, n.rawUrl);
                                    var r = new $c(n.id, l.serializeUrl(n.extractedUrl), t);
                                    e.next(r);
                                    try {
                                        n.resolve(l.errorHandler(t))
                                    } catch (s) {
                                        n.reject(s)
                                    }
                                }
                                var o;
                                return zo
                            })))
                        })))
                    }
                }, {
                    key: "resetRootComponentType",
                    value: function (n) {
                        this.rootComponentType = n, this.routerState.root.component = this.rootComponentType
                    }
                }, {
                    key: "getTransition",
                    value: function () {
                        var n = this.transitions.value;
                        return n.urlAfterRedirects = this.browserUrlTree, n
                    }
                }, {
                    key: "setTransition",
                    value: function (n) {
                        this.transitions.next(Object.assign({}, this.getTransition(), n))
                    }
                }, {
                    key: "initialNavigation",
                    value: function () {
                        this.setUpLocationChangeListener(), 0 === this.navigationId && this.navigateByUrl(this.location.path(!0), {
                            replaceUrl: !0
                        })
                    }
                }, {
                    key: "setUpLocationChangeListener",
                    value: function () {
                        var n = this;
                        this.locationSubscription || (this.locationSubscription = this.location.subscribe((function (l) {
                            var e = n.parseUrl(l.url),
                                t = "popstate" === l.type ? "popstate" : "hashchange",
                                i = l.state && l.state.navigationId ? l.state : null;
                            setTimeout((function () {
                                n.scheduleNavigation(e, t, i, {
                                    replaceUrl: !0
                                })
                            }), 0)
                        })))
                    }
                }, {
                    key: "getCurrentNavigation",
                    value: function () {
                        return this.currentNavigation
                    }
                }, {
                    key: "triggerEvent",
                    value: function (n) {
                        this.events.next(n)
                    }
                }, {
                    key: "resetConfig",
                    value: function (n) {
                        sd(n), this.config = n.map(hd), this.navigated = !1, this.lastSuccessfulId = -1
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.dispose()
                    }
                }, {
                    key: "dispose",
                    value: function () {
                        this.locationSubscription && (this.locationSubscription.unsubscribe(), this.locationSubscription = null)
                    }
                }, {
                    key: "createUrlTree",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            e = l.relativeTo,
                            t = l.queryParams,
                            i = l.fragment,
                            u = l.preserveQueryParams,
                            r = l.queryParamsHandling,
                            a = l.preserveFragment;
                        al() && u && console && console.warn && console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");
                        var o = e || this.routerState.root,
                            s = a ? this.currentUrlTree.fragment : i,
                            c = null;
                        if (r) switch (r) {
                            case "merge":
                                c = Object.assign({}, this.currentUrlTree.queryParams, t);
                                break;
                            case "preserve":
                                c = this.currentUrlTree.queryParams;
                                break;
                            default:
                                c = t || null
                        } else c = u ? this.currentUrlTree.queryParams : t || null;
                        return null !== c && (c = this.removeEmptyProps(c)),
                            function (n, l, e, t, i) {
                                if (0 === e.length) return lh(l.root, l.root, l, t, i);
                                var u = function (n) {
                                    if ("string" == typeof n[0] && 1 === n.length && "/" === n[0]) return new eh(!0, 0, n);
                                    var l = 0,
                                        e = !1,
                                        t = n.reduce((function (n, t, i) {
                                            if ("object" == typeof t && null != t) {
                                                if (t.outlets) {
                                                    var u = {};
                                                    return vd(t.outlets, (function (n, l) {
                                                        u[l] = "string" == typeof n ? n.split("/") : n
                                                    })), [].concat(_toConsumableArray(n), [{
                                                        outlets: u
                                                    }])
                                                }
                                                if (t.segmentPath) return [].concat(_toConsumableArray(n), [t.segmentPath])
                                            }
                                            return "string" != typeof t ? [].concat(_toConsumableArray(n), [t]) : 0 === i ? (t.split("/").forEach((function (t, i) {
                                                0 == i && "." === t || (0 == i && "" === t ? e = !0 : ".." === t ? l++ : "" != t && n.push(t))
                                            })), n) : [].concat(_toConsumableArray(n), [t])
                                        }), []);
                                    return new eh(e, l, t)
                                }(e);
                                if (u.toRoot()) return lh(l.root, new _d([], {}), l, t, i);
                                var r = function (n, l, e) {
                                        if (n.isAbsolute) return new th(l.root, !0, 0);
                                        if (-1 === e.snapshot._lastPathIndex) return new th(e.snapshot._urlSegment, !0, 0);
                                        var t = nh(n.commands[0]) ? 0 : 1;
                                        return function (n, l, e) {
                                            for (var t = n, i = l, u = e; u > i;) {
                                                if (u -= i, !(t = t.parent)) throw new Error("Invalid number of '../'");
                                                i = t.segments.length
                                            }
                                            return new th(t, !1, i - u)
                                        }(e.snapshot._urlSegment, e.snapshot._lastPathIndex + t, n.numberOfDoubleDots)
                                    }(u, l, n),
                                    a = r.processChildren ? rh(r.segmentGroup, r.index, u.commands) : uh(r.segmentGroup, r.index, u.commands);
                                return lh(r.segmentGroup, a, l, t, i)
                            }(o, this.currentUrlTree, n, c, s)
                    }
                }, {
                    key: "navigateByUrl",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            skipLocationChange: !1
                        };
                        al() && this.isNgZoneEnabled && !pu.isInAngularZone() && this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");
                        var e = fh(n) ? n : this.parseUrl(n),
                            t = this.urlHandlingStrategy.merge(e, this.rawUrlTree);
                        return this.scheduleNavigation(t, "imperative", null, l)
                    }
                }, {
                    key: "navigate",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            skipLocationChange: !1
                        };
                        return function (n) {
                            for (var l = 0; l < n.length; l++) {
                                var e = n[l];
                                if (null == e) throw new Error("The requested path contains ".concat(e, " segment at index ").concat(l))
                            }
                        }(n), this.navigateByUrl(this.createUrlTree(n, l), l)
                    }
                }, {
                    key: "serializeUrl",
                    value: function (n) {
                        return this.urlSerializer.serialize(n)
                    }
                }, {
                    key: "parseUrl",
                    value: function (n) {
                        var l;
                        try {
                            l = this.urlSerializer.parse(n)
                        } catch (e) {
                            l = this.malformedUriErrorHandler(e, this.urlSerializer, n)
                        }
                        return l
                    }
                }, {
                    key: "isActive",
                    value: function (n, l) {
                        if (fh(n)) return yd(this.currentUrlTree, n, l);
                        var e = this.parseUrl(n);
                        return yd(this.currentUrlTree, e, l)
                    }
                }, {
                    key: "removeEmptyProps",
                    value: function (n) {
                        return Object.keys(n).reduce((function (l, e) {
                            var t = n[e];
                            return null != t && (l[e] = t), l
                        }), {})
                    }
                }, {
                    key: "processNavigations",
                    value: function () {
                        var n = this;
                        this.navigations.subscribe((function (l) {
                            n.navigated = !0, n.lastSuccessfulId = l.id, n.events.next(new qc(l.id, n.serializeUrl(l.extractedUrl), n.serializeUrl(n.currentUrlTree))), n.lastSuccessfulNavigation = n.currentNavigation, n.currentNavigation = null, l.resolve(!0)
                        }), (function (l) {
                            n.console.warn("Unhandled Navigation Error: ")
                        }))
                    }
                }, {
                    key: "scheduleNavigation",
                    value: function (n, l, e, t) {
                        var i = this.getTransition();
                        if (i && "imperative" !== l && "imperative" === i.source && i.rawUrl.toString() === n.toString()) return Promise.resolve(!0);
                        if (i && "hashchange" == l && "popstate" === i.source && i.rawUrl.toString() === n.toString()) return Promise.resolve(!0);
                        if (i && "popstate" == l && "hashchange" === i.source && i.rawUrl.toString() === n.toString()) return Promise.resolve(!0);
                        var u = null,
                            r = null,
                            a = new Promise((function (n, l) {
                                u = n, r = l
                            })),
                            o = ++this.navigationId;
                        return this.setTransition({
                            id: o,
                            source: l,
                            restoredState: e,
                            currentUrlTree: this.currentUrlTree,
                            currentRawUrl: this.rawUrlTree,
                            rawUrl: n,
                            extras: t,
                            resolve: u,
                            reject: r,
                            promise: a,
                            currentSnapshot: this.routerState.snapshot,
                            currentRouterState: this.routerState
                        }), a.catch((function (n) {
                            return Promise.reject(n)
                        }))
                    }
                }, {
                    key: "setBrowserUrl",
                    value: function (n, l, e, t) {
                        var i = this.urlSerializer.serialize(n);
                        t = t || {}, this.location.isCurrentPathEqualTo(i) || l ? this.location.replaceState(i, "", Object.assign({}, t, {
                            navigationId: e
                        })) : this.location.go(i, "", Object.assign({}, t, {
                            navigationId: e
                        }))
                    }
                }, {
                    key: "resetStateAndUrl",
                    value: function (n, l, e) {
                        this.routerState = n, this.currentUrlTree = l, this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, e), this.resetUrlToCurrentUrlTree()
                    }
                }, {
                    key: "resetUrlToCurrentUrlTree",
                    value: function () {
                        this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree), "", {
                            navigationId: this.lastSuccessfulId
                        })
                    }
                }, {
                    key: "url",
                    get: function () {
                        return this.serializeUrl(this.currentUrlTree)
                    }
                }]), n
            }(),
            ep = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.router = l, this.route = e, this.commands = [], null == t && i.setAttribute(u.nativeElement, "tabindex", "0")
                }
                return _createClass(n, [{
                    key: "onClick",
                    value: function () {
                        var n = {
                            skipLocationChange: ip(this.skipLocationChange),
                            replaceUrl: ip(this.replaceUrl)
                        };
                        return this.router.navigateByUrl(this.urlTree, n), !0
                    }
                }, {
                    key: "routerLink",
                    set: function (n) {
                        this.commands = null != n ? Array.isArray(n) ? n : [n] : []
                    }
                }, {
                    key: "preserveQueryParams",
                    set: function (n) {
                        al() && console && console.warn && console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."), this.preserve = n
                    }
                }, {
                    key: "urlTree",
                    get: function () {
                        return this.router.createUrlTree(this.commands, {
                            relativeTo: this.route,
                            queryParams: this.queryParams,
                            fragment: this.fragment,
                            preserveQueryParams: ip(this.preserve),
                            queryParamsHandling: this.queryParamsHandling,
                            preserveFragment: ip(this.preserveFragment)
                        })
                    }
                }]), n
            }(),
            tp = function () {
                function n(l, e, t) {
                    var i = this;
                    _classCallCheck(this, n), this.router = l, this.route = e, this.locationStrategy = t, this.commands = [], this.subscription = l.events.subscribe((function (n) {
                        n instanceof qc && i.updateTargetUrlAndHref()
                    }))
                }
                return _createClass(n, [{
                    key: "ngOnChanges",
                    value: function (n) {
                        this.updateTargetUrlAndHref()
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.subscription.unsubscribe()
                    }
                }, {
                    key: "onClick",
                    value: function (n, l, e, t) {
                        if (0 !== n || l || e || t) return !0;
                        if ("string" == typeof this.target && "_self" != this.target) return !0;
                        var i = {
                            skipLocationChange: ip(this.skipLocationChange),
                            replaceUrl: ip(this.replaceUrl),
                            state: this.state
                        };
                        return this.router.navigateByUrl(this.urlTree, i), !1
                    }
                }, {
                    key: "updateTargetUrlAndHref",
                    value: function () {
                        this.href = this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))
                    }
                }, {
                    key: "routerLink",
                    set: function (n) {
                        this.commands = null != n ? Array.isArray(n) ? n : [n] : []
                    }
                }, {
                    key: "preserveQueryParams",
                    set: function (n) {
                        al() && console && console.warn && console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."), this.preserve = n
                    }
                }, {
                    key: "urlTree",
                    get: function () {
                        return this.router.createUrlTree(this.commands, {
                            relativeTo: this.route,
                            queryParams: this.queryParams,
                            fragment: this.fragment,
                            preserveQueryParams: ip(this.preserve),
                            queryParamsHandling: this.queryParamsHandling,
                            preserveFragment: ip(this.preserveFragment)
                        })
                    }
                }]), n
            }();

        function ip(n) {
            return "" === n || !!n
        }
        var up = function () {
                function n(l, e, t, i, u) {
                    var r = this;
                    _classCallCheck(this, n), this.router = l, this.element = e, this.renderer = t, this.link = i, this.linkWithHref = u, this.classes = [], this.isActive = !1, this.routerLinkActiveOptions = {
                        exact: !1
                    }, this.subscription = l.events.subscribe((function (n) {
                        n instanceof qc && r.update()
                    }))
                }
                return _createClass(n, [{
                    key: "ngAfterContentInit",
                    value: function () {
                        var n = this;
                        this.links.changes.subscribe((function (l) {
                            return n.update()
                        })), this.linksWithHrefs.changes.subscribe((function (l) {
                            return n.update()
                        })), this.update()
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        this.update()
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.subscription.unsubscribe()
                    }
                }, {
                    key: "update",
                    value: function () {
                        var n = this;
                        this.links && this.linksWithHrefs && this.router.navigated && Promise.resolve().then((function () {
                            var l = n.hasActiveLinks();
                            n.isActive !== l && (n.isActive = l, n.classes.forEach((function (e) {
                                l ? n.renderer.addClass(n.element.nativeElement, e) : n.renderer.removeClass(n.element.nativeElement, e)
                            })))
                        }))
                    }
                }, {
                    key: "isLinkActive",
                    value: function (n) {
                        var l = this;
                        return function (e) {
                            return n.isActive(e.urlTree, l.routerLinkActiveOptions.exact)
                        }
                    }
                }, {
                    key: "hasActiveLinks",
                    value: function () {
                        var n = this.isLinkActive(this.router);
                        return this.link && n(this.link) || this.linkWithHref && n(this.linkWithHref) || this.links.some(n) || this.linksWithHrefs.some(n)
                    }
                }, {
                    key: "routerLinkActive",
                    set: function (n) {
                        var l = Array.isArray(n) ? n : n.split(" ");
                        this.classes = l.filter((function (n) {
                            return !!n
                        }))
                    }
                }]), n
            }(),
            rp = function n() {
                _classCallCheck(this, n), this.outlet = null, this.route = null, this.resolver = null, this.children = new ap, this.attachRef = null
            },
            ap = function () {
                function n() {
                    _classCallCheck(this, n), this.contexts = new Map
                }
                return _createClass(n, [{
                    key: "onChildOutletCreated",
                    value: function (n, l) {
                        var e = this.getOrCreateContext(n);
                        e.outlet = l, this.contexts.set(n, e)
                    }
                }, {
                    key: "onChildOutletDestroyed",
                    value: function (n) {
                        var l = this.getContext(n);
                        l && (l.outlet = null)
                    }
                }, {
                    key: "onOutletDeactivated",
                    value: function () {
                        var n = this.contexts;
                        return this.contexts = new Map, n
                    }
                }, {
                    key: "onOutletReAttached",
                    value: function (n) {
                        this.contexts = n
                    }
                }, {
                    key: "getOrCreateContext",
                    value: function (n) {
                        var l = this.getContext(n);
                        return l || (l = new rp, this.contexts.set(n, l)), l
                    }
                }, {
                    key: "getContext",
                    value: function (n) {
                        return this.contexts.get(n) || null
                    }
                }]), n
            }(),
            op = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.parentContexts = l, this.location = e, this.resolver = t, this.changeDetector = u, this.activated = null, this._activatedRoute = null, this.activateEvents = new zi, this.deactivateEvents = new zi, this.name = i || ed, l.onChildOutletCreated(this.name, this)
                }
                return _createClass(n, [{
                    key: "ngOnDestroy",
                    value: function () {
                        this.parentContexts.onChildOutletDestroyed(this.name)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        if (!this.activated) {
                            var n = this.parentContexts.getContext(this.name);
                            n && n.route && (n.attachRef ? this.attach(n.attachRef, n.route) : this.activateWith(n.route, n.resolver || null))
                        }
                    }
                }, {
                    key: "detach",
                    value: function () {
                        if (!this.activated) throw new Error("Outlet is not activated");
                        this.location.detach();
                        var n = this.activated;
                        return this.activated = null, this._activatedRoute = null, n
                    }
                }, {
                    key: "attach",
                    value: function (n, l) {
                        this.activated = n, this._activatedRoute = l, this.location.insert(n.hostView)
                    }
                }, {
                    key: "deactivate",
                    value: function () {
                        if (this.activated) {
                            var n = this.component;
                            this.activated.destroy(), this.activated = null, this._activatedRoute = null, this.deactivateEvents.emit(n)
                        }
                    }
                }, {
                    key: "activateWith",
                    value: function (n, l) {
                        if (this.isActivated) throw new Error("Cannot activate an already activated outlet");
                        this._activatedRoute = n;
                        var e = (l = l || this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),
                            t = this.parentContexts.getOrCreateContext(this.name).children,
                            i = new sp(n, t, this.location.injector);
                        this.activated = this.location.createComponent(e, this.location.length, i), this.changeDetector.markForCheck(), this.activateEvents.emit(this.activated.instance)
                    }
                }, {
                    key: "isActivated",
                    get: function () {
                        return !!this.activated
                    }
                }, {
                    key: "component",
                    get: function () {
                        if (!this.activated) throw new Error("Outlet is not activated");
                        return this.activated.instance
                    }
                }, {
                    key: "activatedRoute",
                    get: function () {
                        if (!this.activated) throw new Error("Outlet is not activated");
                        return this._activatedRoute
                    }
                }, {
                    key: "activatedRouteData",
                    get: function () {
                        return this._activatedRoute ? this._activatedRoute.snapshot.data : {}
                    }
                }]), n
            }(),
            sp = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.route = l, this.childContexts = e, this.parent = t
                }
                return _createClass(n, [{
                    key: "get",
                    value: function (n, l) {
                        return n === Gd ? this.route : n === ap ? this.childContexts : this.parent.get(n, l)
                    }
                }]), n
            }(),
            cp = function n() {
                _classCallCheck(this, n)
            },
            dp = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "preload",
                    value: function (n, l) {
                        return l().pipe(hs((function () {
                            return qo(null)
                        })))
                    }
                }]), n
            }(),
            hp = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "preload",
                    value: function (n, l) {
                        return qo(null)
                    }
                }]), n
            }(),
            pp = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.router = l, this.injector = i, this.preloadingStrategy = u, this.loader = new Zh(e, t, (function (n) {
                        return l.triggerEvent(new Kc(n))
                    }), (function (n) {
                        return l.triggerEvent(new Zc(n))
                    }))
                }
                return _createClass(n, [{
                    key: "setUpPreloading",
                    value: function () {
                        var n = this;
                        this.subscription = this.router.events.pipe(Zo((function (n) {
                            return n instanceof qc
                        })), Ts((function () {
                            return n.preload()
                        }))).subscribe((function () {}))
                    }
                }, {
                    key: "preload",
                    value: function () {
                        var n = this.injector.get(Gn);
                        return this.processRoutes(n, this.router.config)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.subscription.unsubscribe()
                    }
                }, {
                    key: "processRoutes",
                    value: function (n, l) {
                        var e = [],
                            t = !0,
                            i = !1,
                            u = void 0;
                        try {
                            for (var r, a = l[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                                var o = r.value;
                                if (o.loadChildren && !o.canLoad && o._loadedConfig) {
                                    var s = o._loadedConfig;
                                    e.push(this.processRoutes(s.module, s.routes))
                                } else o.loadChildren && !o.canLoad ? e.push(this.preloadConfig(n, o)) : o.children && e.push(this.processRoutes(n, o.children))
                            }
                        } catch (c) {
                            i = !0, u = c
                        } finally {
                            try {
                                t || null == a.return || a.return()
                            } finally {
                                if (i) throw u
                            }
                        }
                        return K(e).pipe(J(), V((function (n) {})))
                    }
                }, {
                    key: "preloadConfig",
                    value: function (n, l) {
                        var e = this;
                        return this.preloadingStrategy.preload(l, (function () {
                            return e.loader.load(n.injector, l).pipe(Z((function (n) {
                                return l._loadedConfig = n, e.processRoutes(n.module, n.routes)
                            })))
                        }))
                    }
                }]), n
            }(),
            fp = function () {
                function n(l, e) {
                    var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    _classCallCheck(this, n), this.router = l, this.viewportScroller = e, this.options = t, this.lastId = 0, this.lastSource = "imperative", this.restoredId = 0, this.store = {}, t.scrollPositionRestoration = t.scrollPositionRestoration || "disabled", t.anchorScrolling = t.anchorScrolling || "disabled"
                }
                return _createClass(n, [{
                    key: "init",
                    value: function () {
                        "disabled" !== this.options.scrollPositionRestoration && this.viewportScroller.setHistoryScrollRestoration("manual"), this.routerEventsSubscription = this.createScrollEvents(), this.scrollEventsSubscription = this.consumeScrollEvents()
                    }
                }, {
                    key: "createScrollEvents",
                    value: function () {
                        var n = this;
                        return this.router.events.subscribe((function (l) {
                            l instanceof Fc ? (n.store[n.lastId] = n.viewportScroller.getScrollPosition(), n.lastSource = l.navigationTrigger, n.restoredId = l.restoredState ? l.restoredState.navigationId : 0) : l instanceof qc && (n.lastId = l.id, n.scheduleScrollEvent(l, n.router.parseUrl(l.urlAfterRedirects).fragment))
                        }))
                    }
                }, {
                    key: "consumeScrollEvents",
                    value: function () {
                        var n = this;
                        return this.router.events.subscribe((function (l) {
                            l instanceof nd && (l.position ? "top" === n.options.scrollPositionRestoration ? n.viewportScroller.scrollToPosition([0, 0]) : "enabled" === n.options.scrollPositionRestoration && n.viewportScroller.scrollToPosition(l.position) : l.anchor && "enabled" === n.options.anchorScrolling ? n.viewportScroller.scrollToAnchor(l.anchor) : "disabled" !== n.options.scrollPositionRestoration && n.viewportScroller.scrollToPosition([0, 0]))
                        }))
                    }
                }, {
                    key: "scheduleScrollEvent",
                    value: function (n, l) {
                        this.router.triggerEvent(new nd(n, "popstate" === this.lastSource ? this.store[this.restoredId] : null, l))
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.routerEventsSubscription && this.routerEventsSubscription.unsubscribe(), this.scrollEventsSubscription && this.scrollEventsSubscription.unsubscribe()
                    }
                }]), n
            }(),
            gp = new Dn("ROUTER_CONFIGURATION"),
            vp = new Dn("ROUTER_FORROOT_GUARD"),
            mp = [Aa, {
                provide: Cd,
                useClass: Sd
            }, {
                provide: lp,
                useFactory: Cp,
                deps: [Du, Cd, ap, Aa, Fl, Mu, iu, Kh, gp, [Qh, new pn], [Gh, new pn]]
            }, ap, {
                provide: Gd,
                useFactory: Sp,
                deps: [lp]
            }, {
                provide: Mu,
                useClass: zu
            }, pp, hp, dp, {
                provide: gp,
                useValue: {
                    enableTracing: !1
                }
            }];

        function yp() {
            return new Iu("Router", lp)
        }
        var bp = function () {
            function n(l, e) {
                _classCallCheck(this, n)
            }
            return _createClass(n, null, [{
                key: "forRoot",
                value: function (l, e) {
                    return {
                        ngModule: n,
                        providers: [mp, xp(l), {
                            provide: vp,
                            useFactory: wp,
                            deps: [[lp, new pn, new gn]]
                        }, {
                            provide: gp,
                            useValue: e || {}
                        }, {
                            provide: Ta,
                            useFactory: kp,
                            deps: [Sa, [new hn(Ea), new pn], gp]
                        }, {
                            provide: fp,
                            useFactory: _p,
                            deps: [lp, No, gp]
                        }, {
                            provide: cp,
                            useExisting: e && e.preloadingStrategy ? e.preloadingStrategy : hp
                        }, {
                            provide: Iu,
                            multi: !0,
                            useFactory: yp
                        }, [Ip, {
                            provide: qi,
                            multi: !0,
                            useFactory: Tp,
                            deps: [Ip]
                        }, {
                            provide: Ap,
                            useFactory: Ep,
                            deps: [Ip]
                        }, {
                            provide: Wi,
                            multi: !0,
                            useExisting: Ap
                        }]]
                    }
                }
            }, {
                key: "forChild",
                value: function (l) {
                    return {
                        ngModule: n,
                        providers: [xp(l)]
                    }
                }
            }]), n
        }();

        function _p(n, l, e) {
            return e.scrollOffset && l.setOffset(e.scrollOffset), new fp(n, l, e)
        }

        function kp(n, l) {
            return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}).useHash ? new Oa(n, l) : new Da(n, l)
        }

        function wp(n) {
            if (n) throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");
            return "guarded"
        }

        function xp(n) {
            return [{
                provide: Wl,
                multi: !0,
                useValue: n
            }, {
                provide: Kh,
                multi: !0,
                useValue: n
            }]
        }

        function Cp(n, l, e, t, i, u, r, a) {
            var o = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : {},
                s = arguments.length > 9 ? arguments[9] : void 0,
                c = arguments.length > 10 ? arguments[10] : void 0,
                d = new lp(null, l, e, t, i, u, r, fd(a));
            if (s && (d.urlHandlingStrategy = s), c && (d.routeReuseStrategy = c), o.errorHandler && (d.errorHandler = o.errorHandler), o.malformedUriErrorHandler && (d.malformedUriErrorHandler = o.malformedUriErrorHandler), o.enableTracing) {
                var h = Os();
                d.events.subscribe((function (n) {
                    h.logGroup("Router Event: ".concat(n.constructor.name)), h.log(n.toString()), h.log(n), h.logGroupEnd()
                }))
            }
            return o.onSameUrlNavigation && (d.onSameUrlNavigation = o.onSameUrlNavigation), o.paramsInheritanceStrategy && (d.paramsInheritanceStrategy = o.paramsInheritanceStrategy), o.urlUpdateStrategy && (d.urlUpdateStrategy = o.urlUpdateStrategy), o.relativeLinkResolution && (d.relativeLinkResolution = o.relativeLinkResolution), d
        }

        function Sp(n) {
            return n.routerState.root
        }
        var Ip = function () {
            function n(l) {
                _classCallCheck(this, n), this.injector = l, this.initNavigation = !1, this.resultOfPreactivationDone = new P
            }
            return _createClass(n, [{
                key: "appInitializer",
                value: function () {
                    var n = this;
                    return this.injector.get(Ia, Promise.resolve(null)).then((function () {
                        var l = null,
                            e = new Promise((function (n) {
                                return l = n
                            })),
                            t = n.injector.get(lp),
                            i = n.injector.get(gp);
                        if (n.isLegacyDisabled(i) || n.isLegacyEnabled(i)) l(!0);
                        else if ("disabled" === i.initialNavigation) t.setUpLocationChangeListener(), l(!0);
                        else {
                            if ("enabled" !== i.initialNavigation) throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation, "'"));
                            t.hooks.afterPreactivation = function () {
                                return n.initNavigation ? qo(null) : (n.initNavigation = !0, l(!0), n.resultOfPreactivationDone)
                            }, t.initialNavigation()
                        }
                        return e
                    }))
                }
            }, {
                key: "bootstrapListener",
                value: function (n) {
                    var l = this.injector.get(gp),
                        e = this.injector.get(pp),
                        t = this.injector.get(fp),
                        i = this.injector.get(lp),
                        u = this.injector.get(Du);
                    n === u.components[0] && (this.isLegacyEnabled(l) ? i.initialNavigation() : this.isLegacyDisabled(l) && i.setUpLocationChangeListener(), e.setUpPreloading(), t.init(), i.resetRootComponentType(u.componentTypes[0]), this.resultOfPreactivationDone.next(null), this.resultOfPreactivationDone.complete())
                }
            }, {
                key: "isLegacyEnabled",
                value: function (n) {
                    return "legacy_enabled" === n.initialNavigation || !0 === n.initialNavigation || void 0 === n.initialNavigation
                }
            }, {
                key: "isLegacyDisabled",
                value: function (n) {
                    return "legacy_disabled" === n.initialNavigation || !1 === n.initialNavigation
                }
            }]), n
        }();

        function Tp(n) {
            return n.appInitializer.bind(n)
        }

        function Ep(n) {
            return n.bootstrapListener.bind(n)
        }
        var Ap = new Dn("Router Initializer"),
            Pp = et({
                encapsulation: 2,
                styles: [],
                data: {}
            });

        function Op(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 1, "router-outlet", [], null, null, null, null, null)), hi(1, 212992, null, 0, op, [ap, ze, se, [8, null], Nl], null, null)], (function (n, l) {
                n(l, 1, 0)
            }), null)
        }
        var Dp = $t("ng-component", ld, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ng-component", [], null, null, null, Op, Pp)), hi(1, 49152, null, 0, ld, [], null, null)], null, null)
            }), {}, {}, []),
            Rp = function (n) {
                function l(n, e) {
                    var t;
                    _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).sources = e, t.completed = 0, t.haveValues = 0;
                    var i = e.length;
                    t.values = new Array(i);
                    for (var u = 0; u < i; u++) {
                        var r = $(_assertThisInitialized(t), e[u], null, u);
                        r && t.add(r)
                    }
                    return t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        this.values[e] = l, i._hasValue || (i._hasValue = !0, this.haveValues++)
                    }
                }, {
                    key: "notifyComplete",
                    value: function (n) {
                        var l = this.destination,
                            e = this.haveValues,
                            t = this.values,
                            i = t.length;
                        n._hasValue ? (this.completed++, this.completed === i && (e === i && l.next(t), l.complete())) : l.complete()
                    }
                }]), l
            }(H),
            Mp = new Dn("NgValueAccessor"),
            Np = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this.onChange = function (n) {}, this.onTouched = function () {}
                }
                return _createClass(n, [{
                    key: "writeValue",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "checked", n)
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        this.onChange = n
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                    }
                }]), n
            }(),
            Bp = new Dn("CompositionEventMode"),
            zp = function () {
                function n(l, e, t) {
                    var i;
                    _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this._compositionMode = t, this.onChange = function (n) {}, this.onTouched = function () {}, this._composing = !1, null == this._compositionMode && (this._compositionMode = (i = Os() ? Os().getUserAgent() : "", !/android (\d+)/.test(i.toLowerCase())))
                }
                return _createClass(n, [{
                    key: "writeValue",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "value", null == n ? "" : n)
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        this.onChange = n
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                    }
                }, {
                    key: "_handleInput",
                    value: function (n) {
                        (!this._compositionMode || this._compositionMode && !this._composing) && this.onChange(n)
                    }
                }, {
                    key: "_compositionStart",
                    value: function () {
                        this._composing = !0
                    }
                }, {
                    key: "_compositionEnd",
                    value: function (n) {
                        this._composing = !1, this._compositionMode && this.onChange(n)
                    }
                }]), n
            }(),
            Lp = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "reset",
                    value: function (n) {
                        this.control && this.control.reset(n)
                    }
                }, {
                    key: "hasError",
                    value: function (n, l) {
                        return !!this.control && this.control.hasError(n, l)
                    }
                }, {
                    key: "getError",
                    value: function (n, l) {
                        return this.control ? this.control.getError(n, l) : null
                    }
                }, {
                    key: "value",
                    get: function () {
                        return this.control ? this.control.value : null
                    }
                }, {
                    key: "valid",
                    get: function () {
                        return this.control ? this.control.valid : null
                    }
                }, {
                    key: "invalid",
                    get: function () {
                        return this.control ? this.control.invalid : null
                    }
                }, {
                    key: "pending",
                    get: function () {
                        return this.control ? this.control.pending : null
                    }
                }, {
                    key: "disabled",
                    get: function () {
                        return this.control ? this.control.disabled : null
                    }
                }, {
                    key: "enabled",
                    get: function () {
                        return this.control ? this.control.enabled : null
                    }
                }, {
                    key: "errors",
                    get: function () {
                        return this.control ? this.control.errors : null
                    }
                }, {
                    key: "pristine",
                    get: function () {
                        return this.control ? this.control.pristine : null
                    }
                }, {
                    key: "dirty",
                    get: function () {
                        return this.control ? this.control.dirty : null
                    }
                }, {
                    key: "touched",
                    get: function () {
                        return this.control ? this.control.touched : null
                    }
                }, {
                    key: "status",
                    get: function () {
                        return this.control ? this.control.status : null
                    }
                }, {
                    key: "untouched",
                    get: function () {
                        return this.control ? this.control.untouched : null
                    }
                }, {
                    key: "statusChanges",
                    get: function () {
                        return this.control ? this.control.statusChanges : null
                    }
                }, {
                    key: "valueChanges",
                    get: function () {
                        return this.control ? this.control.valueChanges : null
                    }
                }, {
                    key: "path",
                    get: function () {
                        return null
                    }
                }]), n
            }(),
            Fp = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "formDirective",
                    get: function () {
                        return null
                    }
                }, {
                    key: "path",
                    get: function () {
                        return null
                    }
                }]), l
            }(Lp);

        function qp() {
            throw new Error("unimplemented")
        }
        var Up = function (n) {
                function l() {
                    var n;
                    return _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments)))._parent = null, n.name = null, n.valueAccessor = null, n._rawValidators = [], n._rawAsyncValidators = [], n
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "validator",
                    get: function () {
                        return qp()
                    }
                }, {
                    key: "asyncValidator",
                    get: function () {
                        return qp()
                    }
                }]), l
            }(Lp),
            $p = function (n) {
                function l(n) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))
                }
                return _inherits(l, n), l
            }(function () {
                function n(l) {
                    _classCallCheck(this, n), this._cd = l
                }
                return _createClass(n, [{
                    key: "ngClassUntouched",
                    get: function () {
                        return !!this._cd.control && this._cd.control.untouched
                    }
                }, {
                    key: "ngClassTouched",
                    get: function () {
                        return !!this._cd.control && this._cd.control.touched
                    }
                }, {
                    key: "ngClassPristine",
                    get: function () {
                        return !!this._cd.control && this._cd.control.pristine
                    }
                }, {
                    key: "ngClassDirty",
                    get: function () {
                        return !!this._cd.control && this._cd.control.dirty
                    }
                }, {
                    key: "ngClassValid",
                    get: function () {
                        return !!this._cd.control && this._cd.control.valid
                    }
                }, {
                    key: "ngClassInvalid",
                    get: function () {
                        return !!this._cd.control && this._cd.control.invalid
                    }
                }, {
                    key: "ngClassPending",
                    get: function () {
                        return !!this._cd.control && this._cd.control.pending
                    }
                }]), n
            }());

        function Hp(n) {
            return null == n || 0 === n.length
        }
        var Vp = new Dn("NgValidators"),
            jp = /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
            Gp = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "min",
                    value: function (n) {
                        return function (l) {
                            if (Hp(l.value) || Hp(n)) return null;
                            var e = parseFloat(l.value);
                            return !isNaN(e) && e < n ? {
                                min: {
                                    min: n,
                                    actual: l.value
                                }
                            } : null
                        }
                    }
                }, {
                    key: "max",
                    value: function (n) {
                        return function (l) {
                            if (Hp(l.value) || Hp(n)) return null;
                            var e = parseFloat(l.value);
                            return !isNaN(e) && e > n ? {
                                max: {
                                    max: n,
                                    actual: l.value
                                }
                            } : null
                        }
                    }
                }, {
                    key: "required",
                    value: function (n) {
                        return Hp(n.value) ? {
                            required: !0
                        } : null
                    }
                }, {
                    key: "requiredTrue",
                    value: function (n) {
                        return !0 === n.value ? null : {
                            required: !0
                        }
                    }
                }, {
                    key: "email",
                    value: function (n) {
                        return Hp(n.value) ? null : jp.test(n.value) ? null : {
                            email: !0
                        }
                    }
                }, {
                    key: "minLength",
                    value: function (n) {
                        return function (l) {
                            if (Hp(l.value)) return null;
                            var e = l.value ? l.value.length : 0;
                            return e < n ? {
                                minlength: {
                                    requiredLength: n,
                                    actualLength: e
                                }
                            } : null
                        }
                    }
                }, {
                    key: "maxLength",
                    value: function (n) {
                        return function (l) {
                            var e = l.value ? l.value.length : 0;
                            return e > n ? {
                                maxlength: {
                                    requiredLength: n,
                                    actualLength: e
                                }
                            } : null
                        }
                    }
                }, {
                    key: "pattern",
                    value: function (l) {
                        return l ? ("string" == typeof l ? (t = "", "^" !== l.charAt(0) && (t += "^"), t += l, "$" !== l.charAt(l.length - 1) && (t += "$"), e = new RegExp(t)) : (t = l.toString(), e = l), function (n) {
                            if (Hp(n.value)) return null;
                            var l = n.value;
                            return e.test(l) ? null : {
                                pattern: {
                                    requiredPattern: t,
                                    actualValue: l
                                }
                            }
                        }) : n.nullValidator;
                        var e, t
                    }
                }, {
                    key: "nullValidator",
                    value: function (n) {
                        return null
                    }
                }, {
                    key: "compose",
                    value: function (n) {
                        if (!n) return null;
                        var l = n.filter(Wp);
                        return 0 == l.length ? null : function (n) {
                            return Zp(function (n, l) {
                                return l.map((function (l) {
                                    return l(n)
                                }))
                            }(n, l))
                        }
                    }
                }, {
                    key: "composeAsync",
                    value: function (n) {
                        if (!n) return null;
                        var l = n.filter(Wp);
                        return 0 == l.length ? null : function (n) {
                            return function n() {
                                for (var l = arguments.length, e = new Array(l), t = 0; t < l; t++) e[t] = arguments[t];
                                var i;
                                return "function" == typeof e[e.length - 1] && (i = e.pop()), 1 === e.length && o(e[0]) && (e = e[0]), 0 === e.length ? zo : i ? n(e).pipe(V((function (n) {
                                    return i.apply(void 0, _toConsumableArray(n))
                                }))) : new x((function (n) {
                                    return new Rp(n, e)
                                }))
                            }(function (n, l) {
                                return l.map((function (l) {
                                    return l(n)
                                }))
                            }(n, l).map(Kp)).pipe(V(Zp))
                        }
                    }
                }]), n
            }();

        function Wp(n) {
            return null != n
        }

        function Kp(n) {
            var l = le(n) ? K(n) : n;
            if (!ee(l)) throw new Error("Expected validator to return Promise or Observable.");
            return l
        }

        function Zp(n) {
            var l = n.reduce((function (n, l) {
                return null != l ? Object.assign({}, n, l) : n
            }), {});
            return 0 === Object.keys(l).length ? null : l
        }

        function Qp(n) {
            return n.validate ? function (l) {
                return n.validate(l)
            } : n
        }

        function Yp(n) {
            return n.validate ? function (l) {
                return n.validate(l)
            } : n
        }
        var Xp = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this.onChange = function (n) {}, this.onTouched = function () {}
                }
                return _createClass(n, [{
                    key: "writeValue",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "value", null == n ? "" : n)
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        this.onChange = function (l) {
                            n("" == l ? null : parseFloat(l))
                        }
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                    }
                }]), n
            }(),
            Jp = function () {
                function n() {
                    _classCallCheck(this, n), this._accessors = []
                }
                return _createClass(n, [{
                    key: "add",
                    value: function (n, l) {
                        this._accessors.push([n, l])
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        for (var l = this._accessors.length - 1; l >= 0; --l)
                            if (this._accessors[l][1] === n) return void this._accessors.splice(l, 1)
                    }
                }, {
                    key: "select",
                    value: function (n) {
                        var l = this;
                        this._accessors.forEach((function (e) {
                            l._isSameGroup(e, n) && e[1] !== n && e[1].fireUncheck(n.value)
                        }))
                    }
                }, {
                    key: "_isSameGroup",
                    value: function (n, l) {
                        return !!n[0].control && n[0]._parent === l._control._parent && n[1].name === l.name
                    }
                }]), n
            }(),
            nf = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this._registry = t, this._injector = i, this.onChange = function () {}, this.onTouched = function () {}
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this._control = this._injector.get(Up), this._checkName(), this._registry.add(this._control, this)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this._registry.remove(this)
                    }
                }, {
                    key: "writeValue",
                    value: function (n) {
                        this._state = n === this.value, this._renderer.setProperty(this._elementRef.nativeElement, "checked", this._state)
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        var l = this;
                        this._fn = n, this.onChange = function () {
                            n(l.value), l._registry.select(l)
                        }
                    }
                }, {
                    key: "fireUncheck",
                    value: function (n) {
                        this.writeValue(n)
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                    }
                }, {
                    key: "_checkName",
                    value: function () {
                        this.name && this.formControlName && this.name !== this.formControlName && this._throwNameError(), !this.name && this.formControlName && (this.name = this.formControlName)
                    }
                }, {
                    key: "_throwNameError",
                    value: function () {
                        throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')
                    }
                }]), n
            }(),
            lf = '\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',
            ef = '\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',
            tf = '\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',
            uf = '\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ';

        function rf(n, l) {
            return null == n ? "".concat(l) : (l && "object" == typeof l && (l = "Object"), "".concat(n, ": ").concat(l).slice(0, 50))
        }
        var af = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this._optionMap = new Map, this._idCounter = 0, this.onChange = function (n) {}, this.onTouched = function () {}, this._compareWith = Ql
                }
                return _createClass(n, [{
                    key: "writeValue",
                    value: function (n) {
                        this.value = n;
                        var l = this._getOptionId(n);
                        null == l && this._renderer.setProperty(this._elementRef.nativeElement, "selectedIndex", -1);
                        var e = rf(l, n);
                        this._renderer.setProperty(this._elementRef.nativeElement, "value", e)
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        var l = this;
                        this.onChange = function (e) {
                            l.value = l._getOptionValue(e), n(l.value)
                        }
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                    }
                }, {
                    key: "_registerOption",
                    value: function () {
                        return (this._idCounter++).toString()
                    }
                }, {
                    key: "_getOptionId",
                    value: function (n) {
                        for (var l = 0, e = Array.from(this._optionMap.keys()); l < e.length; l++) {
                            var t = e[l];
                            if (this._compareWith(this._optionMap.get(t), n)) return t
                        }
                        return null
                    }
                }, {
                    key: "_getOptionValue",
                    value: function (n) {
                        var l = function (n) {
                            return n.split(":")[0]
                        }(n);
                        return this._optionMap.has(l) ? this._optionMap.get(l) : n
                    }
                }, {
                    key: "compareWith",
                    set: function (n) {
                        if ("function" != typeof n) throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(n)));
                        this._compareWith = n
                    }
                }]), n
            }(),
            of = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._element = l, this._renderer = e, this._select = t, this._select && (this.id = this._select._registerOption())
                }
                return _createClass(n, [{
                    key: "_setElementValue",
                    value: function (n) {
                        this._renderer.setProperty(this._element.nativeElement, "value", n)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this._select && (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value))
                    }
                }, {
                    key: "ngValue",
                    set: function (n) {
                        null != this._select && (this._select._optionMap.set(this.id, n), this._setElementValue(rf(this.id, n)), this._select.writeValue(this._select.value))
                    }
                }, {
                    key: "value",
                    set: function (n) {
                        this._setElementValue(n), this._select && this._select.writeValue(this._select.value)
                    }
                }]), n
            }();

        function sf(n, l) {
            return null == n ? "".concat(l) : ("string" == typeof l && (l = "'".concat(l, "'")), l && "object" == typeof l && (l = "Object"), "".concat(n, ": ").concat(l).slice(0, 50))
        }
        var cf = function () {
            function n(l, e, t) {
                _classCallCheck(this, n), this._element = l, this._renderer = e, this._select = t, this._select && (this.id = this._select._registerOption(this))
            }
            return _createClass(n, [{
                key: "_setElementValue",
                value: function (n) {
                    this._renderer.setProperty(this._element.nativeElement, "value", n)
                }
            }, {
                key: "_setSelected",
                value: function (n) {
                    this._renderer.setProperty(this._element.nativeElement, "selected", n)
                }
            }, {
                key: "ngOnDestroy",
                value: function () {
                    this._select && (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value))
                }
            }, {
                key: "ngValue",
                set: function (n) {
                    null != this._select && (this._value = n, this._setElementValue(sf(this.id, n)), this._select.writeValue(this._select.value))
                }
            }, {
                key: "value",
                set: function (n) {
                    this._select ? (this._value = n, this._setElementValue(sf(this.id, n)), this._select.writeValue(this._select.value)) : this._setElementValue(n)
                }
            }]), n
        }();

        function df(n, l) {
            return [].concat(_toConsumableArray(l.path), [n])
        }

        function hf(n, l) {
            n || ff(l, "Cannot find control with"), l.valueAccessor || ff(l, "No value accessor for form control with"), n.validator = Gp.compose([n.validator, l.validator]), n.asyncValidator = Gp.composeAsync([n.asyncValidator, l.asyncValidator]), l.valueAccessor.writeValue(n.value),
                function (n, l) {
                    l.valueAccessor.registerOnChange((function (e) {
                        n._pendingValue = e, n._pendingChange = !0, n._pendingDirty = !0, "change" === n.updateOn && pf(n, l)
                    }))
                }(n, l),
                function (n, l) {
                    n.registerOnChange((function (n, e) {
                        l.valueAccessor.writeValue(n), e && l.viewToModelUpdate(n)
                    }))
                }(n, l),
                function (n, l) {
                    l.valueAccessor.registerOnTouched((function () {
                        n._pendingTouched = !0, "blur" === n.updateOn && n._pendingChange && pf(n, l), "submit" !== n.updateOn && n.markAsTouched()
                    }))
                }(n, l), l.valueAccessor.setDisabledState && n.registerOnDisabledChange((function (n) {
                    l.valueAccessor.setDisabledState(n)
                })), l._rawValidators.forEach((function (l) {
                    l.registerOnValidatorChange && l.registerOnValidatorChange((function () {
                        return n.updateValueAndValidity()
                    }))
                })), l._rawAsyncValidators.forEach((function (l) {
                    l.registerOnValidatorChange && l.registerOnValidatorChange((function () {
                        return n.updateValueAndValidity()
                    }))
                }))
        }

        function pf(n, l) {
            n._pendingDirty && n.markAsDirty(), n.setValue(n._pendingValue, {
                emitModelToViewChange: !1
            }), l.viewToModelUpdate(n._pendingValue), n._pendingChange = !1
        }

        function ff(n, l) {
            var e;
            throw e = n.path.length > 1 ? "path: '".concat(n.path.join(" -> "), "'") : n.path[0] ? "name: '".concat(n.path, "'") : "unspecified name attribute", new Error("".concat(l, " ").concat(e))
        }

        function gf(n) {
            return null != n ? Gp.compose(n.map(Qp)) : null
        }

        function vf(n) {
            return null != n ? Gp.composeAsync(n.map(Yp)) : null
        }
        var mf = [Np, function () {
            function n(l, e) {
                _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this.onChange = function (n) {}, this.onTouched = function () {}
            }
            return _createClass(n, [{
                key: "writeValue",
                value: function (n) {
                    this._renderer.setProperty(this._elementRef.nativeElement, "value", parseFloat(n))
                }
            }, {
                key: "registerOnChange",
                value: function (n) {
                    this.onChange = function (l) {
                        n("" == l ? null : parseFloat(l))
                    }
                }
            }, {
                key: "registerOnTouched",
                value: function (n) {
                    this.onTouched = n
                }
            }, {
                key: "setDisabledState",
                value: function (n) {
                    this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                }
            }]), n
        }(), Xp, af, function () {
            function n(l, e) {
                _classCallCheck(this, n), this._renderer = l, this._elementRef = e, this._optionMap = new Map, this._idCounter = 0, this.onChange = function (n) {}, this.onTouched = function () {}, this._compareWith = Ql
            }
            return _createClass(n, [{
                key: "writeValue",
                value: function (n) {
                    var l, e = this;
                    if (this.value = n, Array.isArray(n)) {
                        var t = n.map((function (n) {
                            return e._getOptionId(n)
                        }));
                        l = function (n, l) {
                            n._setSelected(t.indexOf(l.toString()) > -1)
                        }
                    } else l = function (n, l) {
                        n._setSelected(!1)
                    };
                    this._optionMap.forEach(l)
                }
            }, {
                key: "registerOnChange",
                value: function (n) {
                    var l = this;
                    this.onChange = function (e) {
                        var t = [];
                        if (e.hasOwnProperty("selectedOptions"))
                            for (var i = e.selectedOptions, u = 0; u < i.length; u++) {
                                var r = i.item(u),
                                    a = l._getOptionValue(r.value);
                                t.push(a)
                            } else
                                for (var o = e.options, s = 0; s < o.length; s++) {
                                    var c = o.item(s);
                                    if (c.selected) {
                                        var d = l._getOptionValue(c.value);
                                        t.push(d)
                                    }
                                }
                        l.value = t, n(t)
                    }
                }
            }, {
                key: "registerOnTouched",
                value: function (n) {
                    this.onTouched = n
                }
            }, {
                key: "setDisabledState",
                value: function (n) {
                    this._renderer.setProperty(this._elementRef.nativeElement, "disabled", n)
                }
            }, {
                key: "_registerOption",
                value: function (n) {
                    var l = (this._idCounter++).toString();
                    return this._optionMap.set(l, n), l
                }
            }, {
                key: "_getOptionId",
                value: function (n) {
                    for (var l = 0, e = Array.from(this._optionMap.keys()); l < e.length; l++) {
                        var t = e[l];
                        if (this._compareWith(this._optionMap.get(t)._value, n)) return t
                    }
                    return null
                }
            }, {
                key: "_getOptionValue",
                value: function (n) {
                    var l = function (n) {
                        return n.split(":")[0]
                    }(n);
                    return this._optionMap.has(l) ? this._optionMap.get(l)._value : n
                }
            }, {
                key: "compareWith",
                set: function (n) {
                    if ("function" != typeof n) throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(n)));
                    this._compareWith = n
                }
            }]), n
        }(), nf];

        function yf(n) {
            var l = _f(n) ? n.validators : n;
            return Array.isArray(l) ? gf(l) : l || null
        }

        function bf(n, l) {
            var e = _f(l) ? l.asyncValidators : n;
            return Array.isArray(e) ? vf(e) : e || null
        }

        function _f(n) {
            return null != n && !Array.isArray(n) && "object" == typeof n
        }
        var kf, wf, xf, Cf, Sf = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.validator = l, this.asyncValidator = e, this._onCollectionChange = function () {}, this.pristine = !0, this.touched = !1, this._onDisabledChange = []
                }
                return _createClass(n, [{
                    key: "setValidators",
                    value: function (n) {
                        this.validator = yf(n)
                    }
                }, {
                    key: "setAsyncValidators",
                    value: function (n) {
                        this.asyncValidator = bf(n)
                    }
                }, {
                    key: "clearValidators",
                    value: function () {
                        this.validator = null
                    }
                }, {
                    key: "clearAsyncValidators",
                    value: function () {
                        this.asyncValidator = null
                    }
                }, {
                    key: "markAsTouched",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.touched = !0, this._parent && !n.onlySelf && this._parent.markAsTouched(n)
                    }
                }, {
                    key: "markAllAsTouched",
                    value: function () {
                        this.markAsTouched({
                            onlySelf: !0
                        }), this._forEachChild((function (n) {
                            return n.markAllAsTouched()
                        }))
                    }
                }, {
                    key: "markAsUntouched",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.touched = !1, this._pendingTouched = !1, this._forEachChild((function (n) {
                            n.markAsUntouched({
                                onlySelf: !0
                            })
                        })), this._parent && !n.onlySelf && this._parent._updateTouched(n)
                    }
                }, {
                    key: "markAsDirty",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.pristine = !1, this._parent && !n.onlySelf && this._parent.markAsDirty(n)
                    }
                }, {
                    key: "markAsPristine",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.pristine = !0, this._pendingDirty = !1, this._forEachChild((function (n) {
                            n.markAsPristine({
                                onlySelf: !0
                            })
                        })), this._parent && !n.onlySelf && this._parent._updatePristine(n)
                    }
                }, {
                    key: "markAsPending",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.status = "PENDING", !1 !== n.emitEvent && this.statusChanges.emit(this.status), this._parent && !n.onlySelf && this._parent.markAsPending(n)
                    }
                }, {
                    key: "disable",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            l = this._parentMarkedDirty(n.onlySelf);
                        this.status = "DISABLED", this.errors = null, this._forEachChild((function (l) {
                            l.disable(Object.assign({}, n, {
                                onlySelf: !0
                            }))
                        })), this._updateValue(), !1 !== n.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._updateAncestors(Object.assign({}, n, {
                            skipPristineCheck: l
                        })), this._onDisabledChange.forEach((function (n) {
                            return n(!0)
                        }))
                    }
                }, {
                    key: "enable",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            l = this._parentMarkedDirty(n.onlySelf);
                        this.status = "VALID", this._forEachChild((function (l) {
                            l.enable(Object.assign({}, n, {
                                onlySelf: !0
                            }))
                        })), this.updateValueAndValidity({
                            onlySelf: !0,
                            emitEvent: n.emitEvent
                        }), this._updateAncestors(Object.assign({}, n, {
                            skipPristineCheck: l
                        })), this._onDisabledChange.forEach((function (n) {
                            return n(!1)
                        }))
                    }
                }, {
                    key: "_updateAncestors",
                    value: function (n) {
                        this._parent && !n.onlySelf && (this._parent.updateValueAndValidity(n), n.skipPristineCheck || this._parent._updatePristine(), this._parent._updateTouched())
                    }
                }, {
                    key: "setParent",
                    value: function (n) {
                        this._parent = n
                    }
                }, {
                    key: "updateValueAndValidity",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this._setInitialStatus(), this._updateValue(), this.enabled && (this._cancelExistingSubscription(), this.errors = this._runValidator(), this.status = this._calculateStatus(), "VALID" !== this.status && "PENDING" !== this.status || this._runAsyncValidator(n.emitEvent)), !1 !== n.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._parent && !n.onlySelf && this._parent.updateValueAndValidity(n)
                    }
                }, {
                    key: "_updateTreeValidity",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            emitEvent: !0
                        };
                        this._forEachChild((function (l) {
                            return l._updateTreeValidity(n)
                        })), this.updateValueAndValidity({
                            onlySelf: !0,
                            emitEvent: n.emitEvent
                        })
                    }
                }, {
                    key: "_setInitialStatus",
                    value: function () {
                        this.status = this._allControlsDisabled() ? "DISABLED" : "VALID"
                    }
                }, {
                    key: "_runValidator",
                    value: function () {
                        return this.validator ? this.validator(this) : null
                    }
                }, {
                    key: "_runAsyncValidator",
                    value: function (n) {
                        var l = this;
                        if (this.asyncValidator) {
                            this.status = "PENDING";
                            var e = Kp(this.asyncValidator(this));
                            this._asyncValidationSubscription = e.subscribe((function (e) {
                                return l.setErrors(e, {
                                    emitEvent: n
                                })
                            }))
                        }
                    }
                }, {
                    key: "_cancelExistingSubscription",
                    value: function () {
                        this._asyncValidationSubscription && this._asyncValidationSubscription.unsubscribe()
                    }
                }, {
                    key: "setErrors",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this.errors = n, this._updateControlsErrors(!1 !== l.emitEvent)
                    }
                }, {
                    key: "get",
                    value: function (n) {
                        return function (n, l, e) {
                            return null == l ? null : (l instanceof Array || (l = l.split(".")), l instanceof Array && 0 === l.length ? null : l.reduce((function (n, l) {
                                return n instanceof Tf ? n.controls.hasOwnProperty(l) ? n.controls[l] : null : n instanceof Ef && n.at(l) || null
                            }), n))
                        }(this, n)
                    }
                }, {
                    key: "getError",
                    value: function (n, l) {
                        var e = l ? this.get(l) : this;
                        return e && e.errors ? e.errors[n] : null
                    }
                }, {
                    key: "hasError",
                    value: function (n, l) {
                        return !!this.getError(n, l)
                    }
                }, {
                    key: "_updateControlsErrors",
                    value: function (n) {
                        this.status = this._calculateStatus(), n && this.statusChanges.emit(this.status), this._parent && this._parent._updateControlsErrors(n)
                    }
                }, {
                    key: "_initObservables",
                    value: function () {
                        this.valueChanges = new zi, this.statusChanges = new zi
                    }
                }, {
                    key: "_calculateStatus",
                    value: function () {
                        return this._allControlsDisabled() ? "DISABLED" : this.errors ? "INVALID" : this._anyControlsHaveStatus("PENDING") ? "PENDING" : this._anyControlsHaveStatus("INVALID") ? "INVALID" : "VALID"
                    }
                }, {
                    key: "_anyControlsHaveStatus",
                    value: function (n) {
                        return this._anyControls((function (l) {
                            return l.status === n
                        }))
                    }
                }, {
                    key: "_anyControlsDirty",
                    value: function () {
                        return this._anyControls((function (n) {
                            return n.dirty
                        }))
                    }
                }, {
                    key: "_anyControlsTouched",
                    value: function () {
                        return this._anyControls((function (n) {
                            return n.touched
                        }))
                    }
                }, {
                    key: "_updatePristine",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.pristine = !this._anyControlsDirty(), this._parent && !n.onlySelf && this._parent._updatePristine(n)
                    }
                }, {
                    key: "_updateTouched",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this.touched = this._anyControlsTouched(), this._parent && !n.onlySelf && this._parent._updateTouched(n)
                    }
                }, {
                    key: "_isBoxedValue",
                    value: function (n) {
                        return "object" == typeof n && null !== n && 2 === Object.keys(n).length && "value" in n && "disabled" in n
                    }
                }, {
                    key: "_registerOnCollectionChange",
                    value: function (n) {
                        this._onCollectionChange = n
                    }
                }, {
                    key: "_setUpdateStrategy",
                    value: function (n) {
                        _f(n) && null != n.updateOn && (this._updateOn = n.updateOn)
                    }
                }, {
                    key: "_parentMarkedDirty",
                    value: function (n) {
                        return !n && this._parent && this._parent.dirty && !this._parent._anyControlsDirty()
                    }
                }, {
                    key: "parent",
                    get: function () {
                        return this._parent
                    }
                }, {
                    key: "valid",
                    get: function () {
                        return "VALID" === this.status
                    }
                }, {
                    key: "invalid",
                    get: function () {
                        return "INVALID" === this.status
                    }
                }, {
                    key: "pending",
                    get: function () {
                        return "PENDING" == this.status
                    }
                }, {
                    key: "disabled",
                    get: function () {
                        return "DISABLED" === this.status
                    }
                }, {
                    key: "enabled",
                    get: function () {
                        return "DISABLED" !== this.status
                    }
                }, {
                    key: "dirty",
                    get: function () {
                        return !this.pristine
                    }
                }, {
                    key: "untouched",
                    get: function () {
                        return !this.touched
                    }
                }, {
                    key: "updateOn",
                    get: function () {
                        return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : "change"
                    }
                }, {
                    key: "root",
                    get: function () {
                        for (var n = this; n._parent;) n = n._parent;
                        return n
                    }
                }]), n
            }(),
            If = function (n) {
                function l() {
                    var n, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = arguments.length > 1 ? arguments[1] : void 0,
                        i = arguments.length > 2 ? arguments[2] : void 0;
                    return _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, yf(t), bf(i, t))))._onChange = [], n._applyFormState(e), n._setUpdateStrategy(t), n.updateValueAndValidity({
                        onlySelf: !0,
                        emitEvent: !1
                    }), n._initObservables(), n
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "setValue",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this.value = this._pendingValue = n, this._onChange.length && !1 !== e.emitModelToViewChange && this._onChange.forEach((function (n) {
                            return n(l.value, !1 !== e.emitViewToModelChange)
                        })), this.updateValueAndValidity(e)
                    }
                }, {
                    key: "patchValue",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this.setValue(n, l)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this._applyFormState(n), this.markAsPristine(l), this.markAsUntouched(l), this.setValue(this.value, l), this._pendingChange = !1
                    }
                }, {
                    key: "_updateValue",
                    value: function () {}
                }, {
                    key: "_anyControls",
                    value: function (n) {
                        return !1
                    }
                }, {
                    key: "_allControlsDisabled",
                    value: function () {
                        return this.disabled
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        this._onChange.push(n)
                    }
                }, {
                    key: "_clearChangeFns",
                    value: function () {
                        this._onChange = [], this._onDisabledChange = [], this._onCollectionChange = function () {}
                    }
                }, {
                    key: "registerOnDisabledChange",
                    value: function (n) {
                        this._onDisabledChange.push(n)
                    }
                }, {
                    key: "_forEachChild",
                    value: function (n) {}
                }, {
                    key: "_syncPendingControls",
                    value: function () {
                        return !("submit" !== this.updateOn || (this._pendingDirty && this.markAsDirty(), this._pendingTouched && this.markAsTouched(), !this._pendingChange) || (this.setValue(this._pendingValue, {
                            onlySelf: !0,
                            emitModelToViewChange: !1
                        }), 0))
                    }
                }, {
                    key: "_applyFormState",
                    value: function (n) {
                        this._isBoxedValue(n) ? (this.value = this._pendingValue = n.value, n.disabled ? this.disable({
                            onlySelf: !0,
                            emitEvent: !1
                        }) : this.enable({
                            onlySelf: !0,
                            emitEvent: !1
                        })) : this.value = this._pendingValue = n
                    }
                }]), l
            }(Sf),
            Tf = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, yf(e), bf(t, e)))).controls = n, i._initObservables(), i._setUpdateStrategy(e), i._setUpControls(), i.updateValueAndValidity({
                        onlySelf: !0,
                        emitEvent: !1
                    }), i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "registerControl",
                    value: function (n, l) {
                        return this.controls[n] ? this.controls[n] : (this.controls[n] = l, l.setParent(this), l._registerOnCollectionChange(this._onCollectionChange), l)
                    }
                }, {
                    key: "addControl",
                    value: function (n, l) {
                        this.registerControl(n, l), this.updateValueAndValidity(), this._onCollectionChange()
                    }
                }, {
                    key: "removeControl",
                    value: function (n) {
                        this.controls[n] && this.controls[n]._registerOnCollectionChange((function () {})), delete this.controls[n], this.updateValueAndValidity(), this._onCollectionChange()
                    }
                }, {
                    key: "setControl",
                    value: function (n, l) {
                        this.controls[n] && this.controls[n]._registerOnCollectionChange((function () {})), delete this.controls[n], l && this.registerControl(n, l), this.updateValueAndValidity(), this._onCollectionChange()
                    }
                }, {
                    key: "contains",
                    value: function (n) {
                        return this.controls.hasOwnProperty(n) && this.controls[n].enabled
                    }
                }, {
                    key: "setValue",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this._checkAllValuesPresent(n), Object.keys(n).forEach((function (t) {
                            l._throwIfControlMissing(t), l.controls[t].setValue(n[t], {
                                onlySelf: !0,
                                emitEvent: e.emitEvent
                            })
                        })), this.updateValueAndValidity(e)
                    }
                }, {
                    key: "patchValue",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        Object.keys(n).forEach((function (t) {
                            l.controls[t] && l.controls[t].patchValue(n[t], {
                                onlySelf: !0,
                                emitEvent: e.emitEvent
                            })
                        })), this.updateValueAndValidity(e)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this._forEachChild((function (e, t) {
                            e.reset(n[t], {
                                onlySelf: !0,
                                emitEvent: l.emitEvent
                            })
                        })), this._updatePristine(l), this._updateTouched(l), this.updateValueAndValidity(l)
                    }
                }, {
                    key: "getRawValue",
                    value: function () {
                        return this._reduceChildren({}, (function (n, l, e) {
                            return n[e] = l instanceof If ? l.value : l.getRawValue(), n
                        }))
                    }
                }, {
                    key: "_syncPendingControls",
                    value: function () {
                        var n = this._reduceChildren(!1, (function (n, l) {
                            return !!l._syncPendingControls() || n
                        }));
                        return n && this.updateValueAndValidity({
                            onlySelf: !0
                        }), n
                    }
                }, {
                    key: "_throwIfControlMissing",
                    value: function (n) {
                        if (!Object.keys(this.controls).length) throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");
                        if (!this.controls[n]) throw new Error("Cannot find form control with name: ".concat(n, "."))
                    }
                }, {
                    key: "_forEachChild",
                    value: function (n) {
                        var l = this;
                        Object.keys(this.controls).forEach((function (e) {
                            return n(l.controls[e], e)
                        }))
                    }
                }, {
                    key: "_setUpControls",
                    value: function () {
                        var n = this;
                        this._forEachChild((function (l) {
                            l.setParent(n), l._registerOnCollectionChange(n._onCollectionChange)
                        }))
                    }
                }, {
                    key: "_updateValue",
                    value: function () {
                        this.value = this._reduceValue()
                    }
                }, {
                    key: "_anyControls",
                    value: function (n) {
                        var l = this,
                            e = !1;
                        return this._forEachChild((function (t, i) {
                            e = e || l.contains(i) && n(t)
                        })), e
                    }
                }, {
                    key: "_reduceValue",
                    value: function () {
                        var n = this;
                        return this._reduceChildren({}, (function (l, e, t) {
                            return (e.enabled || n.disabled) && (l[t] = e.value), l
                        }))
                    }
                }, {
                    key: "_reduceChildren",
                    value: function (n, l) {
                        var e = n;
                        return this._forEachChild((function (n, t) {
                            e = l(e, n, t)
                        })), e
                    }
                }, {
                    key: "_allControlsDisabled",
                    value: function () {
                        for (var n = 0, l = Object.keys(this.controls); n < l.length; n++) {
                            var e = l[n];
                            if (this.controls[e].enabled) return !1
                        }
                        return Object.keys(this.controls).length > 0 || this.disabled
                    }
                }, {
                    key: "_checkAllValuesPresent",
                    value: function (n) {
                        this._forEachChild((function (l, e) {
                            if (void 0 === n[e]) throw new Error("Must supply a value for form control with name: '".concat(e, "'."))
                        }))
                    }
                }]), l
            }(Sf),
            Ef = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, yf(e), bf(t, e)))).controls = n, i._initObservables(), i._setUpdateStrategy(e), i._setUpControls(), i.updateValueAndValidity({
                        onlySelf: !0,
                        emitEvent: !1
                    }), i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "at",
                    value: function (n) {
                        return this.controls[n]
                    }
                }, {
                    key: "push",
                    value: function (n) {
                        this.controls.push(n), this._registerControl(n), this.updateValueAndValidity(), this._onCollectionChange()
                    }
                }, {
                    key: "insert",
                    value: function (n, l) {
                        this.controls.splice(n, 0, l), this._registerControl(l), this.updateValueAndValidity()
                    }
                }, {
                    key: "removeAt",
                    value: function (n) {
                        this.controls[n] && this.controls[n]._registerOnCollectionChange((function () {})), this.controls.splice(n, 1), this.updateValueAndValidity()
                    }
                }, {
                    key: "setControl",
                    value: function (n, l) {
                        this.controls[n] && this.controls[n]._registerOnCollectionChange((function () {})), this.controls.splice(n, 1), l && (this.controls.splice(n, 0, l), this._registerControl(l)), this.updateValueAndValidity(), this._onCollectionChange()
                    }
                }, {
                    key: "setValue",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this._checkAllValuesPresent(n), n.forEach((function (n, t) {
                            l._throwIfControlMissing(t), l.at(t).setValue(n, {
                                onlySelf: !0,
                                emitEvent: e.emitEvent
                            })
                        })), this.updateValueAndValidity(e)
                    }
                }, {
                    key: "patchValue",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        n.forEach((function (n, t) {
                            l.at(t) && l.at(t).patchValue(n, {
                                onlySelf: !0,
                                emitEvent: e.emitEvent
                            })
                        })), this.updateValueAndValidity(e)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this._forEachChild((function (e, t) {
                            e.reset(n[t], {
                                onlySelf: !0,
                                emitEvent: l.emitEvent
                            })
                        })), this._updatePristine(l), this._updateTouched(l), this.updateValueAndValidity(l)
                    }
                }, {
                    key: "getRawValue",
                    value: function () {
                        return this.controls.map((function (n) {
                            return n instanceof If ? n.value : n.getRawValue()
                        }))
                    }
                }, {
                    key: "clear",
                    value: function () {
                        this.controls.length < 1 || (this._forEachChild((function (n) {
                            return n._registerOnCollectionChange((function () {}))
                        })), this.controls.splice(0), this.updateValueAndValidity())
                    }
                }, {
                    key: "_syncPendingControls",
                    value: function () {
                        var n = this.controls.reduce((function (n, l) {
                            return !!l._syncPendingControls() || n
                        }), !1);
                        return n && this.updateValueAndValidity({
                            onlySelf: !0
                        }), n
                    }
                }, {
                    key: "_throwIfControlMissing",
                    value: function (n) {
                        if (!this.controls.length) throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");
                        if (!this.at(n)) throw new Error("Cannot find form control at index ".concat(n))
                    }
                }, {
                    key: "_forEachChild",
                    value: function (n) {
                        this.controls.forEach((function (l, e) {
                            n(l, e)
                        }))
                    }
                }, {
                    key: "_updateValue",
                    value: function () {
                        var n = this;
                        this.value = this.controls.filter((function (l) {
                            return l.enabled || n.disabled
                        })).map((function (n) {
                            return n.value
                        }))
                    }
                }, {
                    key: "_anyControls",
                    value: function (n) {
                        return this.controls.some((function (l) {
                            return l.enabled && n(l)
                        }))
                    }
                }, {
                    key: "_setUpControls",
                    value: function () {
                        var n = this;
                        this._forEachChild((function (l) {
                            return n._registerControl(l)
                        }))
                    }
                }, {
                    key: "_checkAllValuesPresent",
                    value: function (n) {
                        this._forEachChild((function (l, e) {
                            if (void 0 === n[e]) throw new Error("Must supply a value for form control at index: ".concat(e, "."))
                        }))
                    }
                }, {
                    key: "_allControlsDisabled",
                    value: function () {
                        var n = !0,
                            l = !1,
                            e = void 0;
                        try {
                            for (var t, i = this.controls[Symbol.iterator](); !(n = (t = i.next()).done); n = !0) {
                                if (t.value.enabled) return !1
                            }
                        } catch (u) {
                            l = !0, e = u
                        } finally {
                            try {
                                n || null == i.return || i.return()
                            } finally {
                                if (l) throw e
                            }
                        }
                        return this.controls.length > 0 || this.disabled
                    }
                }, {
                    key: "_registerControl",
                    value: function (n) {
                        n.setParent(this), n._registerOnCollectionChange(this._onCollectionChange)
                    }
                }, {
                    key: "length",
                    get: function () {
                        return this.controls.length
                    }
                }]), l
            }(Sf),
            Af = Promise.resolve(null),
            Pf = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).submitted = !1, t._directives = [], t.ngSubmit = new zi, t.form = new Tf({}, gf(n), vf(e)), t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "ngAfterViewInit",
                    value: function () {
                        this._setUpdateStrategy()
                    }
                }, {
                    key: "addControl",
                    value: function (n) {
                        var l = this;
                        Af.then((function () {
                            var e = l._findContainer(n.path);
                            n.control = e.registerControl(n.name, n.control), hf(n.control, n), n.control.updateValueAndValidity({
                                emitEvent: !1
                            }), l._directives.push(n)
                        }))
                    }
                }, {
                    key: "getControl",
                    value: function (n) {
                        return this.form.get(n.path)
                    }
                }, {
                    key: "removeControl",
                    value: function (n) {
                        var l = this;
                        Af.then((function () {
                            var e, t, i, u = l._findContainer(n.path);
                            u && u.removeControl(n.name), e = l._directives, t = n, (i = e.indexOf(t)) > -1 && e.splice(i, 1)
                        }))
                    }
                }, {
                    key: "addFormGroup",
                    value: function (n) {
                        var l = this;
                        Af.then((function () {
                            var e = l._findContainer(n.path),
                                t = new Tf({});
                            (function (n, l) {
                                null == n && ff(l, "Cannot find control with"), n.validator = Gp.compose([n.validator, l.validator]), n.asyncValidator = Gp.composeAsync([n.asyncValidator, l.asyncValidator])
                            })(t, n), e.registerControl(n.name, t), t.updateValueAndValidity({
                                emitEvent: !1
                            })
                        }))
                    }
                }, {
                    key: "removeFormGroup",
                    value: function (n) {
                        var l = this;
                        Af.then((function () {
                            var e = l._findContainer(n.path);
                            e && e.removeControl(n.name)
                        }))
                    }
                }, {
                    key: "getFormGroup",
                    value: function (n) {
                        return this.form.get(n.path)
                    }
                }, {
                    key: "updateModel",
                    value: function (n, l) {
                        var e = this;
                        Af.then((function () {
                            e.form.get(n.path).setValue(l)
                        }))
                    }
                }, {
                    key: "setValue",
                    value: function (n) {
                        this.control.setValue(n)
                    }
                }, {
                    key: "onSubmit",
                    value: function (n) {
                        return this.submitted = !0, l = this._directives, this.form._syncPendingControls(), l.forEach((function (n) {
                            var l = n.control;
                            "submit" === l.updateOn && l._pendingChange && (n.viewToModelUpdate(l._pendingValue), l._pendingChange = !1)
                        })), this.ngSubmit.emit(n), !1;
                        var l
                    }
                }, {
                    key: "onReset",
                    value: function () {
                        this.resetForm()
                    }
                }, {
                    key: "resetForm",
                    value: function (n) {
                        this.form.reset(n), this.submitted = !1
                    }
                }, {
                    key: "_setUpdateStrategy",
                    value: function () {
                        this.options && null != this.options.updateOn && (this.form._updateOn = this.options.updateOn)
                    }
                }, {
                    key: "_findContainer",
                    value: function (n) {
                        return n.pop(), n.length ? this.form.get(n) : this.form
                    }
                }, {
                    key: "formDirective",
                    get: function () {
                        return this
                    }
                }, {
                    key: "control",
                    get: function () {
                        return this.form
                    }
                }, {
                    key: "path",
                    get: function () {
                        return []
                    }
                }, {
                    key: "controls",
                    get: function () {
                        return this.form.controls
                    }
                }]), l
            }(Fp),
            Of = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "modelParentException",
                    value: function () {
                        throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(lf, "\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat(uf))
                    }
                }, {
                    key: "formGroupNameException",
                    value: function () {
                        throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(ef, "\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(tf))
                    }
                }, {
                    key: "missingNameException",
                    value: function () {
                        throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')
                    }
                }, {
                    key: "modelGroupParentException",
                    value: function () {
                        throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(ef, "\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(tf))
                    }
                }, {
                    key: "ngFormWarning",
                    value: function () {
                        console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")
                    }
                }]), n
            }(),
            Df = new Dn("NgFormSelectorWarning"),
            Rf = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "ngOnInit",
                    value: function () {
                        this._checkParentType(), this.formDirective.addFormGroup(this)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.formDirective && this.formDirective.removeFormGroup(this)
                    }
                }, {
                    key: "_checkParentType",
                    value: function () {}
                }, {
                    key: "control",
                    get: function () {
                        return this.formDirective.getFormGroup(this)
                    }
                }, {
                    key: "path",
                    get: function () {
                        return df(this.name, this._parent)
                    }
                }, {
                    key: "formDirective",
                    get: function () {
                        return this._parent ? this._parent.formDirective : null
                    }
                }, {
                    key: "validator",
                    get: function () {
                        return gf(this._validators)
                    }
                }, {
                    key: "asyncValidator",
                    get: function () {
                        return vf(this._asyncValidators)
                    }
                }]), l
            }(Fp),
            Mf = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._parent = n, i._validators = e, i._asyncValidators = t, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_checkParentType",
                    value: function () {
                        this._parent instanceof l || this._parent instanceof Pf || Of.modelGroupParentException()
                    }
                }]), l
            }(Rf),
            Nf = Promise.resolve(null),
            Bf = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).control = new If, u._registered = !1, u.update = new zi, u._parent = n, u._rawValidators = e || [], u._rawAsyncValidators = t || [], u.valueAccessor = function (n, l) {
                        if (!l) return null;
                        Array.isArray(l) || ff(n, "Value accessor was not provided as an array for form control with");
                        var e = void 0,
                            t = void 0,
                            i = void 0;
                        return l.forEach((function (l) {
                            var u;
                            l.constructor === zp ? e = l : (u = l, mf.some((function (n) {
                                return u.constructor === n
                            })) ? (t && ff(n, "More than one built-in value accessor matches form control with"), t = l) : (i && ff(n, "More than one custom value accessor matches form control with"), i = l))
                        })), i || t || e || (ff(n, "No valid value accessor for form control with"), null)
                    }(_assertThisInitialized(u), i), u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "ngOnChanges",
                    value: function (n) {
                        this._checkForErrors(), this._registered || this._setUpControl(), "isDisabled" in n && this._updateDisabled(n),
                            function (n, l) {
                                if (!n.hasOwnProperty("model")) return !1;
                                var e = n.model;
                                return !!e.isFirstChange() || !Ql(l, e.currentValue)
                            }(n, this.viewModel) && (this._updateValue(this.model), this.viewModel = this.model)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.formDirective && this.formDirective.removeControl(this)
                    }
                }, {
                    key: "viewToModelUpdate",
                    value: function (n) {
                        this.viewModel = n, this.update.emit(n)
                    }
                }, {
                    key: "_setUpControl",
                    value: function () {
                        this._setUpdateStrategy(), this._isStandalone() ? this._setUpStandalone() : this.formDirective.addControl(this), this._registered = !0
                    }
                }, {
                    key: "_setUpdateStrategy",
                    value: function () {
                        this.options && null != this.options.updateOn && (this.control._updateOn = this.options.updateOn)
                    }
                }, {
                    key: "_isStandalone",
                    value: function () {
                        return !this._parent || !(!this.options || !this.options.standalone)
                    }
                }, {
                    key: "_setUpStandalone",
                    value: function () {
                        hf(this.control, this), this.control.updateValueAndValidity({
                            emitEvent: !1
                        })
                    }
                }, {
                    key: "_checkForErrors",
                    value: function () {
                        this._isStandalone() || this._checkParentType(), this._checkName()
                    }
                }, {
                    key: "_checkParentType",
                    value: function () {
                        !(this._parent instanceof Mf) && this._parent instanceof Rf ? Of.formGroupNameException() : this._parent instanceof Mf || this._parent instanceof Pf || Of.modelParentException()
                    }
                }, {
                    key: "_checkName",
                    value: function () {
                        this.options && this.options.name && (this.name = this.options.name), this._isStandalone() || this.name || Of.missingNameException()
                    }
                }, {
                    key: "_updateValue",
                    value: function (n) {
                        var l = this;
                        Nf.then((function () {
                            l.control.setValue(n, {
                                emitViewToModelChange: !1
                            })
                        }))
                    }
                }, {
                    key: "_updateDisabled",
                    value: function (n) {
                        var l = this,
                            e = n.isDisabled.currentValue,
                            t = "" === e || e && "false" !== e;
                        Nf.then((function () {
                            t && !l.control.disabled ? l.control.disable() : !t && l.control.disabled && l.control.enable()
                        }))
                    }
                }, {
                    key: "path",
                    get: function () {
                        return this._parent ? df(this.name, this._parent) : [this.name]
                    }
                }, {
                    key: "formDirective",
                    get: function () {
                        return this._parent ? this._parent.formDirective : null
                    }
                }, {
                    key: "validator",
                    get: function () {
                        return gf(this._rawValidators)
                    }
                }, {
                    key: "asyncValidator",
                    get: function () {
                        return vf(this._rawAsyncValidators)
                    }
                }]), l
            }(Up),
            zf = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "validate",
                    value: function (n) {
                        return this.required ? Gp.required(n) : null
                    }
                }, {
                    key: "registerOnValidatorChange",
                    value: function (n) {
                        this._onChange = n
                    }
                }, {
                    key: "required",
                    get: function () {
                        return this._required
                    },
                    set: function (n) {
                        this._required = null != n && !1 !== n && "false" !== "".concat(n), this._onChange && this._onChange()
                    }
                }]), n
            }(),
            Lf = function n() {
                _classCallCheck(this, n)
            },
            Ff = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "withConfig",
                    value: function (l) {
                        return {
                            ngModule: n,
                            providers: [{
                                provide: Df,
                                useValue: l.warnOnDeprecatedNgFormSelector
                            }]
                        }
                    }
                }]), n
            }(),
            qf = function (n) {
                function l() {
                    var n;
                    return _classCallCheck(this, l), (n = _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))).keepOrder = function (n, l) {
                        return 0
                    }, n
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "transform",
                    value: function (n) {
                        return _get(_getPrototypeOf(l.prototype), "transform", this).call(this, n, this.keepOrder)
                    }
                }]), l
            }(Ao),
            Uf = function () {
                function n(l) {
                    _classCallCheck(this, n), this.elementRef = l
                }
                return _createClass(n, [{
                    key: "onMouseEnter",
                    value: function () {
                        var n;
                        this.hoverClass && (n = this.elementRef.nativeElement.classList).add.apply(n, _toConsumableArray(this.hoverClass.split(" ")))
                    }
                }, {
                    key: "onMouseLeave",
                    value: function () {
                        var n;
                        this.hoverClass && (n = this.elementRef.nativeElement.classList).remove.apply(n, _toConsumableArray(this.hoverClass.split(" ")))
                    }
                }]), n
            }(),
            $f = {
                deity: "fas fa-ankh text-danger text-300 cursor-pointer",
                daily: "fas fa-gift text-warning text-300 cursor-pointer",
                arrow_left: "fas fa-chevron-left",
                arrow_right: "fas fa-chevron-right",
                arrow_down: "fas fa-angle-double-down",
                arrow_up: "fas fa-angle-up",
                chevron_up: "fas fa-chevron-up",
                arrow_angle_left: "fas fa-angle-left",
                arrow_angle_right: "fas fa-angle-right",
                arrow_angle_left_double: "fas fa-angle-double-left",
                arrow_angle_right_double: "fas fa-angle-double-right",
                expand: "fas fa-expand-arrows-alt",
                exit: "fas fa-sign-out-alt",
                play: "fas fa-play",
                pause: "fas fa-pause",
                spells: "fas fa-magic",
                copy: "fas fa-copy",
                download: "fas fa-download",
                save: "fas fa-save",
                edit: "fas fa-edit",
                ok: "fas fa-check",
                cancel: "fas fa-times",
                player: "fas fa-flag",
                capital: "fas fa-star",
                city: "fas fa-university",
                empire: "fas fa-crown",
                pop: "fas fa-users",
                troops: "fas fa-user-shield",
                recruitment: "fas fa-user-shield",
                auto: "fas fa-sync",
                connected: "fas fa-recycle",
                food: "fas fa-drumstick-bite",
                prod: "fas fa-tools",
                wonder: "fas fa-university",
                science: "fas fa-flask",
                diplomacy: "fas fa-handshake",
                gold: "fas fa-coins",
                time: "fas fa-hourglass-half",
                culture: "fas fa-theater-masks",
                influence: "fas fa-broadcast-tower",
                faith: "fas fa-pray",
                trade: "fas fa-trailer",
                colony: "fas fa-globe-americas",
                favor: "fas fa-ankh",
                health: "fas fa-heartbeat",
                happiness: "fas fa-smile",
                capacity: "fas fa-box",
                details: "fas fa-eye",
                attack: "fas fa-bolt",
                defense: "fas fa-chess-rook",
                success: "fas fa-check-circle",
                defeat: "fas fa-times",
                ranged: "fas fa-bullseye",
                siege: "fas fa-holly-berry",
                speed: "fas fa-angle-double-right",
                unlock: "fas fa-unlock",
                act_view: "fas fa-eye",
                act_move: "fas fa-user-shield",
                act_scout: "fas fa-binoculars",
                act_attack: "fas fa-bolt",
                act_spy: "fas fa-mask",
                act_trade: "fas fa-trailer",
                act_transfer: "fas fa-coins",
                act_colony: "fas fa-globe-americas",
                act_worker: "fas fa-hammer",
                plus: "fas fa-plus",
                minus: "fas fa-minus",
                center: "fas fa-crosshairs",
                opt_buy: "fas fa-coins",
                opt_minus: "fas fa-minus bg-danger rounded-circle text-light p-2 text-80 cursor-pointer",
                question: "fas fa-question",
                exclamation: "fas fa-exclamation-circle text-warning mr-1",
                warning: "fas fa-exclamation-triangle text-danger mr-1",
                info: "fas fa-info-circle text-primary mr-1",
                forbidden: "fas fa-ban text-danger mr-1",
                world: "fas fa-globe-asia",
                report: "fas fa-file-alt",
                simulator: "fas fa-calculator",
                notification: "fas fa-bell",
                power: "fas fa-magic",
                help: "fas fa-question",
                option: "fas fa-sliders-h",
                support: "fas fa-info",
                plague: "fas fa-skull",
                sleep: "fas fa-bed",
                balanced: "fas fa-balance-scale",
                tech: "fas fa-cogs",
                progress: "fas fa-cog",
                prestige: "fas fa-lightbulb",
                relics: "fas fa-monument"
            },
            Hf = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.router = t, this.saveService = i, this.kongService = u, this.dataService = r, this.icons = $f, this.load = !1, this.loadText = !1, this.loadTextContent = "", this.new = !1, this.step2 = !1, this.name = "", this.difficulty = 2, this.saves = []
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.init()
                    }
                }, {
                    key: "init",
                    value: function () {
                        var n = this;
                        this.saves = [];
                        try {
                            Object.keys(localStorage).forEach((function (l) {
                                l.startsWith(n.conf.save.prefix) && n.saves.push(n.saveService.extractSave(l.substr(n.conf.save.prefix.length)))
                            }))
                        } catch (l) {
                            this.data.noautosave = !0
                        }
                        this.saves.sort((function (n, l) {
                            return n.date < l.date ? 1 : n.date > l.date ? -1 : 0
                        }))
                    }
                }, {
                    key: "warning",
                    value: function () {
                        return this.saves.map((function (n) {
                            return n.name
                        })).includes(this.name)
                    }
                }, {
                    key: "initNew",
                    value: function () {
                        this.name = this.kongService.getUsername(), this.new = !0, this.step2 = !1
                    }
                }, {
                    key: "newGame",
                    value: function () {
                        this.name && (this.data.newGame(this.name, this.difficulty, this.civid), this.dataService.initGame(), this.dataService.initCivs(this.civid), this.router.navigate(["/game"]))
                    }
                }, {
                    key: "continue",
                    value: function () {
                        this.loadSave(this.saves[0])
                    }
                }, {
                    key: "loadSave",
                    value: function (n) {
                        this.saveService.load(n.data), this.router.navigate(["/game"])
                    }
                }, {
                    key: "delete",
                    value: function (n) {
                        this.saveService.delete(n.name), this.init()
                    }
                }, {
                    key: "loadFromText",
                    value: function () {
                        try {
                            this.saveService.load(this.loadTextContent), this.router.navigate(["/game"])
                        } catch (n) {
                            this.error = "This game could not be loaded.", console.error(n)
                        }
                    }
                }]), n
            }(),
            Vf = {
                idle: {
                    id: "idle",
                    name: function () {
                        return "Idle"
                    },
                    food: function (n, l) {
                        return 1 + n.idlersBonus(l.ownerid)
                    },
                    culture: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return Math.floor(5 * n.idlersBonus(l)) / 10
                    },
                    happiness: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return n.idlersBonus(l) / 100
                    }
                },
                farmers: {
                    id: "farmers",
                    name: function (n) {
                        return n.hasScience("agriculture") ? "Farmers" : "Hunters-Gatherers"
                    },
                    food: function (n, l) {
                        return 1.5 + (n.hasScience("dog_domestication", n.player(l.ownerid)) ? .5 : 0) + (n.hasScience("agriculture", n.player(l.ownerid)) ? 1 : 0) + (n.hasScience("crop_rotation", n.player(l.ownerid)) ? 1 : 0) + (n.hasScience("fertilizer", n.player(l.ownerid)) ? 2 : 0) + n.improvements(l, 1) + 2 * n.improvements(l, 2)
                    }
                },
                builders: {
                    id: "builders",
                    name: function () {
                        return "Builders"
                    },
                    prod: function (n, l) {
                        return 1 + (n.hasScience("navigation", n.player(l.ownerid)) ? .5 : 0) + (n.hasWonder(l.ownerid, "temple_artemis") ? 1 : 0) + n.improvements(l, 3) + 2 * n.improvements(l, 4)
                    }
                },
                merchants: {
                    id: "merchants",
                    name: function () {
                        return "Merchants"
                    },
                    gold: function (n, l) {
                        return 1 + (n.hasScience("wheel", n.player(l.ownerid)) ? 1 : 0) + n.improvements(l, 7)
                    }
                },
                scientists: {
                    id: "scientists",
                    name: function (n) {
                        return n.hasScience("engineering") ? "Scientists" : "Scholars"
                    },
                    science: function (n, l) {
                        return 1 + (n.hasScience("engineering", n.player(l.ownerid)) ? 1 : 0) + (n.hasPolicyGroup("rationalism", l.ownerid) ? 1 : 0) + n.improvements(l, 8)
                    },
                    health: function (n, l) {
                        return n.hasPolicy("who", l) ? .08 : 0
                    }
                },
                artists: {
                    id: "artists",
                    name: function () {
                        return "Artists"
                    },
                    culture: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return 1 + (n.hasScience("drama", n.player(l)) ? .5 : 0)
                    },
                    happiness: function (n) {
                        return .08
                    }
                },
                priests: {
                    id: "priests",
                    name: function () {
                        return "Priests"
                    },
                    faith: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return 1 + (n.hasScience("theology", n.player(l)) ? .5 : 0)
                    }
                }
            },
            jf = {
                lo: {
                    id: "lo",
                    oid: "longhouse",
                    label: function () {
                        return "Longhouse"
                    },
                    description: function () {
                        return '15% <span class="text-food"><i class="' + $f.food + '"></i></span> kept after growth'
                    },
                    category: "administration",
                    require: {
                        science: "tanning",
                        buildings: []
                    },
                    free: !0
                },
                town_hall: {
                    id: "town_hall",
                    label: function () {
                        return "Town Hall"
                    },
                    description: function () {
                        return '25% <span class="text-food"><i class="' + $f.food + '"></i></span> kept after growth<br/>Require to recruit <span class="text-troop">Governors</span>'
                    },
                    category: "administration",
                    require: {
                        science: "state",
                        buildings: ["lo", "granary", "monument"]
                    }
                },
                police: {
                    id: "police",
                    label: function () {
                        return "Police Station"
                    },
                    description: function () {
                        return "Reduce revolt risk by 50%"
                    },
                    category: "administration",
                    require: {
                        science: "gunpowder",
                        buildings: ["town_hall", "library", "furnace", "hospital"]
                    }
                },
                palace: {
                    id: "palace",
                    label: function () {
                        return "Palace"
                    },
                    description: function () {
                        return 'Only available in Capital City<br/><span class="text-food"><i class="' + $f.food + '"></i> +2</span><br/><span class="text-culture"><i class="' + $f.culture + '"></i> +2</span><br/><span class="text-prod"><i class="' + $f.prod + '"></i> +2</span><br/><span class="text-gold"><i class="' + $f.gold + '"></i> +2</span><br/><span class="text-science"><i class="' + $f.science + '"></i> +2</span>'
                    },
                    desc: function () {
                        return '<span class="text-food"><i class="' + $f.food + '"></i> +2</span> | <span class="text-culture"><i class="' + $f.culture + '"></i> +2</span> | <span class="text-prod"><i class="' + $f.prod + '"></i> +2</span> | <span class="text-gold"><i class="' + $f.gold + '"></i> +2</span> | <span class="text-science"><i class="' + $f.science + '"></i> +2</span>'
                    },
                    category: "administration",
                    require: {
                        science: "masonry",
                        buildings: ["town_hall", "walls", "gardens", "stables", "treasury"]
                    }
                },
                tribunal: {
                    id: "tribunal",
                    label: function () {
                        return "Tribunal"
                    },
                    description: function () {
                        return "Reduce discontent due to distance from capital by 50%"
                    },
                    category: "administration",
                    require: {
                        science: "code_of_laws",
                        buildings: ["town_hall"]
                    }
                },
                courthouse: {
                    id: "courthouse",
                    label: function () {
                        return "Courthouse"
                    },
                    description: function () {
                        return "Reduce discontent due to distance from capital by 50%"
                    },
                    category: "administration",
                    require: {
                        science: "architecture",
                        buildings: ["town_hall", "tribunal"]
                    }
                },
                monument: {
                    id: "monument",
                    label: function () {
                        return "Monument"
                    },
                    description: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +1</span><br/><span class="text-culture"><i class="' + $f.culture + '"></i> +2 / trade route</span>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +1</span> | <span class="text-culture"><i class="' + $f.trade + '"></i> <i class="' + $f.culture + '"></i> +2</span>'
                    },
                    category: "culture",
                    require: {
                        science: "art",
                        buildings: ["lo"]
                    }
                },
                amphitheatre: {
                    id: "amphitheatre",
                    label: function () {
                        return "Amphitheatre"
                    },
                    description: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +2</span><br/><span class="text-culture"><i class="' + $f.culture + '"></i> +5 / trade route</span>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +2</span> | <span class="text-culture"><i class="' + $f.trade + '"></i> <i class="' + $f.culture + '"></i> +5</span>'
                    },
                    category: "culture",
                    require: {
                        science: "wheel",
                        buildings: ["town_hall"]
                    }
                },
                opera: {
                    id: "opera",
                    label: function () {
                        return "Opera"
                    },
                    description: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span><br/><span class="text-culture"><i class="' + $f.culture + '"></i> +10 / trade route</span>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span> | <span class="text-culture"><i class="' + $f.trade + '"></i> <i class="' + $f.culture + '"></i> +10</span>'
                    },
                    category: "culture",
                    require: {
                        science: "acoustics",
                        buildings: ["amphitheatre", "town_hall"]
                    }
                },
                museum: {
                    id: "museum",
                    label: function () {
                        return "Museum"
                    },
                    description: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +10</span><br/><span class="text-relics"><i class="' + $f.relics + '"></i> Relics</span> gain +50%'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +10</span> | <span class="text-relics"><i class="' + $f.relics + '"></i> +50%</span>'
                    },
                    category: "culture",
                    require: {
                        science: "acoustics",
                        buildings: ["amphitheatre", "town_hall"]
                    },
                    industrial: !0
                },
                walls: {
                    id: "walls",
                    label: function () {
                        return "Walls"
                    },
                    description: function () {
                        return '<div><i class="' + $f.defense + '"></i> +50%</div>'
                    },
                    desc: function () {
                        return '<span><i class="' + $f.defense + '"></i> +50%</span>'
                    },
                    category: "defense",
                    require: {
                        science: "masonry",
                        buildings: ["lo"]
                    }
                },
                castle: {
                    id: "castle",
                    label: function (n) {
                        return "french" == n.civ_id ? "Chateau" : "Castle"
                    },
                    description: function (n, l) {
                        return '<div><i class="' + $f.defense + '"></i> +50%</div>' + ("french" == l.player(n).civ_id ? '<div class="text-gold"><i class="' + $f.gold + '"></i> +10</div><div class="text-culture"><i class="' + $f.culture + '"></i> +10</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span><i class="' + $f.defense + '"></i> +50%</span>' + ("french" == l.player(n).civ_id ? ' | <span class="text-gold"><i class="' + $f.gold + '"></i> +10</span> | <span class="text-culture"><i class="' + $f.culture + '"></i> +10</span>' : "")
                    },
                    category: "defense",
                    require: {
                        science: "advanced_fortification",
                        buildings: ["town_hall", "walls"]
                    }
                },
                fortress: {
                    id: "fortress",
                    label: function () {
                        return "Fortress"
                    },
                    description: function () {
                        return '<div><i class="' + $f.defense + '"></i> +50%</div>'
                    },
                    desc: function () {
                        return '<span><i class="' + $f.defense + '"></i> +50%</span>'
                    },
                    category: "defense",
                    require: {
                        science: "siege",
                        buildings: ["town_hall", "castle"]
                    }
                },
                embassy: {
                    id: "embassy",
                    label: function () {
                        return "Embassy"
                    },
                    description: function () {
                        return '<div class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +1 / trade route</div>'
                    },
                    desc: function () {
                        return '<span class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +1</span>'
                    },
                    category: "diplomacy",
                    require: {
                        science: "diplomacy",
                        buildings: ["town_hall"]
                    }
                },
                consulate: {
                    id: "consulate",
                    label: function () {
                        return "Consulate"
                    },
                    description: function () {
                        return '<div class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +1 / trade route</div>'
                    },
                    desc: function () {
                        return '<span class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +1</span>'
                    },
                    category: "diplomacy",
                    require: {
                        science: "republic",
                        buildings: ["town_hall", "embassy"]
                    }
                },
                shrine: {
                    id: "shrine",
                    label: function () {
                        return "Shrine"
                    },
                    description: function (n, l) {
                        return '<div>Wonders <i class="' + $f.prod + ' text-prod"></i> cost -5%</div>' + (l ? '<div class="text-faith"><i class="' + $f.faith + '"></i> +' + (l.hasPolicyGroup("piety") ? 3 : 1) + "</div>" + (l.hasPolicy("secularism") ? '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</div>' : "") : '<div class="text-faith"><i class="' + $f.faith + '"></i> +1</div>')
                    },
                    desc: function (n, l) {
                        return '<span class="text-faith"><i class="' + $f.faith + '"></i> +' + (l.hasPolicyGroup("piety") ? 3 : 1) + "</span>" + (l.hasPolicy("secularism") ? ' | <span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span>' : "")
                    },
                    category: "faith",
                    require: {
                        science: "spirituality",
                        buildings: ["lo"]
                    }
                },
                temple: {
                    id: "temple",
                    label: function () {
                        return "Temple"
                    },
                    description: function (n, l) {
                        return '<div class="text-faith"><i class="' + $f.faith + '"></i> +5</div>' + (l && l.hasPolicy("organized_religion") ? '<div class="text-health"><i class="' + $f.health + '"></i> +5%</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span class="text-faith"><i class="' + $f.faith + '"></i> +5</span>' + (l.hasPolicy("organized_religion") ? ' | <span class="text-health"><i class="' + $f.health + '"></i> +5%</span>' : "")
                    },
                    category: "faith",
                    require: {
                        science: "religion",
                        buildings: ["town_hall", "shrine"]
                    }
                },
                monastery: {
                    id: "monastery",
                    label: function () {
                        return "Monastery"
                    },
                    description: function (n, l) {
                        return '<div class="text-faith"><i class="' + $f.faith + '"></i> +15</div>' + (l && l.hasPolicy("theocracy") ? '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</div>' : "") + (l && l.hasPolicy("reformation") ? '<div class="text-science"><i class="' + $f.science + '"></i> +10%</div><div class="text-faith"><i class="' + $f.faith + '"></i> +10%</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span class="text-faith"><i class="' + $f.faith + '"></i> +15</span>' + (l.hasPolicy("theocracy") ? ' | <span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span>' : "") + (l.hasPolicy("reformation") ? ' | <span class="text-science"><i class="' + $f.science + '"></i> +10%</span> | <span class="text-faith"><i class="' + $f.faith + '"></i> +10%</span>' : "")
                    },
                    category: "faith",
                    require: {
                        science: "theology",
                        buildings: ["town_hall", "temple"]
                    }
                },
                granary: {
                    id: "granary",
                    label: function (n) {
                        return "incans" == n.civ_id ? "Terrace" : "Granary"
                    },
                    description: function (n, l) {
                        return '<div class="text-food"><i class="' + $f.food + '"></i> +' + l.buildingBonus("granary", n) + "</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-food"><i class="' + $f.food + '"></i> +' + l.buildingBonus("granary", n) + "</span>"
                    },
                    bonus: function (n) {
                        return "incans" == n.civ_id ? 5 : 2
                    },
                    category: "food",
                    require: {
                        science: "agriculture",
                        buildings: ["lo"]
                    }
                },
                port: {
                    id: "port",
                    label: function () {
                        return "Harbor"
                    },
                    description: function () {
                        return '<div class="text-food"><i class="' + $f.food + '"></i> +5</div>'
                    },
                    desc: function () {
                        return '<span class="text-food"><i class="' + $f.food + '"></i> +5</span>'
                    },
                    category: "food",
                    require: {
                        science: "navigation",
                        buildings: ["lo"]
                    },
                    coastal: !0
                },
                mill: {
                    id: "mill",
                    label: function () {
                        return "Mill"
                    },
                    description: function () {
                        return '<div class="text-food"><i class="' + $f.food + '"></i> +10</div>'
                    },
                    desc: function () {
                        return '<span class="text-food"><i class="' + $f.food + '"></i> +10</span>'
                    },
                    category: "food",
                    require: {
                        science: "milling",
                        buildings: ["town_hall", "granary"]
                    }
                },
                cop: {
                    id: "cop",
                    oid: "copper_mine",
                    label: function () {
                        return "Copper Mine"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +5</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.gold + '"></i> +5</span>'
                    },
                    category: "gold",
                    require: {
                        science: "bronze_working",
                        buildings: ["lo"]
                    }
                },
                go: {
                    id: "go",
                    oid: "gold_mine",
                    label: function () {
                        return "Gold Mine"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +15</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.gold + '"></i> +15</span>'
                    },
                    category: "gold",
                    require: {
                        science: "iron_working",
                        buildings: ["town_hall", "cop"]
                    }
                },
                coa: {
                    id: "coa",
                    oid: "coal_mine",
                    label: function () {
                        return "Coal Mine"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +25</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.gold + '"></i> +25</span>'
                    },
                    category: "gold",
                    require: {
                        science: "steam",
                        buildings: ["police", "go"]
                    },
                    industrial: !0
                },
                market: {
                    id: "market",
                    label: function () {
                        return "Market"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +2 / trade route</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.trade + '"></i><i class="' + $f.gold + '"></i> +2</span>'
                    },
                    category: "gold_trade",
                    require: {
                        science: "mathematics",
                        buildings: ["town_hall"]
                    }
                },
                bank: {
                    id: "bank",
                    label: function (n) {
                        return "ottomans" == n.civ_id ? "Bazaar" : "Bank"
                    },
                    description: function (n, l) {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +' + l.buildingBonus("bank", n) + " / trade route</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-gold"><i class="' + $f.trade + '"></i><i class="' + $f.gold + '"></i> +' + l.buildingBonus("bank", n) + "</span>"
                    },
                    bonus: function (n) {
                        return n && "ottomans" == n.civ_id ? 10 : 5
                    },
                    category: "gold_trade",
                    require: {
                        science: "currency",
                        buildings: ["town_hall", "market"]
                    }
                },
                stock: {
                    id: "stock",
                    label: function () {
                        return "Stock Exchange"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +10 / trade route</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.trade + '"></i><i class="' + $f.gold + '"></i> +10</span>'
                    },
                    category: "gold_trade",
                    require: {
                        science: "economics",
                        buildings: ["town_hall", "bank"]
                    }
                },
                chest: {
                    id: "chest",
                    label: function () {
                        return "Chest"
                    },
                    description: function () {
                        return 'Increase <span class="text-gold"><i class="' + $f.gold + '"></i></span> limit to 1 000'
                    },
                    category: "gold_limit",
                    require: {
                        science: "mining",
                        buildings: ["lo"]
                    }
                },
                treasury: {
                    id: "treasury",
                    label: function () {
                        return "Treasury"
                    },
                    description: function () {
                        return 'Increase <span class="text-gold"><i class="' + $f.gold + '"></i></span> limit to 1M'
                    },
                    category: "gold_limit",
                    require: {
                        science: "writing",
                        buildings: ["lo", "chest"]
                    }
                },
                mint: {
                    id: "mint",
                    label: function () {
                        return "Mint"
                    },
                    description: function () {
                        return 'Increase <span class="text-gold"><i class="' + $f.gold + '"></i></span> limit to 100M'
                    },
                    category: "gold_limit",
                    require: {
                        science: "currency",
                        buildings: ["town_hall", "treasury"]
                    }
                },
                reserve: {
                    id: "reserve",
                    label: function () {
                        return "Gold Reserve"
                    },
                    description: function () {
                        return 'Increase <span class="text-gold"><i class="' + $f.gold + '"></i></span> limit to 10B'
                    },
                    category: "gold_limit",
                    require: {
                        science: "corporation",
                        buildings: ["police", "mint"]
                    },
                    industrial: !0
                },
                gardens: {
                    id: "gardens",
                    label: function (n) {
                        return "indonesians" == n.civ_id ? "Candi" : "Gardens"
                    },
                    description: function (n, l) {
                        return '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +' + 100 * l.buildingBonus("gardens", n) + "%</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +' + 100 * l.buildingBonus("gardens", n) + "%</span>"
                    },
                    bonus: function (n) {
                        return n && "indonesians" == n.civ_id ? .1 : .05
                    },
                    category: "happiness",
                    require: {
                        science: "crop_rotation",
                        buildings: ["lo"]
                    }
                },
                theatre: {
                    id: "theatre",
                    label: function () {
                        return "Theatre"
                    },
                    description: function () {
                        return '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</div>'
                    },
                    desc: function () {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</span>'
                    },
                    category: "happiness",
                    require: {
                        science: "drama",
                        buildings: ["town_hall", "gardens"]
                    }
                },
                circus: {
                    id: "circus",
                    label: function () {
                        return "Circus"
                    },
                    description: function () {
                        return '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +15%</div>'
                    },
                    desc: function () {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +15%</span>'
                    },
                    category: "happiness",
                    require: {
                        science: "music_theory",
                        buildings: ["town_hall", "theatre"]
                    }
                },
                zoo: {
                    id: "zoo",
                    label: function (n) {
                        return "brazilians" == n.civ_id ? "Carnival" : "Zoo"
                    },
                    description: function (n, l) {
                        return '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +15%</div>' + ("brazilians" == l.player(n).civ_id ? '<div class="text-culture"><i class="' + $f.culture + '"></i> +10</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +15%</span>' + ("brazilians" == l.player(n).civ_id ? ' | <span class="text-culture"><i class="' + $f.culture + '"></i> +10</span>' : "")
                    },
                    category: "happiness",
                    require: {
                        science: "rigging",
                        buildings: ["town_hall", "circus"]
                    }
                },
                well: {
                    id: "well",
                    label: function () {
                        return "Well"
                    },
                    description: function () {
                        return '<div class="text-health"><i class="' + $f.health + '"></i> +5%</div>'
                    },
                    desc: function () {
                        return '<span class="text-health"><i class="' + $f.health + '"></i> +5%</span>'
                    },
                    category: "health",
                    require: {
                        science: "masonry",
                        buildings: ["lo"]
                    }
                },
                aqueduct: {
                    id: "aqueduct",
                    label: function () {
                        return "Aqueduct"
                    },
                    description: function () {
                        return '<div class="text-health"><i class="' + $f.health + '"></i> +10%</div><div>Increase Plague Doctors efficiency</div>'
                    },
                    desc: function () {
                        return '<span class="text-health"><i class="' + $f.health + '"></i> +10%</span>'
                    },
                    category: "health",
                    require: {
                        science: "construction",
                        buildings: ["town_hall", "well"]
                    }
                },
                hospital: {
                    id: "hospital",
                    label: function () {
                        return "Hospital"
                    },
                    description: function (n, l) {
                        return '<div class="text-health"><i class="' + $f.health + '"></i> +' + (l && l.hasPolicy("procedures") ? "20" : "15") + "%</div><div>Increase Plague Doctors efficiency</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-health"><i class="' + $f.health + '"></i> +' + (l && l.hasPolicy("procedures") ? "20" : "15") + "%</span>"
                    },
                    category: "health",
                    require: {
                        science: "anatomy",
                        buildings: ["town_hall", "aqueduct"]
                    }
                },
                dispensary: {
                    id: "dispensary",
                    label: function () {
                        return "Dispensary"
                    },
                    description: function () {
                        return '<div class="text-health"><i class="' + $f.health + '"></i> +20%</div>'
                    },
                    desc: function () {
                        return '<span class="text-health"><i class="' + $f.health + '"></i> +20%</span>'
                    },
                    category: "health",
                    require: {
                        science: "biology",
                        buildings: ["police", "hospital"]
                    },
                    industrial: !0
                },
                quarantine: {
                    id: "quarantine",
                    label: function () {
                        return "Quarantine Station"
                    },
                    description: function () {
                        return '<div class="text-health"><i class="' + $f.health + '"></i> +10%</div><div>Prevents Plague propagation</div>'
                    },
                    desc: function () {
                        return '<span class="text-health"><i class="' + $f.health + '"></i> +10%</span>'
                    },
                    category: "health",
                    require: {
                        science: "sanitation",
                        buildings: ["police", "hospital"]
                    },
                    industrial: !0
                },
                armory: {
                    id: "armory",
                    label: function () {
                        return "Armory"
                    },
                    description: function () {
                        return "Reduce troop maintenance in this city by half"
                    },
                    category: "military",
                    require: {
                        science: "steel",
                        buildings: ["town_hall", "barracks"]
                    }
                },
                barracks: {
                    id: "barracks",
                    label: function () {
                        return "Barracks"
                    },
                    description: function (n, l) {
                        return "Allow recruitment of melee & ranged units" + (l && l.hasPolicy("despotism") ? '<div class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</div>' : "")
                    },
                    desc: function (n, l) {
                        return l.hasPolicy("despotism") ? '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span>' : ""
                    },
                    category: "military",
                    require: {
                        science: "tools",
                        buildings: ["lo"]
                    }
                },
                stables: {
                    id: "stables",
                    label: function () {
                        return "Stables"
                    },
                    description: function () {
                        return "Allow recruitment of mounted units"
                    },
                    category: "military",
                    require: {
                        science: "horseriding",
                        buildings: ["lo"]
                    }
                },
                sif: {
                    id: "sif",
                    oid: "siege_factory",
                    label: function () {
                        return "Siege Factory"
                    },
                    description: function () {
                        return "Allow recruitment of siege units"
                    },
                    category: "military",
                    require: {
                        science: "mathematics",
                        buildings: ["town_hall"]
                    }
                },
                seaport: {
                    id: "seaport",
                    label: function () {
                        return "Seaport"
                    },
                    description: function () {
                        return "Allow recruitment of naval units"
                    },
                    category: "military",
                    require: {
                        science: "astronomy",
                        buildings: ["town_hall"]
                    },
                    coastal: !0
                },
                trc: {
                    id: "trc",
                    oid: "training_center",
                    label: function () {
                        return "Training Center"
                    },
                    description: function () {
                        return "Increase recruitment speed by 25%"
                    },
                    category: "military",
                    require: {
                        science: "armies",
                        buildings: ["lo"]
                    }
                },
                mia: {
                    id: "mia",
                    oid: "military_academy",
                    label: function () {
                        return "Military Academy"
                    },
                    description: function () {
                        return "Increase recruitment speed by 25%"
                    },
                    category: "military",
                    require: {
                        science: "chivalry",
                        buildings: ["town_hall", "trc"]
                    }
                },
                arsenal: {
                    id: "arsenal",
                    label: function () {
                        return "Arsenal"
                    },
                    description: function () {
                        return "Increase recruitment speed by 25%"
                    },
                    category: "military",
                    require: {
                        science: "production",
                        buildings: ["town_hall", "mia"]
                    }
                },
                workshop: {
                    id: "workshop",
                    label: function (n) {
                        return n && "egyptians" == n.civ_id ? "Granite quarry" : "Workshop"
                    },
                    description: function (n, l) {
                        return '<div class="text-prod"><i class="' + $f.prod + '"></i> +' + l.buildingBonus("workshop", n) + "</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +' + l.buildingBonus("workshop", n) + "</span>"
                    },
                    bonus: function (n) {
                        return n && "egyptians" == n.civ_id ? 10 : 5
                    },
                    category: "production",
                    require: {
                        science: "bronze_working",
                        buildings: ["town_hall"]
                    }
                },
                furnace: {
                    id: "furnace",
                    label: function () {
                        return "Furnace"
                    },
                    description: function () {
                        return '<div class="text-prod"><i class="' + $f.prod + '"></i> +15</div>'
                    },
                    desc: function () {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +15</span>'
                    },
                    category: "production",
                    require: {
                        science: "iron_working",
                        buildings: ["town_hall", "workshop"]
                    }
                },
                ironworks: {
                    id: "ironworks",
                    label: function (n) {
                        return n && "germans" == n.civ_id ? "Hanse" : "Ironworks"
                    },
                    description: function (n, l) {
                        return '<div class="text-prod"><i class="' + $f.prod + '"></i> +' + l.buildingBonus("ironworks", n) + "</div>"
                    },
                    desc: function (n, l) {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +' + l.buildingBonus("ironworks", n) + "</span>"
                    },
                    bonus: function (n) {
                        return n && "germans" == n.civ_id ? 40 : 25
                    },
                    category: "production",
                    require: {
                        science: "metallurgy",
                        buildings: ["town_hall", "furnace"]
                    }
                },
                factory: {
                    id: "factory",
                    label: function () {
                        return "Factory"
                    },
                    description: function () {
                        return '<div class="text-prod"><i class="' + $f.prod + '"></i> +50</div>'
                    },
                    desc: function () {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +50</span>'
                    },
                    category: "production",
                    require: {
                        science: "industrialization",
                        buildings: ["police", "ironworks"]
                    },
                    industrial: !0
                },
                hydro: {
                    id: "hydro",
                    label: function () {
                        return "Hydro Plant"
                    },
                    description: function () {
                        return '<div class="text-prod"><i class="' + $f.prod + '"></i> +50</div>'
                    },
                    desc: function () {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +50</span>'
                    },
                    category: "production",
                    require: {
                        science: "electricity",
                        buildings: ["police", "factory"]
                    },
                    industrial: !0
                },
                progress: {
                    id: "progress",
                    label: function () {
                        return "Progress"
                    },
                    description: function () {
                        return 'Can be built repeatedly.<br/>Produce <span class="text-progress"><i class="' + $f.progress + '"></i> Progress</span>'
                    },
                    desc: function () {
                        return '<span class="text-progress"><i class="' + $f.progress + '"></i> +1</span>'
                    },
                    category: "production",
                    require: {
                        science: "industrialization",
                        buildings: ["police"]
                    },
                    free: !0
                },
                library: {
                    id: "library",
                    label: function (n) {
                        return n && "chinese" == n.civ_id ? "Paper Maker" : "Library"
                    },
                    description: function (n, l) {
                        return '<div class="text-science"><i class="' + $f.science + '"></i> +' + l.buildingBonus("library", n) + "</div>" + (l && l.hasPolicy("philosophy") ? '<div class="text-culture"><i class="' + $f.culture + '"></i> +5%</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span class="text-science"><i class="' + $f.science + '"></i> +' + l.buildingBonus("library", n) + "</span>" + (l.hasPolicy("philosophy") ? ' | <span class="text-culture"><i class="' + $f.culture + '"></i> +5%</div>' : "")
                    },
                    bonus: function (n, l) {
                        var e = 5;
                        return l.hasWonder(n.id, "great_library") && (e += 5), n && "chinese" == n.civ_id && (e += 5), e
                    },
                    category: "science",
                    require: {
                        science: "literature",
                        buildings: ["town_hall"]
                    }
                },
                uni: {
                    id: "uni",
                    oid: "university",
                    label: function () {
                        return "University"
                    },
                    description: function (n, l) {
                        return '<div class="text-science"><i class="' + $f.science + '"></i> +15</div>' + (l && l.hasPolicy("scientific_state") ? '<div class="text-science"><i class="' + $f.science + '"></i> +10%</div><div class="text-faith"><i class="' + $f.faith + '"></i> +10%</div>' : "")
                    },
                    desc: function (n, l) {
                        return '<span class="text-science"><i class="' + $f.science + '"></i> +15</span>' + (l.hasPolicy("scientific_state") ? '| <span class="text-science"><i class="' + $f.science + '"></i> +10%</span> | <span class="text-faith"><i class="' + $f.faith + '"></i> +10%</span>' : "")
                    },
                    category: "science",
                    require: {
                        science: "education",
                        buildings: ["town_hall", "library"]
                    }
                },
                school: {
                    id: "school",
                    label: function () {
                        return "Public School"
                    },
                    description: function () {
                        return '<div class="text-science"><i class="' + $f.science + '"></i> +25</div>'
                    },
                    desc: function () {
                        return '<span class="text-science"><i class="' + $f.science + '"></i> +25</span>'
                    },
                    category: "science",
                    require: {
                        science: "scientific",
                        buildings: ["police", "uni"]
                    },
                    industrial: !0
                },
                pyramid: {
                    id: "pyramid",
                    label: function () {
                        return "Pyramids"
                    },
                    description: function () {
                        return '<div>Free Granary in each of your cities</div><div class="text-culture"><i class="' + $f.culture + '"></i>+5</div><div class="text-faith"><i class="' + $f.faith + '"></i>+2 for each wonder in this city</div>'
                    },
                    desc: function (n, l, e) {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span> | <span class="text-faith"><i class="' + $f.faith + '"></i> +' + 2 * l.wondersNbInCity(e) + "</span>"
                    },
                    add_all: "granary",
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "herding",
                        buildings: ["lo"]
                    }
                },
                colossus: {
                    id: "colossus",
                    label: function () {
                        return "Colossus"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +10</div><div class="text-trade"><i class="' + $f.trade + '"></i> +1</div>'
                    },
                    desc: function () {
                        return '<span class="text-gold"><i class="' + $f.gold + '"></i> +10</span> | <span class="text-trade"><i class="' + $f.trade + '"></i> +1</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "bronze_working",
                        buildings: ["lo"]
                    }
                },
                hanging_gardens: {
                    id: "hanging_gardens",
                    label: function () {
                        return "Hanging Gardens"
                    },
                    description: function () {
                        return '<div class="text-food"><i class="' + $f.food + '"></i> +10</div><div class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</div><div>Free Garden in the city in which it was built</div>'
                    },
                    desc: function () {
                        return '<span class="text-food"><i class="' + $f.food + '"></i> +10</span> | <span class="text-happiness"><i class="' + $f.happiness + '"></i> +1</span>'
                    },
                    add_city: "gardens",
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "bronze_working",
                        buildings: ["lo"]
                    }
                },
                apadana: {
                    id: "apadana",
                    label: function () {
                        return "Apadana"
                    },
                    description: function () {
                        return "<div>Improvement building speed +25%</div>"
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "masonry",
                        buildings: ["town_hall"]
                    }
                },
                ziggurat: {
                    id: "ziggurat",
                    label: function () {
                        return "Great Ziggurat"
                    },
                    description: function () {
                        return "<div>Slavers chances of success +100%</div><div>Free Temple in the city in which it was built</div>"
                    },
                    add_city: "temple",
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "calendar",
                        buildings: ["town_hall"]
                    }
                },
                great_library: {
                    id: "great_library",
                    label: function () {
                        return "Great Library"
                    },
                    description: function () {
                        return '<div class="text-science"><i class="' + $f.science + '"></i> +5 / library</div><div>Free Library in the city in which it was built</div>'
                    },
                    add_city: "library",
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "literature",
                        buildings: ["town_hall"]
                    }
                },
                mausoleum: {
                    id: "mausoleum",
                    label: function () {
                        return "Mausoleum of Halicarnassus"
                    },
                    description: function () {
                        return '<div>Reduce <i class="' + $f.spells + '"></i> spells cooldown by 15%</div><div class="text-culture"><i class="' + $f.culture + '"></i>+5</div>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "religion",
                        buildings: ["town_hall"]
                    }
                },
                statue_zeus: {
                    id: "statue_zeus",
                    label: function () {
                        return "Statue of Zeus"
                    },
                    description: function () {
                        return "<div>+15% attack</div><div>+15% recruitment speed</div>"
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "archery",
                        buildings: ["lo"]
                    }
                },
                temple_artemis: {
                    id: "temple_artemis",
                    label: function () {
                        return "Temple of Artemis"
                    },
                    description: function () {
                        return '<div>+50% defense in the city in which it was built</div><div class="text-prod"><i class="' + $f.prod + '"></i>+1 / builder</div>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "archery",
                        buildings: ["lo"]
                    }
                },
                pantheon: {
                    id: "pantheon",
                    label: function () {
                        return "Pantheon"
                    },
                    description: function () {
                        return "Reduce discontent due to distance from capital by 50% (in all empire)"
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "construction",
                        buildings: ["town_hall"]
                    }
                },
                great_wall: {
                    id: "great_wall",
                    label: function () {
                        return "Great Wall"
                    },
                    description: function () {
                        return '<div><i class="' + $f.defense + '"></i> +50% (in all empire)</div>'
                    },
                    desc: function () {
                        return '<span><i class="' + $f.defense + '"></i> +50%</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "construction",
                        buildings: ["town_hall"]
                    }
                },
                forbidden: {
                    id: "forbidden",
                    label: function () {
                        return "Forbidden City"
                    },
                    description: function () {
                        return '<div><span class="text-influence"><i class="' + $f.influence + '"></i> +25%</span> to all civilizations</div><div class="text-culture"><i class="' + $f.culture + '"></i>+5</div>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "printing",
                        buildings: ["town_hall"]
                    }
                },
                sistine: {
                    id: "sistine",
                    label: function () {
                        return "Sistine Chapel"
                    },
                    description: function () {
                        return '<div>Free Opera in each of your cities</div><div class="text-culture"><i class="' + $f.culture + '"></i>+15</div>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +15</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    add_all: "opera",
                    require: {
                        science: "acoustics",
                        buildings: ["town_hall"]
                    }
                },
                versailles: {
                    id: "versailles",
                    label: function () {
                        return "Versailles"
                    },
                    description: function () {
                        return '<div class="text-happiness"><i class="' + $f.happiness + '"></i>+10% to all cities</div><div class="text-culture"><i class="' + $f.culture + '"></i>+15</div>'
                    },
                    desc: function () {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</span> | <span class="text-culture"><i class="' + $f.culture + '"></i> +15</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "acoustics",
                        buildings: ["town_hall"]
                    }
                },
                taj: {
                    id: "taj",
                    label: function () {
                        return "Taj Mahal"
                    },
                    description: function () {
                        return '<div>Reduce <i class="' + $f.spells + '"></i> spells cooldown by 15%</div><div class="text-culture"><i class="' + $f.culture + '"></i>+10</div>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +10</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "architecture",
                        buildings: ["town_hall"]
                    }
                },
                pisa: {
                    id: "pisa",
                    label: function () {
                        return "Leaning Tower of Pisa"
                    },
                    description: function () {
                        return '<div class="text-culture"><i class="' + $f.culture + '"></i> +10 / all trade routes</div>'
                    },
                    desc: function () {
                        return '<span class="text-culture"><i class="' + $f.trade + '"></i> <i class="' + $f.culture + '"></i> +10</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "architecture",
                        buildings: ["town_hall"]
                    }
                },
                bigben: {
                    id: "bigben",
                    label: function () {
                        return "Big Ben"
                    },
                    description: function () {
                        return '<div class="text-gold"><i class="' + $f.gold + '"></i> +5% / colony</div><div class="text-happiness"><i class="' + $f.happiness + '"></i> +3% / colony</div>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "economics",
                        buildings: ["town_hall"]
                    }
                },
                casa: {
                    id: "casa",
                    label: function () {
                        return "Casa Da India"
                    },
                    description: function () {
                        return '<div>Caravel cost -50% & recruit time -50% in every city</div><div class="text-gold"><i class="' + $f.gold + '"></i> +2% / colony</div><div class="text-happiness"><i class="' + $f.happiness + '"></i> +2% / colony</div>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "astronomy",
                        buildings: ["town_hall"]
                    }
                },
                panama: {
                    id: "panama",
                    label: function () {
                        return "Panama Canal"
                    },
                    description: function () {
                        return '<div class="text-trade">+2 <i class="' + $f.trade + '"></i> trade routes</div>Remove <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "steam",
                        buildings: ["police"]
                    },
                    industrial: !0
                },
                oxford: {
                    id: "oxford",
                    label: function () {
                        return "Oxford University"
                    },
                    description: function () {
                        return '<span class="text-science"><i class="' + $f.science + '"></i> +50%</span> in the city in which it was built'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "scientific",
                        buildings: ["police"]
                    },
                    industrial: !0
                },
                ruhr: {
                    id: "ruhr",
                    label: function () {
                        return "Ruhr Valley"
                    },
                    description: function () {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i> +25%</span> when producing <span class="text-prod">Progress</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "industrialization",
                        buildings: ["police"]
                    },
                    industrial: !0
                },
                eiffel: {
                    id: "eiffel",
                    label: function () {
                        return "Eiffel Tower"
                    },
                    description: function () {
                        return '<span class="text-progress"><i class="' + $f.progress + '"></i> +10 / min</span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "railroad",
                        buildings: ["police"]
                    },
                    industrial: !0
                },
                brandenburg: {
                    id: "brandenburg",
                    label: function () {
                        return "Brandenburg Gate"
                    },
                    description: function () {
                        return "<div>+15% attack</div><div>+15% recruitment speed</div>"
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "military",
                        buildings: ["police"]
                    },
                    industrial: !0
                },
                hermitage: {
                    id: "hermitage",
                    label: function () {
                        return "Hermitage"
                    },
                    description: function () {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i> +5</span> / <span class="text-relics"><i class="' + $f.relics + '"></i></span>'
                    },
                    category: "_wonder",
                    wonder: !0,
                    require: {
                        science: "archeology",
                        buildings: ["police"]
                    },
                    industrial: !0
                }
            },
            Gf = {
                prehistory: {
                    id: "prehistory",
                    name: "Prehistoric Era",
                    rank_start: 0,
                    rank_end: 3
                },
                ancient: {
                    id: "ancient",
                    name: "Ancient Era",
                    rank_start: 4,
                    rank_end: 6
                },
                classical: {
                    id: "classical",
                    name: "Classical Era",
                    rank_start: 7,
                    rank_end: 9
                },
                medieval: {
                    id: "medieval",
                    name: "Medieval Era",
                    rank_start: 10,
                    rank_end: 12
                },
                renaissance: {
                    id: "renaissance",
                    name: "Renaissance Era",
                    rank_start: 13,
                    rank_end: 15
                },
                industrial: {
                    id: "industrial",
                    name: "Industrial Era",
                    rank_start: 16,
                    rank_end: 18
                },
                future: {
                    id: "future",
                    name: "Future Era",
                    rank_start: 19,
                    rank_end: 19
                }
            },
            Wf = {
                language: {
                    id: "language",
                    label: "Language",
                    description: '<span class="text-science">+0.1 <i class="' + $f.science + '"></i> / citizen</span>',
                    require: [],
                    rank: 1
                },
                dog_domestication: {
                    id: "dog_domestication",
                    label: "Dog domestication",
                    description: '<span class="text-food">+0.5 <i class="' + $f.food + '"></i> / hunter-gatherer</span>',
                    require: [],
                    rank: 1
                },
                tanning: {
                    id: "tanning",
                    label: "Tanning",
                    description: 'Unlock <span class="text-pop">Builders</span><br/>Unlock <span class="text-prod">Longhouse</span>',
                    require: [],
                    rank: 1
                },
                pottery: {
                    id: "pottery",
                    label: "Pottery",
                    description: '<span class="text-health">+5% <i class="' + $f.health + '"></i></span>',
                    require: [],
                    rank: 1
                },
                trade: {
                    id: "trade",
                    label: "Trade",
                    description: 'Unlock <span class="text-pop">Merchants</span>',
                    require: ["language", "dog_domestication"],
                    rank: 2
                },
                spirituality: {
                    id: "spirituality",
                    label: "Spirituality",
                    description: 'Unlock <span class="text-prod">Shrine</span><br/>Unlock <span class="text-special">Daily Bonus</span>',
                    require: ["language", "tanning"],
                    rank: 2
                },
                mining: {
                    id: "mining",
                    label: "Mining",
                    description: 'Unlock <span class="text-prod">Chest</span>',
                    require: ["pottery", "tanning"],
                    rank: 2
                },
                tools: {
                    id: "tools",
                    label: "Tools",
                    description: 'Unlock <span class="text-prod">Barracks</span><br/>Unlock <span class="text-troop">Warrior</span><br/>',
                    require: ["pottery", "tanning"],
                    rank: 2
                },
                art: {
                    id: "art",
                    label: "Art",
                    description: 'Unlock <span class="text-pop">Artists</span><br/>Unlock <span class="text-prod">Monument</span><br/>Unlock <span class="text-special">Social Policies</span><br/>Unlock <span class="text-culture">Traditionalism</span><br/>Unlock <span class="text-culture">Imperialism</span>',
                    require: ["trade", "spirituality"],
                    rank: 3
                },
                exploration: {
                    id: "exploration",
                    label: "Exploration",
                    description: 'Unlock <span class="text-troop">Scout</span><br/>Unlock <span class="text-special">World Map</span>',
                    require: ["trade", "tools"],
                    rank: 3
                },
                agriculture: {
                    id: "agriculture",
                    label: "Agriculture",
                    description: 'Unlock <span class="text-pop">Farmers</span> <span class="text-food">+1 <i class="' + $f.food + '"></i><br/>Unlock <span class="text-prod">Granary</span>',
                    require: ["tools", "mining"],
                    rank: 3
                },
                archery: {
                    id: "archery",
                    label: "Archery",
                    description: 'Unlock <span class="text-troop">Archer</span><br/>Unlock <span class="text-special">Statue of Zeus</span><br/>Unlock <span class="text-special">Temple of Artemis</span><br/>Unlock <span class="text-special">Troop queues</span>',
                    require: ["tools"],
                    rank: 3
                },
                writing: {
                    id: "writing",
                    label: "Writing",
                    description: 'Unlock <span class="text-special">Building & troops purchase</span><br/>Unlock <span class="text-pop">Scholars</span><br/>Unlock <span class="text-prod">Treasury</span><br/>Unlock <span class="text-culture">Rationalism</span><br/>Unlock <span class="text-culture">Platonic Academy</span>',
                    require: ["art", "exploration"],
                    rank: 4
                },
                state: {
                    id: "state",
                    label: "State",
                    description: 'Unlock <span class="text-special">Empire</span><br/>Unlock <span class="text-prod">Town Hall</span><br/>Unlock <span class="text-troop">Governor</span><br/>Unlock <span class="text-culture">Collective Rule</span><br/>Unlock <span class="text-culture">Militarism</span>',
                    require: ["exploration", "agriculture"],
                    rank: 4
                },
                herding: {
                    id: "herding",
                    label: "Herding",
                    description: 'Unlock <span class="text-culture">Ancients\' Wisdom</span><br/>Unlock <span class="text-culture">Piety</span><br/>Unlock <span class="text-special">Pyramids</span>',
                    require: ["agriculture"],
                    rank: 4
                },
                navigation: {
                    id: "navigation",
                    label: "Navigation",
                    description: 'Unlock <span class="text-special">Diplomacy</span><br/>Unlock <span class="text-special">Trade</span><br/>Unlock <span class="text-troop">Caravan</span><br/><span class="text-prod">+0.5 <i class="' + $f.prod + '"></i> / builder</span><br/>Unlock <span class="text-prod">Harbor</span><br/>Unlock <span class="text-culture">Pacifism</span>',
                    require: ["exploration", "archery"],
                    rank: 4
                },
                armies: {
                    id: "armies",
                    label: "Armies",
                    description: 'Unlock <span class="text-prod">Training Center</span><br/>Unlock <span class="text-culture">Aristocracy</span><br/>Unlock <span class="text-culture">Meritocracy</span><br/>Unlock <span class="text-culture">Code of Honor</span>',
                    require: ["state", "writing"],
                    rank: 5
                },
                horseriding: {
                    id: "horseriding",
                    label: "Horseriding",
                    description: 'Unlock <span class="text-prod">Stables</span><br/>Unlock <span class="text-troop">Horseman</span><br/>Unlock <span class="text-culture">Wonder Builder</span>',
                    require: ["herding"],
                    rank: 5
                },
                bronze_working: {
                    id: "bronze_working",
                    label: "Bronze Working",
                    description: 'Unlock <span class="text-prod">Copper Mine</span><br/>Unlock <span class="text-special">Colossus</span><br/>Unlock <span class="text-special">Hanging Gardens</span><br/>Unlock <span class="text-prod">Workshop</span><br/>Unlock <span class="text-troop">Lancier</span><br/>Unlock <span class="text-troop">Worker</span><br/>Unlock <span class="text-improvement">Mine</span><br/>Unlock <span class="text-troop">Slaver</span>',
                    require: ["navigation", "state"],
                    rank: 5
                },
                crop_rotation: {
                    id: "crop_rotation",
                    label: "Crop Rotation",
                    description: '<span class="text-food">+1 <i class="' + $f.food + '"></i> / farmer</span><br/>Unlock <span class="text-prod">Gardens</span><br/>Unlock <span class="text-improvement">Farm</span>',
                    require: ["herding"],
                    rank: 5
                },
                wheel: {
                    id: "wheel",
                    label: "Wheel",
                    description: '<span class="text-gold">+1 <i class="' + $f.gold + '"></i> / merchant</span><br/><span class="text-trade">+1 <i class="' + $f.trade + '"></i> trade route</span><br/>Increase <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.<br/>Unlock <span class="text-prod">Amphitheatre</span><br/>Unlock <span class="text-improvement">Road</span>',
                    require: ["horseriding", "armies"],
                    rank: 6
                },
                masonry: {
                    id: "masonry",
                    label: "Masonry",
                    description: 'Unlock <span class="text-prod">Palace</span><br/>Unlock <span class="text-prod">Walls</span><br/>Unlock <span class="text-prod">Well</span><br/>Unlock <span class="text-special">Apadana</span>',
                    require: ["bronze_working"],
                    rank: 6
                },
                code_of_laws: {
                    id: "code_of_laws",
                    label: "Justice",
                    description: 'Unlock <span class="text-prod">Tribunal</span><br/>Unlock <span class="text-culture">Administration</span><br/>Unlock <span class="text-culture">Religious Laws</span><br/>Unlock <span class="text-culture">Code of Laws</span><br/>Unlock <span class="text-culture">Despotism</span><br/>Unlock <span class="text-culture">Organized Slavery</span>',
                    require: ["bronze_working"],
                    rank: 6
                },
                calendar: {
                    id: "calendar",
                    label: "Calendar",
                    description: 'Unlock <span class="text-troop">Plague Doctors</span><br/>Unlock <span class="text-special">Great Ziggurat</span><br/>Unlock <span class="text-culture">City-State</span>',
                    require: ["crop_rotation", "bronze_working"],
                    rank: 6
                },
                literature: {
                    id: "literature",
                    label: "Literature",
                    description: 'Unlock <span class="text-prod">Library</span><br/>Unlock <span class="text-special">Great Library</span><br/>Unlock <span class="text-culture">Philosophy</span><br/>Unlock <span class="text-culture">Oligarchy</span>',
                    require: ["wheel"],
                    rank: 7
                },
                mathematics: {
                    id: "mathematics",
                    label: "Mathematics",
                    description: 'Unlock <span class="text-troop">Catapult</span><br/>Unlock <span class="text-prod">Market</span><br/>Unlock <span class="text-prod">Siege Factory</span><br/>Unlock <span class="text-improvement">Trading Post</span>',
                    require: ["masonry", "calendar"],
                    rank: 7
                },
                diplomacy: {
                    id: "diplomacy",
                    label: "Diplomacy",
                    description: 'Unlock <span class="text-special">Global diplomacy</span><br/>Unlock <span class="text-special">Alliances</span><br/><span class="text-trade">+1 <i class="' + $f.trade + '"></i> trade route</span><br/>Unlock <span class="text-prod">Embassy</span><br/>Unlock <span class="text-culture">Patronage</span><br/>Unlock <span class="text-culture">Patriotism</span>',
                    require: ["code_of_laws"],
                    rank: 7
                },
                religion: {
                    id: "religion",
                    label: "Religion",
                    description: 'Unlock <span class="text-special">Deity</span><br/>Unlock <span class="text-special">Spells</span><br/>Unlock <span class="text-pop">Priests</span><br/>Unlock <span class="text-prod">Temple</span><br/>Unlock <span class="text-special">Mausoleum of Halicarnassus</span><br/>Unlock <span class="text-culture">Organized Religion</span>',
                    require: ["code_of_laws", "calendar"],
                    rank: 7
                },
                tactics: {
                    id: "tactics",
                    label: "Tactics",
                    description: 'Unlock <span class="text-special">Battle Simulator</span><br/>Unlock <span class="text-culture">Discipline</span>',
                    require: ["mathematics"],
                    rank: 8
                },
                iron_working: {
                    id: "iron_working",
                    label: "Iron Working",
                    description: 'Unlock <span class="text-prod">Gold Mine</span><br/>Unlock <span class="text-prod">Furnace</span><br/>Unlock <span class="text-troop">Swordsman</span><br/>Unlock <span class="text-improvement">Forest Camp</span>',
                    require: ["mathematics"],
                    rank: 8
                },
                monarchy: {
                    id: "monarchy",
                    label: "Monarchy",
                    description: 'Unlock <span class="text-troop">Spy</span><br/>Unlock <span class="text-culture">Landed Elites</span>',
                    require: ["religion", "diplomacy"],
                    rank: 8
                },
                drama: {
                    id: "drama",
                    label: "Drama",
                    description: '<span class="text-culture">+0.5 <i class="' + $f.culture + '"></i> / artist</span><br/>Unlock <span class="text-prod">Theatre</span><br/>Unlock <span class="text-culture">Philantropy</span>',
                    require: ["literature", "religion"],
                    rank: 8
                },
                optics: {
                    id: "optics",
                    label: "Optics",
                    description: 'Unlock <span class="text-troop">Longbowman</span><br/><span class="text-trade">+1 <i class="' + $f.trade + '"></i> trade route</span><br/>Increase <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.',
                    require: ["tactics"],
                    rank: 9
                },
                construction: {
                    id: "construction",
                    label: "Construction",
                    description: 'Unlock <span class="text-special">Pantheon</span><br/>Unlock <span class="text-special">Great Wall</span><br/>Unlock <span class="text-prod">Aqueduct</span>',
                    require: ["tactics", "iron_working"],
                    rank: 9
                },
                milling: {
                    id: "milling",
                    label: "Milling",
                    description: 'Unlock <span class="text-prod">Mill</span><br/>Unlock <span class="text-culture">Conservatism</span>',
                    require: ["iron_working"],
                    rank: 9
                },
                republic: {
                    id: "republic",
                    label: "Republic",
                    description: 'Unlock <span class="text-prod">Consulate</span><br/>Unlock <span class="text-culture">State Religion</span><br/>Unlock <span class="text-culture">Cultural Diplomacy</span>',
                    require: ["monarchy", "drama"],
                    rank: 9
                },
                theology: {
                    id: "theology",
                    label: "Theology",
                    description: '<span class="text-faith">+0.5 <i class="' + $f.faith + '"></i> / priest</span><br/>Unlock <span class="text-special">Reincarnation</span><br/>Unlock <span class="text-prod">Monastery</span><br/>Unlock <span class="text-culture">Secularism</span><br/>Unlock <span class="text-culture">Theocracy</span><br/>Unlock <span class="text-culture">Crusades</span>',
                    require: ["republic", "optics"],
                    rank: 10
                },
                civil_service: {
                    id: "civil_service",
                    label: "Civil Service",
                    description: 'Unlock <span class="text-troop">Pikeman</span><br/>Unlock <span class="text-culture">Isolationism</span>',
                    require: ["construction"],
                    rank: 10
                },
                feudalism: {
                    id: "feudalism",
                    label: "Feudalism",
                    description: 'Unlock <span class="text-culture">Sovereignty</span><br/>Unlock <span class="text-culture">Military Tradition</span>',
                    require: ["construction", "milling"],
                    rank: 10
                },
                currency: {
                    id: "currency",
                    label: "Currency",
                    description: 'Unlock <span class="text-prod">Bank</span><br/>Unlock <span class="text-prod">Mint</span><br/>Unlock <span class="text-culture">Merchant Confederacy</span>',
                    require: ["republic", "milling"],
                    rank: 10
                },
                music_theory: {
                    id: "music_theory",
                    label: "Music Theory",
                    description: 'Unlock <span class="text-prod">Circus</span><br/>Unlock <span class="text-culture">Proselytism</span>',
                    require: ["theology"],
                    rank: 11
                },
                engineering: {
                    id: "engineering",
                    label: "Engineering",
                    description: 'Unlock <span class="text-pop">Scientists</span> <span class="text-science">+1 <i class="' + $f.science + '"></i><br/><span class="text-trade">+1 <i class="' + $f.trade + '"></i> trade route</span><br/>Increase <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.',
                    require: ["civil_service"],
                    rank: 11
                },
                chivalry: {
                    id: "chivalry",
                    label: "Chivalry",
                    description: 'Unlock <span class="text-troop">Knight</span><br/>Unlock <span class="text-prod">Military Academy</span><br/>Unlock <span class="text-culture">Holy Wars</span><br/>Unlock <span class="text-culture">Professional Army</span>',
                    require: ["feudalism", "civil_service"],
                    rank: 11
                },
                anatomy: {
                    id: "anatomy",
                    label: "Anatomy",
                    description: 'Unlock <span class="text-prod">Hospital</span>',
                    require: ["currency", "theology"],
                    rank: 11
                },
                advanced_fortification: {
                    id: "advanced_fortification",
                    label: "Adv. Fortification",
                    description: 'Unlock <span class="text-prod">Castle</span><br/>Unlock <span class="text-culture">Square of Miracles</span>',
                    require: ["engineering"],
                    rank: 12
                },
                physics: {
                    id: "physics",
                    label: "Physics",
                    description: 'Unlock <span class="text-troop">Trebuchet</span><br/>Increase <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.',
                    require: ["engineering"],
                    rank: 12
                },
                steel: {
                    id: "steel",
                    label: "Steel",
                    description: 'Unlock <span class="text-prod">Armory</span><br/>Unlock <span class="text-troop">Longswordsman</span>',
                    require: ["chivalry"],
                    rank: 12
                },
                education: {
                    id: "education",
                    label: "Education",
                    description: 'Unlock <span class="text-prod">University</span><br/>Unlock <span class="text-troop">Explorer</span><br/>Unlock <span class="text-culture">Reformation</span><br/>Unlock <span class="text-culture">Scientific State</span><br/>Unlock <span class="text-culture">Scholasticism</span>',
                    require: ["music_theory", "anatomy"],
                    rank: 12
                },
                gunpowder: {
                    id: "gunpowder",
                    label: "Gunpowder",
                    description: 'Unlock <span class="text-prod">Police Station</span><br/>Unlock <span class="text-troop">Musketman</span><br/>Unlock <span class="text-culture">Police State</span>',
                    require: ["advanced_fortification", "education", "steel"],
                    rank: 13
                },
                astronomy: {
                    id: "astronomy",
                    label: "Astronomy",
                    description: 'Unlock <span class="text-special">Colonization</span><br/>Unlock <span class="text-special">Casa da India</span><br/>Unlock <span class="text-prod">Seaport</span><br/>Unlock <span class="text-troop">Caravel</span><br/>Unlock <span class="text-culture">Colonialism</span><br/>Unlock <span class="text-culture">Colonial Conquest</span>',
                    require: ["education", "physics"],
                    rank: 13
                },
                printing: {
                    id: "printing",
                    label: "Printing Press",
                    description: 'Unlock <span class="text-special">Cultural promotion</span><br/>Unlock <span class="text-special">Forbidden City</span><br/>Unlock <span class="text-culture">Holy Place</span><br/>Unlock <span class="text-culture">Cultural Promotion</span>',
                    require: ["education", "steel"],
                    rank: 13
                },
                acoustics: {
                    id: "acoustics",
                    label: "Acoustics",
                    description: 'Unlock <span class="text-prod">Opera</span><br/>Unlock <span class="text-special">Sistine Chapel</span><br/>Unlock <span class="text-special">Palace of Versailles</span>',
                    require: ["education", "physics"],
                    rank: 13
                },
                chemistry: {
                    id: "chemistry",
                    label: "Chemistry",
                    description: 'Unlock <span class="text-troop">Cannon</span><br/>Unlock <span class="text-culture">Red Cross</span>',
                    require: ["astronomy", "gunpowder"],
                    rank: 14
                },
                metallurgy: {
                    id: "metallurgy",
                    label: "Metallurgy",
                    description: 'Unlock <span class="text-prod">Ironworks</span>',
                    require: ["printing", "gunpowder"],
                    rank: 14
                },
                architecture: {
                    id: "architecture",
                    label: "Architecture",
                    description: 'Unlock <span class="text-prod">Courthouse</span><br/>Unlock <span class="text-special">Taj Mahal</span><br/>Unlock <span class="text-special">Tower of Pisa</span>',
                    require: ["printing", "acoustics"],
                    rank: 14
                },
                economics: {
                    id: "economics",
                    label: "Economics",
                    description: 'Unlock <span class="text-prod">Stock Exchange</span><br/>Unlock <span class="text-special">Big Ben</span><br/>Unlock <span class="text-culture">Collaboration</span><br/>Unlock <span class="text-culture">Geographical Society</span>',
                    require: ["printing"],
                    rank: 14
                },
                fertilizer: {
                    id: "fertilizer",
                    label: "Fertilizer",
                    description: '<span class="text-food">+2 <i class="' + $f.food + '"></i> / farmer</span><br/>Unlock <span class="text-culture">Medical Procedures</span>',
                    require: ["economics", "chemistry"],
                    rank: 15
                },
                rigging: {
                    id: "rigging",
                    label: "Square Rigging",
                    description: '<span class="text-gold">+3% <i class="' + $f.gold + '"></i> / colony</span><br/>Unlock <span class="text-prod">Zoo</span><br/>Increase <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> max dist.<br/>Unlock <span class="text-culture">Conscription</span>',
                    require: ["architecture", "metallurgy"],
                    rank: 15
                },
                siege: {
                    id: "siege",
                    label: "Siege Tactics",
                    description: 'Unlock <span class="text-prod">Fortress</span>',
                    require: ["architecture", "metallurgy"],
                    rank: 15
                },
                production: {
                    id: "production",
                    label: "Mass Production",
                    description: 'Unlock <span class="text-prod">Arsenal</span><br/>Unlock <span class="text-culture">Monopoly</span>',
                    require: ["economics", "metallurgy"],
                    rank: 15
                },
                scientific: {
                    id: "scientific",
                    label: "Scientific Theory",
                    description: 'Unlock <span class="text-prod">Public School</span><br/>Unlock <span class="text-special">Oxford University</span><br/>Unlock <span class="text-culture">World Congress</span>',
                    require: ["rigging", "fertilizer"],
                    rank: 16
                },
                industrialization: {
                    id: "industrialization",
                    label: "Industrialization",
                    description: 'Unlock <span class="text-prod">Factory</span><br/>Unlock <span class="text-prod">Progress</span><br/>Unlock <span class="text-special">Ruhr Valley</span><br/>Unlock <span class="text-troop">Engineer</span>',
                    require: ["rigging", "production"],
                    rank: 16
                },
                military: {
                    id: "military",
                    label: "Military Science",
                    description: 'Unlock <span class="text-troop">Cavalry</span><br/>Unlock <span class="text-special">Brandenburg Gate</span>',
                    require: ["siege", "production"],
                    rank: 16
                },
                archeology: {
                    id: "archeology",
                    label: "Archeology",
                    description: 'Unlock <span class="text-special">Ruins</span> (Tech +100 req.)<br/>Unlock <span class="text-troop">Archeologist</span> (Tech +100 req.)<br/>Unlock <span class="text-prod">Museum</span><br/>Unlock <span class="text-special">Hermitage</span>',
                    require: ["production"],
                    rank: 16
                },
                steam: {
                    id: "steam",
                    label: "Steam Power",
                    description: 'Unlock <span class="text-prod">Coal Mine</span><br/>Unlock <span class="text-special">Panama Canal</span>',
                    require: ["industrialization", "scientific"],
                    rank: 17
                },
                corporation: {
                    id: "corporation",
                    label: "Corporation",
                    description: 'Unlock <span class="text-prod">Gold Reserve</span><br/><span class="text-trade">+1 <i class="' + $f.trade + '"></i> trade route</span><br/>Unlock <span class="text-culture">Liberalism</span><br/>Allow buying <span class="text-prod">Progress</span> with <i class="text-gold ' + $f.gold + '"></i>',
                    require: ["scientific", "military"],
                    rank: 17
                },
                rifling: {
                    id: "rifling",
                    label: "Rifling",
                    description: 'Unlock <span class="text-troop">Rifleman</span>',
                    require: ["industrialization", "military"],
                    rank: 17
                },
                biology: {
                    id: "biology",
                    label: "Biology",
                    description: 'Unlock <span class="text-prod">Dispensary</span><br/>Unlock <span class="text-culture">National Institute of Health</span>',
                    require: ["scientific", "archeology"],
                    rank: 17
                },
                electricity: {
                    id: "electricity",
                    label: "Electricity",
                    description: 'Unlock <span class="text-improvement">Industrial Park</span><br/>Unlock <span class="text-prod">Hydro Plant</span>',
                    require: ["steam"],
                    rank: 18
                },
                railroad: {
                    id: "railroad",
                    label: "Railroad",
                    description: 'Unlock <span class="text-improvement">Railroad</span><br/>Unlock <span class="text-special">Eiffel Tower</span>',
                    require: ["steam", "corporation"],
                    rank: 18
                },
                dynamite: {
                    id: "dynamite",
                    label: "Dynamite",
                    description: 'Unlock <span class="text-troop">Artillery</span><br/>Unlock <span class="text-culture">Civilizing Mission</span>',
                    require: ["steam", "rifling"],
                    rank: 18
                },
                sanitation: {
                    id: "sanitation",
                    label: "Sanitation",
                    description: 'Unlock <span class="text-improvement">Mechanized Farm</span><br/>Unlock <span class="text-prod">Quarantine Station</span><br/>Unlock <span class="text-culture">World Health Organization</span>',
                    require: ["biology"],
                    rank: 18
                },
                future: {
                    id: "future",
                    label: "Future Tech.",
                    description: 'Can be researched repeatedly.<br/>Produce <span class="text-progress"><i class="' + $f.progress + '"></i> +10</span>',
                    require: ["electricity", "railroad", "dynamite", "sanitation"],
                    rank: 19
                }
            },
            Kf = {
                groups: {
                    traditionalism: {
                        id: "traditionalism",
                        name: "Traditionalism",
                        description: '<span class="text-culture"><i class="' + $f.culture + '"></i> +15%</span> in the Capital<br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Imperialism</span><b>',
                        require: "art",
                        lockedBy: "imperialism"
                    },
                    imperialism: {
                        id: "imperialism",
                        name: "Imperialism",
                        description: '<span class="text-culture"><i class="' + $f.culture + '"></i> +5% </span>/ city<br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Traditionalism</span><b>',
                        require: "art",
                        lockedBy: "traditionalism"
                    },
                    piety: {
                        id: "piety",
                        name: "Piety",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +2 </span>/ shrine<br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Rationalism</span><b>',
                        require: "herding",
                        lockedBy: "rationalism"
                    },
                    rationalism: {
                        id: "rationalism",
                        name: "Rationalism",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +1 </span>/ scientist<br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Piety</span><b>',
                        require: "writing",
                        lockedBy: "piety"
                    },
                    pacifism: {
                        id: "pacifism",
                        name: "Pacifism",
                        description: '<span class="text-trade"><i class="' + $f.trade + '"></i> +2 </span> trade routes<br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Militarism</span><b>',
                        require: "navigation",
                        lockedBy: "militarism"
                    },
                    militarism: {
                        id: "militarism",
                        name: "Militarism",
                        description: 'Military buildings cost <span class="text-gold"><i class="' + $f.gold + '"></i> -25%</span> <span class="text-prod"><i class="' + $f.prod + '"></i> -25%</span><br/><i class="' + $f.forbidden + '"></i><b>Exclude <span class="text-culture">Pacifism</span><b>',
                        require: "state",
                        lockedBy: "pacifism"
                    }
                },
                policies: {
                    wisdom_ancients: {
                        id: "wisdom_ancients",
                        name: "Wisdom of the Ancients",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +25%</span> in the Capital',
                        require: {
                            science: "herding",
                            policy: ""
                        },
                        groups: ["traditionalism"]
                    },
                    aristocracy: {
                        id: "aristocracy",
                        name: "Aristocracy",
                        description: '<span class="text-gold"><i class="' + $f.gold + '"></i> +25%</span> in the Capital',
                        require: {
                            science: "armies",
                            policy: "wisdom_ancients"
                        },
                        groups: ["traditionalism"]
                    },
                    city_state: {
                        id: "city_state",
                        name: "City-state",
                        description: '<i class="' + $f.defense + '"></i> +20% in the Capital',
                        require: {
                            science: "calendar",
                            policy: "aristocracy"
                        },
                        groups: ["traditionalism"]
                    },
                    oligarchy: {
                        id: "oligarchy",
                        name: "Oligarchy",
                        description: "Reduce troop maintenance in the Capital by half",
                        require: {
                            science: "literature",
                            policy: "city_state"
                        },
                        groups: ["traditionalism"]
                    },
                    landed_elite: {
                        id: "landed_elite",
                        name: "Landed Elite",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +50%</span> in the Capital',
                        require: {
                            science: "monarchy",
                            policy: "oligarchy"
                        },
                        groups: ["traditionalism"]
                    },
                    conservatism: {
                        id: "conservatism",
                        name: "Conservatism",
                        description: '<span class="text-influence"><i class="' + $f.influence + '"></i> -25%</span> form other civilizations',
                        require: {
                            science: "milling",
                            policy: "landed_elite"
                        },
                        groups: ["traditionalism"]
                    },
                    isolationism: {
                        id: "isolationism",
                        name: "Isolationism",
                        description: '<span class="text-health"><i class="' + $f.health + '"></i> +15%</span> in the Capital',
                        require: {
                            science: "civil_service",
                            policy: "conservatism"
                        },
                        groups: ["traditionalism"]
                    },
                    collective_rules: {
                        id: "collective_rules",
                        name: "Collective Rules",
                        description: 'Governor cost <span class="text-gold"><i class="' + $f.gold + '"></i> -25%</span>',
                        require: {
                            science: "state",
                            policy: ""
                        },
                        groups: ["imperialism"]
                    },
                    meritocracy: {
                        id: "meritocracy",
                        name: "Meritocracy",
                        description: '<span class="text-gold"><i class="' + $f.gold + '"></i> +5%</span> in every city',
                        require: {
                            science: "armies",
                            policy: "collective_rules"
                        },
                        groups: ["imperialism"]
                    },
                    administration: {
                        id: "administration",
                        name: "Administration",
                        description: '<span class="text-prod"><i class="' + $f.prod + '"></i> +5%</span> in every city',
                        require: {
                            science: "code_of_laws",
                            policy: "meritocracy"
                        },
                        groups: ["imperialism"]
                    },
                    patriotism: {
                        id: "patriotism",
                        name: "Patriotism",
                        description: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span> in every city',
                        require: {
                            science: "diplomacy",
                            policy: "administration"
                        },
                        groups: ["imperialism"]
                    },
                    colonialism: {
                        id: "colonialism",
                        name: "State Religion",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +15%</span> in every city',
                        require: {
                            science: "republic",
                            policy: "patriotism"
                        },
                        groups: ["imperialism"]
                    },
                    colonialism1: {
                        id: "colonialism1",
                        name: "Colonialism",
                        description: "Caravel cost -50% & recruit time -50%",
                        require: {
                            science: "astronomy",
                            policy: "colonialism"
                        },
                        groups: ["imperialism"]
                    },
                    geographical: {
                        id: "geographical",
                        name: "Geographical Society",
                        description: '+ 2% <i class="text-science ' + $f.science + '"></i> / <span class="text-colony"><i class="' + $f.colony + '"></i> Colony</span>',
                        require: {
                            science: "economics",
                            policy: "colonialism1"
                        },
                        groups: ["imperialism"]
                    },
                    religious_laws: {
                        id: "religious_laws",
                        name: "Religious Laws",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +2</span> / trade route',
                        require: {
                            science: "code_of_laws",
                            policy: ""
                        },
                        groups: ["piety"]
                    },
                    organized_religion: {
                        id: "organized_religion",
                        name: "Organized Religion",
                        description: '<span class="text-health"><i class="' + $f.health + '"></i> +5%</span> / Temple',
                        require: {
                            science: "religion",
                            policy: "religious_laws"
                        },
                        groups: ["piety"]
                    },
                    theocracy: {
                        id: "theocracy",
                        name: "Theocracy",
                        description: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span> / Monastery',
                        require: {
                            science: "theology",
                            policy: "organized_religion"
                        },
                        groups: ["piety"]
                    },
                    holy_wars: {
                        id: "holy_wars",
                        name: "Holy Wars",
                        description: 'Knights cost <span class="text-gold"><i class="' + $f.gold + '"></i> -25%</span>',
                        require: {
                            science: "chivalry",
                            policy: "theocracy"
                        },
                        groups: ["piety"]
                    },
                    reformation: {
                        id: "reformation",
                        name: "Reformation",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +10%</span> <span class="text-faith"><i class="' + $f.faith + '"></i> +10%</span> / Monastery',
                        require: {
                            science: "education",
                            policy: "holy_wars"
                        },
                        groups: ["piety"]
                    },
                    holy_place: {
                        id: "holy_place",
                        name: "Holy Place",
                        description: '<span class="text-influence"><i class="' + $f.influence + '"></i> +25%</span> towards civilization with same religion',
                        require: {
                            science: "printing",
                            policy: "reformation"
                        },
                        groups: ["piety"]
                    },
                    red_cross: {
                        id: "red_cross",
                        name: "Red Cross",
                        description: "Reduce risks of loosing citizens, troops and trade routes from disease & plague by 50%",
                        require: {
                            science: "chemistry",
                            policy: "holy_place"
                        },
                        groups: ["piety"]
                    },
                    code_of_laws: {
                        id: "code_of_laws",
                        name: "Code of Laws",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +0.1</span> / citizen',
                        require: {
                            science: "code_of_laws",
                            policy: ""
                        },
                        groups: ["rationalism"]
                    },
                    philosophy: {
                        id: "philosophy",
                        name: "Philosophy",
                        description: '<span class="text-culture"><i class="' + $f.culture + '"></i> +5%</span> / library',
                        require: {
                            science: "literature",
                            policy: "code_of_laws"
                        },
                        groups: ["rationalism"]
                    },
                    secularism: {
                        id: "secularism",
                        name: "Secularism",
                        description: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span> / shrine',
                        require: {
                            science: "theology",
                            policy: "philosophy"
                        },
                        groups: ["rationalism"]
                    },
                    sovereignty: {
                        id: "sovereignty",
                        name: "Sovereignty",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +2</span> / trade route',
                        require: {
                            science: "feudalism",
                            policy: "secularism"
                        },
                        groups: ["rationalism"]
                    },
                    scientific_state: {
                        id: "scientific_state",
                        name: "Scientific State",
                        description: '<span class="text-science"><i class="' + $f.science + '"></i> +10%</span> <span class="text-faith"><i class="' + $f.faith + '"></i> +10%</span> / University',
                        require: {
                            science: "education",
                            policy: "sovereignty"
                        },
                        groups: ["rationalism"]
                    },
                    cultural_promotion: {
                        id: "cultural_promotion",
                        name: "Cultural Promotion",
                        description: '<span class="text-influence"><i class="' + $f.influence + '"></i> +10%</span> / trade route',
                        require: {
                            science: "printing",
                            policy: "scientific_state"
                        },
                        groups: ["rationalism"]
                    },
                    procedures: {
                        id: "procedures",
                        name: "Medical Procedures",
                        description: '<span class="text-health"><i class="' + $f.health + '"></i> +5%</span> / hospital',
                        require: {
                            science: "fertilizer",
                            policy: "cultural_promotion"
                        },
                        groups: ["rationalism"]
                    },
                    patronage: {
                        id: "patronage",
                        name: "Patronage",
                        description: 'Starting relation <span class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +10</span>',
                        require: {
                            science: "diplomacy",
                            policy: ""
                        },
                        groups: ["pacifism"]
                    },
                    philantropy: {
                        id: "philantropy",
                        name: "Philantropy",
                        description: '<span class="text-diplomacy"><i class="' + $f.diplomacy + '"></i> +1</span> / trade route<br/>Caravans & Caravels cost <span class="text-gold"><i class="' + $f.gold + '"></i> -25%</span>',
                        require: {
                            science: "drama",
                            policy: "patronage"
                        },
                        groups: ["pacifism"]
                    },
                    cultural_diplomacy: {
                        id: "cultural_diplomacy",
                        name: "Cultural Diplomacy",
                        description: '<span class="text-culture"><i class="' + $f.culture + '"></i> +15%</span> / trade route',
                        require: {
                            science: "republic",
                            policy: "philantropy"
                        },
                        groups: ["pacifism"]
                    },
                    merchant_confederacy: {
                        id: "merchant_confederacy",
                        name: "Merchant Confederacy",
                        description: '<span class="text-gold"><i class="' + $f.gold + '"></i> +15%</span> / trade route',
                        require: {
                            science: "currency",
                            policy: "cultural_diplomacy"
                        },
                        groups: ["pacifism"]
                    },
                    scholasticism: {
                        id: "scholasticism",
                        name: "Scholasticism",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +5</span> / trade route<br/><span class="text-trade"><i class="' + $f.trade + '"></i> +2 </span> trade routes',
                        require: {
                            science: "education",
                            policy: "merchant_confederacy"
                        },
                        groups: ["pacifism"]
                    },
                    collaboration: {
                        id: "collaboration",
                        name: "Collaboration",
                        description: '<span class="text-influence"><i class="' + $f.influence + '"></i> +5%</span> towards civilization at peace<br/><span class="text-influence"><i class="' + $f.influence + '"></i> +10%</span> towards allied civilization<br/>',
                        require: {
                            science: "economics",
                            policy: "scholasticism"
                        },
                        groups: ["pacifism"]
                    },
                    monopoly: {
                        id: "monopoly",
                        name: "Monopoly",
                        description: '<span class="text-food"><i class="' + $f.food + '"></i> +10%</span> and <span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span> in cities with trade routes.',
                        require: {
                            science: "production",
                            policy: "collaboration"
                        },
                        groups: ["pacifism"]
                    },
                    code_of_honor: {
                        id: "code_of_honor",
                        name: "Code of Honor",
                        description: '<i class="' + $f.attack + '"></i> +15% attack & defense against barbarians',
                        require: {
                            science: "armies",
                            policy: ""
                        },
                        groups: ["militarism"]
                    },
                    despotism: {
                        id: "despotism",
                        name: "Despotism",
                        description: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +5%</span> / barracks',
                        require: {
                            science: "code_of_laws",
                            policy: "code_of_honor"
                        },
                        groups: ["militarism"]
                    },
                    discipline: {
                        id: "discipline",
                        name: "Discipline",
                        description: '<i class="' + $f.siege + '"></i> +25% chance to break walls & castle with siege units',
                        require: {
                            science: "tactics",
                            policy: "despotism"
                        },
                        groups: ["militarism"]
                    },
                    military_tradition: {
                        id: "military_tradition",
                        name: "Military Tradition",
                        description: 'Military units cost <span class="text-gold"><i class="' + $f.gold + '"></i> -25%</span>',
                        require: {
                            science: "feudalism",
                            policy: "discipline"
                        },
                        groups: ["militarism"]
                    },
                    professional_army: {
                        id: "professional_army",
                        name: "Professional Army",
                        description: "Reduce troop maintenance by half",
                        require: {
                            science: "chivalry",
                            policy: "military_tradition"
                        },
                        groups: ["militarism"]
                    },
                    colonial_conquest: {
                        id: "colonial_conquest",
                        name: "Colonial Conquest",
                        description: '<span class="text-gold"><i class="' + $f.gold + '"></i> +5% / colony</span> ',
                        require: {
                            science: "astronomy",
                            policy: "professional_army"
                        },
                        groups: ["militarism"]
                    },
                    conscription: {
                        id: "conscription",
                        name: "Conscription",
                        description: "Chances to receive troops from your colonies",
                        require: {
                            science: "rigging",
                            policy: "colonial_conquest"
                        },
                        groups: ["militarism"]
                    },
                    wonder_builder: {
                        id: "wonder_builder",
                        name: "Wonder builder",
                        description: 'Worker can be converted into <span class="text-prod"><i class="' + $f.prod + '"></i> 600 (increase with scientific adv.)</span>',
                        require: {
                            science: "horseriding",
                            policy: ""
                        },
                        groups: ["traditionalism", "piety"]
                    },
                    who: {
                        id: "who",
                        name: "World Health Organization",
                        description: '<span class="text-health"><i class="' + $f.health + '"></i> +8%</span> / <span class="text-pop">Scientist</span>',
                        require: {
                            science: "sanitation",
                            policy: ""
                        },
                        groups: ["traditionalism", "rationalism"]
                    },
                    academy: {
                        id: "academy",
                        name: "Platonic Academy",
                        description: '+1 <span class="text-trade"><i class="' + $f.trade + '"></i></span><br/><span class="text-science"><i class="' + $f.science + '"></i> +5</span> / <span class="text-trade"><i class="' + $f.trade + '"></i></span>',
                        require: {
                            science: "writing",
                            policy: ""
                        },
                        groups: ["traditionalism", "pacifism"]
                    },
                    slavery: {
                        id: "slavery",
                        name: "Organized Slavery",
                        description: "50% chances to get a 2nd worker when slaver attack is succesful (only if enemy city has enough population)",
                        require: {
                            science: "code_of_laws",
                            policy: ""
                        },
                        groups: ["traditionalism", "militarism"]
                    },
                    proselytism: {
                        id: "proselytism",
                        name: "Proselytism",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i> +1%</span> / nb of cities',
                        require: {
                            science: "music_theory",
                            policy: ""
                        },
                        groups: ["imperialism", "piety"]
                    },
                    nih: {
                        id: "nih",
                        name: "National Institute of Health",
                        description: '<span class="text-health"><i class="' + $f.health + '"></i> +5%</span> (globally)',
                        require: {
                            science: "biology",
                            policy: ""
                        },
                        groups: ["imperialism", "rationalism"]
                    },
                    congress: {
                        id: "congress",
                        name: "World Congress",
                        description: '<span class="text-influence"><i class="' + $f.influence + '"></i> +25%</span>',
                        require: {
                            science: "scientific",
                            policy: ""
                        },
                        groups: ["imperialism", "pacifism"]
                    },
                    police_state: {
                        id: "police_state",
                        name: "Police State",
                        description: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</span> / Courthouse',
                        require: {
                            science: "gunpowder",
                            policy: ""
                        },
                        groups: ["imperialism", "militarism"]
                    },
                    miracles: {
                        id: "miracles",
                        name: "Square of Miracles",
                        description: '<span class="text-magic"><i class="' + $f.spells + '"></i>Spells</span> cooldown reduced by 20%',
                        require: {
                            science: "advanced_fortification",
                            policy: ""
                        },
                        groups: ["piety", "pacifism"]
                    },
                    crusades: {
                        id: "crusades",
                        name: "Crusades",
                        description: '<span class="text-faith"><i class="' + $f.faith + '"></i></span> +10 / enemy killed (attacking only)',
                        require: {
                            science: "theology",
                            policy: ""
                        },
                        groups: ["piety", "militarism"]
                    },
                    liberalism: {
                        id: "liberalism",
                        name: "Liberalism",
                        description: '<span class="text-prod"><i class="' + $f.prod + '"></i> +25%</span> when building <span class="text-prod">Progress</span>',
                        require: {
                            science: "corporation",
                            policy: ""
                        },
                        groups: ["rationalism", "pacifism"]
                    },
                    civilizing: {
                        id: "civilizing",
                        name: "Civilizing Mission",
                        description: '<span class="text-progress"><i class="' + $f.progress + '"></i> +50</span> on city conquest',
                        require: {
                            science: "dynamite",
                            policy: ""
                        },
                        groups: ["rationalism", "militarism"]
                    }
                }
            },
            Zf = {
                warrior: {
                    id: "warrior",
                    name: function (n) {
                        return "aztecs" == n.civ_id ? "Eagle Warrior" : "Warrior"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 20 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 20
                    },
                    attack: function (n) {
                        return "aztecs" == n.civ_id ? 6 : 2
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 1
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 20,
                    require: {
                        science: "tools",
                        building: "barracks"
                    },
                    obsolete: "iron_working",
                    upgradable: "swordsman",
                    special: !1,
                    conscript: !0
                },
                swordsman: {
                    id: "swordsman",
                    name: function (n) {
                        return "romans" == n.civ_id ? "Legion" : "Swordsman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 200 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 100
                    },
                    attack: function (n) {
                        return "romans" == n.civ_id ? 25 : 15
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function (n) {
                        return "romans" == n.civ_id ? 20 : 10
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 40,
                    require: {
                        science: "iron_working",
                        building: "barracks"
                    },
                    obsolete: "steel",
                    upgradable: "longswordsman",
                    special: !1,
                    conscript: !0
                },
                longswordsman: {
                    id: "longswordsman",
                    name: function (n) {
                        return "japanese" == n.civ_id ? "Samurai" : "vikings" == n.civ_id ? "Berserker" : "Longswordsman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 2e3 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 500
                    },
                    attack: function (n) {
                        return "japanese" == n.civ_id ? 45 : "vikings" == n.civ_id ? 50 : 35
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function (n) {
                        return "japanese" == n.civ_id ? 40 : 30
                    },
                    speed: function (n) {
                        return "vikings" == n.civ_id ? 2 : 1
                    },
                    capacity: 50,
                    require: {
                        science: "steel",
                        building: "barracks"
                    },
                    obsolete: "rifling",
                    special: !1,
                    conscript: !0
                },
                horseman: {
                    id: "horseman",
                    name: function (n) {
                        return "indians" == n.civ_id ? "War elephant" : "Horseman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 30 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 40
                    },
                    attack: function () {
                        return 3
                    },
                    ranged: function (n) {
                        return "indians" == n.civ_id
                    },
                    siege: !1,
                    defense: function () {
                        return 1
                    },
                    speed: function () {
                        return 3
                    },
                    capacity: 80,
                    require: {
                        science: "horseriding",
                        building: "stables"
                    },
                    obsolete: "chivalry",
                    upgradable: "knight",
                    special: !1,
                    conscript: !0
                },
                knight: {
                    id: "knight",
                    name: function (n) {
                        return "mongols" == n.civ_id ? "Keshik" : "Knight"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 300 * (n && n.hasPolicy("holy_wars", l) ? .75 : 1) * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 200
                    },
                    attack: function () {
                        return 30
                    },
                    ranged: function (n) {
                        return "mongols" == n.civ_id
                    },
                    siege: !1,
                    defense: function () {
                        return 10
                    },
                    speed: function () {
                        return 2
                    },
                    capacity: 200,
                    require: {
                        science: "chivalry",
                        building: "stables"
                    },
                    obsolete: "production",
                    upgradable: "cavalry",
                    special: !1,
                    conscript: !0
                },
                cavalry: {
                    id: "cavalry",
                    name: function (n) {
                        return "russians" == n.civ_id ? "Cossack" : "spanish" == n.civ_id ? "Conquistador" : "Cavalry"
                    },
                    description: "",
                    gold: function (n, l) {
                        return ("russians" == n.player(l).civ_id ? 2e3 : 3e3) * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 600
                    },
                    attack: function (n) {
                        return "russians" == n.civ_id ? 80 : 60
                    },
                    ranged: function (n) {
                        return "spanish" == n.civ_id
                    },
                    siege: !1,
                    defense: function () {
                        return 20
                    },
                    speed: function () {
                        return 3
                    },
                    capacity: 400,
                    require: {
                        science: "military",
                        building: "stables"
                    },
                    special: !1,
                    conscript: !0
                },
                archer: {
                    id: "archer",
                    name: function () {
                        return "Archer"
                    },
                    description: "Ranged units attack before all other troops",
                    gold: function (n, l) {
                        return 30 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 40
                    },
                    attack: function () {
                        return 2
                    },
                    ranged: function () {
                        return !0
                    },
                    siege: !1,
                    defense: function () {
                        return 2
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 10,
                    require: {
                        science: "archery",
                        building: "barracks"
                    },
                    obsolete: "optics",
                    upgradable: "longbowman",
                    special: !1,
                    conscript: !0
                },
                longbowman: {
                    id: "longbowman",
                    name: function () {
                        return "Longbowman"
                    },
                    description: "Ranged units attack before all other troops",
                    gold: function (n, l) {
                        return 300 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 200
                    },
                    attack: function () {
                        return 10
                    },
                    ranged: function () {
                        return !0
                    },
                    siege: !1,
                    defense: function () {
                        return 8
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 20,
                    require: {
                        science: "optics",
                        building: "barracks"
                    },
                    obsolete: "gunpowder",
                    upgradable: "musketman",
                    special: !1,
                    conscript: !0
                },
                musketman: {
                    id: "musketman",
                    name: function (n) {
                        return "americans" == n.civ_id ? "Minuteman" : "Musketman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return ("americans" == n.player(l).civ_id ? 2e3 : 3e3) * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 600
                    },
                    attack: function (n) {
                        return "americans" == n.civ_id ? 40 : 30
                    },
                    ranged: function () {
                        return !0
                    },
                    siege: !1,
                    defense: function () {
                        return 30
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 30,
                    require: {
                        science: "gunpowder",
                        building: "barracks"
                    },
                    special: !1,
                    conscript: !0
                },
                rifleman: {
                    id: "rifleman",
                    name: function (n) {
                        return "english" == n.civ_id ? "Red Coat" : "Rifleman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 2e4 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 1e3
                    },
                    attack: function (n) {
                        return "english" == n.civ_id ? 80 : 60
                    },
                    ranged: function () {
                        return !0
                    },
                    siege: !1,
                    defense: function () {
                        return 50
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 50,
                    require: {
                        science: "rifling",
                        building: "barracks"
                    },
                    special: !1,
                    conscript: !0
                },
                lancier: {
                    id: "lancier",
                    name: function (n) {
                        return "greeks" == n.civ_id ? "Hoplite" : "persians" == n.civ_id ? "Immortal" : "Lancier"
                    },
                    description: "Melee unit specialized in defense",
                    gold: function (n, l) {
                        return ("persians" == n.player(l).civ_id ? 20 : 30) * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 40
                    },
                    attack: function (n) {
                        return "greeks" == n.civ_id ? 7 : "persians" == n.civ_id ? 5 : 1
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 4
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 10,
                    require: {
                        science: "bronze_working",
                        building: "barracks"
                    },
                    obsolete: "civil_service",
                    upgradable: "pikeman",
                    special: !1,
                    conscript: !0
                },
                pikeman: {
                    id: "pikeman",
                    name: function (n) {
                        return "zulus" == n.civ_id ? "Impi" : "Pikeman"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 300 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 200
                    },
                    attack: function (n) {
                        return "zulus" == n.civ_id ? 21 : 1
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 30
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 20,
                    require: {
                        science: "civil_service",
                        building: "barracks"
                    },
                    special: !1,
                    conscript: !0
                },
                catapult: {
                    id: "catapult",
                    name: function (n) {
                        return "assyrians" == n.civ_id ? "Siege Tower" : "Catapult"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 60 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 80
                    },
                    attack: function (n) {
                        return "assyrians" == n.civ_id ? 8 : 4
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !0,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return .5
                    },
                    capacity: 0,
                    require: {
                        science: "mathematics",
                        building: "sif"
                    },
                    obsolete: "physics",
                    upgradable: "trebuchet",
                    special: !1
                },
                trebuchet: {
                    id: "trebuchet",
                    name: function () {
                        return "Trebuchet"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 600 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 400
                    },
                    attack: function () {
                        return 40
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !0,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return .5
                    },
                    capacity: 0,
                    require: {
                        science: "physics",
                        building: "sif"
                    },
                    obsolete: "chemistry",
                    upgradable: "cannon",
                    special: !1
                },
                cannon: {
                    id: "cannon",
                    name: function () {
                        return "Cannon"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 6e3 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 800
                    },
                    attack: function () {
                        return 60
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !0,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return .5
                    },
                    capacity: 0,
                    require: {
                        science: "chemistry",
                        building: "sif"
                    },
                    special: !1
                },
                artillery: {
                    id: "artillery",
                    name: function () {
                        return "Artillery"
                    },
                    description: "",
                    gold: function (n, l) {
                        return 15e3 * (n && n.hasPolicy("military_tradition", l) ? .75 : 1)
                    },
                    time: function () {
                        return 1200
                    },
                    attack: function () {
                        return 90
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !0,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "dynamite",
                        building: "sif"
                    },
                    special: !1
                },
                governor: {
                    id: "governor",
                    name: function () {
                        return "Governor"
                    },
                    description: "Governors are used to capture enemy cities",
                    gold: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return n ? n.govCost(l) : 0
                    },
                    time: function () {
                        return 1e3
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "state",
                        building: "town_hall"
                    },
                    special: !1,
                    noautorecruit: !0
                },
                scout: {
                    id: "scout",
                    name: function () {
                        return "Scout"
                    },
                    description: "Scouts are used to explore the world",
                    gold: function () {
                        return 40
                    },
                    time: function () {
                        return 40
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "exploration",
                        building: "lo"
                    },
                    obsolete: "education",
                    upgradable: "explorer",
                    special: !0
                },
                explorer: {
                    id: "explorer",
                    name: function () {
                        return "Explorer"
                    },
                    description: "Explorer are like scouts, but faster and more resistant",
                    gold: function () {
                        return 1e3
                    },
                    time: function () {
                        return 100
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 2
                    },
                    capacity: 0,
                    require: {
                        science: "education",
                        building: "town_hall"
                    },
                    special: !0
                },
                worker: {
                    id: "worker",
                    name: function () {
                        return "Worker"
                    },
                    description: 'Workers can build improvements. Each worker can build a limited amount of improvements. Cost <span class="text-pop"><i class="' + $f.pop + '"></i>1</span>',
                    gold: function () {
                        return 100
                    },
                    time: function () {
                        return 50
                    },
                    citizen: 1,
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "bronze_working",
                        building: "lo"
                    },
                    special: !0,
                    obsolete: "industrialization",
                    upgradable: "engineer"
                },
                engineer: {
                    id: "engineer",
                    name: function () {
                        return "Engineer"
                    },
                    description: 'Engineers can build advanced improvements. Cost <span class="text-pop"><i class="' + $f.pop + '"></i>1</span>',
                    gold: function () {
                        return 5e3
                    },
                    time: function () {
                        return 600
                    },
                    citizen: 1,
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 2
                    },
                    capacity: 0,
                    require: {
                        science: "industrialization",
                        building: "town_hall"
                    },
                    special: !0
                },
                slaver: {
                    id: "slaver",
                    name: function () {
                        return "Slaver"
                    },
                    description: "Slaver can capture slave workers when they are part of a succesful attack.",
                    gold: function () {
                        return 1500
                    },
                    time: function () {
                        return 100
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "bronze_working",
                        building: "lo"
                    },
                    special: !1
                },
                archeologist: {
                    id: "archeologist",
                    name: function () {
                        return "Archeologist"
                    },
                    description: 'Archeologists can retrieve <i class="' + $f.relics + ' text-relics"></i> relics from ruins',
                    gold: function () {
                        return 1e4
                    },
                    time: function () {
                        return 900
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "archeology",
                        building: "town_hall",
                        tech: 100
                    },
                    special: !0
                },
                spy: {
                    id: "spy",
                    name: function () {
                        return "Spy"
                    },
                    description: "Spies are used to see the details of a city. They can also steal science. Use more spies for better chances of success",
                    gold: function () {
                        return 600
                    },
                    time: function () {
                        return 100
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "monarchy",
                        building: "town_hall"
                    },
                    special: !0
                },
                caravan: {
                    id: "caravan",
                    name: function () {
                        return "Caravan"
                    },
                    description: "Caravans are used to create trade routes",
                    gold: function (n, l) {
                        return 400 * (n && n.hasPolicy("philantropy", l) ? .75 : 1)
                    },
                    time: function () {
                        return 300
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "navigation",
                        building: "lo"
                    },
                    special: !0,
                    noautorecruit: !0
                },
                caravel: {
                    id: "caravel",
                    name: function (n) {
                        return "portuguese" == n.civ_id ? "Nau" : "Caravel"
                    },
                    description: "Caravels are used to create colonies",
                    gold: function (n, l) {
                        return (0 == l ? 3e6 : 15e5) * ("portuguese" == n.player(l).civ_id ? .75 : 1) * (n && n.hasPolicy("philantropy", l) ? .75 : 1) * (n && n.hasPolicy("colonialism1", l) ? .5 : 1) * (n && n.hasWonder(l, "casa") ? .5 : 1)
                    },
                    time: function (n, l) {
                        return 1500 * (n && n.hasPolicy("colonialism1", l) ? .5 : 1) * (n && n.hasWonder(l, "casa") ? .5 : 1)
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "astronomy",
                        building: "seaport"
                    },
                    special: !0,
                    noautorecruit: !0
                },
                plague_doctor: {
                    id: "plague_doctor",
                    name: function () {
                        return "Plague Doctor"
                    },
                    description: "Plague Doctors are used to cure the plague and clear the city faster",
                    gold: function () {
                        return 500
                    },
                    time: function () {
                        return 100
                    },
                    attack: function () {
                        return 0
                    },
                    ranged: function () {
                        return !1
                    },
                    siege: !1,
                    defense: function () {
                        return 0
                    },
                    speed: function () {
                        return 1
                    },
                    capacity: 0,
                    require: {
                        science: "calendar",
                        building: "lo"
                    },
                    special: !0,
                    noautorecruit: !1
                }
            },
            Qf = {
                deity_selection: {
                    name: "Deity",
                    link: "/game/deity",
                    check: function (n) {
                        return n.hasScience("religion")
                    },
                    persistent: !1
                },
                spells: {
                    name: "Spells",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return n.hasScience("religion") && "" != l.players[0].deity
                    },
                    persistent: !1
                },
                daily_bonus: {
                    name: "Daily Bonus",
                    link: "/game/daily",
                    check: function (n) {
                        return n.hasScience("spirituality")
                    },
                    persistent: !0
                },
                reincarnation: {
                    name: "Reincarnation",
                    link: "/game/help#reincarnation",
                    check: function (n, l) {
                        return n.hasScience("theology") && "" != l.players[0].deity
                    },
                    persistent: !1
                },
                trade: {
                    name: "Trade",
                    link: "/game/help#trade",
                    check: function (n) {
                        return n.hasScience("navigation")
                    },
                    persistent: !1
                },
                colonization: {
                    name: "Colonization",
                    link: "/game/help#colonization",
                    check: function (n) {
                        return n.hasScience("astronomy")
                    },
                    persistent: !1
                },
                promotion: {
                    name: "Cultural promotion",
                    link: "/game/help#influence",
                    check: function (n) {
                        return n.hasScience("printing")
                    },
                    persistent: !1
                },
                alliance: {
                    name: "Alliance",
                    link: "/game/help#diplomacy",
                    check: function (n) {
                        return n.hasScience("diplomacy")
                    },
                    persistent: !1
                },
                diplo_global: {
                    name: "Global diplomacy",
                    link: "/game/diplomacy#tab_global",
                    check: function (n) {
                        return n.hasScience("diplomacy")
                    },
                    persistent: !1
                },
                spy: {
                    name: "Spying",
                    link: "/game/help#spy",
                    check: function (n) {
                        return n.hasScience("monarchy")
                    },
                    persistent: !1
                },
                queue_science: {
                    name: "Science queue",
                    link: "/game/science",
                    check: function (n, l) {
                        return l.rebirths > 0
                    },
                    persistent: !0
                },
                empire_orders: {
                    name: "Empire Orders",
                    link: "/game/empire#tab_orders",
                    check: function (n) {
                        return n.player().cities.length > 2
                    },
                    persistent: !1
                },
                citizen_builders: {
                    name: "Builder",
                    link: "/game/help#citizens",
                    check: function (n) {
                        return n.hasScience("tanning")
                    },
                    persistent: !1
                },
                citizen_merchants: {
                    name: "Merchant",
                    link: "/game/help#citizens",
                    check: function (n) {
                        return n.hasScience("trade")
                    },
                    persistent: !1
                },
                citizen_scientists: {
                    name: "Scientist",
                    link: "/game/help#citizens",
                    check: function (n) {
                        return n.hasScience("writing")
                    },
                    persistent: !1
                },
                citizen_artists: {
                    name: "Artist",
                    link: "/game/help#citizens",
                    check: function (n) {
                        return n.hasScience("art")
                    },
                    persistent: !1
                },
                citizen_priests: {
                    name: "Priest",
                    link: "/game/help#citizens",
                    check: function (n) {
                        return n.hasScience("religion")
                    },
                    persistent: !1
                },
                troops: {
                    name: "Troops",
                    link: "/game/help#war",
                    check: function (n) {
                        return n.hasScience("tools")
                    },
                    persistent: !1
                },
                buildings: {
                    name: "Buildings",
                    link: "/game/help#buildings",
                    check: function (n) {
                        return n.hasScience("tanning")
                    },
                    persistent: !1
                },
                queue_buildings: {
                    name: "Building queues",
                    link: "/game/help#buildings",
                    check: function (n) {
                        return n.player().cities.length > 1
                    },
                    persistent: !0
                },
                queue_troops: {
                    name: "Troop queues",
                    link: "/game/help#war",
                    check: function (n) {
                        return n.hasScience("archery")
                    },
                    persistent: !0
                },
                recruit_x10: {
                    name: "Recruitment x10 & Auto",
                    link: "/game/help#war",
                    check: function (n) {
                        return n.player().cities.length > 1
                    },
                    persistent: !0
                },
                recruit_x100: {
                    name: "Recruitment x100",
                    link: "/game/help#war",
                    check: function (n, l) {
                        return l.rebirths && l.rebirths > 0
                    },
                    persistent: !0
                },
                prod_purchase: {
                    name: "Building & troops purchase",
                    link: "/game/city",
                    check: function (n) {
                        return n.hasScience("writing")
                    },
                    persistent: !1
                },
                menu_empire: {
                    name: "Empire panel",
                    link: "/game/empire",
                    check: function (n) {
                        return n.hasScience("state")
                    },
                    persistent: !1
                },
                menu_world: {
                    name: "World panel",
                    link: "/game/world",
                    check: function (n) {
                        return n.hasScience("exploration")
                    },
                    persistent: !1
                },
                menu_policies: {
                    name: "Social Policies",
                    link: "/game/policies",
                    check: function (n) {
                        return n.hasScience("art")
                    },
                    persistent: !1
                },
                menu_powers: {
                    name: "Powers",
                    link: "/game/powers",
                    check: function (n, l) {
                        return n.isUnlocked("reincarnation") || l.rebirths > 0
                    },
                    persistent: !0
                },
                menu_diplomacy: {
                    name: "Diplomacy",
                    link: "/game/diplomacy",
                    check: function (n) {
                        return n.hasScience("navigation")
                    },
                    persistent: !1
                },
                menu_simulator: {
                    name: "Battle Simulator",
                    link: "/game/simulator",
                    check: function (n) {
                        return n.hasScience("tactics")
                    },
                    persistent: !1
                },
                orientation: {
                    name: "Technology",
                    link: "/game/empire#tab_orientation",
                    check: function (n) {
                        return n.hasScienceRank(16)
                    },
                    persistent: !1
                },
                era_ancient: {
                    name: "Ancient Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(3)
                    },
                    persistent: !0
                },
                era_classical: {
                    name: "Classical Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(6)
                    },
                    persistent: !0
                },
                era_medieval: {
                    name: "Medieval Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(9)
                    },
                    persistent: !0
                },
                era_renaissance: {
                    name: "Renaissance Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(12)
                    },
                    persistent: !0
                },
                era_industrial: {
                    name: "Industrial Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(15)
                    },
                    persistent: !0
                },
                era_future: {
                    name: "Future Era",
                    link: "/game/science",
                    check: function (n) {
                        return n.hasScienceRank(18)
                    },
                    persistent: !0
                },
                spell_newfire: {
                    name: "Spell: New Fire",
                    link: "/game/help#spells",
                    check: function (n) {
                        return "coatlicue" == n.player().deity && n.pop() >= 30
                    },
                    persistent: !0
                },
                spell_sacrifice: {
                    name: "Spell: Sacrifice",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "coatlicue" == n.player().deity && l.charging.newfire && l.charging.newfire >= 50
                    },
                    persistent: !0
                },
                spell_tradenode: {
                    name: "Spell: Trade Node",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "horus" == n.player().deity && n.goldTotal() >= 3e6
                    },
                    persistent: !0
                },
                spell_seshat: {
                    name: "Spell: Sechat's Wisdom",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "horus" == n.player().deity && n.tradeRouteNb() >= 15
                    },
                    persistent: !0
                },
                spell_berserker: {
                    name: "Spell: Berserker",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "odin" == n.player().deity && n.totalTroopNb() >= 500
                    },
                    persistent: !0
                },
                spell_appropriation: {
                    name: "Spell: Appropriation",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "odin" == n.player().deity && l.burnNb >= 5
                    },
                    persistent: !0
                },
                spell_enlightment: {
                    name: "Spell: Enlightment",
                    link: "/game/help#spells",
                    check: function (n) {
                        return "shiva" == n.player().deity && n.pop(n.capital()) >= 8
                    },
                    persistent: !0
                },
                spell_maha: {
                    name: "Spell: Maha Shivaratri",
                    link: "/game/help#spells",
                    check: function (n) {
                        return "shiva" == n.player().deity && n.wondersNb() >= 10
                    },
                    persistent: !0
                },
                spell_dionysia: {
                    name: "Spell: Dionysia",
                    link: "/game/help#spells",
                    check: function (n) {
                        return "dionysus" == n.player().deity && n.player().culture >= 1e5
                    },
                    persistent: !0
                },
                spell_bacchanalia: {
                    name: "Spell: Bacchanalia",
                    link: "/game/help#spells",
                    check: function (n) {
                        return "dionysus" == n.player().deity && n.colonyNb() >= 15
                    },
                    persistent: !0
                },
                spell_punisher: {
                    name: "Spell: The Punisher",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "batara" == n.player().deity && l.plagueNb >= 1
                    },
                    persistent: !0
                },
                spell_devourer: {
                    name: "Spell: Devourer of the Sun",
                    link: "/game/help#spells",
                    check: function (n, l) {
                        return "batara" == n.player().deity && l.plagueMaxCities >= 20
                    },
                    persistent: !0
                },
                autocast: {
                    name: "Autocast Spell",
                    link: "/game/help#spells",
                    check: function (n) {
                        return n.player().orientation <= -100
                    },
                    persistent: !1
                },
                improvements: {
                    name: "Tile Improvements",
                    link: "/game/help#improvements",
                    check: function (n) {
                        return n.hasScience("bronze_working")
                    },
                    persistent: !1
                },
                improvements2: {
                    name: "Advanced Tile Improvements",
                    link: "/game/help#improvements",
                    check: function (n) {
                        return n.hasScience("industrialization") && n.player().orientation >= 50
                    },
                    persistent: !1
                },
                timetravel: {
                    name: "Time Travel",
                    link: "/game/help#technology",
                    check: function (n) {
                        return n.player().orientation > 0
                    },
                    persistent: !1
                },
                indusbuildings: {
                    name: "Industrial Buildings",
                    link: "/game/help#technology",
                    check: function (n) {
                        return n.player().orientation >= 25
                    },
                    persistent: !1
                },
                indusimpr: {
                    name: "Industrial Improvements",
                    link: "/game/help#technology",
                    check: function (n) {
                        return n.player().orientation >= 50
                    },
                    persistent: !1
                },
                induswonders: {
                    name: "Industrial Wonders",
                    link: "/game/help#technology",
                    check: function (n) {
                        return n.player().orientation >= 75
                    },
                    persistent: !1
                },
                archeology: {
                    name: "Archeology",
                    link: "/game/help#archeology",
                    check: function (n) {
                        return n.hasScience("archeology", n.player()) && n.player().orientation >= 100
                    },
                    persistent: !1
                }
            },
            Yf = {
                0: {
                    name: "Peaceful",
                    description: "- Barbarians attacks disabled<br/>- AI attacks disabled<br/>- Big penalties for barbarians<br/>- No bonuses for AI<br/>- No plague<br/>- Faith production -25%",
                    ai_bonus: 1,
                    ai_golden_bonus: 1.2,
                    ai_recruit_bonus: .8,
                    barbarian_battle_mult: .5,
                    barbarian_science_mult: .1,
                    barbarian_gold_prod_mult: .3,
                    faith_mult: .75
                },
                1: {
                    name: "Relax",
                    description: "- Barbarians attacks disabled<br />- AI attacks enabled but rare<br/>- Big penalties for barbarians<br/>- Small bonuses for AI",
                    ai_bonus: 1.1,
                    ai_golden_bonus: 1.3,
                    ai_recruit_bonus: 1,
                    barbarian_battle_mult: .7,
                    barbarian_science_mult: .2,
                    barbarian_gold_prod_mult: .4,
                    faith_mult: 1
                },
                2: {
                    name: "Normal",
                    description: "- Barbarians attacks enabled<br />- AI attacks enabled<br/>- Moderate penalties for barbarians<br/>- Moderate bonuses for AI<br/>- Faith production +25%",
                    ai_bonus: 1.3,
                    ai_golden_bonus: 1.6,
                    ai_recruit_bonus: 1.2,
                    barbarian_battle_mult: .8,
                    barbarian_science_mult: .3,
                    barbarian_gold_prod_mult: .5,
                    faith_mult: 1.25
                },
                3: {
                    name: "Hardcore",
                    description: "- Barbarians attacks more frequent<br />- AI attacks more frequent<br/>- No penalties for Barbarians (except science)<br/>- Big bonuses for AI<br/>- Faith production +50%",
                    ai_bonus: 1.6,
                    ai_golden_bonus: 2,
                    ai_recruit_bonus: 1.5,
                    barbarian_battle_mult: 1,
                    barbarian_science_mult: .5,
                    barbarian_gold_prod_mult: 1,
                    faith_mult: 1.5
                }
            },
            Xf = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "capitalizeFirstLetter",
                    value: function (n) {
                        return n.charAt(0).toUpperCase() + n.slice(1)
                    }
                }, {
                    key: "formatTime",
                    value: function (n) {
                        if (n == 1 / 0) return "Infinity";
                        var l = Math.floor(n / 86400);
                        n -= 86400 * l;
                        var e = Math.floor(n / 3600);
                        n -= 3600 * e;
                        var t = Math.floor(n / 60),
                            i = Math.floor(n) % 60;
                        return (l > 0 ? l + "d" : "") + (e > 0 ? this.str(e) + "h" : "") + (0 == l && (t > 0 || e > 0) ? this.str(t) + "m" : "") + (0 == l && 0 == e ? this.str(i) + "s" : "")
                    }
                }, {
                    key: "str",
                    value: function (n) {
                        return (n >= 10 ? "" : "0") + n
                    }
                }, {
                    key: "format",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = this.getConfig(l);
                        e.percent && (n *= 100);
                        var t = "";
                        n >= 1e12 ? (t = "T", e.decimals = (n /= 1e12) < 10 ? 2 : n < 100 ? 1 : 0) : n >= 1e9 ? (t = "B", e.decimals = (n /= 1e9) < 10 ? 2 : n < 100 ? 1 : 0) : n >= 1e6 ? (t = "M", e.decimals = (n /= 1e6) < 10 ? 2 : n < 100 ? 1 : 0) : n >= 1e3 ? (t = "k", e.decimals = (n /= 1e3) < 10 ? 2 : n < 100 ? 1 : 0) : n >= 100 ? e.decimals = 0 : n >= 10 && 2 == e.decimals && (e.decimals = 1);
                        var i = Math.pow(10, e.decimals);
                        n = Math.floor(n * i) / i;
                        var u = Number(n).toFixed(e.decimals);
                        if (u = (e.withPlus && n >= 0 ? "+" : "") + u + t, e.percent && (u += " %"), e.coloration) {
                            var r = "";
                            n > 0 ? r = "text-success" : n < 0 && (r = "text-danger"), u = '<span class="' + r + '">' + u + "</span>"
                        }
                        return u
                    }
                }, {
                    key: "getConfig",
                    value: function (n) {
                        if ("" == n) return {
                            withPlus: !1,
                            decimals: 0,
                            coloration: !1,
                            percent: !1
                        };
                        var l = n.startsWith("+"),
                            e = n.endsWith("c"),
                            t = n.replace(/[\+c]/g, "");
                        if (!t.startsWith(".")) throw "invalid format: " + n + '. Config should be "+.2%c"';
                        var i = t.endsWith("%");
                        return {
                            withPlus: l,
                            decimals: +(t = (t = t.replace(/[%]/g, "")).replace(/[\.]/g, "")),
                            coloration: e,
                            percent: i
                        }
                    }
                }]), n
            }(),
            Jf = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "get",
                    value: function (n, l) {
                        return void 0 === l && (l = n, n = 0), Math.floor(Math.random() * (1 + l - n)) + n
                    }
                }, {
                    key: "roll",
                    value: function (n) {
                        return Math.random() < n
                    }
                }, {
                    key: "fromArray",
                    value: function (l) {
                        return l[n.get(0, l.length - 1)]
                    }
                }, {
                    key: "randomVilBonus",
                    value: function () {
                        return n.fromArray(["", "", "", "food", "prod", "science", "gold", "culture", "faith", "recruitment"])
                    }
                }]), n
            }(),
            ng = {
                coatlicue: {
                    id: "coatlicue",
                    name: "Coatlicue",
                    description: "Coatlicue is a powerful goddess of the Aztec mythology. The creator and destroyer of world, the mother of gods and mortals, she is said to have given birth to the Moon and the stars.<br/>This deity will help <b>your civilization grow</b>",
                    color: "#229954",
                    icon: "fas fa-seedling"
                },
                horus: {
                    id: "horus",
                    name: "Horus",
                    description: 'Horus is "The One Far Above", protector of the Pharaoh. Originally the Sky God, he is also known as War God, Hunters God, God of Kingship and others.<br/>This deity will help <b>your civilization prosper</b>',
                    color: "#F1C40F",
                    icon: "fas fa-ankh"
                },
                odin: {
                    id: "odin",
                    name: "Odin",
                    description: "Odin is a supreme God of Death, healing, knowledge and poetry.<br/>This deity will help you <b>crush your enemies</b>",
                    color: "#3498DB",
                    icon: "fas fa-bolt"
                },
                shiva: {
                    id: "shiva",
                    name: "Shiva",
                    description: "Shiva is the form of Brahma, the creator of world and the infinite. The God of Yogis, destroyer of world, he holds the word \u2018destruction\u2019 in a positive sense, as destruction of ego, attachments and old habits.<br/>This deity will help <b>your civilization progress</b>",
                    color: "#E74C3C",
                    icon: "fas fa-balance-scale-right"
                },
                dionysus: {
                    id: "dionysus",
                    name: "Dionysus",
                    description: "Dyonisus is the god of wine, winemaking, grape cultivation, fertility, ritual madness, theater, and religious ecstasy.<br/>This deity will help <b>your civilization happiness & culture</b>",
                    color: "#8E44AD",
                    icon: "fas fa-glass-cheers"
                },
                batara: {
                    id: "batara",
                    name: "Batara Kala",
                    description: "Batara Kala is the god of the underworld, the creator of light and the earth and the god of time and destruction, who devours unlucky people.<br/>This deity will help <b>your opponents fall</b><br/>This deity is <b>NOT RECOMMENDED</b> on your first run.",
                    color: "#85929E",
                    icon: "fas fa-skull-crossbones"
                }
            },
            lg = {
                abundance: {
                    id: "abundance",
                    name: "Abundance",
                    icon: $f.food,
                    description: function (n) {
                        return '<i class="text-food ' + $f.food + '"></i> production increased by <span class="text-primary">' + Math.round(100 * n.abundanceBonus()) + "%</span> for 5min (based on Feathered Serpent level)"
                    },
                    help: '<i class="text-food ' + $f.food + '"></i> production increased for 5min (based on Feathered Serpent level)',
                    time: 300,
                    cooldown: 480,
                    deity: "coatlicue",
                    level: 1
                },
                newfire: {
                    id: "newfire",
                    name: "New Fire",
                    icon: $f.happiness,
                    description: function (n) {
                        return '<i class="text-happiness ' + $f.happiness + '"></i> happiness increased (incremental)<br/>Current level: <span class="text-primary">' + Math.round(100 * n.newfireBonus()) + "%</span>"
                    },
                    help: '<i class="text-happiness ' + $f.happiness + '"></i> happiness increased (incremental)',
                    lock: "spell_newfire",
                    lockDesc: function (n) {
                        return "Total population " + n.pop() + " / 30"
                    },
                    charging: !0,
                    cooldown: 240,
                    deity: "coatlicue",
                    level: 2
                },
                sacrifice: {
                    id: "sacrifice",
                    name: "Human Sacrifice",
                    icon: $f.science,
                    description: function (n) {
                        return '<span class="text-primary">+ ' + Xf.format(Math.round(n.sacrificeBonus())) + '</span> <i class="text-science ' + $f.science + '"></i> (based on food production & global happiness)'
                    },
                    help: '<i class="text-science ' + $f.science + '"></i> boost (based on food production & global happiness)',
                    run: function (n) {
                        var l = n.player();
                        if (!l.science_queue.length) return !1;
                        var e = n.sacrificeBonus();
                        return l.sciences[l.science_queue[0]].progress || (l.sciences[l.science_queue[0]].progress = 0), l.sciences[l.science_queue[0]].progress += e, l.sciences[l.science_queue[0]].progress >= n.scienceCost(n.conf.sciences[l.science_queue[0]]) && (n.discoverScience(l.id), n.data.autopause.science && (n.data.pause = !0)), !0
                    },
                    lock: "spell_sacrifice",
                    lockDesc: function (n) {
                        return "New Fire charge " + (n.data.charging.newfire || 0) + " / 50"
                    },
                    cooldown: 600,
                    deity: "coatlicue",
                    level: 3
                },
                negociation: {
                    id: "negociation",
                    name: "Negociation",
                    icon: $f.gold,
                    description: function (n) {
                        return '<span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> produce <span class="text-primary">' + Math.round(100 * n.negociationBonus()) + '%</span> more <i class="text-gold ' + $f.gold + '"></i> for 5 min (based on Eye of Horus level)'
                    },
                    help: '<span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> produce more <i class="text-gold ' + $f.gold + '"></i> for 5 min (based on Eye of Horus level)',
                    time: 300,
                    cooldown: 480,
                    deity: "horus",
                    level: 1
                },
                tradenode: {
                    id: "tradenode",
                    name: "Trade node",
                    icon: $f.trade,
                    description: function (n) {
                        return '<span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> max number increased (incremental)<br/>Current level: <span class="text-primary">' + Math.floor(n.tradeNodeBonus()) + "</span> (not rounded: " + Math.floor(10 * n.tradeNodeBonus()) / 10 + ")"
                    },
                    help: '<span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> max number increased (incremental)',
                    lock: "spell_tradenode",
                    lockDesc: function (n) {
                        return "Total gold " + Xf.format(n.goldTotal()) + " / 3M"
                    },
                    charging: !0,
                    cooldown: 300,
                    deity: "horus",
                    level: 2
                },
                seshat: {
                    id: "seshat",
                    name: "Sechat's wisdom",
                    icon: $f.science,
                    description: function (n) {
                        return '<i class="text-gold ' + $f.gold + '"></i> value of <span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> is added to <i class="text-science ' + $f.science + '"></i> value of trade route for 2 min'
                    },
                    help: '<i class="text-gold ' + $f.gold + '"></i> value of <span class="text-trade"><i class="' + $f.trade + '"></i> Trade routes</span> is added to <i class="text-science ' + $f.science + '"></i> value of trade route for 2 min',
                    lock: "spell_seshat",
                    lockDesc: function (n) {
                        return "Trade routes " + n.tradeRouteNb() + " / 15"
                    },
                    time: 120,
                    cooldown: 480,
                    deity: "horus",
                    level: 3
                },
                warpath: {
                    id: "warpath",
                    name: "War path",
                    icon: $f.recruitment,
                    description: function (n) {
                        return '<i class="' + $f.attack + '"></i> Recruitment speed increased and troop maintenance reduced(incremental)<br/>Current value:  <span class="text-primary">' + Math.floor(100 * n.warpathBonus()) + '%</span> (speed) | <span class="text-primary">-' + Math.floor(100 * n.warpathMaintenanceBonus()) + "%</span> (maintenance)"
                    },
                    help: '<i class="' + $f.attack + '"></i> Recruitment speed increased (incremental)<br/>',
                    charging: !0,
                    cooldown: 300,
                    deity: "odin",
                    level: 1
                },
                berserker: {
                    id: "berserker",
                    name: "Berserker",
                    icon: $f.attack,
                    description: function (n) {
                        return '<i class="' + $f.attack + '"></i> Attack increased by <span class="text-primary">' + Math.round(100 * n.berserkerAttackBonus()) + '%</span><br/><i class="' + $f.speed + '"></i> Speed increased by <span class="text-primary">' + Math.round(100 * n.berserkerSpeedBonus()) + '%</span><br/>Troop <i class="' + $f.capacity + '"></i> capacity x10<br/>for 2min (only for attacks, based on Valhalla level)'
                    },
                    help: '<i class="' + $f.attack + '"></i> Attack increased and <i class="' + $f.speed + '"></i> Speed increased for 2min (only for attacks, based on Valhalla level)',
                    lock: "spell_berserker",
                    lockDesc: function (n) {
                        return "Total troops " + Xf.format(n.totalTroopNb()) + " / 500"
                    },
                    time: 120,
                    cooldown: 300,
                    deity: "odin",
                    level: 2
                },
                appropriation: {
                    id: "appropriation",
                    name: "Appropriation",
                    icon: $f.science,
                    description: function (n) {
                        return '<span class="text-primary">+ ' + Math.round(n.appropriationBonus()) + '</span> <i class="text-science ' + $f.science + '"></i> and <i class="text-faith ' + $f.faith + '"></i> for each unit killed for 1 min (based on total army power)'
                    },
                    help: '<i class="text-science ' + $f.science + '"></i> for each unit killed for 1 min (based on total army power)',
                    lock: "spell_appropriation",
                    lockDesc: function (n) {
                        return "City burnt down " + n.data.burnNb + " / 5"
                    },
                    time: 60,
                    cooldown: 480,
                    deity: "odin",
                    level: 3
                },
                timeshift: {
                    id: "timeshift",
                    name: "Timeshift",
                    icon: $f.time,
                    description: function (n) {
                        return 'Advance in time for <span class="text-primary">+ ' + Xf.formatTime(n.timeshiftBonus()) + "</span> (based on Third Eye level)"
                    },
                    help: "Advance in time (based on Third Eye level)",
                    run: function (n, l) {
                        return l.run(0, n.timeshiftBonus(), !0), !0
                    },
                    cooldown: 300,
                    deity: "shiva",
                    level: 1
                },
                enlightment: {
                    id: "enlightment",
                    name: "Enlightment",
                    icon: $f.science,
                    description: function (n) {
                        return '<i class="text-science ' + $f.science + '"></i> production increased (incremental)<br/>Current value: <span class="text-primary">+' + Math.floor(100 * n.enlightmentBonus()) + "%</span>"
                    },
                    help: '<i class="text-science ' + $f.science + '"></i> production increased (incremental)',
                    lock: "spell_enlightment",
                    lockDesc: function (n) {
                        return "Capital population " + n.pop(n.capital()) + " / 8"
                    },
                    charging: !0,
                    cooldown: 300,
                    deity: "shiva",
                    level: 2
                },
                maha: {
                    id: "maha",
                    name: "Maha Shivaratri",
                    icon: $f.faith,
                    description: function (n) {
                        return '<span class="text-primary">+ ' + Xf.format(Math.round(n.mahaBonus())) + '</span> <i class="text-faith ' + $f.faith + '"></i> (based on science and global food production)'
                    },
                    help: '<i class="text-faith ' + $f.faith + '"></i> boost (based on science and global food production)',
                    run: function (n) {
                        return n.player().faith += n.mahaBonus(), !0
                    },
                    lock: "spell_maha",
                    lockDesc: function (n) {
                        return "Nb of wonders " + n.wondersNb() + " / 10"
                    },
                    cooldown: 600,
                    deity: "shiva",
                    level: 3
                },
                idlers: {
                    id: "idlers",
                    name: "God of idlers",
                    icon: $f.sleep,
                    description: function (n) {
                        return 'Idle citizens produce <i class="text-food ' + $f.food + '"></i>, <i class="text-culture ' + $f.culture + '"></i> and <i class="text-happiness ' + $f.happiness + '"></i> (incremental)<br/>Current value: <span class="text-primary">+' + Xf.format(n.idlersBonus(), ".1") + " | +" + Xf.format(n.idlersBonus() / 2, ".1") + " | +" + Xf.format(n.idlersBonus()) + "%</span>"
                    },
                    help: 'Idle citizens produce <i class="text-food ' + $f.food + '"></i>, <i class="text-culture ' + $f.culture + '"></i> and <i class="text-happiness ' + $f.happiness + '"></i> (incremental)',
                    charging: !0,
                    cooldown: 300,
                    deity: "dionysus",
                    level: 1
                },
                dionysia: {
                    id: "dionysia",
                    name: "Dionysia",
                    icon: $f.culture,
                    description: function (n) {
                        return '<i class="text-culture ' + $f.culture + '"></i> production increased by <span class="text-primary">' + Math.round(100 * n.dionysiaBonus()) + "%</span> for 2min (based on happiness and Orphic Mysteries level)"
                    },
                    help: '<i class="text-culture ' + $f.culture + '"></i> production increased for 2min (based on happiness and Orphic Mysteries level)',
                    time: 120,
                    cooldown: 300,
                    lock: "spell_dionysia",
                    lockDesc: function (n) {
                        return "Culture " + Xf.format(n.player().culture) + " / 100k"
                    },
                    deity: "dionysus",
                    level: 2
                },
                bacchanalia: {
                    id: "bacchanalia",
                    name: "Bacchanalia",
                    icon: $f.faith,
                    description: function (n) {
                        return '<i class="text-science ' + $f.science + '"></i> & <i class="text-faith ' + $f.faith + '"></i> production increased by <span class="text-primary">' + Math.round(100 * n.bacchanaliaBonus()) + "%</span> for 1min (based on happiness, culture production and nb of colonies)"
                    },
                    help: '<i class="text-science ' + $f.science + '"></i> & <i class="text-faith ' + $f.faith + '"></i> production increased for 1min (based on happiness, culture production and nb of colonies)',
                    time: 60,
                    cooldown: 600,
                    lock: "spell_bacchanalia",
                    lockDesc: function (n) {
                        return "Colonies " + n.colonyNb() + " / 15"
                    },
                    deity: "dionysus",
                    level: 3
                },
                underworld: {
                    id: "underworld",
                    name: "Ruler of the Underworld",
                    icon: $f.health,
                    description: function (n) {
                        return 'Reduce risks of losing citizens, troops and trade routes from disease & plague (incremental)<br/>Current value: <span class="text-primary">-' + Xf.format(100 * n.underworldBonus(), ".1") + "%</span>"
                    },
                    help: "Reduce risks of dying from disease (incremental)",
                    charging: !0,
                    cooldown: 300,
                    deity: "batara",
                    level: 1
                },
                punisher: {
                    id: "punisher",
                    name: "The Punisher",
                    icon: $f.faith,
                    description: function (n) {
                        return '<i class="text-science ' + $f.science + '"></i> & <i class="text-faith ' + $f.faith + '"></i> production increased for each city suffering from the plague. Increase plague propagation risk. (incremental)<br/>Current value: <span class="text-primary">+' + Xf.format(100 * n.punisherBonus(), ".1") + "% / city with plague</span>"
                    },
                    help: '<i class="text-science ' + $f.science + '"></i> & <i class="text-faith ' + $f.faith + '"></i> production increased for each city suffering from the plague (incremental)',
                    charging: !0,
                    lock: "spell_punisher",
                    lockDesc: function (n) {
                        return "Survived a plague " + n.data.plagueNb + " / 1"
                    },
                    cooldown: 420,
                    deity: "batara",
                    level: 2
                },
                devourer: {
                    id: "devourer",
                    name: "Devourer of the Sun",
                    icon: $f.plague,
                    description: function (n) {
                        return 'Start a <i class="' + $f.plague + '"></i> plague in a random location'
                    },
                    help: 'Start a <i class="' + $f.plague + '"></i> plague in a random location',
                    run: function (n) {
                        var l = Jf.fromArray(n.allCities());
                        return n.initPlague(l), !0
                    },
                    lock: "spell_devourer",
                    lockDesc: function (n) {
                        return "Most spread plague " + n.data.plagueMaxCities + " / 20"
                    },
                    cooldown: 600,
                    deity: "batara",
                    level: 3
                }
            },
            eg = {
                clairvoyance: {
                    id: "clairvoyance",
                    name: "Clairvoyance",
                    description: function (n) {
                        return '<span class="text-science"><i class="' + $f.science + '"></i></span> production increased.<br/>' + (n ? (n.players[0].powers.clairvoyance ? 'Current: <span class="text-primary">+ ' + 10 * n.players[0].powers.clairvoyance + " %</span><br/>" : "") + 'Next level: <span class="text-primary">+ ' + 10 * ((n.players[0].powers.clairvoyance || 0) + 1) + " %</span>" : "")
                    },
                    cost: {
                        "": 1
                    }
                },
                stone: {
                    id: "stone",
                    name: "Stone Skin",
                    description: function (n) {
                        return '<span class="text-defense"><i class="' + $f.defense + '"></i> Defense</span> increased.<br/>' + (n ? (n.players[0].powers.stone ? 'Current: <span class="text-primary">+ ' + 5 * n.players[0].powers.stone + " %</span><br/>" : "") + 'Next level: <span class="text-primary">+ ' + 5 * ((n.players[0].powers.stone || 0) + 1) + " %</span>" : "")
                    },
                    cost: {
                        "": 1
                    }
                },
                serpent: {
                    id: "serpent",
                    name: "Feathered Serpent",
                    description: function (n) {
                        return 'City <span class="text-food"><i class="' + $f.food + '"></i></span> production increased for each building owned.<br/>' + (n ? (n.players[0].powers.serpent ? 'Current: <span class="text-primary">+ ' + n.players[0].powers.serpent + " %</span> / building<br/>" : "") + 'Next level: <span class="text-primary">+ ' + ((n.players[0].powers.serpent || 0) + 1) + " %</span> / building" : "")
                    },
                    cost: {
                        coatlicue: 1
                    }
                },
                eye: {
                    id: "eye",
                    name: "Eye of Horus",
                    description: function (n) {
                        return '<span class="text-trade"><i class="' + $f.trade + '"></i>Trade routes</span> increase <i class="text-happiness ' + $f.happiness + '"></i>.<br/>' + (n ? (n.players[0].powers.eye ? 'Current: <span class="text-primary">+ ' + Xf.format(.5 * n.players[0].powers.eye, ".2") + "</span> / trade route<br/>" : "") + 'Next level: <span class="text-primary">+ ' + Xf.format(.5 * ((n.players[0].powers.eye || 0) + 1), ".2") + "</span>  / trade route" : "")
                    },
                    cost: {
                        horus: 1
                    }
                },
                valhalla: {
                    id: "valhalla",
                    name: "Valhalla",
                    description: function (n) {
                        return "Happiness increased from garrisoned units.<br/>" + (n ? (n.players[0].powers.valhalla ? 'Current: <span class="text-primary">+ ' + Xf.format(.025 * n.players[0].powers.valhalla, ".2") + " %</span> / unit<br/>" : "") + 'Next level: <span class="text-primary">+ ' + Xf.format(.025 * ((n.players[0].powers.valhalla || 0) + 1), ".2") + " %</span> / unit" : "")
                    },
                    cost: {
                        odin: 1
                    }
                },
                thirdeye: {
                    id: "thirdeye",
                    name: "Third Eye",
                    description: function (n) {
                        return '<span class="text-food"><i class="' + $f.food + '"></i></span> and <span class="text-prod"><i class="' + $f.prod + '"></i></span> production increased in the capital.<br/>' + (n ? (n.players[0].powers.thirdeye ? 'Current: <span class="text-primary">+ ' + 10 * n.players[0].powers.thirdeye + " %</span><br/>" : "") + 'Next level: <span class="text-primary">+ ' + 10 * ((n.players[0].powers.thirdeye || 0) + 1) + " %</span>" : "")
                    },
                    cost: {
                        shiva: 1
                    }
                },
                sequencer: {
                    id: "sequencer",
                    name: "Sequencer",
                    description: function (n, l) {
                        return 'Incremental <span class="text-spells"><i class="' + $f.spells + '"></i> spells</span> cooldown reduced.<br/>' + (l ? (n.players[0].powers.sequencer ? 'Current: <span class="text-primary">- ' + Xf.format(100 * l.sequencerBonus(0), ".1") + " %</span><br/>" : "") + 'Next level: <span class="text-primary">- ' + Xf.format(100 * l.sequencerBonus(0, 1), ".1") + " %</span>" : "")
                    },
                    cost: {
                        "": 1,
                        batara: 1
                    }
                },
                orphic: {
                    id: "orphic",
                    name: "Orphic Mysteries",
                    description: function (n) {
                        return 'All citizens produce <span class="text-faith"><i class="' + $f.faith + '"></i></span>.<br/>' + (n ? (n.players[0].powers.orphic ? 'Current: <span class="text-primary">+ ' + Xf.format(.2 * n.players[0].powers.orphic, ".1") + " / citizen</span><br/>" : "") + 'Next level: <span class="text-primary">+ ' + Xf.format(.2 * ((n.players[0].powers.orphic || 0) + 1), ".1") + " / citizen</span>" : "")
                    },
                    cost: {
                        "": 1,
                        dionysus: 1
                    }
                },
                haste: {
                    id: "haste",
                    name: "Haste",
                    description: function (n) {
                        return 'Increase troop <i class="' + $f.speed + '"></i> speed.<br/>' + (n ? (n.players[0].powers.haste ? 'Current: <span class="text-primary">+ ' + 5 * n.players[0].powers.haste + " %<br/>" : "") + 'Next level: <span class="text-primary">+ ' + 5 * ((n.players[0].powers.haste || 0) + 1) + " %</span>" : "")
                    },
                    cost: {
                        odin: 1,
                        batara: 1
                    }
                },
                eternity: {
                    id: "eternity",
                    name: "Gateway to Eternity",
                    description: function (n) {
                        return '<span class="text-prod"><i class="' + $f.prod + '"></i></span> production increased for each <span class="text-trade"><i class="' + $f.trade + '"></i>Trade routes</span>.<br/>' + (n ? (n.players[0].powers.eternity ? 'Current: <span class="text-primary">+ ' + 5 * n.players[0].powers.eternity + " %</span> / trade route<br/>" : "") + 'Next level: <span class="text-primary">+ ' + 5 * ((n.players[0].powers.eternity || 0) + 1) + " %</span> / trade route" : "")
                    },
                    cost: {
                        coatlicue: 1,
                        horus: 1
                    }
                },
                ouroboros: {
                    id: "ouroboros",
                    name: "Ouroboros",
                    description: function (n) {
                        return '<span class="text-culture"><i class="' + $f.culture + '"></i></span> production increased for each tech discovered.<br/>' + (n ? (n.players[0].powers.ouroboros ? 'Current: <span class="text-primary">+ ' + 2 * n.players[0].powers.ouroboros + " %</span> / tech discovered<br/>" : "") + 'Next level: <span class="text-primary">+ ' + 2 * ((n.players[0].powers.ouroboros || 0) + 1) + " %</span> / tech discovered" : "")
                    },
                    cost: {
                        dionysus: 1,
                        shiva: 1
                    }
                },
                bliss: {
                    id: "bliss",
                    name: "Bliss",
                    description: function (n) {
                        return '<span class="text-happiness"><i class="' + $f.happiness + '"></i></span> increased.<br/>' + (n ? (n.players[0].powers.bliss ? 'Current: <span class="text-primary">+ ' + 5 * n.players[0].powers.bliss + " %</span><br/>" : "") + 'Next level: <span class="text-primary">+ ' + 5 * ((n.players[0].powers.bliss || 0) + 1) + " %</span>" : "")
                    },
                    cost: {
                        "": 1,
                        odin: 1,
                        shiva: 1,
                        coatlicue: 1,
                        horus: 1,
                        dionysus: 1,
                        batara: 1
                    }
                }
            },
            tg = {
                balanced: {
                    name: "Balanced",
                    sort: function (n, l) {
                        var e = Object.assign({}, n),
                            t = l.player(e.ownerid),
                            i = e.autoassign_options.nogrowth,
                            u = e.autoassign_options.priority || "";
                        l.data.emp_autoassign && 0 == t.id && (u = l.data.emp_priority);
                        var r = e.autoassign_options.strong;
                        l.data.emp_autoassign && 0 == t.id && (r = l.data.emp_strong);
                        var a = l.pop(e),
                            o = a;
                        Object.keys(e.citizens).forEach((function (n) {
                            return e.citizens[n] = 0
                        }));
                        var s = "artists";
                        Vf.idle.happiness(l, t.id) >= Vf.artists.happiness(l, t.id) && (s = "idle");
                        var c = "farmers";
                        Vf.idle.food(l, e) >= Vf.farmers.food(l, e) && (c = "idle");
                        var d = "artists";
                        if (Vf.idle.culture(l, t.id) >= Vf.artists.culture(l, t.id) && (d = "idle"), l.hasScience("art", t)) {
                            for (e.citizens.priests = a; l.happiness(e, !0) < .2 && o;) e.citizens[s]++, o--, e.citizens.priests--;
                            e.citizens.priests = 0
                        }
                        if (l.hasPolicy("who", t.id)) {
                            for (e.citizens.priests = a; l.health(e) < .2 && o;) e.citizens.scientists++, o--, e.citizens.priests--;
                            e.citizens.priests = 0
                        }
                        for (e.citizens.priests = a - e.citizens.artists; l.foodDiff(e) < 0 && o;) e.citizens[c]++, o--, e.citizens.priests--;
                        if (e.citizens.priests = 0, l.hasScience("trade", t))
                            for (; l.goldDiff(e) < 0 && o;) e.citizens.merchants++, o--;
                        if (r && u) {
                            var h = u;
                            "farmers" == h && (h = c), "artists" == h && (h = d), e.citizens[h] += o, o = 0
                        } else
                            for (; o;) {
                                var p = o;
                                "farmers" != u || i || (e.citizens[c]++, o--), "builders" == u && o && l.hasScience("tanning", t) && e.building_queue.length && (e.citizens.builders++, o--), "scientists" == u && o && l.hasScience("writing", t) && t.science_queue.length && (e.citizens.scientists++, o--), "merchants" == u && o && l.hasScience("trade", t) && e.gold < l.maxGold(e) && (e.citizens.merchants++, o--), "artists" == u && o && l.hasScience("art", t) && (e.citizens[d]++, o--), "priests" == u && o && l.hasScience("religion", t) && (e.citizens.priests++, o--), o && l.hasScience("tanning", t) && e.building_queue.length && (e.citizens.builders++, o--), o && l.hasScience("writing", t) && t.science_queue.length && (e.citizens.scientists++, o--), o && l.hasScience("trade", t) && e.gold < l.maxGold(e) && (e.citizens.merchants++, o--), o && l.hasScience("art", t) && (e.citizens[d]++, o--), 0 == e.ownerid && o && l.hasScience("religion", t) && (e.citizens.priests++, o--), o && !i && (e.citizens[c]++, o--), p == o && (e.citizens.idle += o, o = 0)
                            }
                        for (var f in e.citizens) n.citizens[f] = e.citizens[f]
                    }
                }
            },
            ig = {
                americans: {
                    id: "americans",
                    name: "Americans",
                    name2: "American",
                    color: "#ffffff",
                    color2: "#182a64",
                    vil_names: ["Washington", "New York", "Boston", "Philadelphia", "Atlanta", "Chicago", "Seattle", "San Francisco", "Los Angeles", "Houston", "Portland", "St. Louis", "Miami", "Buffalo", "Detroit", "New Orleans", "Baltimore", "Denver", "Cincinnati", "Dallas", "Memphis", "Cleveland", "Kansas City", "San Diego", "Richmond", "Las Vegas", "Phoenix", "Albuquerque", "Minneapolis", "Pittsburgh", "Oakland", "Tampa Bay", "Orlando", "Tacoma", "Santa Fe", "Olympia", "Hunt Valley", "Springfield", "Palo Alto", "Centralia", "Spokane", "Jacksonville", "Savannah", "Charleston", "San Antonio", "Omaha", "Birmingham", "Honolulu", "Anchorage", "Sacramento", "Salt Lake City", "Reno", "Boise", "Milwaukee", "Santa Cruz", "Monterey", "Santa Monica", "Little Rock", "Columbus", "Lebam"],
                    starting_relations: 60,
                    relation_decrease: .3,
                    war_fatigue_ratio: 2e8,
                    agressivity: 14,
                    mult: {
                        food: 1.3,
                        gold: 1.5,
                        science: 1.5,
                        recruitment: 1.2,
                        prod: 1.1,
                        attack: 1.2,
                        defense: 1.1,
                        culture: 1.4
                    },
                    burn_chances: 0,
                    golden: "industrial",
                    respawn: !0,
                    description: 'Special unit: <span class="text-special">Minuteman</span>. The Minuteman is a cheaper musketman with +10 attack.'
                },
                arabians: {
                    id: "arabians",
                    name: "Arabians",
                    name2: "Arabian",
                    color: "#b4e826",
                    color2: "#2d552e",
                    vil_names: ["Mecca", "Medina", "Damascus", "Baghdad", "Najran", "Kufah", "Basra", "Khurasan", "Anjar", "Fustat", "Aden", "Yamama", "Muscat", "Mansura", "Bukhara", "Fez", "Shiraz", "Merw", "Balkh", "Mosul", "Aydab", "Bayt Ras", "Suhar", "Taif", "Hama", "Tabuk", "Sana'a", "Shihr", "Tripoli", "Tunis", "Kairouan", "Algiers", "Oran", "Tangier", "Casablanca", "Marrakech"],
                    starting_relations: 50,
                    relation_decrease: .2,
                    war_fatigue_ratio: 3e8,
                    agressivity: 13,
                    mult: {
                        food: 1,
                        gold: 1.3,
                        science: 1,
                        recruitment: 1.1,
                        prod: 1.1,
                        attack: 1,
                        defense: 1.2,
                        culture: 1.2
                    },
                    burn_chances: .02,
                    golden: "renaissance",
                    description: 'Special ability: <span class="text-trade">+2 <i class="' + $f.trade + '"></i></span>.'
                },
                assyrians: {
                    id: "assyrians",
                    name: "Assyrians",
                    name2: "Assyrian",
                    color: "#ffae0f",
                    color2: "#fffff6",
                    vil_names: ["Assur", "Nineveh", "Nimrud", "Kar-Tukulti-Ninurta", "Dur-Sharrukin", "Halab", "Carchemish", "Kanesh", "Harran", "Imgur-Enlil", "Shubat-Enlil", "Qatna", "Sareisa", "Sam al", "Qarqar", "Til Barsip", "Sultantepe", "Erbil", "Hamath", "Guzana", "Turuspa", "Nasibina", "Arpad", "Kelashin", "Tadmor", "Urartu", "Sabata", "Hit"],
                    starting_relations: 49,
                    relation_decrease: .5,
                    war_fatigue_ratio: 4e8,
                    agressivity: 14,
                    mult: {
                        food: 1,
                        gold: 1,
                        science: 1.1,
                        recruitment: 1,
                        prod: 1,
                        attack: 1,
                        defense: 1.4,
                        culture: 1
                    },
                    burn_chances: .01,
                    golden: "ancient",
                    description: 'Special unit: <span class="text-special">Siege Tower</span>. The Siege Tower is a catapult with +4 attack'
                },
                australians: {
                    id: "australians",
                    name: "Australians",
                    name2: "Australian",
                    color: "#f8d902",
                    color2: "#156c31",
                    vil_names: ["Sydney", "Launceston", "Ballaarat", "Perth", "Brisbane", "Toowoomba", "Melbourne", "Townsville", "Geelong", "Adelaide", "Hobart", "Bendigo", "Broken Hill", "Cairns", "Newcastle", "Maitland", "Rockhampton", "Wagga Wagga", "Wollongong", "Albury", "Alice Springs", "Bathurst", "Queanbeyan", "Bundaberg", "Coffs Harbor", "Darwin", "Fremantle", "Gladstone", "Goulburn", "Hervey Bay", "Kalgoorlie", "Lismore", "Lithgow", "Maryborough", "Orange", "Port Macquarie", "Port Pirie", "Boomahnoomoonah", "Tweed Heads"],
                    starting_relations: 50,
                    relation_decrease: .2,
                    war_fatigue_ratio: 5e7,
                    agressivity: 12,
                    mult: {
                        food: 1.5,
                        gold: 1.3,
                        science: 1.3,
                        recruitment: 1.1,
                        prod: 1.3,
                        attack: 1.1,
                        defense: 1.4,
                        culture: 1.3
                    },
                    burn_chances: .1,
                    golden: "industrial",
                    respawn: !0,
                    description: "Special ability: Can build farms on Desert tiles."
                },
                aztecs: {
                    id: "aztecs",
                    name: "Aztecs",
                    name2: "Aztec",
                    color: "#E74C3C",
                    color2: "#74F4F2",
                    vil_names: ["Tenochtitlan", "Teotihuacan", "Tlatelolco", "Texcoco", "Tlaxcala", "Calixtlahuaca", "Xochicalco", "Tlacopan", "Atzcapotzalco", "Tzintzuntzan", "Malinalco", "Tula", "Tamuin", "Teayo", "Cempoala", "Chalco", "Tlalmanalco", "Ixtapaluca", "Huexotla", "Tepexpan", "Tepetlaoxtoc", "Chiconautla", "Zitlaltepec", "Coyotepec", "Tequixquiac", "Jilotzingo", "Tlapanaloya", "Tultitan", "Ecatepec", "Coatepec", "Chalchiuites", "Chiauhita", "Chapultepec", "Itzapalapa", "Ayotzinco", "Iztapam"],
                    starting_relations: 60,
                    relation_decrease: 1,
                    war_fatigue_ratio: 5e8,
                    agressivity: 15,
                    mult: {
                        food: 1,
                        gold: 1,
                        science: 1,
                        recruitment: 1.2,
                        prod: 1,
                        attack: 1,
                        defense: 1,
                        culture: 1.1
                    },
                    burn_chances: .05,
                    golden: "classical",
                    description: 'Special unit: <span class="text-special">Eagle Warrior</span>. The Eagle Warrior is a warrior with +4 attack. Acts as a Slaver.'
                },
                brazilians: {
                    id: "brazilians",
                    name: "Brazilians",
                    name2: "Brazilian",
                    color: "#2a552d",
                    color2: "#70d307",
                    vil_names: ["Rio de Janeiro", "S\xe3o Paulo", "Salvador", "Bras\xedlia", "Fortaleza", "Belo Horizonte", "Manaus", "Curitiba", "Recife", "Porto Alegre", "Bel\xe9m", "Goi\xe2nia", "Guarulhos", "Campinas", "S\xe3o Luis", "Macei\xf3", "Duque de Caxias", "Natal", "Campo Grande", "Teresina", "Florian\xf3polis", "Nova Igua\xe7u", "Sao Bernardo do Campo", "Jo\xe3o Pessoa", "Osasco", "Jaboat\xe3o dos Guararapes", "S\xe3o Jos\xe9 dos Campos", "Contagem", "Uberl\xe2ndia", "Aracaju", "Cuiab\xe1", "Feira de Santana", "Juiz de Fora", "Joinville", "Macap\xe1", "Jundia\xed"],
                    starting_relations: 50,
                    relation_decrease: .2,
                    war_fatigue_ratio: 5e7,
                    agressivity: 13,
                    mult: {
                        food: 1.5,
                        gold: 1.1,
                        science: 1.2,
                        recruitment: 1.1,
                        prod: 1.3,
                        attack: 1.1,
                        defense: 1.3,
                        culture: 1.5
                    },
                    burn_chances: 0,
                    golden: "industrial",
                    respawn: !0,
                    description: 'Special building: <span class="text-special">Carnival</span>. The Carnival is a zoo with +10 <i class="' + $f.culture + ' text-culture"></i>'
                },
                chinese: {
                    id: "chinese",
                    name: "Chinese",
                    name2: "Chinese",
                    color: "#ffffff",
                    color2: "#008546",
                    vil_names: ["Beijing", "Shanghai", "Guangzhou", "Nanjing", "Xian", "Chengdu", "Hangzhou", "Tianjin", "Macau", "Shandong", "Kaifeng", "Ningbo", "Baoding", "Yangzhou", "Harbin", "Chongqing", "Luoyang", "Kunming", "Taipei", "Shenyang", "Taiyuan", "Tainan", "Dalian", "Lijiang", "Wuxi", "Suzhou", "Maoming", "Shaoguan", "Yangjiang", "Heyuan", "Liaoning", "Hubei", "Gansu", "Huangshi", "Yichang", "Yingtan", "Xinyu", "Xinzheng", "Handan", "Dunhuang", "Gaoyu", "Nantong", "Weifang", "Xikang"],
                    starting_relations: 70,
                    relation_decrease: .3,
                    war_fatigue_ratio: 2e8,
                    agressivity: 14,
                    mult: {
                        food: 1.1,
                        gold: 1.1,
                        science: 1.4,
                        recruitment: 1,
                        prod: 1.2,
                        attack: 1,
                        defense: 1.2,
                        culture: 1.1
                    },
                    burn_chances: 0,
                    golden: "medieval",
                    description: 'Special building: <span class="text-special">Paper Maker</span>. The Paper Maker is a library with +5 <i class="' + $f.science + ' text-science"></i> '
                },
                egyptians: {
                    id: "egyptians",
                    name: "Egyptians",
                    name2: "Egyptian",
                    color: "#680cda",
                    color2: "#f8ef11",
                    vil_names: ["Thebes", "Memphis", "Heliopolis", "Elephantine", "Alexandria", "Pi-Ramesses", "Giza", "Byblos", "Akhetaten", "Hieraconpolis", "Abydos", "Asyut", "Avaris", "Lisht", "Buto", "Edfu", "Pithom", "Busiris", "Kahun", "Athribis", "Mendes", "Elashmunein", "Tanis", "Bubastis", "Oryx", "Sebennytus", "Akhmin", "Karnak", "Luxor", "El Kab", "Armant", "Balat", "Ellahun", "Kom Medinet Ghurab", "Hawara", "Dashur", "Raqote", "Damanhur", "Merimde", "Abusir", "Herakleopolis", "Akoris", "Benihasan", "Tasa", "Badari", "Hermopolis", "Amrah", "Negade", "Koptos", "Hermonthis", "Ombos", "Aniba", "Soleb", "Semna", "Amara"],
                    starting_relations: 60,
                    relation_decrease: .1,
                    war_fatigue_ratio: 2e8,
                    agressivity: 13,
                    mult: {
                        food: 1.1,
                        gold: 1,
                        science: 1.3,
                        recruitment: 1,
                        prod: 1.3,
                        attack: 1,
                        defense: 1.2,
                        culture: 1.2
                    },
                    burn_chances: 0,
                    golden: "ancient",
                    description: 'Special building: <span class="text-special">Granite quarry</span>. The Granite quarry is a workshop with +5 <i class="' + $f.prod + ' text-prod"></i> '
                },
                english: {
                    id: "english",
                    name: "English",
                    name2: "English",
                    color: "#fffdfe",
                    color2: "#5b0300",
                    vil_names: ["London", "York", "Nottingham", "Hastings", "Canterbury", "Coventry", "Warwick", "Newcastle", "Oxford", "Liverpool", "Dover", "Brighton", "Norwich", "Leeds", "Reading", "Birmingham", "Richmond", "Exeter", "Cambridge", "Gloucester", "Manchester", "Bristol", "Leicester", "Carlisle", "Ipswich", "Portsmouth", "Berwick", "Bath", "Mumbles", "Southampton", "Sheffield", "Salisbury", "Colchester", "Plymouth", "Lancaster", "Blackpool", "Winchester", "Hull"],
                    starting_relations: 50,
                    relation_decrease: .4,
                    war_fatigue_ratio: 6e8,
                    agressivity: 14,
                    mult: {
                        food: 1.2,
                        gold: 1.2,
                        science: 1.3,
                        recruitment: 1.1,
                        prod: 1.2,
                        attack: 1,
                        defense: 1,
                        culture: 1.1
                    },
                    burn_chances: .01,
                    golden: "industrial",
                    description: 'Special unit: <span class="text-special">Red coat</span>. The Red coat is a rifleman with +20 attack'
                },
                french: {
                    id: "french",
                    name: "French",
                    name2: "French",
                    color: "#f6f5c3",
                    color2: "#4090ff",
                    vil_names: ["Paris", "Orleans", "Lyon", "Troyes", "Tours", "Marseille", "Chartres", "Avignon", "Rouen", "Grenoble", "Dijon", "Amiens", "Cherbourg", "Poitiers", "Toulouse", "Bayonne", "Strasbourg", "Brest", "Bordeaux", "Rennes", "Nice", "Saint Etienne", "Nantes", "Reims", "Le Mans", "Montpellier", "Limoges", "Nancy", "Lille", "Caen", "Toulon", "N\xeemes", "Le Havre", "Lourdes", "Carcassone", "Cannes", "Aix-En-Provence", "La Rochelle", "Bourges", "Calais"],
                    starting_relations: 50,
                    relation_decrease: .3,
                    war_fatigue_ratio: 2e8,
                    agressivity: 13,
                    mult: {
                        food: 1.3,
                        gold: 1.1,
                        science: 1.3,
                        recruitment: 1.1,
                        prod: 1.2,
                        attack: 1,
                        defense: 1,
                        culture: 1.3
                    },
                    burn_chances: .01,
                    golden: "renaissance",
                    description: 'Special building: <span class="text-special">Chateau</span>. The Chateau is an castle with +10 <i class="' + $f.gold + ' text-gold"></i> and +10 <i class="' + $f.culture + ' text-culture"></i>'
                },
                germans: {
                    id: "germans",
                    name: "Germans",
                    name2: "German",
                    color: "#3c4237",
                    color2: "#99979f",
                    vil_names: ["Berlin", "Hamburg", "Munich", "Cologne", "Frankfurt", "Essen", "Dortmund", "Stuttgart", "D\xfcsseldorf", "Bremen", "Hannover", "Duisburg", "Leipzig", "Dresden", "Bonn", "Bochum", "Bielefeld", "Karlsruhe", "Gelsenkirchen", "Wiesbaden", "M\xfcnster", "Rostock", "Chemnitz", "Braunschweig", "Halle", "M\xf6nchengladbach", "Kiel", "Wuppertal", "Freiburg", "Hagen", "Erfurt", "Kaiserslautern", "Kassel", "Oberhausen", "Hamm", "Saarbr\xfccken", "Krefeld", "Pirmasens", "Potsdam", "Solingen", "Osnabr\xfcck", "Ludwigshafen", "Leverkusen", "Oldenburg", "Neuss", "M\xfclheim", "Darmstadt", "Herne", "W\xfcrzburg", "Recklinghausen", "G\xf6ttingen", "Wolfsburg", "Koblenz", "Hildesheim", "Erlangen"],
                    starting_relations: 50,
                    relation_decrease: .7,
                    war_fatigue_ratio: 6e8,
                    agressivity: 15,
                    mult: {
                        food: 1.1,
                        gold: 1.2,
                        science: 1.4,
                        recruitment: 1.2,
                        prod: 1.3,
                        attack: 1.3,
                        defense: 1.1,
                        culture: 1
                    },
                    burn_chances: .02,
                    golden: "industrial",
                    description: 'Special building: <span class="text-special">Hanse</span>. The Hanse is an ironworks with +15 <i class="' + $f.prod + ' text-prod"></i> '
                },
                greeks: {
                    id: "greeks",
                    name: "Greeks",
                    name2: "Greek",
                    color: "#418efd",
                    color2: "#fffeff",
                    vil_names: ["Athens", "Sparta", "Corinth", "Argos", "Knossos", "Mycenae", "Pharsalos", "Ephesus", "Halicarnassus", "Rhodes", "Eretria", "Pergamon", "Miletos", "Megara", "Phocaea", "Sicyon", "Tiryns", "Samos", "Mytilene", "Chios", "Paros", "Tegea", "Elis", "Syracuse", "Herakleia", "Gortyn", "Chalkis", "Pylos", "Pella", "Naxos", "Sicyon", "Smyrna", "Larissa", "Apollonia", "Messene", "Orchomenos", "Ambracia", "Kos", "Knidos", "Amphipolis", "Patras", "Lamia", "Nafplion", "Apolyton"],
                    starting_relations: 75,
                    relation_decrease: .2,
                    war_fatigue_ratio: 2e7,
                    agressivity: 13,
                    mult: {
                        food: 1,
                        gold: 1,
                        science: 1.2,
                        recruitment: 1,
                        prod: 1.1,
                        attack: 1.1,
                        defense: 1.1,
                        culture: 1.2
                    },
                    burn_chances: 0,
                    golden: "ancient",
                    description: 'Special unit: <span class="text-special">Hoplite</span>. The Hoplite is a lancier with +6 attack'
                },
                incans: {
                    id: "incans",
                    name: "Incans",
                    name2: "Incan",
                    color: "#1f7d50",
                    color2: "#ffa116",
                    vil_names: ["Cusco", "Tiwanaku", "Machu", "Ollantaytambo", "Corihuayrachina", "Huamanga", "Vilcas", "Vilcabamba", "Vitcos", "Andahuaylas", "Ica", "Arequipa", "Nasca", "Atico", "Juli", "Chuito", "Chuquiapo", "Huanuco Pampa", "Tamboccocha", "Huaras", "Riobamba", "Caxamalca", "Sausa", "Tambo Colorado", "Huaca", "Tumbes", "Chan Chan", "Sipan", "Pachacamac", "Llactapata", "Pisac", "Kuelap", "Pajaten", "Chucuito"],
                    starting_relations: 75,
                    relation_decrease: .2,
                    war_fatigue_ratio: 2e7,
                    agressivity: 13,
                    mult: {
                        food: 1.1,
                        gold: 1.1,
                        science: 1,
                        recruitment: 1,
                        prod: 1,
                        attack: 1,
                        defense: 1.1,
                        culture: 1
                    },
                    burn_chances: 0,
                    golden: "classical",
                    description: 'Special building: <span class="text-special">Terrace</span>. The Terrace is a granary with +3 <i class="' + $f.food + ' text-food"></i>'
                },
                indians: {
                    id: "indians",
                    name: "Indians",
                    name2: "Indian",
                    color: "#ffb34b",
                    color2: "#0d6707",
                    vil_names: ["Delhi", "Mumbai", "Vijayanagara", "Pataliputra", "Varanasi", "Agra", "Calcutta", "Lahore", "Bangalore", "Hyderabad", "Madurai", "Ahmedabad", "Kolhapur", "Prayaga", "Ayodhya", "Indraprastha", "Mathura", "Ujjain", "Gulbarga", "Jaunpur", "Rajagriha", "Sravasti", "Tiruchirapalli", "Thanjavur", "Bodhgaya", "Kushinagar", "Amaravati", "Gaur", "Gwalior", "Jaipur", "Karachi"],
                    starting_relations: 75,
                    relation_decrease: .1,
                    war_fatigue_ratio: 1e7,
                    agressivity: 12,
                    mult: {
                        food: 1.2,
                        gold: 1,
                        science: 1.2,
                        recruitment: 1,
                        prod: 1,
                        attack: 1,
                        defense: 1.1,
                        culture: 1.1
                    },
                    burn_chances: 0,
                    golden: "classical",
                    description: 'Special unit: <span class="text-special">War elephant</span>. The War elephant is a horseman that act as a ranged unit.'
                },
                indonesians: {
                    id: "indonesians",
                    name: "Indonesians",
                    name2: "Indonesian",
                    color: "#b64436",
                    color2: "#86d9e0",
                    vil_names: ["Jakarta", "Surabaya", "Medan", "Makassar", "Batam", "Denpasar", "Samarinda", "Mataram", "Ambon", "Bandung", "Kupang", "Depok", "Palembang", "Trowulan", "Semarang", "Jayapura", "Tangerang", "Bogor", "Pekanbaru", "Bandar Lampung", "Malang", "Padang", "Ternate", "Banjarmasin", "Pontianak", "Cimahi", "Balikpapan", "Jambi", "Komodo", "Solo", "Biak", "Djawa", "Kudus", "Lombok", "Samosir", "Sragen", "Garut", "Gresik", "Nias", "Madiun", "Yogyakarta", "Bima", "Sorong"],
                    starting_relations: 50,
                    relation_decrease: .3,
                    war_fatigue_ratio: 2e8,
                    agressivity: 13,
                    mult: {
                        food: 1.3,
                        gold: 1.1,
                        science: 1,
                        recruitment: 1.1,
                        prod: 1,
                        attack: 1.1,
                        defense: 1.2,
                        culture: 1.1
                    },
                    burn_chances: .02,
                    golden: "medieval",
                    description: 'Special building: <span class="text-special">Candi</span>. The Candi is a garden with +5% <i class="' + $f.happiness + ' text-happiness"></i>'
                },
                japanese: {
                    id: "japanese",
                    name: "Japanese",
                    name2: "Japanese",
                    color: "#b80000",
                    color2: "#e0e0e0",
                    vil_names: ["Kyoto", "Osaka", "Tokyo", "Satsuma", "Kagoshima", "Nara", "Nagoya", "Izumo", "Nagasaki", "Yokohama", "Shimonoseki", "Matsuyama", "Sapporo", "Hakodate", "Ise", "Toyama", "Fukushima", "Suo", "Bizen", "Echizen", "Izumi", "Omi", "Echigo", "Kozuke", "Sado", "Kobe", "Nagano", "Hiroshima", "Takayama", "Akita", "Fukuoka", "Aomori", "Kamakura", "Kochi", "Naha"],
                    starting_relations: 50,
                    relation_decrease: .3,
                    war_fatigue_ratio: 6e8,
                    agressivity: 14,
                    mult: {
                        food: 1,
                        gold: 1.1,
                        science: 1.3,
                        recruitment: 1,
                        prod: 1,
                        attack: 1.1,
                        defense: 1.4,
                        culture: 1.1
                    },
                    burn_chances: 0,
                    golden: "renaissance",
                    description: 'Special unit: <span class="text-special">Samurai</span>. The Samurai is a longswordsman with +10 attack and +10 defense.'
                },
                mongols: {
                    id: "mongols",
                    name: "Mongols",
                    name2: "Mongol",
                    color: "#fd9514",
                    color2: "#3f0008",
                    vil_names: ["Karakorum", "Beshbalik", "Turfan", "Hsia", "Old Sarai", "New Sarai", "Tabriz", "Tiflis", "Otrar", "Sanchu", "Kazan", "Almarikh", "Ulaanbaatar", "Hovd", "Darhan", "Dalandzadgad", "Mandalgovi", "Choybalsan", "Erdenet", "Tsetserleg", "Baruun-Urt", "Ereen", "Batshireet", "Choyr", "Ulaangom", "Tosontsengel", "Atlay", "Uliastay", "Bayanhongor", "Har-Ayrag", "Nalayh", "Tes"],
                    starting_relations: 40,
                    relation_decrease: .9,
                    war_fatigue_ratio: 6e8,
                    agressivity: 15,
                    mult: {
                        food: 1.1,
                        gold: 1,
                        science: 1,
                        recruitment: 1.2,
                        prod: 1,
                        attack: 1.2,
                        defense: 1,
                        culture: 1
                    },
                    burn_chances: .2,
                    golden: "medieval",
                    description: 'Special unit: <span class="text-special">Keshik</span>. The Keshik is a knight that acts as a ranged unit.'
                },
                ottomans: {
                    id: "ottomans",
                    name: "Ottomans",
                    name2: "Ottoman",
                    color: "#30773d",
                    color2: "#f2f7af",
                    vil_names: ["Istanbul", "Edirne", "Ankara", "Bursa", "Konya", "Samsun", "Gaziantep", "Diyarbakir", "Izmir", "Kayseri", "Malatya", "Marsin", "Antalya", "Zonguldak", "Denizli", "Ordu", "Mugla", "Eski\u015fehir", "Inebolu", "Sinop", "Adana", "Tarsus", "Artuin", "Bodrum", "Ere\u011fli", "Silifke", "Sivas", "Amasya", "Marmaris", "Trabzon", "Erzurum", "Urfa", "Izmit", "Afyonkarhisar", "Bitlis", "Yalova"],
                    starting_relations: 50,
                    relation_decrease: .3,
                    war_fatigue_ratio: 3e8,
                    agressivity: 14,
                    mult: {
                        food: 1.1,
                        gold: 1.2,
                        science: 1,
                        recruitment: 1.1,
                        prod: 1,
                        attack: 1.1,
                        defense: 1.1,
                        culture: 1.2
                    },
                    burn_chances: .02,
                    golden: "medieval",
                    description: 'Special building: <span class="text-special">Bazaar</span>. The Bazaar is a bank with +5 <i class="' + $f.gold + ' text-gold"></i> / trade route'
                },
                persians: {
                    id: "persians",
                    name: "Persians",
                    name2: "Persian",
                    color: "#f4e73a",
                    color2: "#ae0601",
                    vil_names: ["Persepolis", "Pasargadae", "Susa", "Ecbatana", "Tarsus", "Gordium", "Bactra", "Sardis", "Ergili", "Dariushkabir", "Ghulaman", "Zohak", "Istakhr", "Jinjan", "Borazjan", "Herat", "Dakyanus", "Bampur", "Turengtepe", "Rey", "Shiraz", "Tushpa", "Hasanlu", "Gabae", "Merv", "Behistun", "Kandahar", "Altintepe", "Bunyan", "Charsadda", "Uratyube", "Dura Europos", "Aleppo", "Qatna", "Kabul", "Capisa", "Kyreskhata", "Marakanda", "Peshawar", "Van", "Pteira", "Arshada", "Artakaona", "Aspabota", "Autiyara", "Bagastana", "Baxtri", "Darmasa", "Daphnai", "Drapsaka", "Eion", "Gandutava", "Gaugamela", "Harmozeia", "Ekatompylos", "Izata", "Kampada", "Kapisa", "Karmana", "Kounaxa", "Kuganaka", "Nautaka", "Paishiyauvada", "Patigrbana", "Phrada"],
                    starting_relations: 49,
                    relation_decrease: .5,
                    war_fatigue_ratio: 4e8,
                    agressivity: 14,
                    mult: {
                        food: 1,
                        gold: 1.1,
                        science: 1.2,
                        recruitment: 1,
                        prod: 1,
                        attack: 1,
                        defense: 1.1,
                        culture: 1.1
                    },
                    burn_chances: .01,
                    golden: "ancient",
                    description: 'Special unit: <span class="text-special">Immortal</span>. The Immortal is a cheaper lancier with +4 attack.'
                },
                portuguese: {
                    id: "portuguese",
                    name: "Portuguese",
                    name2: "Portuguese",
                    color: "#202e96",
                    color2: "#ffffff",
                    vil_names: ["Lisbon", "Porto", "Braga", "Coimbra", "Funchal", "Leiria", "Goa", "Vila Nova de Gaia", "Aveiro", "Luanda", "Evora", "Faro", "Castelo Branco", "Bissau", "Guarda", "Viseu", "Praia", "Braganza", "Beja", "Tomar", "Maputo", "Tavira", "Figueira da Foz", "Viana do Castelo", "S\xe3o Tom\xe9 and Pr\xedncipe", "Silves", "Sintra", "Dili", "Lamego", "Ponta Delgada"],
                    starting_relations: 50,
                    relation_decrease: .3,
                    war_fatigue_ratio: 3e8,
                    agressivity: 12,
                    mult: {
                        food: 1.2,
                        gold: 1.2,
                        science: 1.2,
                        recruitment: 1.1,
                        prod: 1,
                        attack: 1,
                        defense: 1.1,
                        culture: 1.1
                    },
                    burn_chances: 0,
                    golden: "renaissance",
                    description: 'Special unit: <span class="text-special">Nau</span>. The Nau is a cheaper caravel that is available with Education.'
                },
                romans: {
                    id: "romans",
                    name: "Romans",
                    name2: "Roman",
                    color: "#f2cc00",
                    color2: "#3b0064",
                    vil_names: ["Rome", "Antium", "Cumae", "Neapolis", "Ravenna", "Arretium", "Mediolanum", "Arpinum", "Circei", "Setia", "Satricum", "Ardea", "Ostia", "Velitrae", "Viroconium", "Tarentum", "Brundisium", "Caesaraugusta", "Caesarea", "Palmyra", "Signia", "Aquileia", "Clusium", "Sutrium", "Cremona", "Placentia", "Hispalis", "Artaxata", "Aurelianorum", "Nicopolis", "Londinium", "Eburacum", "Gordion", "Agrippina", "Lugdunum", "Verona", "Corfinium", "Treveri", "Sirmium", "Augustadorum", "Bagacum", "Lauriacum", "Teurnia", "Curia", "Fregellae", "Alba Fucens", "Sora", "Interrama", "Suessa", "Saticula", "Luceria", "Arminium", "Senagallica", "Castrum Novum", "Hadria", "Padua"],
                    starting_relations: 70,
                    relation_decrease: .5,
                    war_fatigue_ratio: 2e8,
                    agressivity: 14,
                    mult: {
                        food: 1.1,
                        gold: 1.1,
                        science: 1.2,
                        recruitment: 1.1,
                        prod: 1.1,
                        attack: 1.1,
                        defense: 1.1,
                        culture: 1
                    },
                    burn_chances: 0,
                    golden: "classical",
                    description: 'Special unit: <span class="text-special">Legion</span>. The Legion is a swordsman with +10 attack and +10 defense.'
                },
                russians: {
                    id: "russians",
                    name: "Russians",
                    name2: "Russian",
                    color: "#0d0d0d",
                    color2: "#eeb200",
                    vil_names: ["Moscow", "St. Petersburg", "Novgorod", "Rostov", "Yaroslavl", "Yekaterinburg", "Yakutsk", "Vladivostok", "Smolensk", "Orenburg", "Krasnoyarsk", "Khabarovsk", "Bryansk", "Tver", "Novosibirsk", "Magadan", "Murmansk", "Irkutsk", "Chita", "Samara", "Arkhangelsk", "Chelyabinsk", "Tobolsk", "Vologda", "Omsk", "Astrakhan", "Kursk", "Saratov", "Tula", "Vladimir", "Perm", "Voronezh", "Pskov", "Starayarussa", "Kostroma", "Nizhniy Novgorod", "Suzdal", "Magnitogorsk"],
                    starting_relations: 40,
                    relation_decrease: .4,
                    war_fatigue_ratio: 6e8,
                    agressivity: 14,
                    mult: {
                        food: 1.3,
                        gold: 1,
                        science: 1.2,
                        recruitment: 1.2,
                        prod: 1.2,
                        attack: 1,
                        defense: 1.3,
                        culture: 1.1
                    },
                    burn_chances: .05,
                    golden: "industrial",
                    description: 'Special unit: <span class="text-special">Cossack</span>. The Cossack is a cheaper cavalry with +20 attack.'
                },
                spanish: {
                    id: "spanish",
                    name: "Spanish",
                    name2: "Spanish",
                    color: "#fcd2d0",
                    color2: "#3f1412",
                    vil_names: ["Madrid", "Barcelona", "Seville", "Cordoba", "Toledo", "Santiago", "Salamanca", "Murcia", "Valencia", "Zaragoza", "Pamplona", "Vitoria", "Santander", "Oviedo", "Jaen", "Logro\xf1o", "Valladolid", "Palma", "Teruel", "Almeria", "Leon", "Zamora", "Mida", "Lugo", "Alicante", "C\xe1diz", "Elche", "Alcorcon", "Burgos", "Vigo", "Badajoz", "La Coru\xf1a", "Guadalquivir", "Bilbao", "San Sebastian", "Granada", "M\xe9rida", "Huelva", "Ibiza", "Las Palmas", "Tenerife"],
                    starting_relations: 50,
                    relation_decrease: .4,
                    war_fatigue_ratio: 2e8,
                    agressivity: 14,
                    mult: {
                        food: 1.1,
                        gold: 1.2,
                        science: 1.2,
                        recruitment: 1.2,
                        prod: 1.1,
                        attack: 1,
                        defense: 1,
                        culture: 1.2
                    },
                    burn_chances: .05,
                    golden: "renaissance",
                    description: 'Special unit: <span class="text-special">Conquistador</span>. The Conquistador is a cavalry that act as a ranged unit.'
                },
                vikings: {
                    id: "vikings",
                    name: "Vikings",
                    name2: "Viking",
                    color: "#fe8113",
                    color2: "#790002",
                    vil_names: ["Nidaros", "Uppsala", "Haithabu", "Birka", "Bjorgvin", "Jelling", "Roskilde", "Tonsberg", "Sigtuna", "Lodose", "Odense", "Oslo", "Ribe", "Lindholm", "Vasteras", "Aarhus", "Lund", "Kaupang", "Reykjavik", "Thingvellir", "Jorvik", "Lincoln", "Deoraby", "Stamford", "Dyflin", "Vadrejford", "Limerick", "Rowane", "Konugard", "Holmgard", "Aldeigjuborg", "Kirkjuvagr", "Tynwald", "Leirvik", "Tinganes", "Kirkjubour", "Brattahlid", "Vinland", "Thunderfall"],
                    starting_relations: 52,
                    relation_decrease: .9,
                    war_fatigue_ratio: 6e8,
                    agressivity: 15,
                    mult: {
                        food: 1,
                        gold: 1.1,
                        science: 1,
                        recruitment: 1.1,
                        prod: 1,
                        attack: 1.2,
                        defense: 1,
                        culture: 1
                    },
                    burn_chances: .2,
                    golden: "medieval",
                    description: 'Special unit: <span class="text-special">Berserker</span>. The Berserker is a longswordsman with +15 attack and +1 speed.'
                },
                zulus: {
                    id: "zulus",
                    name: "Zulus",
                    name2: "Zulu",
                    color: "#feeedf",
                    color2: "#6f331a",
                    vil_names: ["Ulundi", "Umgungundlovu", "Nobamba", "Bulawayo", "KwaDukuza", "Nongoma", "oNdini", "Nodwengu", "Ndonakusuka", "Babanango", "Khangela", "KwaHlomendlini", "Hlobane", "eThekwini", "Mlambongwenya", "Eziqwaqweni", "eMangweni", "Isiphezi", "Masotsheni", "Mtunzini", "Nyakamubi", "Dumazulu", "Hlatikulu", "Mthonjaneni", "Empangeni", "Pongola", "Tugela", "Kwamashu", "Ingwavuma", "Hluhluwe", "Matubatuba", "Mhlahlandlela", "Mthatha", "Maseru", "Lobamba", "Qunu"],
                    starting_relations: 52,
                    relation_decrease: 1,
                    war_fatigue_ratio: 6e8,
                    agressivity: 15,
                    mult: {
                        food: 1,
                        gold: 1,
                        science: .9,
                        recruitment: 1.2,
                        prod: 1,
                        attack: 1,
                        defense: 1,
                        culture: 1
                    },
                    burn_chances: .1,
                    golden: "classical",
                    description: 'Special unit: <span class="text-special">Impi</span>. The Impi is a cheaper pikeman with +20 attack.'
                }
            },
            ug = {
                science1: {
                    name: "Science 1",
                    desc: '<span class="text-science"><i class="' + $f.science + '"></i> +20%</span>',
                    cost: 100
                },
                health1: {
                    name: "Health 1",
                    desc: '<span class="text-health"><i class="' + $f.health + '"></i> +10%</span>',
                    cost: 200
                },
                happiness1: {
                    name: "Happiness 1",
                    desc: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</span>',
                    cost: 500
                },
                gold1: {
                    name: "Gold 1",
                    desc: '<span class="text-gold"><i class="' + $f.gold + '"></i> +20%</span>',
                    cost: 1e3
                },
                speed1: {
                    name: "Speed 1",
                    desc: '<i class="' + $f.speed + '"></i>Speed +10%',
                    cost: 2e3
                },
                trade1: {
                    name: "Trade 1",
                    desc: '<span class="text-trade"><i class="' + $f.trade + '"></i> +1</span>',
                    cost: 5e3
                },
                tech1: {
                    name: "Tech 1",
                    desc: "Starts with Language & Dog Domestication",
                    cost: 5e3
                },
                science2: {
                    name: "Science 2",
                    desc: '<span class="text-science"><i class="' + $f.science + '"></i> +20%</span>',
                    cost: 1e4
                },
                health2: {
                    name: "Health 2",
                    desc: '<span class="text-health"><i class="' + $f.health + '"></i> +10%</span>',
                    cost: 2e4
                },
                happiness2: {
                    name: "Happiness 2",
                    desc: '<span class="text-happiness"><i class="' + $f.happiness + '"></i> +10%</span>',
                    cost: 5e4
                },
                gold2: {
                    name: "Gold 2",
                    desc: '<span class="text-gold"><i class="' + $f.gold + '"></i> +20%</span>',
                    cost: 1e5
                },
                speed2: {
                    name: "Speed 2",
                    desc: '<i class="' + $f.speed + '"></i>Speed +10%',
                    cost: 2e5
                },
                trade2: {
                    name: "Trade 2",
                    desc: '<span class="text-trade"><i class="' + $f.trade + '"></i> +1</span>',
                    cost: 5e5
                },
                tech2: {
                    name: "Tech 2",
                    desc: "Starts with Tanning & Pottery",
                    cost: 5e5
                }
            },
            rg = [{
                name: "Drylands",
                terrains: [6, 3, 3, 4]
            }, {
                name: "Grasslands",
                terrains: [3, 1, 1, 1, 4, 5]
            }, {
                name: "Forests",
                terrains: [1, 2, 5, 5, 5]
            }, {
                name: "Hills",
                terrains: [1, 5, 2, 2, 2]
            }],
            ag = {
                0: {
                    id: 0,
                    name: "Water",
                    color: "#2c4f4a"
                },
                1: {
                    id: 1,
                    name: "Grassland",
                    color: "#6a7535"
                },
                2: {
                    id: 2,
                    name: "Grassland Hills",
                    color: "#6a7535"
                },
                3: {
                    id: 3,
                    name: "Plains",
                    color: "#bda956"
                },
                4: {
                    id: 4,
                    name: "Plains Hills",
                    color: "#bda956"
                },
                5: {
                    id: 5,
                    name: "Forest",
                    color: "#394518"
                },
                6: {
                    id: 6,
                    name: "Desert",
                    color: "#aa9368"
                }
            },
            og = {
                1: {
                    id: 1,
                    name: "Farm",
                    description: '<span class="text-food"><i class="' + $f.food + '"></i> +1</span> / farmer',
                    description2: "Can only be built on Grasslands & Plains (no hills)",
                    terrains: [1, 3],
                    require: "crop_rotation",
                    time: 60,
                    cost: 200,
                    level: 1
                },
                2: {
                    id: 2,
                    name: "Mechanized Farm",
                    description: '<span class="text-food"><i class="' + $f.food + '"></i> +2</span> / farmer',
                    description2: "Can only be built on Grasslands & Plains (no hills)",
                    terrains: [1, 3],
                    require: "sanitation",
                    time: 300,
                    cost: 2e5,
                    level: 2
                },
                3: {
                    id: 3,
                    name: "Mine",
                    description: '<span class="text-prod"><i class="' + $f.prod + '"></i> +1</span> / builder',
                    description2: "Can only be built on Hills",
                    terrains: [2, 4],
                    require: "bronze_working",
                    time: 90,
                    cost: 300,
                    level: 1
                },
                4: {
                    id: 4,
                    name: "Industrial Park",
                    description: '<span class="text-prod"><i class="' + $f.prod + '"></i> +2</span> / builder',
                    description2: "Can only be built on Hills",
                    terrains: [2, 4],
                    require: "electricity",
                    time: 600,
                    cost: 3e5,
                    level: 2
                },
                5: {
                    id: 5,
                    name: "Road",
                    description: "Increase movements speed & trade route value when 2 cities are connected.<br/>Increase gold if city is connected to the capital.",
                    terrains: [],
                    require: "wheel",
                    time: 60,
                    cost: 50,
                    road: !0,
                    level: 1
                },
                6: {
                    id: 6,
                    name: "Railroad",
                    description: "Increase movements speed & trade route value when 2 cities are connected.<br/>Increase production if city is connected to the capital.",
                    terrains: [],
                    require: "railroad",
                    time: 180,
                    cost: 1e5,
                    road: !0,
                    level: 2
                },
                7: {
                    id: 7,
                    name: "Trading Post",
                    description: '<span class="text-gold"><i class="' + $f.gold + '"></i> +1</span> / merchant',
                    description2: "Cannot be built on desert",
                    terrains: [1, 2, 3, 4, 5],
                    require: "mathematics",
                    time: 150,
                    cost: 1e4,
                    level: 1
                },
                8: {
                    id: 8,
                    name: "Forest Camp",
                    description: '<span class="text-science"><i class="' + $f.science + '"></i> +1</span> / scholar',
                    description2: "Can only be built on Forests",
                    terrains: [5],
                    require: "iron_working",
                    time: 180,
                    cost: 2e4,
                    level: 1
                }
            },
            sg = function n() {
                _classCallCheck(this, n), this.version = 39, this.aes_key = "wA7Xb*6JZ7$R2p9bP_Nq", this.ut = 100, this.mut = 6e4, this.ait = 5e3, this.max_dt = 43200, this.max_influence_dt = 900, this.max_plague_dt = 300, this.max_influence = 2, this.autosave_delay = 9500, this.toast_delay = 15e3, this.citizens = Vf, this.buildings = jf, this.sciences = Wf, this.barbarian_happiness = .7, this.barbarian_burn_chances = .2, this.terrains = ag, this.biomes = rg, this.improvements = og, this.upgrades = ug, this.eras = Gf, this.policies = Kf, this.troops = Zf, this.locks = Qf, this.difficulties = Yf, this.deities = ng, this.powers = eg, this.spells = lg, this.autoassign = tg, this.civilizations = ig, this.trade_route_ratio = .5, this.trade_diplomacy_ratio = .5, this.truce_length = 1800, this.war_min_length = 1800, this.alliance_min_length = 1800, this.promotion_cooldown = 900, this.capital_cooldown = 3600, this.closest_relation_decrease = 1, this.deity_relation_change = 1, this.alliance_w_enemy_relation_change = -1, this.war_w_friend_relation_change = -1, this.alliance_w_friend_relation_change = 1, this.war_w_enemy_relation_change = 1, this.troop_speed_ratio = .05, this.gold_transfer_speed = 1, this.init = {
                    map_size: 30,
                    barbarians: {
                        nb: 120
                    }
                }, this.base_defense = 1, this.pop_defense = .05, this.save = {
                    prefix: "cv2sv_"
                }, this.troop_maintenance = .15, this.revoltImmunityDuration = 3e5, this.colony_nb = 20, this.colony_base_gold = .03, this.colony_base_gold_trade = .05, this.colony_base_happiness = .03, this.rightful_owner_timer = 1800, this.rightful_owner_influence_mult = 1.5, this.barbarians_color = "#f9efef", this.barbarians_color2 = "#181c10", this.road_speed_mult = 2, this.rail_speed_mult = 4, this.road_gold_mult = 1.25, this.road_trade_mult = 1.25, this.rail_prod_mult = 1.25, this.rail_trade_mult = 1.5, this.biome_size = 5, this.ruins = 100
            },
            cg = function n(l, e) {
                _classCallCheck(this, n), this.cities = [], this.science_queue = [], this.civ_cities = 1, this.id = l++, this.name = e, this.civ_id = "", this.culture = 0, this.faith = 0, this.progress = 0, this.sciences = {}, this.policies = {
                    groups: [],
                    policies: []
                }, this.orientation = -75, this.powers = {}, this.deity = "", this.appreciation = {}, this.influence = {}, this.promotion_cooldown = {}, this.discovered = []
            },
            dg = function n(l, e, t, i, u, r) {
                var a = arguments.length > 6 && void 0 !== arguments[6] && arguments[6];
                _classCallCheck(this, n), this.buildings = {}, this.building_queue = [], this.troops = {}, this.troops_progress = {}, this.troop_queue = [], this.id = l, this.capital = a, this.name = e, this.x = t, this.y = i, this.food = 0, this.gold = 0, this.bonus = "", this.ownerid = u, this.rightful_ownerid = u, this.citizens = {
                    idle: 1,
                    farmers: 0,
                    builders: 0,
                    merchants: 0,
                    scientists: 0,
                    artists: 0,
                    priests: 0
                }, this.autoassign = r, this.autoassign_options = {}, 0 != u && r && (this.autoassign_options.priority = Jf.fromArray(["farmers", "builders", "scientists", "merchants", "artists"]))
            },
            hg = function () {
                function n(l) {
                    _classCallCheck(this, n), this.conf = l, this.environment = wa, this.name = "unnamed", this.spellshidden = !1, this.lefthidden = !1
                }
                return _createClass(n, [{
                    key: "newGame",
                    value: function (n, l, e) {
                        this.name = n, this.difficulty = l, this.init(), this.players[0].civ_id = e, this.players[0].cities[0].name = this.conf.civilizations[e].vil_names[0]
                    }
                }, {
                    key: "init",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        l ? (this.tmp_powers = {}, this.players.forEach((function (l) {
                            return n.tmp_powers[l.id] = Object.assign({}, l.powers)
                        }))) : (this.autopause = {
                            save: !1,
                            incoming: !1,
                            science: !1,
                            building: !1,
                            citizen: !1,
                            city_captured: !1,
                            city_lost: !1,
                            city_joined: !1,
                            plague: !1
                        }, this.notif_pop = !0, this.notif_building = !0, this.max_rpt = 50, this.max_notif = 100, this.nostats = !1, this.darktheme = !1, this.pause = !1, this.version = this.conf.version, this.tuto_done = !1, this.death_modal = 0, this.persistent_locks = [], this.rebirths = 0, this.prestige = 0, this.favors = {}, this.upgrades = [], this.culture_reset = 0, this.lastdaily = 0, this.saveddaily = 0, this.savetime = Date.now(), this.lt = Date.now()), this.respawn = [], this.deities = {}, this.emp_autoassign = !1, this.emp_priority = "", this.emp_strong = !1, this.colonies = [], this.cooldowns = {}, this.charging = {}, this.spelltime = {}, this.autocast = void 0, this.plagueNb = 0, this.plagueMaxCities = 0, this.burnNb = 0, this.world_pos = {
                            x: 0,
                            y: 0
                        }, this.dailys = [], this.lastids = {
                            city: 1,
                            player: 0,
                            report: 1
                        }, this.locks = [], this.relations = [], this.workers = [], this.archeologists = [], this.scouts = [], this.spies = [], this.attacks = [], this.goldtransfers = [], this.trades = [], this.reports = [], this.notifications = [];
                        var e = new cg(this.lastids.player++, this.name);
                        this.players = [e];
                        var t = new dg(this.lastids.city++, this.name + " Village", 0, 0, 0, !1, !0);
                        e.cities = [t]
                    }
                }, {
                    key: "load",
                    value: function (n) {
                        for (var l in n) this[l] = n[l];
                        this.spelltime = {}
                    }
                }]), n
            }(),
            pg = e("NFKh"),
            fg = e("16wW"),
            gg = function n(l, e, t, i, u, r, a) {
                _classCallCheck(this, n), this.name = l, this.date = e, this.era = t, this.deity = i, this.rebirths = u, this.civ = r, this.data = a
            },
            vg = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, null, [{
                    key: "constraint",
                    value: function (n, l, e) {
                        return l || (e = 0, l = 1), n = Math.min(l, n), null != e && (n = Math.max(e, n)), n
                    }
                }]), n
            }(),
            mg = ((Cf = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.toasts = []
                }
                return _createClass(n, [{
                    key: "success",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                        this.show(n, "bg-success text-light", l, e)
                    }
                }, {
                    key: "info",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                        this.show(n, "bg-info text-light", l, e)
                    }
                }, {
                    key: "danger",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                        this.show(n, "bg-danger text-light", l, e)
                    }
                }, {
                    key: "black",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                        this.show(n, "bg-dark text-light border border-light", l, e)
                    }
                }, {
                    key: "warning",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                        this.show(n, "bg-warning text-light", l, e)
                    }
                }, {
                    key: "show",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "",
                            t = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "",
                            i = {
                                text: n,
                                delay: this.conf.toast_delay,
                                classname: l + (t ? " cursor-pointer" : ""),
                                link: t,
                                icon: e,
                                date: new Date
                            };
                        this.data.notifications.push(i), this.toasts.unshift(i)
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        this.toasts = this.toasts.filter((function (l) {
                            return l !== n
                        }))
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new Cf($n(sg), $n(hg))
                },
                token: Cf,
                providedIn: "root"
            }), Cf),
            yg = ((xf = function () {
                function n() {
                    _classCallCheck(this, n), this.username = "", window.kongregateAPI && window.kongregateAPI.loadAPI(this.apiLoaded.bind(this))
                }
                return _createClass(n, [{
                    key: "apiLoaded",
                    value: function () {
                        this.kong = window.kongregateAPI.getAPI(), this.updateFields(), this.kong.services.addEventListener("login", (function () {
                            this.updateFields()
                        }))
                    }
                }, {
                    key: "updateFields",
                    value: function () {
                        this.username = this.kong.services.getUsername(), console.log("User is : " + this.username), "Guest" == this.username && (this.username = "")
                    }
                }, {
                    key: "getUsername",
                    value: function () {
                        return this.username
                    }
                }, {
                    key: "buy",
                    value: function (n, l) {
                        if (this.kong) return this.kong.mtx.purchaseItems(["gift-" + n], l);
                        l(!0)
                    }
                }, {
                    key: "submmitStat",
                    value: function (n, l) {
                        this.kong && this.kong.stats.submit(n, l)
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new xf
                },
                token: xf,
                providedIn: "root"
            }), xf),
            bg = ((wf = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.router = l, this.data = e, this.conf = t, this.toastService = i, this.kongService = u, this.icons = $f
                }
                return _createClass(n, [{
                    key: "isDailyAllowed",
                    value: function () {
                        return this.isUnlocked("daily_bonus") ? this.data.saveddaily > 0 ? 1 : Date.now() - this.data.lastdaily >= 828e5 ? 2 : 0 : 0
                    }
                }, {
                    key: "isDeitySelectionAllowed",
                    value: function () {
                        return this.isUnlocked("deity_selection") && !this.player().deity
                    }
                }, {
                    key: "player",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.data.players.find((function (l) {
                            return l.id == n
                        }))
                    }
                }, {
                    key: "pop",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        return l ? Object.values(l.citizens).reduce((function (n, l) {
                            return n + l
                        })) : this.player().cities.map((function (l) {
                            return n.pop(l)
                        })).reduce((function (n, l) {
                            return n + l
                        }))
                    }
                }, {
                    key: "isUnlocked",
                    value: function (n) {
                        return this.data.locks.includes(n) || this.data.persistent_locks.includes(n)
                    }
                }, {
                    key: "hasUpgrade",
                    value: function (n) {
                        return this.data.upgrades.includes(n)
                    }
                }, {
                    key: "checkLocks",
                    value: function () {
                        var n = this;
                        Object.keys(this.conf.locks).forEach((function (l) {
                            !n.isUnlocked(l) && n.conf.locks[l].check(n, n.data) && (n.conf.locks[l].persistent ? n.data.persistent_locks.push(l) : n.data.locks.push(l), n.toastService.success("A new feature has been unlocked: " + n.conf.locks[l].name, $f.unlock, n.conf.locks[l].link))
                        }))
                    }
                }, {
                    key: "cultureDiff",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                            t = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        return e || (e = this.player()), l && l.cultureDiff && !t ? l.cultureDiff : l ? (this.cultureProduction(l) * (1 + (this.hasPolicy("philosophy", l.ownerid) && this.hasBuilding(l, "library") ? .05 : 0)) * (1 + (l.capital && this.hasPolicyGroup("traditionalism", l.ownerid) ? .15 : 0)) * (1 + (this.hasPolicyGroup("imperialism", l.ownerid) ? .05 : 0)) * (1 + this.happinessEffect(l)) * (1 + ("culture" == l.bonus ? .2 : 0)) * (1 + this.ouroborosBonus(l.ownerid)) * this.getPlayerRatio(l.ownerid, "culture") + this.tradeRouteGains(l).culture) * (1 + (this.data.spelltime.dionysia ? this.dionysiaBonus(l.ownerid) : 0)) : e.cities.map((function (l) {
                            return n.cultureDiff(l)
                        })).reduce((function (n, l) {
                            return n + l
                        }), 0)
                    }
                }, {
                    key: "cultureProduction",
                    value: function (n) {
                        return n.citizens.artists * this.conf.citizens.artists.culture(this, n.ownerid) + n.citizens.idle * this.conf.citizens.idle.culture(this, n.ownerid) + (this.hasBuilding(n, "monument") ? 1 : 0) + (this.hasBuilding(n, "amphitheatre") ? 2 : 0) + (this.hasBuilding(n, "opera") ? 5 : 0) + (this.hasBuilding(n, "museum") ? 10 : 0) + (this.hasBuilding(n, "palace") ? 2 : 0) + (this.hasBuilding(n, "pyramid") ? 5 : 0) + (this.hasBuilding(n, "mausoleum") ? 5 : 0) + (this.hasBuilding(n, "forbidden") ? 5 : 0) + (this.hasBuilding(n, "sistine") ? 15 : 0) + (this.hasBuilding(n, "versailles") ? 15 : 0) + (this.hasWonder(n.ownerid, "hermitage") ? 5 * (0 | n.relics) : 0) + (this.hasBuilding(n, "castle") && "french" == this.player(n.ownerid).civ_id ? 10 : 0) + (this.hasBuilding(n, "zoo") && "brazilians" == this.player(n.ownerid).civ_id ? 10 : 0)
                    }
                }, {
                    key: "cultureCost",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.data.players[0];
                        return Math.floor((25 + Math.pow(6 * (n.policies.policies.length + n.policies.groups.length), 2.8)) * (.3 + .7 * n.cities.length))
                    }
                }, {
                    key: "faithDiff",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return l ? (this.faithProduction(l) * (1 + (l.capital && this.hasPolicy("landed_elite", l.ownerid) ? .5 : 0)) * (1 + (this.hasPolicy("colonialism", l.ownerid) ? .15 : 0)) * (1 + (this.hasPolicy("reformation", l.ownerid) && this.hasBuilding(l, "monastery") ? .1 : 0)) * (1 + (this.hasPolicy("scientific_state", l.ownerid) && this.hasBuilding(l, "uni") ? .1 : 0)) * (1 + (this.hasPolicy("proselytism", l.ownerid) ? this.player(l.ownerid).cities.length / 100 : 0)) * (1 + (this.data.spelltime.bacchanalia ? this.bacchanaliaBonus(l.ownerid) : 0)) * (1 + this.punisherBonus(l.ownerid) * this.plagueNb()) * (1 + this.happinessEffect(l)) * (1 + ("faith" == l.bonus ? .2 : 0)) + this.tradeRouteGains(l).faith) * this.difficulty().faith_mult : (e || (e = this.player()), e.cities.map((function (l) {
                            return n.faithDiff(l)
                        })).reduce((function (n, l) {
                            return n + l
                        })))
                    }
                }, {
                    key: "faithProduction",
                    value: function (n) {
                        return n.citizens.priests * this.conf.citizens.priests.faith(this, n.ownerid) + this.pop(n) * this.orphicBonus(n.ownerid) + (this.hasBuilding(n, "shrine") ? 1 : 0) + (this.hasBuilding(n, "temple") ? 5 : 0) + (this.hasBuilding(n, "monastery") ? 15 : 0) + (this.hasBuilding(n, "pyramid") ? 2 * this.wondersNbInCity(n) : 0) + (this.hasPolicyGroup("piety", n.ownerid) && this.hasBuilding(n, "shrine") ? 2 : 0)
                    }
                }, {
                    key: "goldDiff",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        return l ? this.goldProduction(l) * (1 + (l.capital && this.hasPolicy("aristocracy", l.ownerid) ? .25 : 0)) * (1 + (this.hasPolicy("meritocracy", l.ownerid) ? .05 : 0)) * (1 + this.happinessEffect(l)) * (1 + this.colonyTotalGoldBonus(l.ownerid)) * (1 + ("gold" == l.bonus ? .2 : 0)) * this.getPlayerRatio(l.ownerid, "gold") * (this.cityConnectedToCapital(l) ? this.conf.road_gold_mult : 1) * this.upgradeGoldMult(l.ownerid) + this.tradeRouteGains(l).gold - this.maintenanceCost(l) : this.player().cities.map((function (l) {
                            return n.goldDiff(l)
                        })).reduce((function (n, l) {
                            return n + l
                        }))
                    }
                }, {
                    key: "goldTotal",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.player(n).cities.length ? this.player(n).cities.map((function (n) {
                            return n.gold
                        })).reduce((function (n, l) {
                            return n + l
                        })) : 0
                    }
                }, {
                    key: "maintenanceCost",
                    value: function (n) {
                        return this.troopNb(n) * this.maintenanceUnitaryCost(n)
                    }
                }, {
                    key: "maintenanceUnitaryCost",
                    value: function (n) {
                        return this.conf.troop_maintenance * (this.hasBuilding(n, "armory") ? .5 : 1) * (n.capital && this.hasPolicy("oligarchy", n.ownerid) ? .5 : 1) * (this.hasPolicy("professional_army", n.ownerid) ? .5 : 1) * (1 - this.warpathMaintenanceBonus(n.ownerid))
                    }
                }, {
                    key: "goldProduction",
                    value: function (n) {
                        return n.citizens.merchants * this.conf.citizens.merchants.gold(this, n) + (this.hasBuilding(n, "cop") ? 5 : 0) + (this.hasBuilding(n, "go") ? 15 : 0) + (this.hasBuilding(n, "coa") ? 25 : 0) + (this.hasBuilding(n, "palace") ? 2 : 0) + (this.hasBuilding(n, "colossus") ? 10 : 0) + (this.hasBuilding(n, "castle") && "french" == this.player(n.ownerid).civ_id ? 10 : 0)
                    }
                }, {
                    key: "totalTroopNb",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.player(l).cities.map((function (l) {
                            return n.troopNb(l, !0)
                        })).reduce((function (n, l) {
                            return n + l
                        }))
                    }
                }, {
                    key: "troopNb",
                    value: function (n) {
                        var l = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        return Object.values(n.troops).reduce((function (n, l) {
                            return n + l
                        }), 0) + (l ? this.data.attacks.filter((function (l) {
                            return l.from.x == n.x && l.from.y == n.y
                        })).reduce((function (n, l) {
                            return n + Object.values(l.troops).reduce((function (n, l) {
                                return n + l
                            }), 0)
                        }), 0) : 0)
                    }
                }, {
                    key: "troopNbById",
                    value: function (n, l) {
                        var e = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                            t = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                        return this.player(n).cities.reduce((function (n, e) {
                            return n + (e.troops[l] || 0)
                        }), 0) + (t ? this.troopNbInQueuesById(n, l) : 0) + (e ? this.data.attacks.filter((function (l) {
                            return l.ownerid == n
                        })).reduce((function (n, e) {
                            return n + Object.keys(e.troops).reduce((function (n, t) {
                                return n + (t == l ? e.troops[t] : 0)
                            }), 0)
                        }), 0) : 0)
                    }
                }, {
                    key: "troopNbInQueuesById",
                    value: function (n, l) {
                        return this.player(n).cities.reduce((function (n, e) {
                            return n + e.troop_queue.filter((function (n) {
                                return n.id == l
                            })).reduce((function (n, l) {
                                return n + l.nb
                            }), 0)
                        }), 0)
                    }
                }, {
                    key: "maxGold",
                    value: function (n) {
                        return this.hasBuilding(n, "reserve") ? 1e10 : this.hasBuilding(n, "mint") ? 1e8 : this.hasBuilding(n, "treasury") ? 1e6 : this.hasBuilding(n, "chest") ? 1e3 : 100
                    }
                }, {
                    key: "scienceDiff",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return l ? this.scienceProduction(l) * (1 + (l.capital && this.hasPolicy("wisdom_ancients", l.ownerid) ? .25 : 0)) * (1 + (this.hasPolicy("reformation", l.ownerid) && this.hasBuilding(l, "monastery") ? .1 : 0)) * (1 + (this.hasPolicy("scientific_state", l.ownerid) && this.hasBuilding(l, "uni") ? .1 : 0)) * (1 + this.happinessEffect(l)) * (1 + ("science" == l.bonus ? .2 : 0)) * (1 + this.clairvoyanceBonus(l.ownerid)) * (1 + this.enlightmentBonus(l.ownerid)) * (1 + (this.data.spelltime.bacchanalia ? this.bacchanaliaBonus(l.ownerid) : 0)) * (1 + this.punisherBonus(l.ownerid) * this.plagueNb()) * (1 + this.colonyTotalScienceBonus(l.ownerid)) * (1 + (this.hasBuilding(l, "oxford") ? .5 : 0)) * this.getPlayerRatio(l.ownerid, "science") * this.upgradeScienceMult(l.ownerid) + this.tradeRouteGains(l).science : (e || (e = this.player()), e.cities.map((function (l) {
                            return n.scienceDiff(l)
                        })).reduce((function (n, l) {
                            return n + l
                        })))
                    }
                }, {
                    key: "scienceProduction",
                    value: function (n) {
                        return n.citizens.scientists * this.conf.citizens.scientists.science(this, n) + this.pop(n) * this.sciencePerPop(n.ownerid) + (this.hasBuilding(n, "palace") ? 2 : 0) + (this.hasBuilding(n, "library") ? this.buildingBonus("library", n.ownerid) : 0) + (this.hasBuilding(n, "uni") ? 15 : 0) + (this.hasBuilding(n, "school") ? 25 : 0)
                    }
                }, {
                    key: "sciencePerPop",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return .1 + (this.hasScience("language", this.player(n)) ? .1 : 0) + (this.hasPolicy("code_of_laws", n) ? .1 : 0)
                    }
                }, {
                    key: "sciencePercent",
                    value: function () {
                        return this.player().science_queue.length ? Math.floor(100 * this.player().sciences[this.player().science_queue[0]].progress / this.scienceCost(this.conf.sciences[this.player().science_queue[0]])) : 0
                    }
                }, {
                    key: "scienceTime",
                    value: function (n) {
                        return n || this.player().science_queue.length ? n ? this.scienceCost(this.conf.sciences[n]) / this.scienceDiff() : (this.scienceCost(this.conf.sciences[this.player().science_queue[0]]) - this.player().sciences[this.player().science_queue[0]].progress) / this.scienceDiff() : 0
                    }
                }, {
                    key: "discoverScience",
                    value: function () {
                        for (var n = this, l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = this.player(l), t = e.sciences[e.science_queue[0]].progress - this.scienceCost(this.conf.sciences[e.science_queue[0]], l); t > 0 && e.science_queue.length;) "future" == e.science_queue[0] ? (e.sciences[e.science_queue[0]].progress = 0, e.progress += 10, this.changeOrientationFortech(e, 10), t = 0) : e.sciences[e.science_queue[0]].done = !0, 0 == e.id ? (this.toastService.success("A new discovery : " + this.conf.sciences[e.science_queue[0]].label, $f.science, "/game/science"), this.updateStats(), this.checkLocks(), "astronomy" == e.science_queue[0] && function () {
                            var l = n.data.players.filter((function (l) {
                                return n.hasScience("astronomy", l)
                            })).length;
                            n.data.players.forEach((function (e) {
                                l < 2 && n.isScienceAvailable("astronomy", e) && (e.sciences.astronomy = {
                                    progress: 0,
                                    done: !0
                                }, l++)
                            }))
                        }(), this.currentScienceRank() >= 7 && !this.data.last_plague && (this.data.last_plague = .01)) : e.id > 1 && ("religion" != e.science_queue[0] || e.deity || (e.deity = Jf.fromArray(Object.keys(this.conf.deities)), this.data.deities[e.id] = e.deity)), "exploration" == e.science_queue[0] && (this.completeCheckNewCiv(l), e.cities.forEach((function (l) {
                            n.viewRange(l.x, l.y, 1).forEach((function (l) {
                                n.setTile(e, l[0], l[1])
                            }))
                        }))), "future" != e.science_queue[0] && (e.science_queue.shift(), e.science_queue.length && (e.sciences[e.science_queue[0]] || (e.sciences[e.science_queue[0]] = {
                            progress: 0,
                            done: !1
                        }), e.sciences[e.science_queue[0]].progress = t, t -= this.scienceCost(this.conf.sciences[e.science_queue[0]], l)))
                    }
                }, {
                    key: "hasPolicyGroup",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return -1 != this.player(l).policies.groups.indexOf(n)
                    }
                }, {
                    key: "hasPolicy",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return -1 != this.player(l).policies.policies.indexOf(n)
                    }
                }, {
                    key: "hasScience",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return l || (l = this.player()), !(!l.sciences[n] || !l.sciences[n].done)
                    }
                }, {
                    key: "hasScienceRank",
                    value: function (n) {
                        var l = this;
                        return null != Object.keys(this.player().sciences).find((function (e) {
                            return l.conf.sciences[e].rank >= n && l.player().sciences[e].done
                        }))
                    }
                }, {
                    key: "currentScienceRank",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return Object.keys(this.player(l).sciences).filter((function (e) {
                            return n.player(l).sciences[e].done
                        })).map((function (l) {
                            return n.conf.sciences[l].rank
                        })).reduce((function (n, l) {
                            return Math.max(n, l)
                        }), 0)
                    }
                }, {
                    key: "era",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
                        return -1 == l && (l = this.currentScienceRank(n)), Object.values(this.conf.eras).find((function (n) {
                            return n.rank_start <= l && n.rank_end >= l
                        })).id
                    }
                }, {
                    key: "isScienceAvailable",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return e || (e = this.player()), -1 == this.conf.sciences[n].require.map((function (n) {
                            return l.hasScience(n, e)
                        })).indexOf(!1)
                    }
                }, {
                    key: "foodDiff",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        return n ? this.foodProduction(n) * (1 + this.happinessEffect(n)) * (1 + ("food" == n.bonus ? .2 : 0)) * (1 + this.serpentBonus(n)) * (1 + (this.data.spelltime.abundance ? this.abundanceBonus(n.ownerid) : 0)) * (1 + this.thirdeyeBonus(n)) * (1 + (this.hasPolicy("monopoly", n.ownerid) && this.tradeRoutes(n).out.length ? .1 : 0)) * (1 + this.prestigeBonus(n.ownerid)) * this.getPlayerRatio(n.ownerid, "food") - this.pop(n) : (e || (e = this.player()), e.cities.map((function (n) {
                            return l.foodDiff(n)
                        })).reduce((function (n, l) {
                            return n + l
                        })))
                    }
                }, {
                    key: "foodProduction",
                    value: function (n) {
                        return 1 + (n.citizens.idle * this.conf.citizens.idle.food(this, n) + n.citizens.farmers * this.conf.citizens.farmers.food(this, n) + (this.hasBuilding(n, "palace") ? 2 : 0) + (this.hasBuilding(n, "granary") ? this.buildingBonus("granary", n.ownerid) : 0) + (this.hasBuilding(n, "port") ? 5 : 0) + (this.hasBuilding(n, "mill") ? 10 : 0) + (this.hasBuilding(n, "hanging_gardens") ? 10 : 0))
                    }
                }, {
                    key: "foodRequired",
                    value: function (n) {
                        return 52 + 6 * Math.pow(2, this.pop(n) + 2)
                    }
                }, {
                    key: "citizenTime",
                    value: function (n) {
                        return (this.foodRequired(n) - n.food) / this.foodDiff(n)
                    }
                }, {
                    key: "prodDiff",
                    value: function (n) {
                        return this.prodProduction(n) * (1 + (this.hasPolicy("administration", n.ownerid) ? .05 : 0)) * (1 + this.happinessEffect(n)) * (1 + ("prod" == n.bonus ? .2 : 0)) * (1 + this.eternityBonus(n.ownerid)) * (1 + this.thirdeyeBonus(n)) * (1 + this.prestigeBonus(n.ownerid)) * (1 + (this.hasWonder(n.ownerid, "ruhr") && n.building_queue.length && "progress" == n.building_queue[0] ? .25 : 0)) * (1 + (this.hasPolicy("liberalism", n.ownerid) && n.building_queue.length && "progress" == n.building_queue[0] ? .25 : 0)) * this.getPlayerRatio(n.ownerid, "prod") * (2 == this.cityConnectedToCapital(n) ? this.conf.rail_prod_mult : 1)
                    }
                }, {
                    key: "prodProduction",
                    value: function (n) {
                        return n.citizens.builders * this.conf.citizens.builders.prod(this, n) + (this.hasBuilding(n, "workshop") ? this.buildingBonus("workshop", n.ownerid) : 0) + (this.hasBuilding(n, "furnace") ? 15 : 0) + (this.hasBuilding(n, "ironworks") ? this.buildingBonus("ironworks", n.ownerid) : 0) + (this.hasBuilding(n, "factory") ? 50 : 0) + (this.hasBuilding(n, "hydro") ? 50 : 0) + (this.hasBuilding(n, "palace") ? 2 : 0)
                    }
                }, {
                    key: "buildingBonus",
                    value: function (n, l) {
                        return this.conf.buildings[n].bonus(this.player(l), this)
                    }
                }, {
                    key: "health",
                    value: function (n) {
                        var l = this;
                        return n ? vg.constraint(1 - .05 * this.pop(n) + n.citizens.scientists * this.conf.citizens.scientists.health(this, n.ownerid) - (n.plague && n.plague > 0 ? .3 : 0) + (this.hasScience("pottery") ? .05 : 0) + (this.hasBuilding(n, "well") ? .05 : 0) + (this.hasBuilding(n, "aqueduct") ? .1 : 0) + (this.hasBuilding(n, "hospital") ? this.hasPolicy("procedures", n.ownerid) ? .2 : .15 : 0) + (this.hasBuilding(n, "dispensary") ? .2 : 0) + (this.hasBuilding(n, "quarantine") ? .1 : 0) + (this.hasPolicy("organized_religion", n.ownerid) && this.hasBuilding(n, "temple") ? .05 : 0) + (this.hasPolicy("isolationism", n.ownerid) && n.capital ? .15 : 0) + (this.hasPolicy("nih", n.ownerid) ? .05 : 0) + this.upgradeHealth(n.ownerid)) : this.player().cities.map((function (n) {
                            return l.health(n)
                        })).reduce((function (n, l) {
                            return n + l
                        })) / this.player().cities.length
                    }
                }, {
                    key: "healthKillChance",
                    value: function (n) {
                        return vg.constraint((1 - this.underworldBonus(n.ownerid)) * (1 - (this.hasPolicy("red_cross", n.ownerid) ? .5 : 0)) * (Math.exp(30 * (1 - this.health(n))) - 1) / 1e14)
                    }
                }, {
                    key: "revoltRisks",
                    value: function (n) {
                        var l = this.happiness(n);
                        if (l >= (0 == n.ownerid ? .2 : .25)) return null;
                        if (n.ownerchange && Date.now() - n.ownerchange < this.conf.revoltImmunityDuration) return null;
                        var e = vg.constraint((Math.exp(30 * (1 - l)) - 1) / 4e14);
                        this.hasBuilding(n, "police") && (e *= .5);
                        var t = this.mostInfluencialPlayer(n);
                        return Jf.roll(e * (1 + 10 * t.influence)) ? t.player : null
                    }
                }, {
                    key: "happiness",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        if (n && 1 == n.ownerid) return this.conf.barbarian_happiness;
                        if (n && n.happiness && !e) return n.happiness;
                        if (n) {
                            var t = vg.constraint(1 - this.popNbHappinessEffect(n) + n.citizens.artists * this.conf.citizens.artists.happiness(this, n.ownerid) + n.citizens.idle * this.conf.citizens.idle.happiness(this, n.ownerid) - this.citiesNbHappinessEffect(n.ownerid) - this.happinessDistance(n) + this.colonyTotalHappinessBonus(n.ownerid) + (this.hasPolicy("patriotism", n.ownerid) ? .05 : 0) + (this.hasBuilding(n, "gardens") ? this.buildingBonus("gardens", n.ownerid) : 0) + (this.hasBuilding(n, "theatre") ? .1 : 0) + (this.hasBuilding(n, "circus") ? .15 : 0) + (this.hasBuilding(n, "zoo") ? .15 : 0) + (this.hasBuilding(n, "hanging_gardens") ? .1 : 0) + (this.hasWonder(n.ownerid, "versailles") ? .1 : 0) + (this.hasPolicy("theocracy", n.ownerid) && this.hasBuilding(n, "monastery") ? .05 : 0) + (this.hasPolicy("secularism", n.ownerid) && this.hasBuilding(n, "shrine") ? .05 : 0) + (this.hasPolicy("despotism", n.ownerid) && this.hasBuilding(n, "barracks") ? .05 : 0) + (this.hasPolicy("police_state", n.ownerid) && this.hasBuilding(n, "courthouse") ? .1 : 0) + (this.hasPolicy("monopoly", n.ownerid) && this.tradeRoutes(n).out.length ? .05 : 0) + this.newfireBonus(n.ownerid) + this.blissBonus(n.ownerid) + this.eyeBonus(n.ownerid) + this.valhallaBonus(n) - this.influenceEffectTotal(n) + this.upgradeHappiness(n.ownerid));
                            return isNaN(t) ? .2 : t
                        }
                        return this.player().cities.map((function (n) {
                            return l.happiness(n)
                        })).reduce((function (n, l) {
                            return n + l
                        })) / this.player().cities.length
                    }
                }, {
                    key: "influenceEffectTotal",
                    value: function (n) {
                        var l = this;
                        return this.data.players.filter((function (l) {
                            return 1 != l.id && l.id != n.ownerid
                        })).reduce((function (e, t) {
                            return e + l.influenceEffectFromPlayer(n, t)
                        }), 0)
                    }
                }, {
                    key: "influenceEffectFromPlayer",
                    value: function (n, l) {
                        if (1 == l.id) return 0;
                        if (!this.haveRelation(n.ownerid, l.id)) return 0;
                        var e = Math.max(-2, this.influence(n.ownerid, l.id));
                        if (e >= 0) return 0;
                        var t = this.closestCity(n.x, n.y, l.id);
                        if (t) {
                            var i = this.cityDistance(n.id, t.id) + .5,
                                u = 2;
                            return n.capital && (u = 1.6), Math.floor(Math.pow(-100 * e, u) / (100 * Math.pow(i, .5))) / 100 * (n.rightful_ownerid == l.id ? this.conf.rightful_owner_influence_mult : 1) || 0
                        }
                        return 0
                    }
                }, {
                    key: "mostInfluencialPlayer",
                    value: function (n) {
                        var l = this,
                            e = this.player(1),
                            t = 0;
                        return this.data.players.filter((function (l) {
                            return 1 != l.id && l.id != n.ownerid
                        })).forEach((function (i) {
                            var u = l.influenceEffectFromPlayer(n, i);
                            u > t && (e = i, t = u)
                        })), {
                            player: e,
                            influence: t
                        }
                    }
                }, {
                    key: "popNbHappinessEffect",
                    value: function (n) {
                        var l = this.pop(n);
                        return Math.floor(5 * Math.pow(l, .9)) / 100
                    }
                }, {
                    key: "citiesNbHappinessEffect",
                    value: function (n) {
                        var l = this.player(n).cities.length;
                        return Math.floor(5 * Math.pow(l, .8)) / 100
                    }
                }, {
                    key: "happinessDistance",
                    value: function (n) {
                        return .025 * this.cityDistance(n.id) * (this.hasBuilding(n, "tribunal") ? .5 : 1) * (this.hasBuilding(n, "courthouse") ? .5 : 1) * (this.hasWonder(n.ownerid, "pantheon") ? .5 : 1)
                    }
                }, {
                    key: "happinessEffect",
                    value: function (n) {
                        return vg.constraint(1 - Math.exp(1 * (.7 - this.happiness(n))), .25, -1)
                    }
                }, {
                    key: "cityForWonder",
                    value: function (n) {
                        var l = this;
                        return this.allCities().find((function (e) {
                            return l.hasBuilding(e, n)
                        }))
                    }
                }, {
                    key: "isWonderDone",
                    value: function (n) {
                        var l = this;
                        return this.allCities().some((function (e) {
                            return l.hasBuilding(e, n)
                        }))
                    }
                }, {
                    key: "wondersNbTotal",
                    value: function () {
                        var n = this,
                            l = 0;
                        return Object.values(this.conf.buildings).filter((function (n) {
                            return n.wonder
                        })).forEach((function (e) {
                            n.isWonderDone(e.id) && l++
                        })), l
                    }
                }, {
                    key: "wondersNb",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = 0;
                        return Object.values(this.conf.buildings).filter((function (n) {
                            return n.wonder
                        })).forEach((function (t) {
                            n.hasWonder(l, t.id) && e++
                        })), e
                    }
                }, {
                    key: "wondersNbInCity",
                    value: function (n) {
                        var l = this,
                            e = 0;
                        return Object.values(this.conf.buildings).filter((function (n) {
                            return n.wonder
                        })).forEach((function (t) {
                            l.hasBuilding(n, t.id) && e++
                        })), e
                    }
                }, {
                    key: "hasWonder",
                    value: function (n, l) {
                        var e = this;
                        return this.player(n).cities.some((function (n) {
                            return e.hasBuilding(n, l)
                        }))
                    }
                }, {
                    key: "isBuildingWonder",
                    value: function (n, l) {
                        return this.player(n).cities.some((function (n) {
                            return n.building_queue.includes(l)
                        }))
                    }
                }, {
                    key: "hasBuilding",
                    value: function (n, l) {
                        return n.buildings[l] && n.buildings[l].done
                    }
                }, {
                    key: "buildingPercent",
                    value: function (n) {
                        return n.building_queue.length ? Math.floor(100 * n.buildings[n.building_queue[0]].progress / this.buildingProdCost(this.conf.buildings[n.building_queue[0]], n)) : 0
                    }
                }, {
                    key: "buildingTime",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                        if (!l) {
                            if (!n.building_queue.length) return 0;
                            l = n.building_queue[0]
                        }
                        return (this.buildingProdCost(this.conf.buildings[l], n) - (n.buildings[l] ? n.buildings[l].progress : 0)) / this.prodDiff(n)
                    }
                }, {
                    key: "troopTimeToGoldCost",
                    value: function (n, l) {
                        var e = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        return this.troopTime(n, l, e) * this.conf.troops[l].gold(this, n.ownerid) / 500 * 50
                    }
                }, {
                    key: "isUpgradable",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return n.upgradable && n.obsolete && this.hasScience(n.obsolete, this.player(l))
                    }
                }, {
                    key: "canUpgrade",
                    value: function (n, l, e) {
                        return this.isUpgradable(n, e.ownerid) && this.upgradeCost(n, l, e) < e.gold
                    }
                }, {
                    key: "upgradeCost",
                    value: function (n, l, e) {
                        if (!n.upgradable) return 0;
                        var t = this.conf.troops[n.upgradable];
                        return t ? l * (t.gold(this, e.ownerid) - n.gold(this, e.ownerid) + (this.troopTimeToGoldCost(e, t.id, !1) - this.troopTimeToGoldCost(e, n.id, !1))) : 0
                    }
                }, {
                    key: "upgrade",
                    value: function (n, l) {
                        var e = l.troops[n.id];
                        this.canUpgrade(n, e, l) && (l.troops[n.upgradable] || (l.troops[n.upgradable] = 0), l.troops[n.upgradable] += e, delete l.troops[n.id], l.gold -= this.upgradeCost(n, e, l))
                    }
                }, {
                    key: "buildingProdToGoldCost",
                    value: function (n, l) {
                        var e = 50;
                        return "progress" == l && (e = 500), e * (this.buildingProdCost(this.conf.buildings[l], n) - (n.buildings[l] ? n.buildings[l].progress : 0))
                    }
                }, {
                    key: "buyBuilding",
                    value: function (n, l) {
                        return !(n.gold < this.buildingProdToGoldCost(n, l) || (n.gold -= this.buildingProdToGoldCost(n, l), "progress" == l ? (n.buildings[l].progress = 0, n.building_queue.length > 1 && n.building_queue.shift()) : (n.building_queue.splice(n.building_queue.indexOf(l), 1), n.buildings[l] = {
                            progress: 0,
                            done: !0
                        }), 0))
                    }
                }, {
                    key: "troopTime",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            e = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        if (!l) {
                            if (!n.troop_queue.length) return 0;
                            l = n.troop_queue[0].id
                        }
                        return (this.conf.troops[l].time(this, n.ownerid) - (e && n.troops_progress[l] ? n.troops_progress[l] : 0)) / this.recruitmentSpeed(n)
                    }
                }, {
                    key: "isSpellAvailable",
                    value: function (n) {
                        return !(3 == n.level && this.player().orientation > -75 || 2 == n.level && this.player().orientation > -50 || 1 == n.level && this.player().orientation > -25 || this.data.cooldowns[n.id] || this.isSpellLocked(n))
                    }
                }, {
                    key: "isSpellLocked",
                    value: function (n) {
                        return n.lock && !this.isUnlocked(n.lock)
                    }
                }, {
                    key: "useSpell",
                    value: function (n, l) {
                        if (this.isSpellAvailable(n)) {
                            if (n.charging) this.data.charging[n.id] ? this.data.charging[n.id]++ : this.data.charging[n.id] = 1;
                            else if (n.time) this.data.spelltime[n.id] = n.time;
                            else if (!n.run(this, l)) return;
                            this.data.cooldowns[n.id] = n.cooldown * this.coolDownMult(), this.changeOrientation(this.player(), -1), this.checkLocks()
                        }
                    }
                }, {
                    key: "viewRange",
                    value: function (n, l, e) {
                        for (var t = [], i = -e; i <= e; i++)
                            for (var u = -e; u <= e; u++) t.push([n + i, l + u]);
                        return t
                    }
                }, {
                    key: "city",
                    value: function (n, l) {
                        return void 0 === l ? this.allCities().find((function (l) {
                            return l.id == n
                        })) : this.allCities().find((function (e) {
                            return e.x == n && e.y == l
                        }))
                    }
                }, {
                    key: "capital",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.player(n).cities.find((function (n) {
                            return n.capital
                        }))
                    }
                }, {
                    key: "allCities",
                    value: function () {
                        var n;
                        return (n = []).concat.apply(n, _toConsumableArray(this.data.players.map((function (n) {
                            return n.cities
                        }))))
                    }
                }, {
                    key: "closestCity",
                    value: function (n, l) {
                        var e = this,
                            t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            i = arguments.length > 3 ? arguments[3] : void 0,
                            u = 99999999999,
                            r = void 0;
                        return (i ? this.allCities().filter((function (n) {
                            return n.ownerid != t
                        })) : this.player(t).cities).forEach((function (t) {
                            var i = e.distance(n, l, t.x, t.y);
                            i < u && 0 != i && (u = i, r = t)
                        })), r
                    }
                }, {
                    key: "citiesInRange",
                    value: function (n, l) {
                        var e = this;
                        return this.allCities().filter((function (t) {
                            return t.id != n.id && e.cityDistance(n.id, t.id) <= l
                        }))
                    }
                }, {
                    key: "hasUndiscovered",
                    value: function (n) {
                        return this.player(n).discovered.length < this.arrayIndexOf(this.conf.init.map_size + 1, this.conf.init.map_size + 1) || this.player(n).discovered.some((function (n) {
                            return !n
                        }))
                    }
                }, {
                    key: "closestUndiscovered",
                    value: function (n, l, e) {
                        for (var t = 1; t < 2 * this.conf.init.map_size;) {
                            for (var i = Jf.fromArray([-1, 1]), u = Jf.fromArray([-1, 1]), r = l - i * t; r <= l + t && r >= l - t; r += i)
                                for (var a = e - u * t; a <= e + t && a >= e - t; a += u)
                                    if (r >= -this.conf.init.map_size && r <= this.conf.init.map_size && a >= -this.conf.init.map_size && a <= this.conf.init.map_size && !this.isDiscovered(n, r, a)) return {
                                        x: r,
                                        y: a
                                    };
                            t++
                        }
                    }
                }, {
                    key: "closestUndiscoveredWithRange",
                    value: function (n, l, e, t, i, u) {
                        for (var r = this, a = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6], o = 1; o < 2 * this.conf.init.map_size;) {
                            for (var s = Jf.fromArray([-1, 1]), c = Jf.fromArray([-1, 1]), d = function (l) {
                                    for (var s = function (e) {
                                            if (l >= -r.conf.init.map_size && l <= r.conf.init.map_size && e >= -r.conf.init.map_size && e <= r.conf.init.map_size && r.distance(l, e, t, i) <= u && !r.isDiscovered(n, l, e) && (!a || !r.data.scouts.some((function (t) {
                                                    return t.ownerid == n && t.to.x == l && t.to.y == e
                                                })))) return {
                                                v: {
                                                    v: {
                                                        x: l,
                                                        y: e
                                                    }
                                                }
                                            }
                                        }, d = e - c * o; d <= e + o && d >= e - o; d += c) {
                                        var h = s(d);
                                        if ("object" == typeof h) return h.v
                                    }
                                }, h = l - s * o; h <= l + o && h >= l - o; h += s) {
                                var p = d(h);
                                if ("object" == typeof p) return p.v
                            }
                            o++
                        }
                    }
                }, {
                    key: "distance",
                    value: function (n, l, e, t) {
                        var i = e - n,
                            u = t - l;
                        return Math.sqrt(i * i + u * u)
                    }
                }, {
                    key: "cityDistance",
                    value: function (n, l) {
                        var e = this.city(n),
                            t = l ? this.city(l) : this.player(e.ownerid).cities.find((function (n) {
                                return n.capital
                            }));
                        return t ? this.distance(e.x, e.y, t.x, t.y) : 0
                    }
                }, {
                    key: "movPos",
                    value: function (n) {
                        return n.progress <= n.dist ? {
                            x: Math.floor(.5 + n.from.x + (n.to.x - n.from.x) * n.progress / n.dist),
                            y: Math.floor(.5 + n.from.y + (n.to.y - n.from.y) * n.progress / n.dist)
                        } : n.progress <= 2 * n.dist ? {
                            x: Math.floor(.5 + n.from.x + (n.to.x - n.from.x) * (2 - n.progress / n.dist)),
                            y: Math.floor(.5 + n.from.y + (n.to.y - n.from.y) * (2 - n.progress / n.dist))
                        } : {
                            x: n.to.x,
                            y: n.to.y
                        }
                    }
                }, {
                    key: "speed",
                    value: function (n, l, e, t) {
                        var i = this.connected(l, e.x, e.y, t.x, t.y),
                            u = 1;
                        return 2 == i ? u = this.conf.rail_speed_mult : 1 == i && (u = this.conf.road_speed_mult), ("gold" == n ? this.conf.gold_transfer_speed : this.conf.troops[n].speed(this.player(l))) * u * (1 + this.hasteBonus(l)) * this.upgradeSpeedMult(l)
                    }
                }, {
                    key: "attackSpeed",
                    value: function (n, l, e, t) {
                        var i = this;
                        return Object.keys(n).filter((function (l) {
                            return 0 != n[l]
                        })).reduce((function (n, u) {
                            return Math.min(n, i.speed(u, l, e, t))
                        }), 999)
                    }
                }, {
                    key: "defense",
                    value: function (n) {
                        return this.conf.base_defense + this.pop(n) * this.conf.pop_defense + (n.capital && this.hasPolicy("city_state", n.ownerid) ? .2 : 0) + this.stoneBonus(n.ownerid) + (this.hasBuilding(n, "walls") ? .5 : 0) + (this.hasBuilding(n, "castle") ? .5 : 0) + (this.hasBuilding(n, "fortress") ? .5 : 0) + (this.hasBuilding(n, "temple_artemis") ? .5 : 0) + (this.hasWonder(n.ownerid, "great_wall") ? .5 : 0)
                    }
                }, {
                    key: "getPlayerRatio",
                    value: function (n, l) {
                        if (0 == n) return 1;
                        if (1 == n) return "science" == l ? this.difficulty().barbarian_science_mult : "gold" == l || "prod" == l ? this.difficulty().barbarian_gold_prod_mult : "attack" == l || "defense" == l ? this.difficulty().barbarian_battle_mult : 1;
                        var e = this.conf.civilizations[this.player(n).civ_id];
                        return "recruitment" == l ? this.difficulty().ai_recruit_bonus * e.mult[l] : "attack" == l || "defense" == l ? e.mult[l] : this.era(n) == e.golden ? this.difficulty().ai_golden_bonus * e.mult[l] : this.difficulty().ai_bonus * e.mult[l]
                    }
                }, {
                    key: "attackMult",
                    value: function (n) {
                        return 1 * (1 == n && this.hasPolicy("code_of_honor", n) ? 1.15 : 1) * (this.data.spelltime.berserker ? 1 + this.berserkerAttackBonus(n) : 1) * (this.hasWonder(n, "statue_zeus") ? 1.15 : 1) * (this.hasWonder(n, "brandenburg") ? 1.15 : 1) * this.getPlayerRatio(n, "attack")
                    }
                }, {
                    key: "fight",
                    value: function (n, l, e, t) {
                        var i, u, r = this,
                            a = this.player(t),
                            o = this.player(t),
                            s = this.attackMult(t),
                            c = 1 * (1 == e.ownerid && this.hasPolicy("code_of_honor", t) ? 1.15 : 1) * this.getPlayerRatio(e.ownerid, "defense"),
                            d = this.defense(e); - 1 != e.id && (d *= 1 - this.influenceEffectFromPlayer(e, this.player(t)));
                        var h = 0,
                            p = 0,
                            f = Object.assign({}, n),
                            g = Object.assign({}, l),
                            v = !1,
                            m = !1,
                            y = 0,
                            b = 0,
                            _ = 0,
                            k = 0;
                        if (Object.keys(f).forEach((function (n) {
                                r.conf.troops[n].siege && (y += f[n] * r.conf.troops[n].attack(a)), b += f[n] * r.conf.troops[n].defense(a)
                            })), y) {
                            Object.keys(g).forEach((function (n) {
                                r.conf.troops[n].ranged(o) && (_ += g[n] * r.conf.troops[n].attack(o)), k += g[n] * r.conf.troops[n].defense(o)
                            })), y *= s, b *= s, _ *= 0, k *= c, k *= d;
                            var w = _slicedToArray(this.getLost(y, b, _, k), 2),
                                x = w[0],
                                C = w[1];
                            Object.keys(f).forEach((function (n) {
                                f[n] = Math.floor((1 - x) * f[n])
                            })), Object.keys(g).forEach((function (n) {
                                g[n] = Math.floor((1 - C) * g[n])
                            }));
                            var S = .1 * (this.hasPolicy("discipline", t) ? .75 : 1);
                            y / k > 3 * S ? (this.hasBuilding(e, "fortress") && (v = !0), this.hasBuilding(e, "castle") && (v = !0), this.hasBuilding(e, "walls") && (m = !0)) : y / k > 2 * S ? (this.hasBuilding(e, "fortress") && (v = !0), this.hasBuilding(e, "castle") ? v = !0 : this.hasBuilding(e, "walls") && (m = !0)) : y / k > S && (this.hasBuilding(e, "fortress") ? v = !0 : this.hasBuilding(e, "castle") ? v = !0 : this.hasBuilding(e, "walls") && (m = !0)), v && (e.buildings.castle = {
                                done: !1,
                                progress: 0
                            }), m && (e.buildings.walls = {
                                done: !1,
                                progress: 0
                            }), d *= 1 - this.influenceEffectFromPlayer(e, this.player(t))
                        }
                        y = 0, b = 0, _ = 0, k = 0, Object.keys(f).forEach((function (n) {
                            r.conf.troops[n].ranged(a) && (y += f[n] * r.conf.troops[n].attack(a)), b += f[n] * r.conf.troops[n].defense(a)
                        })), Object.keys(g).forEach((function (n) {
                            r.conf.troops[n].ranged(o) && !r.conf.troops[n].siege && (_ += g[n] * r.conf.troops[n].attack(o)), k += g[n] * r.conf.troops[n].defense(o)
                        })), y *= s, b *= s, _ *= c, k *= c, k *= d, i = _slicedToArray(this.getLost(y, b, _, k), 2), h = i[0], p = i[1], Object.keys(f).forEach((function (n) {
                            f[n] = Math.floor((1 - h) * f[n])
                        })), Object.keys(g).forEach((function (n) {
                            g[n] = Math.floor((1 - p) * g[n])
                        })), y = 0, b = 0, _ = 0, k = 0, Object.keys(f).forEach((function (n) {
                            f[n] = Math.floor((1 - h) * f[n]), r.conf.troops[n].ranged(a) || r.conf.troops[n].siege || (y += f[n] * r.conf.troops[n].attack(a)), b += f[n] * r.conf.troops[n].defense(a)
                        })), Object.keys(g).forEach((function (n) {
                            g[n] = Math.floor((1 - p) * g[n]), r.conf.troops[n].ranged(o) || r.conf.troops[n].siege || (_ += g[n] * r.conf.troops[n].attack(o)), k += g[n] * r.conf.troops[n].defense(o)
                        })), y *= s, b *= s, _ *= c, k *= c, k *= d, u = _slicedToArray(this.getLost(y, b, _, k), 2), h = u[0], p = u[1], Object.keys(f).forEach((function (n) {
                            f[n] = Math.floor((1 - h) * f[n])
                        })), Object.keys(g).forEach((function (n) {
                            g[n] = Math.floor((1 - p) * g[n])
                        }));
                        var I = Object.values(f).reduce((function (n, l) {
                            return n + l
                        }), 0);
                        return n.governor && I && (f.governor = n.governor), n.slaver && I && (f.slaver = n.slaver), {
                            troops: [f, g],
                            walls: m,
                            castle: v,
                            fortress: !1
                        }
                    }
                }, {
                    key: "getLost",
                    value: function (n, l, e, t) {
                        var i = vg.constraint(.5 * Math.log10(10 * (n ? t ? n / t : 1e3 : 0)));
                        return [vg.constraint(.5 * Math.log10(10 * (t ? l ? e / l : 1e3 : 0))), i]
                    }
                }, {
                    key: "spy",
                    value: function (n) {
                        var l = n.spies / ((this.city(n.to.x, n.to.y).troops.spies || 0) + 1),
                            e = !1,
                            t = !1,
                            i = !1,
                            u = !1,
                            r = 0,
                            a = !1;
                        return l >= 3 ? (e = !0, u = !0, t = !0, i = !0, a = !0, r = Math.max(0, Math.floor(100 * Math.log10(l) * this.scienceDiff(this.city(n.to.x, n.to.y))))) : l >= 2 ? (e = !0, u = !0, t = !0, i = !0, a = !0) : l >= 1.5 ? (e = !0, u = !0, t = !0, a = !0) : l >= 1 && (e = !0), {
                            survived: e,
                            buildings: t,
                            troops: i,
                            gold: u,
                            science: r,
                            cityDef: a
                        }
                    }
                }, {
                    key: "minDistFromCity",
                    value: function (n) {
                        var l = this,
                            e = 999;
                        return this.player().cities.forEach((function (t) {
                            var i = l.distance(t.x, t.y, n.x, n.y);
                            i < e && (e = i)
                        })), e
                    }
                }, {
                    key: "killCitizen",
                    value: function (n) {
                        n.citizens.idle ? n.citizens.idle-- : Object.keys(n.citizens).reverse().some((function (l) {
                            if (n.citizens[l]) return n.citizens[l]--, !0
                        }))
                    }
                }, {
                    key: "killTroop",
                    value: function (n) {
                        if (Object.keys(n.troops).length) {
                            var l = Jf.get(0, Object.keys(n.troops).length - 1),
                                e = Object.keys(n.troops)[l];
                            return "governor" == e && this.troopNb(n, !1) > n.troops.governor ? this.killTroop(n) : (n.troops[e]--, n.troops[e] <= 0 && delete n.troops[e], e)
                        }
                    }
                }, {
                    key: "govCost",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            e = this.player(n).cities.length + this.troopNbById(n, "governor") + l;
                        return Math.floor(500 + 50 * Math.pow(e, 3.15)) * (this.hasPolicy("collective_rules", n) ? .75 : 1)
                    }
                }, {
                    key: "powerCost",
                    value: function (n, l) {
                        var e = this.player(n).powers[l] || 0;
                        return Math.pow(2, e)
                    }
                }, {
                    key: "reincarnation",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            e = this.data.dailys.length,
                            t = this.favorGain(),
                            i = this.prestigeGain(),
                            u = this.player().orientation > 0,
                            r = Object.assign({}, this.data.deities);
                        this.data.init(!0), this.data.pause = !0, this.initGame(), l || (this.data.rebirths++, u ? this.data.prestige += i : this.data.players.filter((function (n) {
                            return 1 != n.id
                        })).forEach((function (l) {
                            var e = r[l.id],
                                i = 1;
                            0 != l.id && (i = Jf.get(70, 100) / 100), n.data.favors[l.id] || (n.data.favors[l.id] = {}), e ? (n.data.favors[l.id][e] = Math.floor(i * t[0]) + (n.data.favors[l.id][e] || 0), n.data.favors[l.id][""] = Math.floor(i * t[1]) + (n.data.favors[l.id][""] || 0)) : n.data.favors[l.id][""] = Math.floor(i * t[0] + t[1]) + (n.data.favors[l.id][""] || 0), l.id > 1 && n.allocatePowers(l)
                        }))), this.data.saveddaily || (this.data.saveddaily = 0), this.data.saveddaily += e, this.checkLocks(), this.toastService.info("You have been reincarnated", $f.favor, "/game/help#reincarnation"), this.data.death_modal = u ? 2 : 1, this.updateStats(), this.router.navigate(["/game/city"])
                    }
                }, {
                    key: "chooseCiv",
                    value: function (n) {
                        var l = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        this.player().civ_id = n, l && (this.player().cities[0].name = this.conf.civilizations[n].vil_names[0], this.initCivs(n))
                    }
                }, {
                    key: "allocatePowers",
                    value: function (n) {
                        for (var l = 0; l < 50;) {
                            var e = Jf.fromArray(Object.keys(this.conf.powers).filter((function (n) {
                                return "sequencer" != n && "orphic" != n
                            })));
                            this.powerAvailable(n.id, e) ? (this.addPower(n.id, e), l = 0) : l++
                        }
                    }
                }, {
                    key: "powerAvailable",
                    value: function (n, l) {
                        var e = this,
                            t = !0;
                        return Object.keys(this.conf.powers[l].cost).forEach((function (i) {
                            e.powerCost(n, l) * e.conf.powers[l].cost[i] > (e.data.favors[n][i] || 0) && (t = !1)
                        })), t
                    }
                }, {
                    key: "addPower",
                    value: function (n, l) {
                        var e = this;
                        this.powerAvailable(n, l) && (Object.keys(this.conf.powers[l].cost).forEach((function (t) {
                            e.data.favors[n][t] -= e.powerCost(n, l) * e.conf.powers[l].cost[t]
                        })), this.player(n).powers[l] = 1 + (this.player(n).powers[l] || 0), 0 == n && this.updateStats())
                    }
                }, {
                    key: "favorGain",
                    value: function () {
                        var n = Math.pow(this.player().faith, .7) / 600;
                        return [Math.floor(.8 * n), Math.ceil(.2 * n)]
                    }
                }, {
                    key: "prestigeGain",
                    value: function () {
                        return Math.floor(Math.pow(this.player().progress, .8) / 5)
                    }
                }, {
                    key: "prestigeBonus",
                    value: function (n) {
                        return !this.data.prestige || n > 0 ? 0 : this.data.prestige / 100
                    }
                }, {
                    key: "nextPoint",
                    value: function () {
                        var n = this.favorGain();
                        return Math.min(1 + Math.floor(Math.pow(600 * (1 + n[0]) / .8, 1 / .7)), 1 + Math.floor(Math.pow(600 * (1 + n[1]) / .2, 1 / .7)))
                    }
                }, {
                    key: "nextPrestige",
                    value: function () {
                        var n = this.prestigeGain();
                        return 1 + Math.floor(Math.pow(10 * (1 + n), 1 / .7))
                    }
                }, {
                    key: "arrayIndexOf",
                    value: function (n, l) {
                        return n + this.conf.init.map_size + 1 + (l + this.conf.init.map_size + 1) * (2 * (this.conf.init.map_size + 1) + 1)
                    }
                }, {
                    key: "indexToCoords",
                    value: function (n) {
                        var l = 2 * (this.conf.init.map_size + 1) + 1,
                            e = Math.floor(n / l);
                        return [n - e * l - (this.conf.init.map_size + 1), e -= this.conf.init.map_size + 1]
                    }
                }, {
                    key: "setTile",
                    value: function (n, l, e) {
                        var t = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                        1 != n.id && (n.discovered[this.arrayIndexOf(l, e)] = t ? 1 : 0)
                    }
                }, {
                    key: "getTile",
                    value: function (n, l, e) {
                        if (1 == n.id) return 0;
                        var t = this.arrayIndexOf(l, e);
                        return n.discovered.length > t ? n.discovered[t] : 0
                    }
                }, {
                    key: "setTerrain",
                    value: function (n, l, e) {
                        n < -this.conf.init.map_size || n > this.conf.init.map_size || l < -this.conf.init.map_size || l > this.conf.init.map_size || (this.data.map[this.arrayIndexOf(n, l)] = e)
                    }
                }, {
                    key: "getTerrain",
                    value: function (n, l) {
                        var e = this.arrayIndexOf(n, l);
                        return this.data.map[e]
                    }
                }, {
                    key: "setImprovement",
                    value: function (n, l, e) {
                        this.data.improvements[this.arrayIndexOf(n, l)] = e
                    }
                }, {
                    key: "getImprovement",
                    value: function (n, l) {
                        var e = this.arrayIndexOf(n, l);
                        return this.data.improvements.length > e ? this.data.improvements[e] : 0
                    }
                }, {
                    key: "setRoad",
                    value: function (n, l, e) {
                        this.data.roads[this.arrayIndexOf(n, l)] = e
                    }
                }, {
                    key: "getRoad",
                    value: function (n, l) {
                        var e = this.arrayIndexOf(n, l);
                        return this.data.roads.length > e ? this.data.roads[e] : 0
                    }
                }, {
                    key: "hasRuin",
                    value: function (n, l) {
                        return this.data.ruins.some((function (e) {
                            return e.x == n && e.y == l
                        }))
                    }
                }, {
                    key: "cityConnectedToCapital",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        if (n && (n.connected || 0 === n.connected) && !l) return n.connected;
                        var e = this.capital(n.ownerid);
                        return e ? this.cityConnected(n, e) : 0
                    }
                }, {
                    key: "cityConnected",
                    value: function (n, l) {
                        return this.connected(n.ownerid, n.x, n.y, l.x, l.y)
                    }
                }, {
                    key: "connected",
                    value: function (n, l, e, t, i) {
                        return arguments.length > 5 && void 0 !== arguments[5] && arguments[5], this.railConnected(l, e, t, i) ? this.hasScience("railroad", this.player(n)) ? 2 : 1 : this.roadConnected(l, e, t, i) ? 1 : 0
                    }
                }, {
                    key: "roadConnected",
                    value: function (n, l, e, t) {
                        var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                        if (n == e && l == t) return !0;
                        if (i && i.some((function (e) {
                                return e.x == n && e.y == l
                            }))) return !1;
                        i ? i.push({
                            x: n,
                            y: l
                        }) : i = [{
                            x: n,
                            y: l
                        }];
                        var u = this.getRoad(n, l + 1) || this.city(n, l + 1),
                            r = this.getRoad(n, l - 1) || this.city(n, l - 1),
                            a = this.getRoad(n - 1, l) || this.city(n - 1, l),
                            o = this.getRoad(n + 1, l) || this.city(n + 1, l);
                        return !!(u && this.roadConnected(n, l + 1, e, t, i) || r && this.roadConnected(n, l - 1, e, t, i) || a && this.roadConnected(n - 1, l, e, t, i) || o && this.roadConnected(n + 1, l, e, t, i))
                    }
                }, {
                    key: "railConnected",
                    value: function (n, l, e, t) {
                        var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                        if (n == e && l == t) return !0;
                        if (i && i.some((function (e) {
                                return e.x == n && e.y == l
                            }))) return !1;
                        i ? i.push({
                            x: n,
                            y: l
                        }) : i = [{
                            x: n,
                            y: l
                        }];
                        var u = 6 == this.getRoad(n, l + 1) || this.city(n, l + 1),
                            r = 6 == this.getRoad(n, l - 1) || this.city(n, l - 1),
                            a = 6 == this.getRoad(n - 1, l) || this.city(n - 1, l),
                            o = 6 == this.getRoad(n + 1, l) || this.city(n + 1, l);
                        return !!(u && this.railConnected(n, l + 1, e, t, i) || r && this.railConnected(n, l - 1, e, t, i) || a && this.railConnected(n - 1, l, e, t, i) || o && this.railConnected(n + 1, l, e, t, i))
                    }
                }, {
                    key: "discover",
                    value: function (n) {
                        var l = this;
                        if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1], 1 != n.ownerid) {
                            var e = this.player(n.ownerid),
                                t = this.movPos(n);
                            this.viewRange(t.x, t.y, 1).forEach((function (t) {
                                l.isDiscovered(e.id, t[0], t[1]) || (l.setTile(e, t[0], t[1]), 1 != n.ownerid && l.checkNewCiv(e, t))
                            }))
                        }
                    }
                }, {
                    key: "checkNewCiv",
                    value: function (n, l) {
                        var e = this.city(l[0], l[1]);
                        if (e && 1 != e.ownerid && e.ownerid != n.id && !this.haveRelation(n.id, e.ownerid)) {
                            var t = this.player(e.ownerid);
                            this.data.relations.push({
                                playersid: [n.id, t.id].sort(),
                                status: 0,
                                war_rating: 0,
                                war_total: 0
                            }), 0 != n.id && (n.appreciation[t.id] = this.conf.civilizations[n.civ_id].starting_relations + (this.hasPolicy("patronage", t.id) ? 10 : 0)), 0 != t.id && (t.appreciation[n.id] = this.conf.civilizations[t.civ_id].starting_relations + (this.hasPolicy("patronage", n.id) ? 10 : 0)), n.influence[t.id] = 0, t.influence[n.id] = 0;
                            var i = this.capital(n.id),
                                u = this.capital(t.id);
                            u && this.setTile(n, u.x, u.y), i && this.setTile(t, i.x, i.y), 0 == n.id ? this.toastService.info("New civilization discovered: " + t.name, $f.act_scout, "/game/world?x=" + l[0] + "&y=" + l[1]) : 0 == t.id ? this.toastService.info("New civilization discovered: " + n.name, $f.act_scout, "/game/world?x=" + l[0] + "&y=" + l[1]) : wa.production || console.log(n.name + " discovered " + t.name)
                        }
                    }
                }, {
                    key: "completeCheckNewCiv",
                    value: function (n) {
                        if (1 != n)
                            for (var l = 0; l < this.player(n).discovered.length; l++) this.player(n).discovered[l] && this.checkNewCiv(this.player(n), this.indexToCoords(l))
                    }
                }, {
                    key: "isDiscovered",
                    value: function (n, l, e) {
                        return 1 == this.getTile(this.player(n), l, e)
                    }
                }, {
                    key: "createScout",
                    value: function (n, l, e, t) {
                        var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                        if (1 != n.ownerid) {
                            var u = !!n.troops.explorer;
                            this.data.scouts.push({
                                ownerid: n.ownerid,
                                destid: -1,
                                from: {
                                    x: n.x,
                                    y: n.y
                                },
                                to: {
                                    x: e,
                                    y: t
                                },
                                dist: this.distance(n.x, n.y, e, t),
                                progress: 0,
                                speed: this.speed(u ? "explorer" : "scout", n.ownerid, n, {
                                    x: e,
                                    y: t
                                }),
                                returning: !1,
                                auto: l,
                                origin_id: n.id,
                                explorer: u,
                                route: i
                            }), u ? n.troops.explorer-- : n.troops.scout--
                        }
                    }
                }, {
                    key: "createGold",
                    value: function (n, l, e) {
                        this.data.goldtransfers.push({
                            ownerid: n.ownerid,
                            destid: l.ownerid,
                            from: {
                                x: n.x,
                                y: n.y
                            },
                            to: {
                                x: l.x,
                                y: l.y
                            },
                            dist: this.distance(n.x, n.y, l.x, l.y),
                            speed: this.speed("gold", n.ownerid, n, l),
                            progress: 0,
                            gold: e,
                            returning: !1,
                            goldTransfer: !0
                        }), n.gold -= e
                    }
                }, {
                    key: "availableCitiesForTrade",
                    value: function (n) {
                        var l = this;
                        return this.allCities().filter((function (e) {
                            return e.ownerid != n.ownerid && l.haveRelation(n.ownerid, e.ownerid) && !l.atWar(n.ownerid, e.ownerid) && -1 == l.data.trades.findIndex((function (l) {
                                return l.from.x == n.x && l.from.y == n.y && l.to.x == e.x && l.to.y == e.y
                            })) && l.cityDistance(n.id, e.id) <= l.tradeRouteMaxDist(n.ownerid)
                        }))
                    }
                }, {
                    key: "tradeRouteMaxDist",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        if (this.hasWonder(n, "panama")) return 9999;
                        var l = this.player(n);
                        return this.hasScience("rigging", l) ? 35 : this.hasScience("physics", l) ? 30 : this.hasScience("engineering", l) ? 25 : this.hasScience("optics", l) ? 20 : this.hasScience("wheel", l) ? 15 : 10
                    }
                }, {
                    key: "supprTradeRouteForPlayers",
                    value: function (n, l) {
                        var e = this,
                            t = !1;
                        return this.data.trades.forEach((function (i) {
                            if (i.ownerid == n.id && i.destid == l.id || i.ownerid == l.id && i.destid == n.id) {
                                var u = e.city(i.to.x, i.to.y);
                                e.supprTradeRoute(e.city(i.from.x, i.from.y), u) && (t = !0, e.toastService.warning("Trade routes to " + u.name + " have been lost", $f.trade, "/game/diplomacy#tab_trade"))
                            }
                        })), t
                    }
                }, {
                    key: "supprTradeRoute",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                            e = this.data.trades.length,
                            t = !1;
                        if (l) this.data.trades = this.data.trades.filter((function (e) {
                            return !(e.from.x == n.x && e.from.y == n.y && e.to.x == l.x && e.to.y == l.y)
                        })), t = e != this.data.trades.length && (0 == n.ownerid || 0 == l.ownerid);
                        else {
                            var i = [];
                            this.data.trades.forEach((function (l) {
                                l.from.x == n.x && l.from.y == n.y || l.to.x == n.x && l.to.y == n.y ? 0 != l.ownerid && 0 != l.destid || (t = !0) : i.push(l)
                            })), this.data.trades = i
                        }
                        return t
                    }
                }, {
                    key: "tradeRouteNb",
                    value: function (n) {
                        return n || (n = this.player()), this.data.trades.filter((function (l) {
                            return l.ownerid == n.id
                        })).length
                    }
                }, {
                    key: "maxTradeRoute",
                    value: function (n) {
                        return n || (n = this.player()), 0 + ("arabians" == n.civ_id ? 2 : 0) + (this.hasScience("navigation", n) ? 1 : 0) + (this.hasScience("wheel", n) ? 1 : 0) + (this.hasScience("diplomacy", n) ? 1 : 0) + (this.hasScience("optics", n) ? 1 : 0) + (this.hasScience("engineering", n) ? 1 : 0) + (this.hasScience("corporation", n) ? 1 : 0) + (this.hasPolicyGroup("pacifism", n.id) ? 2 : 0) + (this.hasPolicy("scholasticism", n.id) ? 2 : 0) + (this.hasPolicy("academy", n.id) ? 1 : 0) + (this.hasWonder(n.id, "colossus") ? 1 : 0) + (this.hasWonder(n.id, "panama") ? 2 : 0) + this.upgradeTrade(n.id) + (0 == n.id && this.data.charging.tradenode ? Math.floor(this.tradeNodeBonus()) : 0)
                    }
                }, {
                    key: "coloniesAvailable",
                    value: function () {
                        return this.conf.colony_nb - this.data.colonies.length
                    }
                }, {
                    key: "colonyNb",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.data.colonies.filter((function (e) {
                            return n.city(e).ownerid == l
                        })).length
                    }
                }, {
                    key: "colonyNbForCity",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.data.colonies.filter((function (l) {
                            return l == n
                        })).length
                    }
                }, {
                    key: "colonyTotalGoldBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.colonyNb(n) ? this.colonyNb(n) * this.colonyGoldBonus(n) : 0
                    }
                }, {
                    key: "colonyTotalTradeGoldBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.colonyNb(n) ? this.colonyNb(n) * this.colonyTradeGoldBonus(n) : 0
                    }
                }, {
                    key: "colonyTotalGoldBonusForCity",
                    value: function (n) {
                        return this.colonyNbForCity(n) ? this.colonyNbForCity(n) * this.colonyGoldBonus(this.city(n).ownerid) : 0
                    }
                }, {
                    key: "colonyTotalTradeGoldBonusForCity",
                    value: function (n) {
                        return this.colonyNbForCity(n) ? this.colonyNbForCity(n) * this.colonyTradeGoldBonus(this.city(n).ownerid) : 0
                    }
                }, {
                    key: "colonyTotalHappinessBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.colonyNb(n) ? this.colonyNb(n) * this.colonyHappinessBonus(n) : 0
                    }
                }, {
                    key: "colonyGoldBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.conf.colony_base_gold + (this.hasScience("rigging", this.player(n)) ? .03 : 0) + (this.hasWonder(n, "bigben") ? .05 : 0) + (this.hasWonder(n, "casa") ? .02 : 0) + (this.hasPolicy("colonial_conquest", n) ? .05 : 0)
                    }
                }, {
                    key: "colonyTradeGoldBonus",
                    value: function () {
                        return arguments.length > 0 && void 0 !== arguments[0] && arguments[0], this.conf.colony_base_gold_trade
                    }
                }, {
                    key: "colonyTotalScienceBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.colonyNb(n) ? this.colonyNb(n) * this.colonyScienceBonus(n) : 0
                    }
                }, {
                    key: "colonyScienceBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.hasPolicy("geographical", n) ? .02 : 0
                    }
                }, {
                    key: "colonyHappinessBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this.conf.colony_base_happiness + (this.hasWonder(n, "bigben") ? .03 : 0) + (this.hasWonder(n, "casa") ? .02 : 0)
                    }
                }, {
                    key: "tradeRouteGains",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        if (n && n.tradeGains && !e) return n.tradeGains;
                        var t = this.tradeRoutes(n),
                            i = {
                                gold: 0,
                                culture: 0,
                                faith: 0,
                                science: 0
                            };
                        return t.out.map((function (n) {
                            return l.tradeRouteValueForTrade(n)
                        })).forEach((function (n) {
                            i.gold += n.gold, i.culture += n.culture, i.faith += n.faith, i.science += n.science
                        })), t.in.map((function (n) {
                            return l.tradeRouteValueForTrade(n)
                        })).forEach((function (n) {
                            i.gold += n.gold * l.conf.trade_route_ratio, i.culture += n.culture * l.conf.trade_route_ratio, i.faith += n.faith * l.conf.trade_route_ratio, i.science += n.science * l.conf.trade_route_ratio
                        })), i
                    }
                }, {
                    key: "tradeRoutes",
                    value: function (n) {
                        return {
                            out: this.data.trades.filter((function (l) {
                                return l.from.x == n.x && l.from.y == n.y
                            })),
                            in: this.data.trades.filter((function (l) {
                                return l.to.x == n.x && l.to.y == n.y
                            }))
                        }
                    }
                }, {
                    key: "tradeRouteValueForTrade",
                    value: function (n) {
                        return this.tradeRouteValue(this.city(n.from.x, n.from.y), this.city(n.to.x, n.to.y))
                    }
                }, {
                    key: "tradeRouteValue",
                    value: function (n, l) {
                        var e = this.cityConnected(n, l),
                            t = 1;
                        2 == e ? t = this.conf.rail_trade_mult : 1 == e && (t = this.conf.road_trade_mult);
                        var i = ((this.pop(n) + this.pop(l)) / 2 + ("gold" == n.bonus ? 2 : 0) + ("gold" == l.bonus ? 2 : 0) + (this.hasBuilding(n, "market") ? 2 : 0) + (this.hasBuilding(l, "market") ? 1 : 0) + (this.hasBuilding(n, "bank") ? this.buildingBonus("bank", n.ownerid) : 0) + (this.hasBuilding(l, "bank") ? this.buildingBonus("bank", l.ownerid) / 2 : 0) + (this.hasBuilding(n, "stock") ? 10 : 0) + (this.hasBuilding(l, "stock") ? 5 : 0)) * (1 + (this.hasPolicy("merchant_confederacy", n.ownerid) ? .15 : 0)) * (1 + (this.data.spelltime.negociation ? this.negociationBonus(n.ownerid) : 0)) * (1 + this.colonyTotalTradeGoldBonusForCity(n.id)) * (1 + this.colonyTotalTradeGoldBonusForCity(l.id) / 2) * t;
                        return {
                            gold: i,
                            culture: ((this.pop(n) + this.pop(l)) / 2 + ("culture" == n.bonus ? 2 : 0) + ("culture" == l.bonus ? 2 : 0) + (this.hasBuilding(n, "monument") ? 2 : 0) + (this.hasBuilding(l, "monument") ? 1 : 0) + (this.hasBuilding(n, "amphitheatre") ? 5 : 0) + (this.hasBuilding(l, "amphitheatre") ? 2 : 0) + (this.hasBuilding(n, "opera") ? 10 : 0) + (this.hasBuilding(l, "opera") ? 5 : 0) + (this.hasWonder(n.ownerid, "pisa") ? 10 : 0)) * (1 + (this.hasPolicy("cultural_diplomacy", n.ownerid) ? .15 : 0)) * t,
                            diplomacy: (1 + (this.hasBuilding(n, "embassy") ? 1 : 0) + (this.hasBuilding(n, "consulate") ? 1 : 0) + (this.hasPolicy("philantropy", n.ownerid) ? 1 : 0)) * this.conf.trade_diplomacy_ratio,
                            science: 0 + (this.hasPolicy("sovereignty", n.ownerid) ? 2 : 0) + (this.hasPolicy("academy", n.ownerid) ? 5 : 0) + (0 == n.ownerid && this.data.spelltime.seshat ? i : 0),
                            faith: 0 + (this.hasPolicy("religious_laws", n.ownerid) ? 2 : 0) + (this.hasPolicy("scholasticism", n.ownerid) ? 5 : 0)
                        }
                    }
                }, {
                    key: "giftValue",
                    value: function (n) {
                        var l = 100 * n / this.goldTotal(0);
                        return vg.constraint(Math.min(l, n / 10), 25, 0)
                    }
                }, {
                    key: "truce",
                    value: function (n, l) {
                        var e = this,
                            t = this.getRelation(n, l);
                        t && (t.status = 2, t.cooldown = this.conf.truce_length, delete t.war_length, n > 1 && (this.player(n).appreciation[l] < 10 && (this.player(n).appreciation[l] += 20), this.player(n).appreciation[l] < 15 && (this.player(n).appreciation[l] += 15), this.player(n).appreciation[l] < 20 && (this.player(n).appreciation[l] += 10)), l > 1 && (this.player(l).appreciation[n] < 10 && (this.player(l).appreciation[n] += 20), this.player(l).appreciation[n] < 15 && (this.player(l).appreciation[n] += 15), this.player(l).appreciation[n] < 20 && (this.player(l).appreciation[n] += 10)), this.data.attacks.filter((function (t) {
                            var i = e.city(t.to.x, t.to.y);
                            return !t.returning && (t.ownerid == n && i.ownerid == l || t.ownerid == l && i.ownerid == n)
                        })).forEach((function (n) {
                            n.returning = !0, n.progress = 2 * n.dist - n.progress
                        })))
                    }
                }, {
                    key: "attackRatioRequired",
                    value: function (n) {
                        return n ? 3 - this.conf.civilizations[n].agressivity / 10 : 1.4
                    }
                }, {
                    key: "war",
                    value: function (n, l) {
                        var e = this,
                            t = this.player(n),
                            i = this.player(l),
                            u = this.getRelation(n, l);
                        u && (u.status = 1, u.cooldown = this.conf.war_min_length, u.war_length = 0, u.war_rating = 0, u.war_total = 0, 0 != t.id && (t.appreciation[i.id] = 10), 0 != i.id && (i.appreciation[t.id] = 10), this.supprTradeRouteForPlayers(t, i), this.data.relations.filter((function (e) {
                            return e.playersid.includes(l) && 3 == e.status && !e.playersid.includes(n)
                        })).forEach((function (t) {
                            var u = t.playersid.find((function (n) {
                                return n != l
                            }));
                            if (u != l && !e.atWar(n, u) && e.haveRelation(0, n)) {
                                var r = !0;
                                0 == u && 0 == e.data.difficulty && (r = !1), r && (e.war(u, n), 0 == u ? e.toastService.danger("You declared war on " + e.player(n).name + " (def. pact with " + i.name + ")", $f.attack, "/game/diplomacy/") : e.haveRelation(0, u) && e.haveRelation(0, n) && e.toastService.warning(e.player(u).name + " declared war on " + e.player(n).name, $f.attack, "/game/diplomacy/"))
                            }
                        })))
                    }
                }, {
                    key: "transferCity",
                    value: function (n, l) {
                        var e = this,
                            t = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                            i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
                            u = this.city(n),
                            r = this.player(u.ownerid),
                            a = this.player(l);
                        if (u.capital && r.cities.length > 1 && (r.cities[1].capital = !0), u.capital = !1, u.buildings.palace && delete u.buildings.palace, u.building_queue.includes("palace") && (u.building_queue.splice(u.building_queue.indexOf("palace"), 1), u.buildings.palace && (u.buildings.palace.progress = 0)), this.supprTradeRoute(u) && this.toastService.warning("Trade routes to " + u.name + " have been lost because city has been taken", $f.trade, "/game/diplomacy#tab_trade"), this.data.attacks.filter((function (n) {
                                return n.to.x == u.x && n.to.y == u.y
                            })).forEach((function (n) {
                                n.destid = l
                            })), this.data.colonies = this.data.colonies.filter((function (l) {
                                return l != n
                            })), this.data.goldtransfers = this.data.goldtransfers.filter((function (n) {
                                return !(n.to.x == u.x && n.to.y == u.y)
                            })), this.data.spies.filter((function (n) {
                                return n.to.x == u.x && n.to.y == u.y
                            })).forEach((function (n) {
                                e.cancelMove(n)
                            })), u.troop_queue = [], r.cities.splice(r.cities.indexOf(u), 1), t || (a.cities.push(u), u.ownerid = l, 1 != a.id && "Barb. vil." == u.name && (u.name = this.conf.civilizations[a.civ_id].vil_names[a.civ_cities++] || u.name), u.ownerchange = Date.now(), Object.values(this.conf.buildings).forEach((function (n) {
                                n.add_all && e.hasWonder(l, n.id) && e.player(l).cities.forEach((function (l) {
                                    return l.buildings[n.add_all] = {
                                        done: !0,
                                        progress: 0
                                    }
                                }))
                            }))), this.viewRange(u.x, u.y, 1).forEach((function (n) {
                                e.isDiscovered(a.id, n[0], n[1]) || (e.setTile(a, n[0], n[1]), 1 != l && e.checkNewCiv(a, n))
                            })), l > 1 && this.isDiscovered(0, u.x, u.y) && this.checkNewCiv(this.player(), [u.x, u.y]), 0 == l && (t && this.data.burnNb++, this.checkLocks(), this.updateStats()), u.owner_change_timer = this.conf.rightful_owner_timer, i) {
                            var o = t ? "burned down" : "captured",
                                s = 0 != l || t ? "/game/world?x=" + u.x + "&y=" + u.y : "/game/city/" + u.id;
                            0 == l ? this.toastService.success(u.name + " has been " + o + " !", $f.success, s) : 0 == r.id && this.toastService.success(u.name + " has been " + o + " !", $f.defeat, s)
                        }
                    }
                }, {
                    key: "peaceCost",
                    value: function (n, l) {
                        var e = this.playerAttack(n),
                            t = this.playerAttack(this.player(l)),
                            i = (e - t) / (t + e),
                            u = (i + this.getRelation(n.id, l).war_rating / (this.getRelation(n.id, l).war_total + 1)) / 2;
                        return u *= u >= 0 ? 1.9 - this.fatigueRatio(n, l) : .1 + this.fatigueRatio(n, l), (u = Math.pow(1 + u, .7) - 1) >= 0 && i < 0 ? 0 : u
                    }
                }, {
                    key: "playerAttack",
                    value: function (n) {
                        var l = this;
                        return (n.cities.reduce((function (n, e) {
                            return n + l.cityAttack(e)
                        }), 0) + this.data.attacks.filter((function (l) {
                            return l.ownerid == n.id
                        })).reduce((function (n, e) {
                            return n + l.attackAttack(e)
                        }), 0)) * this.attackMult(n.id)
                    }
                }, {
                    key: "cityAttack",
                    value: function (n) {
                        var l = this;
                        return Object.keys(n.troops).reduce((function (e, t) {
                            return e + n.troops[t] * l.conf.troops[t].attack(l.player(n.ownerid))
                        }), 0)
                    }
                }, {
                    key: "attackAttack",
                    value: function (n) {
                        var l = this;
                        return Object.keys(n.troops).reduce((function (e, t) {
                            return e + n.troops[t] * l.conf.troops[t].attack(l.player(n.ownerid))
                        }), 0)
                    }
                }, {
                    key: "fatigueRatio",
                    value: function (n, l) {
                        var e = this.player(l).civ_id;
                        return this.conf.civilizations[e].war_fatigue_ratio / (this.conf.civilizations[e].war_fatigue_ratio + 1e3 * this.getRelation(n.id, l).war_length)
                    }
                }, {
                    key: "aiMinWarTime",
                    value: function (n) {
                        return this.conf.civilizations[n.civ_id].war_fatigue_ratio / 2500
                    }
                }, {
                    key: "playerValue",
                    value: function (n) {
                        var l = this;
                        return this.player(n).cities.reduce((function (n, e) {
                            return n + l.cityValue(e)
                        }), 0)
                    }
                }, {
                    key: "cityValue",
                    value: function (n) {
                        var l = this;
                        return 50 * this.pop(n) + Object.keys(n.buildings).filter((function (l) {
                            return n.buildings[l].done
                        })).reduce((function (n, e) {
                            return n + l.buildingGoldCost(l.conf.buildings[e])
                        }), 0)
                    }
                }, {
                    key: "warChance",
                    value: function (n, l) {
                        var e = this;
                        if (0 == l.id && 0 == this.data.difficulty) return 0;
                        if (0 == l.id && this.era(l.id) == this.conf.eras.prehistory.id) return 0;
                        var t = this.playerAttack(n),
                            i = this.playerAttack(l),
                            u = this.conf.civilizations[n.civ_id].agressivity,
                            r = 999;
                        n.cities.forEach((function (n) {
                            l.cities.forEach((function (l) {
                                var t = e.cityDistance(n.id, l.id);
                                t < r && (r = t)
                            }))
                        })), this.getRelations(l.id).filter((function (l) {
                            return !l.playersid.includes(n.id)
                        })).forEach((function (t) {
                            var u = t.playersid[0];
                            u == l.id && (u = t.playersid[0]), 3 != t.status || e.atWar(n.id, u) || (i += .5 * e.playerAttack(e.player(u))), 1 == t.status && (i -= .25 * e.playerAttack(e.player(u)))
                        })), i < 0 && (i = 0);
                        var a = .5 + .5 * (t - i) / (t + i);
                        return a < .4 ? 0 : vg.constraint((1 + (u - 12) * (this.wondersNb(l.id) + this.colonyNb(l.id)) / 100) * Math.pow(500, a - .55) * Math.pow(4, u - 13.5) / (7e3 * Math.pow(r + 1, .5) * Math.pow(1.1, n.appreciation[l.id] - 50)))
                    }
                }, {
                    key: "scienceCost",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            t = 1 - .02 * this.data.players.filter((function (e) {
                                return l.hasScience(n.id)
                            })).length;
                        return 1 == e && (t = 1), Math.floor(t * (5.5 * Math.pow(n.rank / 2, 7.8) - 10 + 20 * n.rank))
                    }
                }, {
                    key: "buildingGoldCost",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return n.free ? 0 : Math.floor((86 + Math.pow(this.conf.sciences[n.require.science].rank || 0, 6) / 4.5) * (this.hasPolicyGroup("militarism", l) && "military" == n.category ? .75 : 1))
                    }
                }, {
                    key: "buildingProdCost",
                    value: function (n, l) {
                        var e = this.conf.sciences[n.require.science].rank || 0;
                        return "progress" == n.id && (e -= 1), (31 + Math.pow(e, 5) / 2) * (n.wonder ? 3.4 + .1 * this.player(l.ownerid).cities.length : 1) * (this.hasPolicyGroup("militarism", l.ownerid) && "military" == n.category ? .75 : 1) * (this.hasBuilding(l, "shrine") && n.wonder ? .95 : 1)
                    }
                }, {
                    key: "coolDownMult",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return (this.hasWonder(n, "mausoleum") ? .85 : 1) * (this.hasWonder(n, "taj") ? .85 : 1) * (this.hasPolicy("miracles", n) ? .8 : 1) * (1 - this.sequencerBonus(n))
                    }
                }, {
                    key: "abundanceBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : (40 * Math.pow(1.4, this.player(n).powers.serpent || 0) - 20) / 100
                    }
                }, {
                    key: "newfireBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.newfire || this.player(n).orientation > 0 ? 0 : .44 * Math.log10(1 + .3 * this.data.charging.newfire)
                    }
                }, {
                    key: "sacrificeBonus",
                    value: function () {
                        return Math.pow(10 + this.foodDiff(null), 1.05) * Math.pow(.5 + this.happiness(), 6.5)
                    }
                }, {
                    key: "negociationBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : 20 * Math.pow(1.4, this.player(n).powers.eye || 0) / 100
                    }
                }, {
                    key: "tradeNodeBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.tradenode || this.player(n).orientation > 0 ? 0 : 7.2 * Math.log(.05 * (this.data.charging.tradenode + 2) + 1)
                    }
                }, {
                    key: "warpathBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.warpath || this.player(n).orientation > 0 ? 0 : 1.27 * Math.log10(.2 * this.data.charging.warpath + 1)
                    }
                }, {
                    key: "warpathMaintenanceBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.warpath || this.player(n).orientation > 0 ? 0 : .223 * Math.log10(1 + 1.8 * this.data.charging.warpath)
                    }
                }, {
                    key: "berserkerAttackBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : (40 * Math.pow(1.25, this.player(n).powers.valhalla || 0) - 30) / 100
                    }
                }, {
                    key: "berserkerSpeedBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : (40 * Math.pow(1.1, this.player(n).powers.valhalla || 0) - 30) / 100
                    }
                }, {
                    key: "appropriationBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : 2 * Math.pow(1 + this.playerAttack(this.player(n)) / 70, 1.2)
                    }
                }, {
                    key: "timeshiftBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : 80 * Math.pow(1.2, this.player(n).powers.thirdeye || 0) - 50
                    }
                }, {
                    key: "enlightmentBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.enlightment || this.player(n).orientation > 0 ? 0 : 1.03 * Math.log10(1 + .25 * this.data.charging.enlightment)
                    }
                }, {
                    key: "mahaBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        if (0 != n) return 0;
                        var l = this.player(n);
                        return Math.pow(1 + this.scienceDiff(null, l), 1.5) + Math.pow(1 + this.foodDiff(null, l), 1.5)
                    }
                }, {
                    key: "idlersBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.idlers || this.player(n).orientation > 0 ? 0 : Math.floor(28 * Math.log10(1 + 1.2 * this.data.charging.idlers)) / 10
                    }
                }, {
                    key: "dionysiaBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : .5 * this.happiness() * Math.pow(1 + (this.player(n).powers.orphic || 0), .7)
                    }
                }, {
                    key: "bacchanaliaBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : Math.pow(1 + this.colonyNb(n), 2) * Math.pow(100 + this.cultureDiff(null), .2) * Math.pow(this.happiness(), 4) / 1e3
                    }
                }, {
                    key: "underworldBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.underworld || this.player(n).orientation > 0 ? 0 : .223 * Math.log10(1 + 1.8 * this.data.charging.underworld)
                    }
                }, {
                    key: "punisherBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return 0 != n ? 0 : !this.data.charging.punisher || this.player(n).orientation > 0 ? 0 : .05 * Math.log10(1 + 1.5 * this.data.charging.punisher)
                    }
                }, {
                    key: "clairvoyanceBonus",
                    value: function (n) {
                        return .1 * (this.player(n).powers.clairvoyance || 0)
                    }
                }, {
                    key: "stoneBonus",
                    value: function (n) {
                        return .05 * (this.player(n).powers.stone || 0)
                    }
                }, {
                    key: "buildingNb",
                    value: function (n) {
                        return Object.values(n.buildings).filter((function (n) {
                            return n.done
                        })).length
                    }
                }, {
                    key: "serpentBonus",
                    value: function (n) {
                        return (this.player(n.ownerid).powers.serpent || 0) * this.buildingNb(n) * .01
                    }
                }, {
                    key: "eyeBonus",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return (this.player(n).powers.eye || 0) * this.tradeRouteNb(this.player(n)) * .005
                    }
                }, {
                    key: "valhallaBonus",
                    value: function (n) {
                        return (this.player(n.ownerid).powers.valhalla || 0) * this.troopNb(n, !1) * 25e-5
                    }
                }, {
                    key: "thirdeyeBonus",
                    value: function (n) {
                        return n.capital ? .1 * (this.player(n.ownerid).powers.thirdeye || 0) : 0
                    }
                }, {
                    key: "eternityBonus",
                    value: function (n) {
                        return (this.player(n).powers.eternity || 0) * this.tradeRouteNb(this.player(n)) * .05
                    }
                }, {
                    key: "ouroborosBonus",
                    value: function (n) {
                        return (this.player(n).powers.ouroboros || 0) * Object.values(this.player(n).sciences).filter((function (n) {
                            return n.done
                        })).length * .02
                    }
                }, {
                    key: "blissBonus",
                    value: function (n) {
                        return .05 * (this.player(n).powers.bliss || 0)
                    }
                }, {
                    key: "sequencerBonus",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        return .83 * Math.log10(.15 * (l + (this.player(n).powers.sequencer || 0)) + 1)
                    }
                }, {
                    key: "orphicBonus",
                    value: function (n) {
                        return .2 * (this.player(n).powers.orphic || 0)
                    }
                }, {
                    key: "hasteBonus",
                    value: function (n) {
                        return .05 * (this.player(n).powers.haste || 0)
                    }
                }, {
                    key: "recruitmentSpeed",
                    value: function (n) {
                        return 1.5 * (1 + (this.hasBuilding(n, "mia") ? .25 : 0) + (this.hasBuilding(n, "trc") ? .25 : 0) + (this.hasBuilding(n, "arsenal") ? .25 : 0) + ("recruitment" == n.bonus ? .25 : 0) + (this.hasWonder(n.ownerid, "statue_zeus") ? .15 : 0) + (this.hasWonder(n.ownerid, "brandenburg") ? .15 : 0)) * this.getPlayerRatio(n.ownerid, "recruitment") * (1 + this.warpathBonus())
                    }
                }, {
                    key: "updateStats",
                    value: function () {
                        this.data.nostats || (this.kongService.submmitStat("cities", this.player().cities.length), this.kongService.submmitStat("science", this.currentScienceRank()), this.kongService.submmitStat("powers", Object.values(this.player().powers).reduce((function (n, l) {
                            return n + l
                        }), 0)), this.kongService.submmitStat("reincarnations", this.data.rebirths))
                    }
                }, {
                    key: "isPolicyAvailable",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            e = this.player(l);
                        if (e.culture < this.cultureCost(e)) return !1;
                        if (n.require.science && !this.hasScience(n.require.science, e)) return !1;
                        if (n.require.policy && !this.hasPolicy(n.require.policy, l)) return !1;
                        for (var t = 0; t < n.groups.length; t++)
                            if (!this.hasPolicyGroup(n.groups[t], l)) return !1;
                        return !0
                    }
                }, {
                    key: "isPolicyGroupAvailable",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            e = this.player(l);
                        return !(e.culture < this.cultureCost(e)) && (!n.lockedBy || !this.hasPolicyGroup(n.lockedBy, l)) && (!n.require || this.hasScience(n.require, e))
                    }
                }, {
                    key: "hasAnyPolicyAvailable",
                    value: function () {
                        var n = this;
                        return Object.values(this.conf.policies.groups).some((function (l) {
                            return !n.hasPolicyGroup(l.id) && n.isPolicyGroupAvailable(l)
                        })) || Object.values(this.conf.policies.policies).some((function (l) {
                            return !n.hasPolicy(l.id) && n.isPolicyAvailable(l)
                        }))
                    }
                }, {
                    key: "hasAnyBuildingAvailable",
                    value: function (n) {
                        var l = this;
                        return Object.values(this.conf.buildings).some((function (e) {
                            return l.isBuildingSelectable(n, e)
                        }))
                    }
                }, {
                    key: "isBuildingSelectable",
                    value: function (n, l) {
                        return this.isBuildingVisible(n, l) && this.isBuildingAvailable(n, l)
                    }
                }, {
                    key: "isBuildingVisible",
                    value: function (n, l) {
                        return !(l.wonder && this.isWonderDone(l.id) || "palace" == l.id && !n.capital || "tribunal" == l.id && n.capital || "courthouse" == l.id && n.capital || this.hasBuilding(n, l.id) || n.building_queue.includes(l.id) || l.require.science && !this.hasScience(l.require.science, this.player(n.ownerid)) || l.coastal && !this.isCoastal(n))
                    }
                }, {
                    key: "isBuildingAvailable",
                    value: function (n, l) {
                        if (l.industrial && !l.wonder && this.player(n.ownerid).orientation < 25) return !1;
                        if (l.industrial && l.wonder && this.player(n.ownerid).orientation < 75) return !1;
                        if (l.require.buildings.length)
                            for (var e = 0; e < l.require.buildings.length; e++)
                                if (!this.hasBuilding(n, l.require.buildings[e]) && !n.building_queue.includes(l.require.buildings[e])) return !1;
                        return !(!n.buildings[l.id] && n.gold < this.buildingGoldCost(l, n.ownerid) || l.wonder && this.isBuildingWonder(n.ownerid, l.id))
                    }
                }, {
                    key: "isTroopVisible",
                    value: function (n, l) {
                        return !(l.require.tech && n.orientation < l.require.tech || l.obsolete && this.hasScience(l.obsolete) || ("caravel" != l.id || "portuguese" != n.civ_id || !this.hasScience("education", n)) && l.require.science && !this.hasScience(l.require.science, n))
                    }
                }, {
                    key: "isTroopAvailable",
                    value: function (n, l, e) {
                        return !(!this.isTroopVisible(n, e) || e.require.building && !this.hasBuilding(l, e.require.building) || l.gold < e.gold(this, n.id))
                    }
                }, {
                    key: "isImprovementVisible",
                    value: function (n, l, e) {
                        return !(l < n.level || n.level > 1 && this.player(e).orientation < 50 || !this.hasScience(n.require, this.player(e)))
                    }
                }, {
                    key: "isImprovementAvailable",
                    value: function (n, l, e) {
                        return !(n.cost > e.gold) && this.isImprovementVisible(n, l, e.ownerid)
                    }
                }, {
                    key: "isImprovementAllowed",
                    value: function (n, l, e, t, i) {
                        var u = this.getTerrain(n, l),
                            r = this.conf.improvements[e];
                        return !(2 == r.level && this.player(t.ownerid).orientation < 50 || this.city(n, l) && !i || !this.isDiscovered(t.ownerid, n, l) || this.getImprovement(n, l) == e || !this.hasScience(r.require, this.player(t.ownerid)) || r.cost > t.gold || r.road && this.getRoad(n, l) == e || !(e <= 2 && 6 == u && "australians" == this.player(t.ownerid).civ_id) && r.terrains.length && !r.terrains.includes(u))
                    }
                }, {
                    key: "createWorker",
                    value: function (n, l, e, t, i) {
                        var u = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
                        wa.production || console.log("New worker orders from " + n.name + " to create " + this.conf.improvements[l].name + " on (" + e + "," + t + "), roadto: " + u), n.gold -= this.conf.improvements[l].cost;
                        var r = [];
                        if (u)
                            for (var a = n.x, o = n.y, s = !1; a != e || o != t;) {
                                var c = !1;
                                s || a == e ? s && o != t && (o += o > t ? -1 : 1, c = !0) : (a += a > e ? -1 : 1, c = !0), s = !s, c && this.getRoad(a, o) < l && !this.city(a, o) && r.push({
                                    x: a,
                                    y: o
                                })
                            }
                        var d = e,
                            h = t;
                        r.length && (d = r[0].x, h = r[0].y, r.splice(0, 1));
                        var p = 2 == i ? "engineer" : "worker";
                        this.data.workers.push({
                            ownerid: n.ownerid,
                            destid: n.ownerid,
                            from: {
                                x: n.x,
                                y: n.y
                            },
                            to: {
                                x: d,
                                y: h
                            },
                            dist: this.distance(n.x, n.y, d, h),
                            progress: 0,
                            speed: this.speed(p, n.ownerid, n, {
                                x: d,
                                y: h
                            }),
                            returning: !1,
                            origin_id: n.id,
                            type: l,
                            construction_progress: 0,
                            level: i,
                            route: r
                        }), n.troops[p]--
                    }
                }, {
                    key: "cancelMove",
                    value: function (n) {
                        if (n.auto) {
                            var l = this.city(n.origin_id),
                                e = this.movPos(n);
                            n.from = {
                                x: l.x,
                                y: l.y
                            }, n.to = {
                                x: e.x,
                                y: e.y
                            }, n.dist = this.distance(l.x, l.y, n.to.x, n.to.y), n.progress = n.dist, n.auto = !1
                        }
                        n.returning = !0, n.progress = 2 * n.dist - n.progress
                    }
                }, {
                    key: "difficulty",
                    value: function () {
                        return this.conf.difficulties[this.data.difficulty]
                    }
                }, {
                    key: "totalCultureUsed",
                    value: function (n) {
                        for (var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1.5, e = n.policies.policies.length + n.policies.groups.length, t = 0, i = 0; i < e; i++) t += Math.floor((25 + Math.pow(6 * i, 2.8)) * (.3 + .7 * l));
                        return t
                    }
                }, {
                    key: "cultureResetCost",
                    value: function () {
                        return this.data.culture_reset ? 2 * this.data.culture_reset + 4 : 4
                    }
                }, {
                    key: "haveRelation",
                    value: function (n, l) {
                        return this.data.relations.some((function (e) {
                            return e.playersid.includes(n) && e.playersid.includes(l)
                        }))
                    }
                }, {
                    key: "getRelations",
                    value: function (n) {
                        return this.data.relations.filter((function (l) {
                            return l.playersid.includes(n)
                        }))
                    }
                }, {
                    key: "getRelation",
                    value: function (n, l) {
                        return this.data.relations.find((function (e) {
                            return e.playersid.includes(n) && e.playersid.includes(l)
                        }))
                    }
                }, {
                    key: "atWar",
                    value: function (n, l) {
                        return this.data.relations.some((function (e) {
                            return e.playersid.includes(n) && e.playersid.includes(l) && n != l && 1 == e.status
                        }))
                    }
                }, {
                    key: "allied",
                    value: function (n, l) {
                        return this.data.relations.some((function (e) {
                            return e.playersid.includes(n) && e.playersid.includes(l) && n != l && 3 == e.status
                        }))
                    }
                }, {
                    key: "diploDiff",
                    value: function (n, l) {
                        var e = 0;
                        return e += this.diploBase(n, l), e += this.diploTrade(n, l), e -= this.diploProximity(n, l), e += this.diploDeity(n, l), this.atWar(n, l) && (e -= 1), e + this.diploRelations(n, l)
                    }
                }, {
                    key: "diploBase",
                    value: function (n, l) {
                        var e = this.player(n);
                        return e.appreciation[l] > this.conf.civilizations[e.civ_id].starting_relations ? -this.conf.civilizations[e.civ_id].relation_decrease : e.appreciation[l] < this.conf.civilizations[e.civ_id].starting_relations ? this.conf.civilizations[e.civ_id].relation_decrease / 2 : 0
                    }
                }, {
                    key: "diploRelations",
                    value: function (n, l) {
                        var e = this;
                        this.player(n), this.player(l);
                        var t = 0;
                        return this.getRelations(l).filter((function (l) {
                            return !l.playersid.includes(n)
                        })).forEach((function (i) {
                            var u = i.playersid[0];
                            u == l && (u = i.playersid[1]), 1 == i.status && e.atWar(n, u) && (t += e.conf.war_w_enemy_relation_change), 3 == i.status && e.atWar(n, u) && (t += e.conf.alliance_w_enemy_relation_change), 1 == i.status && e.allied(n, u) && (t += e.conf.war_w_friend_relation_change), 3 == i.status && e.allied(n, u) && (t += e.conf.alliance_w_friend_relation_change)
                        })), t
                    }
                }, {
                    key: "diploDeity",
                    value: function (n, l) {
                        var e = this.player(n),
                            t = this.player(l);
                        return e.orientation <= 0 && t.orientation <= 0 ? e.deity && t.deity ? e.deity == t.deity ? this.conf.deity_relation_change : -this.conf.deity_relation_change : 0 : e.orientation > 0 && t.orientation > 0 ? this.conf.deity_relation_change : -this.conf.deity_relation_change
                    }
                }, {
                    key: "diploProximity",
                    value: function (n, l) {
                        var e = this,
                            t = this.player(n),
                            i = this.player(l);
                        return t.cities.map((function (n) {
                            return e.closestCity(n.x, n.y, t.id, !0).ownerid
                        })).filter((function (n) {
                            return n == i.id
                        })).length * this.conf.closest_relation_decrease * (this.conf.civilizations[t.civ_id].agressivity / 2 - 5)
                    }
                }, {
                    key: "diploTrade",
                    value: function (n, l) {
                        var e = this;
                        return this.data.trades.filter((function (e) {
                            return e.ownerid == n && e.destid == l || e.ownerid == l && e.destid == n
                        })).map((function (n) {
                            return e.tradeRouteValueForTrade(n).diplomacy
                        })).reduce((function (n, l) {
                            return n + l
                        }), 0)
                    }
                }, {
                    key: "influenceDiff",
                    value: function (n, l) {
                        var e = this.player(n),
                            t = this.player(l),
                            i = this.cultureDiff(null, e) * (this.hasWonder(n, "forbidden") ? 1.25 : 1) * (this.hasPolicy("conservatism", l) ? .75 : 1) * (this.hasPolicy("holy_place", n) && e.deity && e.deity == t.deity ? 1.25 : 1) * (this.hasPolicy("collaboration", n) && 0 == this.getRelation(n, l).status ? 1.05 : 1) * (this.hasPolicy("collaboration", n) && 3 == this.getRelation(n, l).status ? 1.1 : 1) * (this.hasPolicy("congress", n) ? 1.25 : 1);
                        return this.hasPolicy("cultural_promotion", n) && (i *= 1 + .1 * this.data.trades.filter((function (e) {
                            return e.destid == l && e.ownerid == n
                        })).length), i
                    }
                }, {
                    key: "influence",
                    value: function (n, l) {
                        var e = this.player(n),
                            t = this.player(l);
                        if (e.influence[e.id] && e.influence[t.id] && t.influence[e.id] && t.influence[t.id]) {
                            var i = t.influence[e.id] / (1e8 + 10 * t.influence[t.id]) - e.influence[t.id] / (1e8 + 10 * e.influence[e.id]);
                            return i > this.conf.max_influence ? this.conf.max_influence : i < -this.conf.max_influence ? -this.conf.max_influence : i
                        }
                        return 0
                    }
                }, {
                    key: "promotionCost",
                    value: function (n) {
                        return .1 * this.player(n).influence[n]
                    }
                }, {
                    key: "isPromotionAllowed",
                    value: function (n, l) {
                        return this.player(n).promotion_cooldown || (this.player(n).promotion_cooldown = {}), !this.player(n).promotion_cooldown[l]
                    }
                }, {
                    key: "promote",
                    value: function (n, l) {
                        var e = this.promotionCost(n);
                        if (e > this.player(n).culture || !this.isPromotionAllowed(n, l)) return !1;
                        this.player(n).culture -= e, this.player(n).promotion_cooldown[l] = this.conf.promotion_cooldown, this.player(l).influence[n] += e / 2
                    }
                }, {
                    key: "isCoastal",
                    value: function (n) {
                        return Math.abs(n.x) == this.conf.init.map_size || Math.abs(n.y) == this.conf.init.map_size
                    }
                }, {
                    key: "scoutAmbushRisk",
                    value: function (n) {
                        var l = this.city(n.origin_id);
                        if (!l) return .1;
                        var e = this.movPos(n),
                            t = this.distance(e.x, e.y, l.x, l.y);
                        n.explorer && (t /= 2.5);
                        var i = (Math.exp(t - 15) - 1) / 5e8;
                        return i < 0 ? 0 : i
                    }
                }, {
                    key: "plagueInitRisk",
                    value: function (n) {
                        return this.data.last_plague ? this.health(n) >= .4 ? 0 : this.hasBuilding(n, "quarantine") ? 0 : Math.pow(8, this.data.difficulty) * (Math.pow(40 - 100 * this.health(n), 3) - 1) * Math.pow(this.data.last_plague, 4) / 1e23 : 0
                    }
                }, {
                    key: "initPlague",
                    value: function (n) {
                        this.data.last_plague = 0, n.plague = Jf.get(60, 600);
                        var l = this.isDiscovered(0, n.x, n.y) ? n.name : "unknown city",
                            e = this.isDiscovered(0, n.x, n.y) ? "/game/world?x=" + n.x + "&y=" + n.y : "/game/help#health";
                        this.toastService.black("Plague outbreak in " + l + " !", $f.plague, e), this.data.plagueNb++, 0 == n.ownerid && this.data.autopause.plague && (this.data.pause = !0)
                    }
                }, {
                    key: "plagueDoctorRatio",
                    value: function (n) {
                        var l = n.troops.plague_doctor ? n.troops.plague_doctor : 0,
                            e = 100;
                        return this.hasBuilding(n, "aqueduct") && (e = 75), this.hasBuilding(n, "hospital") && (e = 50), 1 - Math.pow(l, .8) / e
                    }
                }, {
                    key: "plagueRisk",
                    value: function (n) {
                        if (this.health(n) >= .7) return 0;
                        if (this.hasBuilding(n, "quarantine")) return 0;
                        var l = Math.pow(this.pop(n), 2) * (Math.pow(14 - 20 * this.health(n), 4) - 1) / 5e8 * (1 + 10 * this.punisherBonus(0)) * this.plagueDoctorRatio(n);
                        return l < 0 ? 0 : l
                    }
                }, {
                    key: "plague",
                    value: function () {
                        return this.allCities().some((function (n) {
                            return n.plague
                        }))
                    }
                }, {
                    key: "plagueNb",
                    value: function () {
                        return this.allCities().filter((function (n) {
                            return n.plague && n.plague > 0
                        })).length
                    }
                }, {
                    key: "plagueTroopKillChances",
                    value: function (n) {
                        return 5e-4 / Math.pow(this.health(n), 2) * (1 - this.underworldBonus(n.ownerid)) * (1 - (this.hasPolicy("red_cross", n.ownerid) ? .5 : 0))
                    }
                }, {
                    key: "plagueTradeLostChances",
                    value: function (n) {
                        return 1e-6 / Math.pow(this.health(n) + .05, 2) * (1 - this.underworldBonus(n.ownerid)) * (1 - (this.hasPolicy("red_cross", n.ownerid) ? .5 : 0))
                    }
                }, {
                    key: "color",
                    value: function (n) {
                        var l = this.player(n);
                        return 1 == n ? this.conf.barbarians_color : l && l.civ_id ? this.conf.civilizations[l.civ_id].color : "#000"
                    }
                }, {
                    key: "color2",
                    value: function (n) {
                        var l = this.player(n);
                        return 1 == n ? this.conf.barbarians_color2 : l && l.civ_id ? this.conf.civilizations[l.civ_id].color2 : "#999"
                    }
                }, {
                    key: "upgradeTrade",
                    value: function (n) {
                        return 0 != n ? 0 : 0 + (this.hasUpgrade("trade1") ? 1 : 0) + (this.hasUpgrade("trade2") ? 1 : 0)
                    }
                }, {
                    key: "upgradeScienceMult",
                    value: function (n) {
                        return 0 != n ? 1 : 1 + (this.hasUpgrade("science1") ? .2 : 0) + (this.hasUpgrade("science2") ? .2 : 0)
                    }
                }, {
                    key: "upgradeHealth",
                    value: function (n) {
                        return 0 != n ? 0 : 0 + (this.hasUpgrade("health1") ? .1 : 0) + (this.hasUpgrade("health2") ? .1 : 0)
                    }
                }, {
                    key: "upgradeHappiness",
                    value: function (n) {
                        return 0 != n ? 0 : 0 + (this.hasUpgrade("happiness1") ? .1 : 0) + (this.hasUpgrade("happiness2") ? .1 : 0)
                    }
                }, {
                    key: "upgradeGoldMult",
                    value: function (n) {
                        return 0 != n ? 1 : 1 + (this.hasUpgrade("gold1") ? .2 : 0) + (this.hasUpgrade("gold2") ? .2 : 0)
                    }
                }, {
                    key: "upgradeSpeedMult",
                    value: function (n) {
                        return 0 != n ? 1 : 1 + (this.hasUpgrade("speed1") ? .1 : 0) + (this.hasUpgrade("speed2") ? .1 : 0)
                    }
                }, {
                    key: "improvements",
                    value: function (n, l) {
                        for (var e = 0, t = n.x - 1; t <= n.x + 1; t++)
                            for (var i = n.y - 1; i <= n.y + 1; i++) this.getImprovement(t, i) == l && e++;
                        return e
                    }
                }, {
                    key: "relicsGain",
                    value: function (n) {
                        var l = this;
                        return this.player(n).cities.reduce((function (n, e) {
                            return n + (e.relics || 0) * l.relicsValue(e)
                        }), 0) + (this.hasWonder(n, "eiffel") ? 10 : 0)
                    }
                }, {
                    key: "relicsNb",
                    value: function (n) {
                        return this.player(n).cities.reduce((function (n, l) {
                            return n + (l.relics || 0)
                        }), 0)
                    }
                }, {
                    key: "relicsValue",
                    value: function (n) {
                        return 1 * (this.hasBuilding(n, "museum") ? 1.5 : 1)
                    }
                }, {
                    key: "changeOrientationFortech",
                    value: function (n, l) {
                        if (!(this.currentScienceRank(n.id) < 16)) {
                            var e = Math.pow(110 - n.orientation, 1.3) / 100;
                            this.changeOrientation(n, l * e)
                        }
                    }
                }, {
                    key: "changeOrientation",
                    value: function (n, l) {
                        this.currentScienceRank(n.id) < 16 || (n.orientation += l, n.orientation < -100 && (n.orientation = -100), n.orientation > 100 && (n.orientation = 100))
                    }
                }, {
                    key: "initGame",
                    value: function () {
                        this.generateMap(), this.hasUpgrade("tech1") && (this.player().sciences.language = {
                            done: !0,
                            progress: 0
                        }, this.player().sciences.dog_domestication = {
                            done: !0,
                            progress: 0
                        }), this.hasUpgrade("tech2") && (this.player().sciences.tanning = {
                            done: !0,
                            progress: 0
                        }, this.player().sciences.pottery = {
                            done: !0,
                            progress: 0
                        }), this.checkLocks()
                    }
                }, {
                    key: "initCivs",
                    value: function (n) {
                        var l, e = this,
                            t = new cg(this.data.lastids.player++, "Barbarians");
                        this.data.players.push(t), Object.values(this.conf.civilizations).filter((function (l) {
                            return !l.respawn && l.id != n
                        })).forEach((function (n) {
                            var l = new cg(e.data.lastids.player++, n.name);
                            l.civ_id = n.id, wa.production || console.log("Creation of " + n.name + " (" + l.id + ")");
                            for (var t = 0, i = 0;
                                (u = []).concat.apply(u, _toConsumableArray(e.data.players.map((function (n) {
                                    return n.cities
                                })))).find((function (n) {
                                    return n.x == t && n.y == i
                                }));) {
                                var u;
                                t = Jf.get(-e.conf.init.map_size, e.conf.init.map_size), i = Jf.get(-e.conf.init.map_size, e.conf.init.map_size)
                            }
                            var r = new dg(e.data.lastids.city++, n.vil_names[0], t, i, l.id, !0, !0);
                            wa.production || console.log("Creation of " + r.name + " (" + r.x + "," + r.y + ")"), l.cities.push(r), e.data.players.push(l)
                        })), this.data.tmp_powers && (Object.keys(this.data.tmp_powers).forEach((function (n) {
                            var l = e.data.players[n];
                            l && (l.powers = e.data.tmp_powers[n])
                        })), delete this.data.tmp_powers), t.science_queue = Object.keys(this.conf.sciences);
                        for (var i = function (n) {
                                var l, i = Jf.get(-e.conf.init.map_size, e.conf.init.map_size),
                                    u = Jf.get(-e.conf.init.map_size, e.conf.init.map_size);
                                if (!(l = []).concat.apply(l, _toConsumableArray(e.data.players.map((function (n) {
                                        return n.cities
                                    })))).find((function (n) {
                                        return n.x == i && n.y == u
                                    }))) {
                                    var r = new dg(e.data.lastids.city++, "Barb. vil.", i, u, 1, !0);
                                    r.bonus = Jf.randomVilBonus(), t.cities.push(r)
                                }
                            }, u = 0; u < this.conf.init.barbarians.nb; u++) i();
                        if ((l = []).concat.apply(l, _toConsumableArray(this.data.players.map((function (n) {
                                return n.cities
                            })))).every((function (n) {
                                return !(Math.abs(n.x) == e.conf.init.map_size || Math.abs(n.y) == e.conf.init.map_size)
                            }))) {
                            var r = new dg(this.data.lastids.city++, "Barb. vil.", -this.conf.init.map_size, 0, 1, !0);
                            r.bonus = Jf.randomVilBonus(), t.cities.push(r)
                        }
                    }
                }, {
                    key: "generateMap",
                    value: function () {
                        this.data.improvements = [], this.data.roads = [], (this.data.map = []).length = this.arrayIndexOf(this.conf.init.map_size + 2, this.conf.init.map_size + 2) + 1, this.data.map.fill(0);
                        for (var n = -this.conf.init.map_size; n <= this.conf.init.map_size;) {
                            for (var l = -this.conf.init.map_size; l <= this.conf.init.map_size;) {
                                for (var e = Jf.fromArray(this.conf.biomes), t = 0; t < this.conf.biome_size; t++)
                                    for (var i = 0; i < this.conf.biome_size; i++) {
                                        var u = Jf.fromArray(e.terrains);
                                        this.setTerrain(l + i, n + t, u)
                                    }
                                l += this.conf.biome_size
                            }
                            n += this.conf.biome_size
                        }
                        this.data.ruins = [];
                        for (var r = 0; r < this.conf.ruins; r++) {
                            var a = Jf.get(-this.conf.init.map_size, this.conf.init.map_size),
                                o = Jf.get(-this.conf.init.map_size, this.conf.init.map_size);
                            this.city(a, o) || this.data.ruins.push({
                                x: a,
                                y: o
                            })
                        }
                    }
                }, {
                    key: "updateVersion",
                    value: function () {
                        var n = this,
                            l = this.data.version;
                        if (l < 4 && (this.data.difficulty = 2), l < 11 && this.data.reports.forEach((function (l) {
                                var e = n.city(l.from_id);
                                l.isAttacker = 0 == e.ownerid;
                                var t = Object.values(l.troops.remaining.attacker).reduce((function (n, l) {
                                        return n + l
                                    }), 0),
                                    i = Object.values(l.troops.remaining.defender).reduce((function (n, l) {
                                        return n + l
                                    }), 0);
                                l.defeat = 0 == e.ownerid && 0 == t || 0 != e.ownerid && 0 == i
                            })), l < 12 && (this.data.darktheme = !1, this.data.players.forEach((function (l) {
                                l.science_queue = 0 == l.id ? l.cur_science ? [l.cur_science] : [] : Object.keys(n.conf.sciences).filter((function (n) {
                                    return !l.sciences[n] || !l.sciences[n].done
                                }))
                            }))), l < 16 && (this.data.cooldowns = {}, this.data.charging = {}, this.data.spelltime = {}, this.data.spellshidden = !1, this.data.burnNb = 0, this.data.nostats = !1, this.data.autopause = {
                                save: !1,
                                incoming: !1,
                                science: !1,
                                building: !1,
                                citizen: !1,
                                city_captured: !1,
                                city_lost: !1,
                                city_joined: !1,
                                plague: !1
                            }, this.isUnlocked("queue_buildings") && (this.data.locks.splice(this.data.locks.indexOf("queue_buildings"), 1), this.data.persistent_locks.push("queue_buildings")), this.isUnlocked("queue_troops") && (this.data.locks.splice(this.data.locks.indexOf("queue_troops"), 1), this.data.persistent_locks.push("queue_troops")), this.isUnlocked("recruit_x10") && (this.data.locks.splice(this.data.locks.indexOf("recruit_x10"), 1), this.data.persistent_locks.push("recruit_x10"))), l < 18 && (this.data.saveddaily = 0, Object.values(this.conf.buildings).forEach((function (l) {
                                if ((l.add_all || l.add_city) && n.isWonderDone(l.id)) {
                                    var e = n.cityForWonder(l.id);
                                    l.add_city && (e.buildings[l.add_city] = {
                                        done: !0,
                                        progress: 0
                                    }), l.add_all && n.player(e.ownerid).cities.forEach((function (n) {
                                        n.buildings[l.add_all] = {
                                            done: !0,
                                            progress: 0
                                        }
                                    }))
                                }
                            }))), l < 21) {
                            if (this.data.relations = [], this.data.lefthidden = !1, this.data.colonies = [], this.data.max_rpt = 50, this.data.max_notif = 100, this.data.players.filter((function (n) {
                                    return 1 != n.id
                                })).forEach((function (l) {
                                    l.appreciation = {}, l.influence = {}, l.promotion_lastdate = {}, l.discovered = [], l.influence[l.id] = l.culture + n.totalCultureUsed(l), n.data.players.filter((function (n) {
                                        return 0 != l.id && 0 != n.id && 1 != n.id && n.id != l.id
                                    })).forEach((function (e) {
                                        0 != l.id && l.id != e.id && (l.appreciation[e.id] = n.conf.civilizations[l.civ_id].starting_relations), l.influence[e.id] = 0, n.haveRelation(l.id, e.id) || n.data.relations.push({
                                            playersid: [l.id, e.id].sort(),
                                            status: 0,
                                            war_rating: 0,
                                            war_total: 0
                                        })
                                    }))
                                })), this.data.diplomacy) {
                                var e = this.data.diplomacy;
                                Object.keys(e).forEach((function (l) {
                                    var t = parseInt(l),
                                        i = e[t];
                                    n.player(t).appreciation[0] = i.relations;
                                    var u = 0;
                                    "war" == i.status && (u = 1), "truce" == i.status && (u = 2), n.data.relations.push({
                                        playersid: [0, t],
                                        status: u,
                                        war_rating: i.war_rating,
                                        war_total: i.war_rating,
                                        status_updated: i.status_updated
                                    })
                                })), delete this.data.diplomacy
                            }
                            this.data.discovered.forEach((function (l) {
                                n.setTile(n.player(), l[0], l[1])
                            })), delete this.data.discovered, this.data.autopause.city_joined = !1, this.data.autopause.save = !1
                        }
                        if (l < 24 && this.allCities().forEach((function (n) {
                                return n.rightful_ownerid = n.ownerid
                            })), l < 25 && (this.currentScienceRank() >= 7 && (this.data.last_plague = this.currentScienceRank() * Jf.get(1, 600)), this.data.autopause.plague = !1, this.data.plagueNb = 0, this.data.plagueMaxCities = 0, this.data.relations.forEach((function (n) {
                                return n.war_total = 2 * n.war_rating
                            }))), l < 26 && (this.isUnlocked("empire_orders") || (this.data.emp_autoassign = !1, this.data.emp_priority = "", this.data.emp_strong = !1)), l < 29) {
                            this.data.favors && (this.data.favors = {
                                0: this.data.favors
                            }), this.data.deities = {};
                            var t = 0;
                            this.data.players.filter((function (n) {
                                return 1 != n.id
                            })).forEach((function (l) {
                                l.deity && (n.data.deities[l.id] = l.deity), 0 == l.id ? t = Object.values(l.powers).reduce((function (n, l) {
                                    return Math.max(n, l)
                                }), 0) : Object.keys(l.powers).forEach((function (n) {
                                    l.powers[n] > t && (l.powers[n] = t)
                                }))
                            }))
                        }
                        if (l < 30 && (this.data.respawn = []), l < 31) {
                            this.data.favors[0] || (this.data.favors[0] = {});
                            var i = Object.keys(this.player().powers).reduce((function (l, e) {
                                return l + (Math.pow(2, n.player().powers[e]) - 1) * Object.keys(n.conf.powers[e].cost).length
                            }), 0) + Object.values(this.data.favors[0]).reduce((function (n, l) {
                                return n + l
                            }), 0);
                            this.player(1) && (this.player(1).powers = {}), this.data.players.filter((function (n) {
                                return n.id > 1
                            })).forEach((function (l) {
                                l.powers = {};
                                var e = Math.floor(Jf.get(70, 95) * i / 100);
                                for (n.data.favors[l.id] || (n.data.favors[l.id] = {}), n.data.favors[l.id][""] || (n.data.favors[l.id][""] = 0), n.data.favors[l.id][""] = Math.ceil(.2 * e), e = Math.floor(.8 * e); e > 0;) {
                                    var t = Math.max(1, Math.floor(e / 20)),
                                        u = Jf.fromArray(Object.keys(n.conf.deities));
                                    n.data.favors[l.id][u] ? n.data.favors[l.id][u] += t : n.data.favors[l.id][u] = t, e -= t
                                }
                                n.allocatePowers(l)
                            }))
                        }
                        if (l < 32 && (this.data.relations.forEach((function (l) {
                                l.status_updated && (l.cooldown = Math.max(0, n.conf.war_min_length - (Date.now() - l.status_updated) / 1e3), 1 == l.status && (l.war_length = l.status_updated / 1e3)), delete l.status_updated
                            })), this.data.players.forEach((function (l) {
                                if (l.promotion_lastdate) {
                                    var e = l.promotion_lastdate;
                                    Object.keys(e).forEach((function (t) {
                                        l.promotion_cooldown = {}, l.promotion_cooldown[t] = Math.max(0, n.conf.promotion_cooldown - (Date.now() - e[t]) / 1e3)
                                    })), delete l.promotion_lastdate
                                }
                            })), delete this.data.capitalchange), l < 35 && !this.player(1)) {
                            var u = new cg(1, "Barbarians");
                            this.data.players.push(u)
                        }
                        l < 36 && (this.generateMap(), this.data.prestige = 0, this.data.upgrades = [], this.data.workers = [], this.data.archeologists = [], this.data.players.forEach((function (n) {
                            n.orientation = -75, n.progress = 0, delete n.color, delete n.color2
                        })), this.player(1) && (this.player(1).civ_id = "")), l < 37 && (this.data.notif_pop = !0, this.data.notif_building = !0), l < 39 && this.allCities().forEach((function (l) {
                            Object.keys(l.buildings).forEach((function (e) {
                                var t = Object.values(n.conf.buildings).find((function (n) {
                                    return n.oid == e
                                }));
                                t && (l.buildings[t.id] = Object.assign({}, l.buildings[e]), delete l.buildings[e])
                            })), l.building_queue.forEach((function (e, t) {
                                var i = Object.values(n.conf.buildings).find((function (n) {
                                    return n.oid == e
                                }));
                                i && (l.building_queue[t] = i.id)
                            }))
                        })), this.data.version = this.conf.version
                    }
                }, {
                    key: "getStrVersion",
                    value: function () {
                        switch (this.conf.version) {
                            case 1:
                                return "1.0.0";
                            case 2:
                                return "1.0.1";
                            case 3:
                                return "1.0.2";
                            case 4:
                                return "1.0.3";
                            case 5:
                                return "1.0.4";
                            case 6:
                                return "1.0.5";
                            case 7:
                                return "1.0.6";
                            case 8:
                                return "1.0.7";
                            case 9:
                                return "1.0.8";
                            case 10:
                                return "1.0.9";
                            case 11:
                                return "1.0.10";
                            case 12:
                                return "1.0.11";
                            case 13:
                                return "1.0.12";
                            case 14:
                                return "1.0.13";
                            case 15:
                                return "1.0.14";
                            case 16:
                                return "1.1.0";
                            case 17:
                                return "1.1.1";
                            case 18:
                                return "1.1.2";
                            case 19:
                                return "1.1.3";
                            case 20:
                                return "1.1.4";
                            case 21:
                                return "1.2.0";
                            case 22:
                                return "1.2.1";
                            case 23:
                                return "1.2.2";
                            case 24:
                                return "1.2.3";
                            case 25:
                                return "1.2.4";
                            case 26:
                                return "1.2.5";
                            case 27:
                                return "1.2.6";
                            case 28:
                                return "1.2.7";
                            case 29:
                                return "1.2.8";
                            case 30:
                                return "1.2.9";
                            case 31:
                                return "1.2.10";
                            case 32:
                                return "1.2.11";
                            case 33:
                                return "1.2.12";
                            case 34:
                                return "1.2.13";
                            case 35:
                                return "1.2.14";
                            case 36:
                                return "1.3.0";
                            case 37:
                                return "1.3.1";
                            case 38:
                                return "1.3.2";
                            case 39:
                                return "1.3.3";
                            default:
                                return "?"
                        }
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new wf($n(lp), $n(hg), $n(sg), $n(mg), $n(yg))
                },
                token: wf,
                providedIn: "root"
            }), wf),
            _g = ((kf = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t
                }
                return _createClass(n, [{
                    key: "encryptData",
                    value: function () {
                        var n, l = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                            e = JSON.parse(JSON.stringify(this.data));
                        delete e.conf, delete e.observableSciences, delete e.spelltime, (n = []).concat.apply(n, _toConsumableArray(e.players.map((function (n) {
                            return n.cities
                        })))).forEach((function (n) {
                            delete n.happiness, delete n.tradeGains, delete n.cultureDiff
                        })), this.data.autopause.save && (e.pause = !0);
                        var t = JSON.stringify(e);
                        return l && (t = "z|" + Object(fg.gzip)(t, {
                            to: "string"
                        })), pg.AES.encrypt(t, this.conf.aes_key).toString()
                    }
                }, {
                    key: "decryptData",
                    value: function (n) {
                        var l = pg.AES.decrypt(n.toString(), this.conf.aes_key).toString(pg.enc.Utf8);
                        return l.startsWith("z|") && (l = Object(fg.ungzip)(l.substring(2), {
                            to: "string"
                        })), JSON.parse(l)
                    }
                }, {
                    key: "save",
                    value: function () {
                        var n = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                        try {
                            this.data.savetime = Date.now();
                            var l = new gg(this.data.name, Date.now(), this.dataService.era(), this.data.players[0].orientation <= 0 ? this.data.players[0].deity : "tech", this.data.rebirths, this.dataService.player().civ_id, this.encryptData(n));
                            return localStorage.setItem(this.conf.save.prefix + l.name, JSON.stringify(l)), !0
                        } catch (e) {
                            return this.data.noautosave = !0, !1
                        }
                    }
                }, {
                    key: "delete",
                    value: function (n) {
                        delete localStorage[this.conf.save.prefix + n]
                    }
                }, {
                    key: "extractSave",
                    value: function (n) {
                        return JSON.parse(localStorage.getItem(this.conf.save.prefix + n))
                    }
                }, {
                    key: "load",
                    value: function (n) {
                        this.data.load(this.decryptData(n)), delete this.data.noautosave, this.dataService.updateVersion(), this.dataService.checkLocks(), this.dataService.updateStats()
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new kf($n(sg), $n(hg), $n(bg))
                },
                token: kf,
                providedIn: "root"
            }), kf),
            kg = et({
                encapsulation: 0,
                styles: [[".homepage[_ngcontent-%COMP%]{background-image:url(background.0a8e8fb2999222b3636e.jpg);background-size:cover;background-position-y:25%;box-shadow:inset 1em 1em 15em #000,inset -1em -1em 15em #000}.card-container[_ngcontent-%COMP%]{max-height:50vh}.flex-fill[_ngcontent-%COMP%]{height:auto!important}"]],
                data: {}
            });

        function wg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "bg-danger text-light my-2 p-2"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.error)
            }))
        }

        function xg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.initNew() && t), t
            }), null, null)), (n()(), pr(-1, null, ["New game"])), (n()(), Xu(3, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.continue() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Continue"])), (n()(), Xu(5, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.load = !0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Load game"])), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.loadText = !0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Load an exported save"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 3, 0, !e.saves.length), n(l, 5, 0, !e.saves.length)
            }))
        }

        function Cg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 12, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Paste your exported save here and click on the load button"])), (n()(), Xu(3, 0, null, null, 5, "textarea", [["class", "form-control mb-2 bg-dark text-light border-dark"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 4)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 4).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 4)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 4)._compositionEnd(e.target.value) && t), "ngModelChange" === l && (t = !1 !== (i.loadTextContent = e) && t), t
            }), null, null)), hi(4, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [zp]), hi(6, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(8, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(9, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.loadText = !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(11, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.loadFromText() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Load"]))], (function (n, l) {
                n(l, 6, 0, l.component.loadTextContent)
            }), (function (n, l) {
                n(l, 3, 0, Jt(l, 8).ngClassUntouched, Jt(l, 8).ngClassTouched, Jt(l, 8).ngClassPristine, Jt(l, 8).ngClassDirty, Jt(l, 8).ngClassValid, Jt(l, 8).ngClassInvalid, Jt(l, 8).ngClassPending)
            }))
        }

        function Sg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "bg-danger text-light font-weight-bold px-2 py-1 mb-1 rounded"]], null, null, null, null, null)), (n()(), pr(-1, null, [" A save with the same name already exists and will be overwritten if the same name is chosen. "]))], null, null)
        }

        function Ig(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.difficulty = n.context.$implicit.key) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "bg-primary": 0,
                "bg-dark": 1,
                "flex-fill text-light card card-body cursor-pointer m-2 p-2 text-90": 2
            }), (n()(), Xu(4, 0, null, null, 1, "b", [["class", "text-center"]], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), (n()(), Xu(6, 0, null, null, 0, "p", [], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, e.difficulty == l.context.$implicit.key, e.difficulty != l.context.$implicit.key, !0);
                n(l, 2, 0, t)
            }), (function (n, l) {
                n(l, 5, 0, l.context.$implicit.value.name), n(l, 6, 0, l.context.$implicit.value.description)
            }))
        }

        function Tg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 18, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Sg)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 7, "input", [["autofocus", ""], ["class", "form-control"], ["placeholder", "Name"], ["required", ""], ["type", "text"]], [[1, "required", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 4)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 4).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 4)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 4)._compositionEnd(e.target.value) && t), "ngModelChange" === l && (t = !1 !== (i.name = e) && t), t
            }), null, null)), hi(4, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(5, 16384, null, 0, zf, [], {
                required: [0, "required"]
            }, null), fi(1024, null, Vp, (function (n) {
                return [n]
            }), [zf]), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [zp]), hi(8, 671744, null, 0, Bf, [[8, null], [6, Vp], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(10, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(11, 0, null, null, 3, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, Ig)), hi(13, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(15, 0, null, null, 1, "button", [["class", "btn btn-secondary w-50"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.new = !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(17, 0, null, null, 1, "button", [["class", "btn btn-dark w-50"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.step2 = !0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Next"]))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.warning()), n(l, 5, 0, ""), n(l, 8, 0, e.name), n(l, 13, 0, Je(l, 13, 0, Jt(l, 14).transform(e.conf.difficulties)))
            }), (function (n, l) {
                var e = l.component;
                n(l, 3, 0, Jt(l, 5).required ? "" : null, Jt(l, 10).ngClassUntouched, Jt(l, 10).ngClassTouched, Jt(l, 10).ngClassPristine, Jt(l, 10).ngClassDirty, Jt(l, 10).ngClassValid, Jt(l, 10).ngClassInvalid, Jt(l, 10).ngClassPending), n(l, 17, 0, !e.name)
            }))
        }

        function Eg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "div", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.civid = n.context.$implicit.key) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 6, "div", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(3, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(4, {
                "border-bottom cursor-pointer p-1": 0,
                "bg-primary": 1
            }), (n()(), Xu(5, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(6, null, ["", ""])), (n()(), Xu(7, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = n(l, 4, 0, !0, l.component.civid == l.context.$implicit.key);
                n(l, 3, 0, e)
            }), (function (n, l) {
                n(l, 6, 0, l.context.$implicit.value.name), n(l, 7, 0, l.context.$implicit.value.description)
            }))
        }

        function Ag(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Choose your civilization"])), (n()(), Xu(3, 0, null, null, 3, "div", [["class", "overflow-auto d-flex flex-column bg-dark text-light border rounded mb-1"], ["style", "max-height: 250px;"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, Eg)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-secondary w-50"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.new = !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Back"])), (n()(), Xu(9, 0, null, null, 1, "button", [["class", "btn btn-dark w-50"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.newGame() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Start"]))], (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Je(l, 5, 0, Jt(l, 6).transform(e.conf.civilizations)))
            }), (function (n, l) {
                n(l, 9, 0, !l.component.civid)
            }))
        }

        function Pg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "text-90"]], null, null, null, null, null)), (n()(), pr(1, null, [" - ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.conf.civilizations[l.parent.context.$implicit.civ].name)
            }))
        }

        function Og(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "card-text"]], null, null, null, null, null)), (n()(), pr(1, null, [" Deity: ", " "])), (n()(), Xu(2, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(4, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(5, {
                color: 0
            })], (function (n, l) {
                var e = n(l, 5, 0, l.component.conf.deities[l.parent.context.$implicit.deity].color);
                n(l, 4, 0, e)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.deities[l.parent.context.$implicit.deity].name), n(l, 2, 0, e.conf.deities[l.parent.context.$implicit.deity].icon)
            }))
        }

        function Dg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "card-text"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Orientation: "])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.tech + " text-tech")
            }))
        }

        function Rg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "card-text"]], null, null, null, null, null)), (n()(), pr(1, null, ["Reincarnations: ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.rebirths)
            }))
        }

        function Mg(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 24, "div", [["class", "card cursor-pointer border-0 my-1"], ["hover-class", "bg-dark text-light"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(2, 0, null, null, 22, "div", [["class", "d-flex align-items-stretch"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "div", [["class", "text-300 text-light bg-dark d-flex align-items-center px-3"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(5, 0, null, null, 19, "div", [["class", "card-body d-flex flex-fill align-items-center"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 15, "div", [["class", "flex-fill"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.loadSave(n.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(7, 0, null, null, 3, "h5", [["class", "card-title"]], null, null, null, null, null)), (n()(), pr(8, null, ["", " "])), (n()(), Yu(16777216, null, null, 1, null, Pg)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(11, 0, null, null, 2, "h6", [["class", "card-subtitle mb-2 text-muted"]], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), cr(13, 2), (n()(), Xu(14, 0, null, null, 1, "div", [["class", "card-text"]], null, null, null, null, null)), (n()(), pr(15, null, ["Era: ", ""])), (n()(), Yu(16777216, null, null, 1, null, Og)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Dg)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Rg)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(22, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(23, 0, null, null, 1, "button", [["class", "btn btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.delete(n.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Delete"]))], (function (n, l) {
                n(l, 1, 0, "bg-dark text-light"), n(l, 10, 0, l.context.$implicit.civ), n(l, 17, 0, l.context.$implicit.deity && "tech" != l.context.$implicit.deity), n(l, 19, 0, l.context.$implicit.deity && "tech" == l.context.$implicit.deity), n(l, 21, 0, l.context.$implicit.rebirths)
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.icons.save), n(l, 8, 0, l.context.$implicit.name);
                var t = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent.parent, 0), l.context.$implicit.date, "dd/MM/yyyy HH:mm"));
                n(l, 12, 0, t), n(l, 15, 0, e.conf.eras[l.context.$implicit.era].name)
            }))
        }

        function Ng(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "div", [["class", "card-container overflow-auto"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Mg)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(4, 0, null, null, 1, "button", [["class", "btn btn-dark btn-block"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.load = !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"]))], (function (n, l) {
                n(l, 3, 0, l.component.saves)
            }), null)
        }

        function Bg(n) {
            return vr(0, [pi(0, Eo, [Zi]), (n()(), Xu(1, 0, null, null, 19, "div", [["class", "homepage d-flex justify-content-center align-items-center vh-100"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 16, "div", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 3, "h1", [["class", "display-1 font-weight-bold"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Cividlization II "])), (n()(), Xu(5, 0, null, null, 1, "div", [["class", "text-muted text-center mb-2"], ["style", "margin-top:-20px;font-size:40%"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Industrial Revolution Update"])), (n()(), Yu(16777216, null, null, 1, null, wg)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xg)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Cg)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Tg)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ag)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ng)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 1, "div", [["class", "position-absolute text-secondary"], ["style", "bottom:5px;right:5px"]], null, null, null, null, null)), (n()(), pr(20, null, ["Version: ", " "]))], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.error), n(l, 10, 0, !e.load && !e.new && !e.loadText), n(l, 12, 0, e.loadText), n(l, 14, 0, e.new && !e.step2), n(l, 16, 0, e.new && e.step2), n(l, 18, 0, e.load)
            }), (function (n, l) {
                n(l, 20, 0, l.component.dataService.getStrVersion())
            }))
        }
        var zg = $t("app-home", Hf, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-home", [], null, null, null, Bg, kg)), hi(1, 114688, null, 0, Hf, [sg, hg, lp, _g, yg, bg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            Lg = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))).scheduler = n, t.work = e, t.pending = !1, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "schedule",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        if (this.closed) return this;
                        this.state = n;
                        var e = this.id,
                            t = this.scheduler;
                        return null != e && (this.id = this.recycleAsyncId(t, e, l)), this.pending = !0, this.delay = l, this.id = this.id || this.requestAsyncId(t, this.id, l), this
                    }
                }, {
                    key: "requestAsyncId",
                    value: function (n, l) {
                        var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                        return setInterval(n.flush.bind(n, this), e)
                    }
                }, {
                    key: "recycleAsyncId",
                    value: function (n, l) {
                        var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                        if (null !== e && this.delay === e && !1 === this.pending) return l;
                        clearInterval(l)
                    }
                }, {
                    key: "execute",
                    value: function (n, l) {
                        if (this.closed) return new Error("executing a cancelled action");
                        this.pending = !1;
                        var e = this._execute(n, l);
                        if (e) return e;
                        !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null))
                    }
                }, {
                    key: "_execute",
                    value: function (n, l) {
                        var e = !1,
                            t = void 0;
                        try {
                            this.work(n)
                        } catch (i) {
                            e = !0, t = !!i && i || new Error(i)
                        }
                        if (e) return this.unsubscribe(), t
                    }
                }, {
                    key: "_unsubscribe",
                    value: function () {
                        var n = this.id,
                            l = this.scheduler,
                            e = l.actions,
                            t = e.indexOf(this);
                        this.work = null, this.state = null, this.pending = !1, this.scheduler = null, -1 !== t && e.splice(t, 1), null != n && (this.id = this.recycleAsyncId(l, n, null)), this.delay = null
                    }
                }]), l
            }(function (n) {
                function l(n, e) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "schedule",
                    value: function (n) {
                        arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return this
                    }
                }]), l
            }(p)),
            Fg = function () {
                var n = function () {
                    function n(l) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : n.now;
                        _classCallCheck(this, n), this.SchedulerAction = l, this.now = e
                    }
                    return _createClass(n, [{
                        key: "schedule",
                        value: function (n) {
                            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                e = arguments.length > 2 ? arguments[2] : void 0;
                            return new this.SchedulerAction(this, n).schedule(e, l)
                        }
                    }]), n
                }();
                return n.now = function () {
                    return Date.now()
                }, n
            }(),
            qg = new(function (n) {
                function l(n) {
                    var e, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Fg.now;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, (function () {
                        return l.delegate && l.delegate !== _assertThisInitialized(e) ? l.delegate.now() : t()
                    })))).actions = [], e.active = !1, e.scheduled = void 0, e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "schedule",
                    value: function (n) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            t = arguments.length > 2 ? arguments[2] : void 0;
                        return l.delegate && l.delegate !== this ? l.delegate.schedule(n, e, t) : _get(_getPrototypeOf(l.prototype), "schedule", this).call(this, n, e, t)
                    }
                }, {
                    key: "flush",
                    value: function (n) {
                        var l = this.actions;
                        if (this.active) l.push(n);
                        else {
                            var e;
                            this.active = !0;
                            do {
                                if (e = n.execute(n.state, n.delay)) break
                            } while (n = l.shift());
                            if (this.active = !1, e) {
                                for (; n = l.shift();) n.unsubscribe();
                                throw e
                            }
                        }
                    }
                }]), l
            }(Fg))(Lg);

        function Ug(n) {
            return !o(n) && n - parseFloat(n) + 1 >= 0
        }

        function $g() {
            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                l = arguments.length > 1 ? arguments[1] : void 0,
                e = arguments.length > 2 ? arguments[2] : void 0,
                t = -1;
            return Ug(l) ? t = Number(l) < 1 ? 1 : Number(l) : D(l) && (e = l), D(e) || (e = qg), new x((function (l) {
                var i = Ug(n) ? n : +n - e.now();
                return e.schedule(Hg, i, {
                    index: 0,
                    period: t,
                    subscriber: l
                })
            }))
        }

        function Hg(n) {
            var l = n.index,
                e = n.period,
                t = n.subscriber;
            if (t.next(l), !t.closed) {
                if (-1 === e) return t.complete();
                n.index = l + 1, this.schedule(n, e)
            }
        }

        function Vg(n, l, e, i) {
            return t(e) && (i = e, e = void 0), i ? Vg(n, l, e).pipe(V((function (n) {
                return o(n) ? i.apply(void 0, _toConsumableArray(n)) : i(n)
            }))) : new x((function (t) {
                ! function n(l, e, t, i, u) {
                    var r;
                    if (function (n) {
                            return n && "function" == typeof n.addEventListener && "function" == typeof n.removeEventListener
                        }(l)) {
                        var a = l;
                        l.addEventListener(e, t, u), r = function () {
                            return a.removeEventListener(e, t, u)
                        }
                    } else if (function (n) {
                            return n && "function" == typeof n.on && "function" == typeof n.off
                        }(l)) {
                        var o = l;
                        l.on(e, t), r = function () {
                            return o.off(e, t)
                        }
                    } else if (function (n) {
                            return n && "function" == typeof n.addListener && "function" == typeof n.removeListener
                        }(l)) {
                        var s = l;
                        l.addListener(e, t), r = function () {
                            return s.removeListener(e, t)
                        }
                    } else {
                        if (!l || !l.length) throw new TypeError("Invalid event target");
                        for (var c = 0, d = l.length; c < d; c++) n(l[c], e, t, i, u)
                    }
                    i.add(r)
                }(n, l, (function (n) {
                    t.next(arguments.length > 1 ? Array.prototype.slice.call(arguments) : n)
                }), t, e)
            }))
        }
        var jg = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Gg(n))
                    }
                }]), n
            }(),
            Gg = function (n) {
                function l(n) {
                    var e;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).hasFirst = !1, e.observables = [], e.subscriptions = [], e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_next",
                    value: function (n) {
                        this.observables.push(n)
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        var n = this.observables,
                            l = n.length;
                        if (0 === l) this.destination.complete();
                        else {
                            for (var e = 0; e < l && !this.hasFirst; e++) {
                                var t = n[e],
                                    i = $(this, t, t, e);
                                this.subscriptions && this.subscriptions.push(i), this.add(i)
                            }
                            this.observables = null
                        }
                    }
                }, {
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        if (!this.hasFirst) {
                            this.hasFirst = !0;
                            for (var u = 0; u < this.subscriptions.length; u++)
                                if (u !== e) {
                                    var r = this.subscriptions[u];
                                    r.unsubscribe(), this.remove(r)
                                } this.subscriptions = null
                        }
                        this.destination.next(l)
                    }
                }]), l
            }(H);

        function Wg(n) {
            return function (l) {
                return l.lift(new Kg(n))
            }
        }
        var Kg = function () {
                function n(l) {
                    _classCallCheck(this, n), this.notifier = l
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        var e = new Zg(n),
                            t = $(e, this.notifier);
                        return t && !e.seenValue ? (e.add(t), l.subscribe(e)) : e
                    }
                }]), n
            }(),
            Zg = function (n) {
                function l(n) {
                    var e;
                    return _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).seenValue = !1, e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        this.seenValue = !0, this.complete()
                    }
                }, {
                    key: "notifyComplete",
                    value: function () {}
                }]), l
            }(H);

        function Qg() {
            for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
            return function (n) {
                var e;
                return "function" == typeof l[l.length - 1] && (e = l.pop()), n.lift(new Xg(l, e))
            }
        }
        var Yg, Xg = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.observables = l, this.project = e
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new Jg(n, this.observables, this.project))
                    }
                }]), n
            }(),
            Jg = function (n) {
                function l(n, e, t) {
                    var i;
                    _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).observables = e, i.project = t, i.toRespond = [];
                    var u = e.length;
                    i.values = new Array(u);
                    for (var r = 0; r < u; r++) i.toRespond.push(r);
                    for (var a = 0; a < u; a++) {
                        var o = e[a];
                        i.add($(_assertThisInitialized(i), o, o, a))
                    }
                    return i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "notifyNext",
                    value: function (n, l, e, t, i) {
                        this.values[e] = l;
                        var u = this.toRespond;
                        if (u.length > 0) {
                            var r = u.indexOf(e); - 1 !== r && u.splice(r, 1)
                        }
                    }
                }, {
                    key: "notifyComplete",
                    value: function () {}
                }, {
                    key: "_next",
                    value: function (n) {
                        if (0 === this.toRespond.length) {
                            var l = [n].concat(_toConsumableArray(this.values));
                            this.project ? this._tryProject(l) : this.destination.next(l)
                        }
                    }
                }, {
                    key: "_tryProject",
                    value: function (n) {
                        var l;
                        try {
                            l = this.project.apply(this, n)
                        } catch (e) {
                            return void this.destination.error(e)
                        }
                        this.destination.next(l)
                    }
                }]), l
            }(H),
            nv = ((Yg = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.kind = l, this.value = e, this.error = t, this.hasValue = "N" === l
                }
                return _createClass(n, [{
                    key: "observe",
                    value: function (n) {
                        switch (this.kind) {
                            case "N":
                                return n.next && n.next(this.value);
                            case "E":
                                return n.error && n.error(this.error);
                            case "C":
                                return n.complete && n.complete()
                        }
                    }
                }, {
                    key: "do",
                    value: function (n, l, e) {
                        switch (this.kind) {
                            case "N":
                                return n && n(this.value);
                            case "E":
                                return l && l(this.error);
                            case "C":
                                return e && e()
                        }
                    }
                }, {
                    key: "accept",
                    value: function (n, l, e) {
                        return n && "function" == typeof n.next ? this.observe(n) : this.do(n, l, e)
                    }
                }, {
                    key: "toObservable",
                    value: function () {
                        switch (this.kind) {
                            case "N":
                                return qo(this.value);
                            case "E":
                                return n = this.error, new x((function (l) {
                                    return l.error(n)
                                }));
                            case "C":
                                return Lo()
                        }
                        var n;
                        throw new Error("unexpected notification kind value")
                    }
                }], [{
                    key: "createNext",
                    value: function (l) {
                        return void 0 !== l ? new n("N", l) : n.undefinedValueNotification
                    }
                }, {
                    key: "createError",
                    value: function (l) {
                        return new n("E", void 0, l)
                    }
                }, {
                    key: "createComplete",
                    value: function () {
                        return n.completeNotification
                    }
                }]), n
            }()).completeNotification = new Yg("C"), Yg.undefinedValueNotification = new Yg("N", void 0), Yg);

        function lv(n) {
            var l, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : qg,
                t = (l = n) instanceof Date && !isNaN(+l) ? +n - e.now() : Math.abs(n);
            return function (n) {
                return n.lift(new ev(t, e))
            }
        }
        var ev = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.delay = l, this.scheduler = e
                }
                return _createClass(n, [{
                    key: "call",
                    value: function (n, l) {
                        return l.subscribe(new tv(n, this.delay, this.scheduler))
                    }
                }]), n
            }(),
            tv = function (n) {
                function l(n, e, t) {
                    var i;
                    return _classCallCheck(this, l), (i = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n))).delay = e, i.scheduler = t, i.queue = [], i.active = !1, i.errored = !1, i
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "_schedule",
                    value: function (n) {
                        this.active = !0, this.destination.add(n.schedule(l.dispatch, this.delay, {
                            source: this,
                            destination: this.destination,
                            scheduler: n
                        }))
                    }
                }, {
                    key: "scheduleNotification",
                    value: function (n) {
                        if (!0 !== this.errored) {
                            var l = this.scheduler,
                                e = new iv(l.now() + this.delay, n);
                            this.queue.push(e), !1 === this.active && this._schedule(l)
                        }
                    }
                }, {
                    key: "_next",
                    value: function (n) {
                        this.scheduleNotification(nv.createNext(n))
                    }
                }, {
                    key: "_error",
                    value: function (n) {
                        this.errored = !0, this.queue = [], this.destination.error(n), this.unsubscribe()
                    }
                }, {
                    key: "_complete",
                    value: function () {
                        this.scheduleNotification(nv.createComplete()), this.unsubscribe()
                    }
                }], [{
                    key: "dispatch",
                    value: function (n) {
                        for (var l = n.source, e = l.queue, t = n.scheduler, i = n.destination; e.length > 0 && e[0].time - t.now() <= 0;) e.shift().notification.observe(i);
                        if (e.length > 0) {
                            var u = Math.max(0, e[0].time - t.now());
                            this.schedule(n, u)
                        } else this.unsubscribe(), l.active = !1
                    }
                }]), l
            }(v),
            iv = function n(l, e) {
                _classCallCheck(this, n), this.time = l, this.notification = e
            };

        function uv(n) {
            return parseInt("".concat(n), 10)
        }

        function rv(n) {
            return null != n ? "".concat(n) : ""
        }

        function av(n) {
            return "number" == typeof n && isFinite(n) && Math.floor(n) === n
        }

        function ov(n) {
            return null != n
        }

        function sv(n, l) {
            return n && n.className && n.className.split && n.className.split(/\s+/).indexOf(l) >= 0
        }
        "undefined" == typeof Element || Element.prototype.closest || (Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest = function (n) {
            var l = this;
            if (!document.documentElement.contains(l)) return null;
            do {
                if (l.matches(n)) return l;
                l = l.parentElement || l.parentNode
            } while (null !== l && 1 === l.nodeType);
            return null
        });
        var cv, dv = function n() {
                _classCallCheck(this, n)
            },
            hv = ((cv = function n() {
                _classCallCheck(this, n), this.dismissible = !0, this.type = "warning"
            }).ngInjectableDef = yn({
                factory: function () {
                    return new cv
                },
                token: cv,
                providedIn: "root"
            }), cv),
            pv = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._renderer = e, this._element = t, this.close = new zi, this.dismissible = l.dismissible, this.type = l.type
                }
                return _createClass(n, [{
                    key: "closeHandler",
                    value: function () {
                        this.close.emit(null)
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        var l = n.type;
                        l && !l.firstChange && (this._renderer.removeClass(this._element.nativeElement, "alert-".concat(l.previousValue)), this._renderer.addClass(this._element.nativeElement, "alert-".concat(l.currentValue)))
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this._renderer.addClass(this._element.nativeElement, "alert-".concat(this.type))
                    }
                }]), n
            }(),
            fv = function n() {
                _classCallCheck(this, n)
            },
            gv = function n() {
                _classCallCheck(this, n)
            },
            vv = function n() {
                _classCallCheck(this, n)
            },
            mv = function n() {
                _classCallCheck(this, n)
            },
            yv = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.year = av(l) ? l : null, this.month = av(e) ? e : null, this.day = av(t) ? t : null
                }
                return _createClass(n, null, [{
                    key: "from",
                    value: function (l) {
                        return l instanceof n ? l : l ? new n(l.year, l.month, l.day) : null
                    }
                }]), _createClass(n, [{
                    key: "equals",
                    value: function (n) {
                        return n && this.year === n.year && this.month === n.month && this.day === n.day
                    }
                }, {
                    key: "before",
                    value: function (n) {
                        return !!n && (this.year === n.year ? this.month === n.month ? this.day !== n.day && this.day < n.day : this.month < n.month : this.year < n.year)
                    }
                }, {
                    key: "after",
                    value: function (n) {
                        return !!n && (this.year === n.year ? this.month === n.month ? this.day !== n.day && this.day > n.day : this.month > n.month : this.year > n.year)
                    }
                }]), n
            }();

        function bv(n) {
            return new yv(n.getFullYear(), n.getMonth() + 1, n.getDate())
        }

        function _v(n) {
            var l = new Date(n.year, n.month - 1, n.day, 12);
            return isNaN(l.getTime()) || l.setFullYear(n.year), l
        }

        function kv() {
            return new Cv
        }
        var wv, xv = ((wv = function n() {
                _classCallCheck(this, n)
            }).ngInjectableDef = yn({
                factory: kv,
                token: wv,
                providedIn: "root"
            }), wv),
            Cv = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getDaysPerWeek",
                    value: function () {
                        return 7
                    }
                }, {
                    key: "getMonths",
                    value: function () {
                        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
                    }
                }, {
                    key: "getWeeksPerMonth",
                    value: function () {
                        return 6
                    }
                }, {
                    key: "getNext",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "d",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                            t = _v(n),
                            i = !0,
                            u = t.getMonth();
                        switch (l) {
                            case "y":
                                t.setFullYear(t.getFullYear() + e);
                                break;
                            case "m":
                                t.setMonth(u += e), (u %= 12) < 0 && (u += 12);
                                break;
                            case "d":
                                t.setDate(t.getDate() + e), i = !1;
                                break;
                            default:
                                return n
                        }
                        return i && t.getMonth() !== u && t.setDate(0), bv(t)
                    }
                }, {
                    key: "getPrev",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "d",
                            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                        return this.getNext(n, l, -e)
                    }
                }, {
                    key: "getWeekday",
                    value: function (n) {
                        var l = _v(n).getDay();
                        return 0 === l ? 7 : l
                    }
                }, {
                    key: "getWeekNumber",
                    value: function (n, l) {
                        7 === l && (l = 0);
                        var e = _v(n[(11 - l) % 7]);
                        e.setDate(e.getDate() + 4 - (e.getDay() || 7));
                        var t = e.getTime();
                        return e.setMonth(0), e.setDate(1), Math.floor(Math.round((t - e.getTime()) / 864e5) / 7) + 1
                    }
                }, {
                    key: "getToday",
                    value: function () {
                        return bv(new Date)
                    }
                }, {
                    key: "isValid",
                    value: function (n) {
                        if (!(n && av(n.year) && av(n.month) && av(n.day))) return !1;
                        if (0 === n.year) return !1;
                        var l = _v(n);
                        return !isNaN(l.getTime()) && l.getFullYear() === n.year && l.getMonth() + 1 === n.month && l.getDate() === n.day
                    }
                }]), l
            }(xv);

        function Sv(n, l) {
            return ! function (n, l) {
                return !n && !l || !!n && !!l && n.equals(l)
            }(n, l)
        }

        function Iv(n, l) {
            return !(!n && !l || n && l && n.year === l.year && n.month === l.month)
        }

        function Tv(n, l, e) {
            return n && l && n.before(l) ? l : n && e && n.after(e) ? e : n
        }

        function Ev(n, l) {
            var e = l.minDate,
                t = l.maxDate,
                i = l.disabled,
                u = l.markDisabled;
            return !(!ov(n) || i || u && u(n, {
                year: n.year,
                month: n.month
            }) || e && n.before(e) || t && n.after(t))
        }
        var Av, Pv, Ov = ((Av = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "getDayNumerals",
                    value: function (n) {
                        return "".concat(n.day)
                    }
                }, {
                    key: "getWeekNumerals",
                    value: function (n) {
                        return "".concat(n)
                    }
                }, {
                    key: "getYearNumerals",
                    value: function (n) {
                        return "".concat(n)
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return n = $n(Zi), new Dv(n);
                    var n
                },
                token: Av,
                providedIn: "root"
            }), Av),
            Dv = function (n) {
                function l(n) {
                    var e;
                    _classCallCheck(this, l), (e = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._locale = n;
                    var t = La(n, Ma.Standalone, Na.Short);
                    return e._weekdaysShort = t.map((function (n, l) {
                        return t[(l + 1) % 7]
                    })), e._monthsShort = Fa(n, Ma.Standalone, Na.Abbreviated), e._monthsFull = Fa(n, Ma.Standalone, Na.Wide), e
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "getWeekdayShortName",
                    value: function (n) {
                        return this._weekdaysShort[n - 1]
                    }
                }, {
                    key: "getMonthShortName",
                    value: function (n) {
                        return this._monthsShort[n - 1]
                    }
                }, {
                    key: "getMonthFullName",
                    value: function (n) {
                        return this._monthsFull[n - 1]
                    }
                }, {
                    key: "getDayAriaLabel",
                    value: function (n) {
                        return Ja(new Date(n.year, n.month - 1, n.day), "fullDate", this._locale)
                    }
                }]), l
            }(Ov),
            Rv = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this._calendar = l, this._i18n = e, this._model$ = new P, this._select$ = new P, this._state = {
                        disabled: !1,
                        displayMonths: 1,
                        firstDayOfWeek: 1,
                        focusVisible: !1,
                        months: [],
                        navigation: "select",
                        outsideDays: "visible",
                        prevDisabled: !1,
                        nextDisabled: !1,
                        selectBoxes: {
                            years: [],
                            months: []
                        },
                        selectedDate: null
                    }
                }
                return _createClass(n, [{
                    key: "focus",
                    value: function (n) {
                        !this._state.disabled && this._calendar.isValid(n) && Sv(this._state.focusDate, n) && this._nextState({
                            focusDate: n
                        })
                    }
                }, {
                    key: "focusMove",
                    value: function (n, l) {
                        this.focus(this._calendar.getNext(this._state.focusDate, n, l))
                    }
                }, {
                    key: "focusSelect",
                    value: function () {
                        Ev(this._state.focusDate, this._state) && this.select(this._state.focusDate, {
                            emitEvent: !0
                        })
                    }
                }, {
                    key: "open",
                    value: function (n) {
                        var l = this.toValidDate(n, this._calendar.getToday());
                        this._state.disabled || this._state.firstDate && !Iv(this._state.firstDate, n) || this._nextState({
                            firstDate: l
                        })
                    }
                }, {
                    key: "select",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            e = this.toValidDate(n, null);
                        this._state.disabled || (Sv(this._state.selectedDate, e) && this._nextState({
                            selectedDate: e
                        }), l.emitEvent && Ev(e, this._state) && this._select$.next(e))
                    }
                }, {
                    key: "toValidDate",
                    value: function (n, l) {
                        var e = yv.from(n);
                        return void 0 === l && (l = this._calendar.getToday()), this._calendar.isValid(e) ? e : l
                    }
                }, {
                    key: "_nextState",
                    value: function (n) {
                        var l = this._updateState(n);
                        this._patchContexts(l), this._state = l, this._model$.next(this._state)
                    }
                }, {
                    key: "_patchContexts",
                    value: function (n) {
                        var l = n.months,
                            e = n.displayMonths,
                            t = n.selectedDate,
                            i = n.focusDate,
                            u = n.focusVisible,
                            r = n.disabled,
                            a = n.outsideDays;
                        n.months.forEach((function (n) {
                            n.weeks.forEach((function (o) {
                                o.days.forEach((function (o) {
                                    i && (o.context.focused = i.equals(o.date) && u), o.tabindex = !r && o.date.equals(i) && i.month === n.number ? 0 : -1, !0 === r && (o.context.disabled = !0), void 0 !== t && (o.context.selected = null !== t && t.equals(o.date)), n.number !== o.date.month && (o.hidden = "hidden" === a || "collapsed" === a || e > 1 && o.date.after(l[0].firstDate) && o.date.before(l[e - 1].lastDate))
                                }))
                            }))
                        }))
                    }
                }, {
                    key: "_updateState",
                    value: function (n) {
                        var l, e, t, i, u = Object.assign({}, this._state, n),
                            r = u.firstDate;
                        if (("minDate" in n || "maxDate" in n) && (function (n, l) {
                                if (l && n && l.before(n)) throw new Error("'maxDate' ".concat(l, " should be greater than 'minDate' ").concat(n))
                            }(u.minDate, u.maxDate), u.focusDate = Tv(u.focusDate, u.minDate, u.maxDate), u.firstDate = Tv(u.firstDate, u.minDate, u.maxDate), r = u.focusDate), "disabled" in n && (u.focusVisible = !1), "selectedDate" in n && 0 === this._state.months.length && (r = u.selectedDate), "focusVisible" in n) return u;
                        if ("focusDate" in n && (u.focusDate = Tv(u.focusDate, u.minDate, u.maxDate), r = u.focusDate, 0 !== u.months.length && !u.focusDate.before(u.firstDate) && !u.focusDate.after(u.lastDate))) return u;
                        if ("firstDate" in n && (u.firstDate = Tv(u.firstDate, u.minDate, u.maxDate), r = u.firstDate), r) {
                            var a = function (n, l, e, t, i) {
                                var u = e.displayMonths,
                                    r = e.months,
                                    a = r.splice(0, r.length);
                                return Array.from({
                                    length: u
                                }, (function (e, t) {
                                    var u = Object.assign(n.getNext(l, "m", t), {
                                        day: 1
                                    });
                                    if (r[t] = null, !i) {
                                        var o = a.findIndex((function (n) {
                                            return n.firstDate.equals(u)
                                        })); - 1 !== o && (r[t] = a.splice(o, 1)[0])
                                    }
                                    return u
                                })).forEach((function (l, i) {
                                    null === r[i] && (r[i] = function (n, l, e, t) {
                                        var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {},
                                            u = e.dayTemplateData,
                                            r = e.minDate,
                                            a = e.maxDate,
                                            o = e.firstDayOfWeek,
                                            s = e.markDisabled,
                                            c = e.outsideDays,
                                            d = n.getToday();
                                        i.firstDate = null, i.lastDate = null, i.number = l.month, i.year = l.year, i.weeks = i.weeks || [], i.weekdays = i.weekdays || [], l = function (n, l, e) {
                                            var t = n.getDaysPerWeek(),
                                                i = new yv(l.year, l.month, 1),
                                                u = n.getWeekday(i) % t;
                                            return n.getPrev(i, "d", (t + u - e) % t)
                                        }(n, l, o);
                                        for (var h = 0; h < n.getWeeksPerMonth(); h++) {
                                            var p = i.weeks[h];
                                            p || (p = i.weeks[h] = {
                                                number: 0,
                                                days: [],
                                                collapsed: !0
                                            });
                                            for (var f = p.days, g = 0; g < n.getDaysPerWeek(); g++) {
                                                0 === h && (i.weekdays[g] = n.getWeekday(l));
                                                var v = new yv(l.year, l.month, l.day),
                                                    m = n.getNext(v),
                                                    y = t.getDayAriaLabel(v),
                                                    b = !!(r && v.before(r) || a && v.after(a));
                                                !b && s && (b = s(v, {
                                                    month: i.number,
                                                    year: i.year
                                                }));
                                                var _ = v.equals(d),
                                                    k = u ? u(v, {
                                                        month: i.number,
                                                        year: i.year
                                                    }) : void 0;
                                                null === i.firstDate && v.month === i.number && (i.firstDate = v), v.month === i.number && m.month !== i.number && (i.lastDate = v);
                                                var w = f[g];
                                                w || (w = f[g] = {}), w.date = v, w.context = Object.assign(w.context || {}, {
                                                    $implicit: v,
                                                    date: v,
                                                    data: k,
                                                    currentMonth: i.number,
                                                    disabled: b,
                                                    focused: !1,
                                                    selected: !1,
                                                    today: _
                                                }), w.tabindex = -1, w.ariaLabel = y, w.hidden = !1, l = m
                                            }
                                            p.number = n.getWeekNumber(f.map((function (n) {
                                                return n.date
                                            })), o), p.collapsed = "collapsed" === c && f[0].date.month !== i.number && f[f.length - 1].date.month !== i.number
                                        }
                                        return i
                                    }(n, l, e, t, a.shift() || {}))
                                })), r
                            }(this._calendar, r, u, this._i18n, "dayTemplateData" in n || "firstDayOfWeek" in n || "markDisabled" in n || "minDate" in n || "maxDate" in n || "disabled" in n || "outsideDays" in n);
                            u.months = a, u.firstDate = a.length > 0 ? a[0].firstDate : void 0, u.lastDate = a.length > 0 ? a[a.length - 1].lastDate : void 0, "selectedDate" in n && !Ev(u.selectedDate, u) && (u.selectedDate = null), "firstDate" in n && (void 0 === u.focusDate || u.focusDate.before(u.firstDate) || u.focusDate.after(u.lastDate)) && (u.focusDate = r);
                            var o = !this._state.firstDate || this._state.firstDate.year !== u.firstDate.year,
                                s = !this._state.firstDate || this._state.firstDate.month !== u.firstDate.month;
                            "select" === u.navigation ? (("minDate" in n || "maxDate" in n || 0 === u.selectBoxes.years.length || o) && (u.selectBoxes.years = function (n, l, e) {
                                if (!n) return [];
                                for (var t = l ? Math.max(l.year, n.year - 500) : n.year - 10, i = (e ? Math.min(e.year, n.year + 500) : n.year + 10) - t + 1, u = Array(i), r = 0; r < i; r++) u[r] = t + r;
                                return u
                            }(u.firstDate, u.minDate, u.maxDate)), ("minDate" in n || "maxDate" in n || 0 === u.selectBoxes.months.length || o) && (u.selectBoxes.months = function (n, l, e, t) {
                                if (!l) return [];
                                var i = n.getMonths(l.year);
                                if (e && l.year === e.year) {
                                    var u = i.findIndex((function (n) {
                                        return n === e.month
                                    }));
                                    i = i.slice(u)
                                }
                                if (t && l.year === t.year) {
                                    var r = i.findIndex((function (n) {
                                        return n === t.month
                                    }));
                                    i = i.slice(0, r + 1)
                                }
                                return i
                            }(this._calendar, u.firstDate, u.minDate, u.maxDate))) : u.selectBoxes = {
                                years: [],
                                months: []
                            }, "arrows" !== u.navigation && "select" !== u.navigation || !(s || o || "minDate" in n || "maxDate" in n || "disabled" in n) || (u.prevDisabled = u.disabled || (l = this._calendar, e = u.firstDate, t = u.minDate, i = Object.assign(l.getPrev(e, "m"), {
                                day: 1
                            }), t && (i.year === t.year && i.month < t.month || i.year < t.year && 1 === t.month)), u.nextDisabled = u.disabled || function (n, l, e) {
                                var t = Object.assign(n.getNext(l, "m"), {
                                    day: 1
                                });
                                return e && t.after(e)
                            }(this._calendar, u.lastDate, u.maxDate))
                        }
                        return u
                    }
                }, {
                    key: "model$",
                    get: function () {
                        return this._model$.pipe(Zo((function (n) {
                            return n.months.length > 0
                        })))
                    }
                }, {
                    key: "select$",
                    get: function () {
                        return this._select$.pipe(Zo((function (n) {
                            return null !== n
                        })))
                    }
                }, {
                    key: "dayTemplateData",
                    set: function (n) {
                        this._state.dayTemplateData !== n && this._nextState({
                            dayTemplateData: n
                        })
                    }
                }, {
                    key: "disabled",
                    set: function (n) {
                        this._state.disabled !== n && this._nextState({
                            disabled: n
                        })
                    }
                }, {
                    key: "displayMonths",
                    set: function (n) {
                        av(n = uv(n)) && n > 0 && this._state.displayMonths !== n && this._nextState({
                            displayMonths: n
                        })
                    }
                }, {
                    key: "firstDayOfWeek",
                    set: function (n) {
                        av(n = uv(n)) && n >= 0 && this._state.firstDayOfWeek !== n && this._nextState({
                            firstDayOfWeek: n
                        })
                    }
                }, {
                    key: "focusVisible",
                    set: function (n) {
                        this._state.focusVisible === n || this._state.disabled || this._nextState({
                            focusVisible: n
                        })
                    }
                }, {
                    key: "maxDate",
                    set: function (n) {
                        var l = this.toValidDate(n, null);
                        Sv(this._state.maxDate, l) && this._nextState({
                            maxDate: l
                        })
                    }
                }, {
                    key: "markDisabled",
                    set: function (n) {
                        this._state.markDisabled !== n && this._nextState({
                            markDisabled: n
                        })
                    }
                }, {
                    key: "minDate",
                    set: function (n) {
                        var l = this.toValidDate(n, null);
                        Sv(this._state.minDate, l) && this._nextState({
                            minDate: l
                        })
                    }
                }, {
                    key: "navigation",
                    set: function (n) {
                        this._state.navigation !== n && this._nextState({
                            navigation: n
                        })
                    }
                }, {
                    key: "outsideDays",
                    set: function (n) {
                        this._state.outsideDays !== n && this._nextState({
                            outsideDays: n
                        })
                    }
                }]), n
            }(),
            Mv = function () {
                var n = {
                    Tab: 9,
                    Enter: 13,
                    Escape: 27,
                    Space: 32,
                    PageUp: 33,
                    PageDown: 34,
                    End: 35,
                    Home: 36,
                    ArrowLeft: 37,
                    ArrowUp: 38,
                    ArrowRight: 39,
                    ArrowDown: 40
                };
                return n[n.Tab] = "Tab", n[n.Enter] = "Enter", n[n.Escape] = "Escape", n[n.Space] = "Space", n[n.PageUp] = "PageUp", n[n.PageDown] = "PageDown", n[n.End] = "End", n[n.Home] = "Home", n[n.ArrowLeft] = "ArrowLeft", n[n.ArrowUp] = "ArrowUp", n[n.ArrowRight] = "ArrowRight", n[n.ArrowDown] = "ArrowDown", n
            }(),
            Nv = function () {
                function n(l, e) {
                    var t = this;
                    _classCallCheck(this, n), this._service = l, this._calendar = e, l.model$.subscribe((function (n) {
                        t._minDate = n.minDate, t._maxDate = n.maxDate, t._firstViewDate = n.firstDate, t._lastViewDate = n.lastDate
                    }))
                }
                return _createClass(n, [{
                    key: "processKey",
                    value: function (n) {
                        switch (n.which) {
                            case Mv.PageUp:
                                this._service.focusMove(n.shiftKey ? "y" : "m", -1);
                                break;
                            case Mv.PageDown:
                                this._service.focusMove(n.shiftKey ? "y" : "m", 1);
                                break;
                            case Mv.End:
                                this._service.focus(n.shiftKey ? this._maxDate : this._lastViewDate);
                                break;
                            case Mv.Home:
                                this._service.focus(n.shiftKey ? this._minDate : this._firstViewDate);
                                break;
                            case Mv.ArrowLeft:
                                this._service.focusMove("d", -1);
                                break;
                            case Mv.ArrowUp:
                                this._service.focusMove("d", -this._calendar.getDaysPerWeek());
                                break;
                            case Mv.ArrowRight:
                                this._service.focusMove("d", 1);
                                break;
                            case Mv.ArrowDown:
                                this._service.focusMove("d", this._calendar.getDaysPerWeek());
                                break;
                            case Mv.Enter:
                            case Mv.Space:
                                this._service.focusSelect();
                                break;
                            default:
                                return
                        }
                        n.preventDefault(), n.stopPropagation()
                    }
                }]), n
            }(),
            Bv = function () {
                var n = {
                    PREV: 0,
                    NEXT: 1
                };
                return n[n.PREV] = "PREV", n[n.NEXT] = "NEXT", n
            }(),
            zv = ((Pv = function n() {
                _classCallCheck(this, n), this.displayMonths = 1, this.firstDayOfWeek = 1, this.navigation = "select", this.outsideDays = "visible", this.showWeekdays = !0, this.showWeekNumbers = !1
            }).ngInjectableDef = yn({
                factory: function () {
                    return new Pv
                },
                token: Pv,
                providedIn: "root"
            }), Pv);

        function Lv() {
            return new Uv
        }
        var Fv, qv = ((Fv = function n() {
                _classCallCheck(this, n)
            }).ngInjectableDef = yn({
                factory: Lv,
                token: Fv,
                providedIn: "root"
            }), Fv),
            Uv = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "fromModel",
                    value: function (n) {
                        return n && av(n.year) && av(n.month) && av(n.day) ? {
                            year: n.year,
                            month: n.month,
                            day: n.day
                        } : null
                    }
                }, {
                    key: "toModel",
                    value: function (n) {
                        return n && av(n.year) && av(n.month) && av(n.day) ? {
                            year: n.year,
                            month: n.month,
                            day: n.day
                        } : null
                    }
                }]), l
            }(qv),
            $v = function () {
                function n(l, e, t, i, u, r, a, o, s) {
                    var c = this;
                    _classCallCheck(this, n), this._keyMapService = l, this._service = e, this._calendar = t, this.i18n = i, this._cd = r, this._elementRef = a, this._ngbDateAdapter = o, this._ngZone = s, this._destroyed$ = new P, this.navigate = new zi, this.select = new zi, this.onChange = function (n) {}, this.onTouched = function () {}, ["dayTemplate", "dayTemplateData", "displayMonths", "firstDayOfWeek", "footerTemplate", "markDisabled", "minDate", "maxDate", "navigation", "outsideDays", "showWeekdays", "showWeekNumbers", "startDate"].forEach((function (n) {
                        return c[n] = u[n]
                    })), e.select$.pipe(Wg(this._destroyed$)).subscribe((function (n) {
                        c.select.emit(n)
                    })), e.model$.pipe(Wg(this._destroyed$)).subscribe((function (n) {
                        var l = n.firstDate,
                            e = c.model ? c.model.firstDate : null,
                            t = !1;
                        if (l.equals(e) || (c.navigate.emit({
                                current: e ? {
                                    year: e.year,
                                    month: e.month
                                } : null,
                                next: {
                                    year: l.year,
                                    month: l.month
                                },
                                preventDefault: function () {
                                    return t = !0
                                }
                            }), !t || null === e)) {
                            var i = n.selectedDate,
                                u = n.focusDate,
                                a = c.model ? c.model.focusDate : null;
                            c.model = n, Sv(i, c._controlValue) && (c._controlValue = i, c.onTouched(), c.onChange(c._ngbDateAdapter.toModel(i))), Sv(u, a) && a && n.focusVisible && c.focus(), r.markForCheck()
                        } else c._service.open(e)
                    }))
                }
                return _createClass(n, [{
                    key: "focus",
                    value: function () {
                        var n = this;
                        this._ngZone.onStable.asObservable().pipe(gs(1)).subscribe((function () {
                            var l = n._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');
                            l && l.focus()
                        }))
                    }
                }, {
                    key: "navigateTo",
                    value: function (n) {
                        this._service.open(yv.from(n ? n.day ? n : Object.assign({}, n, {
                            day: 1
                        }) : null))
                    }
                }, {
                    key: "ngAfterViewInit",
                    value: function () {
                        var n = this;
                        this._ngZone.runOutsideAngular((function () {
                            nn(Vg(n._monthsEl.nativeElement, "focusin"), Vg(n._monthsEl.nativeElement, "focusout")).pipe(Zo((function (n) {
                                var l = n.target,
                                    e = n.relatedTarget;
                                return !(sv(l, "ngb-dp-day") && sv(e, "ngb-dp-day"))
                            })), Wg(n._destroyed$)).subscribe((function (l) {
                                var e = l.type;
                                return n._ngZone.run((function () {
                                    return n._service.focusVisible = "focusin" === e
                                }))
                            }))
                        }))
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this._destroyed$.next()
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        void 0 === this.model && (["dayTemplateData", "displayMonths", "markDisabled", "firstDayOfWeek", "navigation", "minDate", "maxDate", "outsideDays"].forEach((function (l) {
                            return n._service[l] = n[l]
                        })), this.navigateTo(this.startDate))
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        var l = this;
                        if (["dayTemplateData", "displayMonths", "markDisabled", "firstDayOfWeek", "navigation", "minDate", "maxDate", "outsideDays"].filter((function (l) {
                                return l in n
                            })).forEach((function (n) {
                                return l._service[n] = l[n]
                            })), "startDate" in n) {
                            var e = n.startDate,
                                t = e.currentValue;
                            Iv(e.previousValue, t) && this.navigateTo(this.startDate)
                        }
                    }
                }, {
                    key: "onDateSelect",
                    value: function (n) {
                        this._service.focus(n), this._service.select(n, {
                            emitEvent: !0
                        })
                    }
                }, {
                    key: "onKeyDown",
                    value: function (n) {
                        this._keyMapService.processKey(n)
                    }
                }, {
                    key: "onNavigateDateSelect",
                    value: function (n) {
                        this._service.open(n)
                    }
                }, {
                    key: "onNavigateEvent",
                    value: function (n) {
                        switch (n) {
                            case Bv.PREV:
                                this._service.open(this._calendar.getPrev(this.model.firstDate, "m", 1));
                                break;
                            case Bv.NEXT:
                                this._service.open(this._calendar.getNext(this.model.firstDate, "m", 1))
                        }
                    }
                }, {
                    key: "registerOnChange",
                    value: function (n) {
                        this.onChange = n
                    }
                }, {
                    key: "registerOnTouched",
                    value: function (n) {
                        this.onTouched = n
                    }
                }, {
                    key: "setDisabledState",
                    value: function (n) {
                        this._service.disabled = n
                    }
                }, {
                    key: "writeValue",
                    value: function (n) {
                        this._controlValue = yv.from(this._ngbDateAdapter.fromModel(n)), this._service.select(this._controlValue)
                    }
                }]), n
            }(),
            Hv = function () {
                function n(l) {
                    _classCallCheck(this, n), this.i18n = l, this.select = new zi
                }
                return _createClass(n, [{
                    key: "doSelect",
                    value: function (n) {
                        n.context.disabled || n.hidden || this.select.emit(n.date)
                    }
                }]), n
            }(),
            Vv = function () {
                function n(l) {
                    _classCallCheck(this, n), this.i18n = l, this.navigation = Bv, this.months = [], this.navigate = new zi, this.select = new zi
                }
                return _createClass(n, [{
                    key: "onClickPrev",
                    value: function (n) {
                        n.currentTarget.focus(), this.navigate.emit(this.navigation.PREV)
                    }
                }, {
                    key: "onClickNext",
                    value: function (n) {
                        n.currentTarget.focus(), this.navigate.emit(this.navigation.NEXT)
                    }
                }]), n
            }(),
            jv = function (n, l) {
                return !!l && l.some((function (l) {
                    return l.contains(n)
                }))
            },
            Gv = function (n, l) {
                return !l || null != function (n, l) {
                    return l ? n.closest(l) : null
                }(n, l)
            },
            Wv = !1;
        "undefined" != typeof navigator && (Wv = !!navigator.userAgent && /iPad|iPhone|iPod/.test(navigator.userAgent));
        var Kv = function (n) {
            return Wv ? function () {
                return setTimeout((function () {
                    return n()
                }), 100)
            } : n
        };

        function Zv(n, l, e, t, i, u, r, a) {
            e && n.runOutsideAngular(Kv((function () {
                var s = Vg(l, "keydown").pipe(Wg(i), Zo((function (n) {
                        return n.which === Mv.Escape
                    })), ts((function (n) {
                        return n.preventDefault()
                    }))),
                    c = Vg(l, "mousedown").pipe(V((function (n) {
                        var l = n.target;
                        return 2 !== n.button && !jv(l, r) && ("inside" === e ? jv(l, u) && Gv(l, a) : "outside" === e ? !jv(l, u) : Gv(l, a) || !jv(l, u))
                    })), Wg(i));
                (function () {
                    for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                    if (1 === l.length) {
                        if (!o(l[0])) return l[0];
                        l = l[0]
                    }
                    return W(l, void 0).lift(new jg)
                })([s, Vg(l, "mouseup").pipe(Qg(c), Zo((function (n) {
                    var l = _slicedToArray(n, 2);
                    l[0];
                    return l[1]
                })), lv(0), Wg(i))]).subscribe((function () {
                    return n.run(t)
                }))
            })))
        }
        var Qv = ["a[href]", "button:not([disabled])", 'input:not([disabled]):not([type="hidden"])', "select:not([disabled])", "textarea:not([disabled])", "[contenteditable]", '[tabindex]:not([tabindex="-1"])'].join(", ");

        function Yv(n) {
            var l = Array.from(n.querySelectorAll(Qv)).filter((function (n) {
                return -1 !== n.tabIndex
            }));
            return [l[0], l[l.length - 1]]
        }
        var Xv = function (n, l, e) {
                var t = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                n.runOutsideAngular((function () {
                    var n = Vg(l, "focusin").pipe(Wg(e), V((function (n) {
                        return n.target
                    })));
                    Vg(l, "keydown").pipe(Wg(e), Zo((function (n) {
                        return n.which === Mv.Tab
                    })), Qg(n)).subscribe((function (n) {
                        var e = _slicedToArray(n, 2),
                            t = e[0],
                            i = e[1],
                            u = _slicedToArray(Yv(l), 2),
                            r = u[0],
                            a = u[1];
                        i !== r && i !== l || !t.shiftKey || (a.focus(), t.preventDefault()), i !== a || t.shiftKey || (r.focus(), t.preventDefault())
                    })), t && Vg(l, "click").pipe(Wg(e), Qg(n), V((function (n) {
                        return n[1]
                    }))).subscribe((function (n) {
                        return n.focus()
                    }))
                }))
            },
            Jv = /\s+/,
            nm = new(function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "getAllStyles",
                    value: function (n) {
                        return window.getComputedStyle(n)
                    }
                }, {
                    key: "getStyle",
                    value: function (n, l) {
                        return this.getAllStyles(n)[l]
                    }
                }, {
                    key: "isStaticPositioned",
                    value: function (n) {
                        return "static" === (this.getStyle(n, "position") || "static")
                    }
                }, {
                    key: "offsetParent",
                    value: function (n) {
                        for (var l = n.offsetParent || document.documentElement; l && l !== document.documentElement && this.isStaticPositioned(l);) l = l.offsetParent;
                        return l || document.documentElement
                    }
                }, {
                    key: "position",
                    value: function (n) {
                        var l, e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                            t = {
                                width: 0,
                                height: 0,
                                top: 0,
                                bottom: 0,
                                left: 0,
                                right: 0
                            };
                        if ("fixed" === this.getStyle(n, "position")) l = {
                            top: (l = n.getBoundingClientRect()).top,
                            bottom: l.bottom,
                            left: l.left,
                            right: l.right,
                            height: l.height,
                            width: l.width
                        };
                        else {
                            var i = this.offsetParent(n);
                            l = this.offset(n, !1), i !== document.documentElement && (t = this.offset(i, !1)), t.top += i.clientTop, t.left += i.clientLeft
                        }
                        return l.top -= t.top, l.bottom -= t.top, l.left -= t.left, l.right -= t.left, e && (l.top = Math.round(l.top), l.bottom = Math.round(l.bottom), l.left = Math.round(l.left), l.right = Math.round(l.right)), l
                    }
                }, {
                    key: "offset",
                    value: function (n) {
                        var l = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                            e = n.getBoundingClientRect(),
                            t = window.pageYOffset - document.documentElement.clientTop,
                            i = window.pageXOffset - document.documentElement.clientLeft,
                            u = {
                                height: e.height || n.offsetHeight,
                                width: e.width || n.offsetWidth,
                                top: e.top + t,
                                bottom: e.bottom + t,
                                left: e.left + i,
                                right: e.right + i
                            };
                        return l && (u.height = Math.round(u.height), u.width = Math.round(u.width), u.top = Math.round(u.top), u.bottom = Math.round(u.bottom), u.left = Math.round(u.left), u.right = Math.round(u.right)), u
                    }
                }, {
                    key: "positionElements",
                    value: function (n, l, e, t) {
                        var i = _slicedToArray(e.split("-"), 2),
                            u = i[0],
                            r = void 0 === u ? "top" : u,
                            a = i[1],
                            o = void 0 === a ? "center" : a,
                            s = t ? this.offset(n, !1) : this.position(n, !1),
                            c = this.getAllStyles(l),
                            d = parseFloat(c.marginTop),
                            h = parseFloat(c.marginBottom),
                            p = parseFloat(c.marginLeft),
                            f = parseFloat(c.marginRight),
                            g = 0,
                            v = 0;
                        switch (r) {
                            case "top":
                                g = s.top - (l.offsetHeight + d + h);
                                break;
                            case "bottom":
                                g = s.top + s.height;
                                break;
                            case "left":
                                v = s.left - (l.offsetWidth + p + f);
                                break;
                            case "right":
                                v = s.left + s.width
                        }
                        switch (o) {
                            case "top":
                                g = s.top;
                                break;
                            case "bottom":
                                g = s.top + s.height - l.offsetHeight;
                                break;
                            case "left":
                                v = s.left;
                                break;
                            case "right":
                                v = s.left + s.width - l.offsetWidth;
                                break;
                            case "center":
                                "top" === r || "bottom" === r ? v = s.left + s.width / 2 - l.offsetWidth / 2 : g = s.top + s.height / 2 - l.offsetHeight / 2
                        }
                        l.style.transform = "translate(".concat(Math.round(v), "px, ").concat(Math.round(g), "px)");
                        var m = l.getBoundingClientRect(),
                            y = document.documentElement,
                            b = window.innerHeight || y.clientHeight,
                            _ = window.innerWidth || y.clientWidth;
                        return m.left >= 0 && m.top >= 0 && m.right <= _ && m.bottom <= b
                    }
                }]), n
            }());

        function lm(n, l, e, t, i) {
            var u = Array.isArray(e) ? e : e.split(Jv),
                r = ["top", "bottom", "left", "right", "top-left", "top-right", "bottom-left", "bottom-right", "left-top", "left-bottom", "right-top", "right-bottom"],
                a = l.classList,
                o = function (n) {
                    var l = _slicedToArray(n.split("-"), 2),
                        e = l[0],
                        t = l[1],
                        u = [];
                    return i && (u.push("".concat(i, "-").concat(e)), t && u.push("".concat(i, "-").concat(e, "-").concat(t)), u.forEach((function (n) {
                        a.add(n)
                    }))), u
                };
            i && r.forEach((function (n) {
                a.remove("".concat(i, "-").concat(n))
            }));
            var s = u.findIndex((function (n) {
                return "auto" === n
            }));
            s >= 0 && r.forEach((function (n) {
                null == u.find((function (l) {
                    return -1 !== l.search("^" + n)
                })) && u.splice(s++, 1, n)
            }));
            var c, d = l.style;
            d.position = "absolute", d.top = "0", d.left = "0", d["will-change"] = "transform";
            var h = !1,
                p = !0,
                f = !1,
                g = void 0;
            try {
                for (var v, m = u[Symbol.iterator](); !(p = (v = m.next()).done); p = !0) {
                    var y = o(c = v.value);
                    if (nm.positionElements(n, l, c, t)) {
                        h = !0;
                        break
                    }
                    i && y.forEach((function (n) {
                        a.remove(n)
                    }))
                }
            } catch (b) {
                f = !0, g = b
            } finally {
                try {
                    p || null == m.return || m.return()
                } finally {
                    if (f) throw g
                }
            }
            return h || (o(c = u[0]), nm.positionElements(n, l, c, t)), c
        }
        var em, tm, im, um, rm, am, om, sm, cm = function () {
                function n(l) {
                    _classCallCheck(this, n), this.i18n = l
                }
                return _createClass(n, [{
                    key: "isMuted",
                    value: function () {
                        return !this.selected && (this.date.month !== this.currentMonth || this.disabled)
                    }
                }]), n
            }(),
            dm = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.i18n = l, this._renderer = e, this.select = new zi, this._month = -1, this._year = -1
                }
                return _createClass(n, [{
                    key: "changeMonth",
                    value: function (n) {
                        this.select.emit(new yv(this.date.year, uv(n), 1))
                    }
                }, {
                    key: "changeYear",
                    value: function (n) {
                        this.select.emit(new yv(uv(n), this.date.month, 1))
                    }
                }, {
                    key: "ngAfterViewChecked",
                    value: function () {
                        this.date && (this.date.month !== this._month && (this._month = this.date.month, this._renderer.setProperty(this.monthSelect.nativeElement, "value", this._month)), this.date.year !== this._year && (this._year = this.date.year, this._renderer.setProperty(this.yearSelect.nativeElement, "value", this._year)))
                    }
                }]), n
            }(),
            hm = function n() {
                _classCallCheck(this, n)
            },
            pm = ((em = function n() {
                _classCallCheck(this, n), this.autoClose = !0, this.placement = ["bottom-left", "bottom-right", "top-left", "top-right"]
            }).ngInjectableDef = yn({
                factory: function () {
                    return new em
                },
                token: em,
                providedIn: "root"
            }), em),
            fm = function n() {
                _classCallCheck(this, n)
            },
            gm = function () {
                function n(l) {
                    _classCallCheck(this, n), this.elementRef = l, this._disabled = !1
                }
                return _createClass(n, [{
                    key: "disabled",
                    set: function (n) {
                        this._disabled = "" === n || !0 === n
                    },
                    get: function () {
                        return this._disabled
                    }
                }]), n
            }(),
            vm = function n(l) {
                _classCallCheck(this, n), this.dropdown = l, this.placement = "bottom", this.isOpen = !1
            },
            mm = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.dropdown = l, this._elementRef = e, this.anchorEl = e.nativeElement
                }
                return _createClass(n, [{
                    key: "getNativeElement",
                    value: function () {
                        return this._elementRef.nativeElement
                    }
                }]), n
            }(),
            ym = function (n) {
                function l(n, e) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e))
                }
                return _inherits(l, n), l
            }(mm),
            bm = function () {
                function n(l, e, t, i, u, r, a) {
                    var o = this;
                    _classCallCheck(this, n), this._changeDetector = l, this._document = t, this._ngZone = i, this._elementRef = u, this._renderer = r, this._closed$ = new P, this._open = !1, this.openChange = new zi, this.placement = e.placement, this.container = e.container, this.autoClose = e.autoClose, this.display = a ? "static" : "dynamic", this._zoneSubscription = i.onStable.subscribe((function () {
                        o._positionMenu()
                    }))
                }
                return _createClass(n, [{
                    key: "ngAfterContentInit",
                    value: function () {
                        var n = this;
                        this._ngZone.onStable.pipe(gs(1)).subscribe((function () {
                            n._applyPlacementClasses(), n._open && n._setCloseHandlers()
                        }))
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        n.container && this._open && this._applyContainer(this.container), n.placement && !n.placement.isFirstChange && this._applyPlacementClasses()
                    }
                }, {
                    key: "isOpen",
                    value: function () {
                        return this._open
                    }
                }, {
                    key: "open",
                    value: function () {
                        this._open || (this._open = !0, this._applyContainer(this.container), this.openChange.emit(!0), this._setCloseHandlers())
                    }
                }, {
                    key: "_setCloseHandlers",
                    value: function () {
                        var n = this,
                            l = this._anchor;
                        Zv(this._ngZone, this._document, this.autoClose, (function () {
                            return n.close()
                        }), this._closed$, this._menu ? [this._menuElement.nativeElement] : [], l ? [l.getNativeElement()] : [], ".dropdown-item,.dropdown-divider")
                    }
                }, {
                    key: "close",
                    value: function () {
                        this._open && (this._open = !1, this._resetContainer(), this._closed$.next(), this.openChange.emit(!1), this._changeDetector.markForCheck())
                    }
                }, {
                    key: "toggle",
                    value: function () {
                        this.isOpen() ? this.close() : this.open()
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this._resetContainer(), this._closed$.next(), this._zoneSubscription.unsubscribe()
                    }
                }, {
                    key: "onKeyDown",
                    value: function (n) {
                        var l = this,
                            e = n.which,
                            t = this._getMenuElements(),
                            i = -1,
                            u = !1,
                            r = this._isEventFromToggle(n);
                        if (!r && t.length && t.forEach((function (e, t) {
                                e.contains(n.target) && (u = !0), e === l._document.activeElement && (i = t)
                            })), e !== Mv.Space && e !== Mv.Enter) {
                            if (r || u) {
                                if (this.open(), t.length) {
                                    switch (e) {
                                        case Mv.ArrowDown:
                                            i = Math.min(i + 1, t.length - 1);
                                            break;
                                        case Mv.ArrowUp:
                                            if (this._isDropup() && -1 === i) {
                                                i = t.length - 1;
                                                break
                                            }
                                            i = Math.max(i - 1, 0);
                                            break;
                                        case Mv.Home:
                                            i = 0;
                                            break;
                                        case Mv.End:
                                            i = t.length - 1
                                    }
                                    t[i].focus()
                                }
                                n.preventDefault()
                            }
                        } else !u || !0 !== this.autoClose && "inside" !== this.autoClose || this.close()
                    }
                }, {
                    key: "_isDropup",
                    value: function () {
                        return this._elementRef.nativeElement.classList.contains("dropup")
                    }
                }, {
                    key: "_isEventFromToggle",
                    value: function (n) {
                        return this._anchor.getNativeElement().contains(n.target)
                    }
                }, {
                    key: "_getMenuElements",
                    value: function () {
                        var n = this._menu;
                        return null == n ? [] : n.menuItems.filter((function (n) {
                            return !n.disabled
                        })).map((function (n) {
                            return n.elementRef.nativeElement
                        }))
                    }
                }, {
                    key: "_positionMenu",
                    value: function () {
                        var n = this._menu;
                        this.isOpen() && n && this._applyPlacementClasses("dynamic" === this.display ? lm(this._anchor.anchorEl, this._bodyContainer || this._menuElement.nativeElement, this.placement, "body" === this.container) : this._getFirstPlacement(this.placement))
                    }
                }, {
                    key: "_getFirstPlacement",
                    value: function (n) {
                        return Array.isArray(n) ? n[0] : n.split(" ")[0]
                    }
                }, {
                    key: "_resetContainer",
                    value: function () {
                        var n = this._renderer,
                            l = this._menuElement;
                        if (l) {
                            var e = l.nativeElement;
                            n.appendChild(this._elementRef.nativeElement, e), n.removeStyle(e, "position"), n.removeStyle(e, "transform")
                        }
                        this._bodyContainer && (n.removeChild(this._document.body, this._bodyContainer), this._bodyContainer = null)
                    }
                }, {
                    key: "_applyContainer",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        if (this._resetContainer(), "body" === n) {
                            var l = this._renderer,
                                e = this._menuElement.nativeElement,
                                t = this._bodyContainer = this._bodyContainer || l.createElement("div");
                            l.setStyle(t, "position", "absolute"), l.setStyle(e, "position", "static"), l.setStyle(t, "z-index", "1050"), l.appendChild(t, e), l.appendChild(this._document.body, t)
                        }
                    }
                }, {
                    key: "_applyPlacementClasses",
                    value: function (n) {
                        var l = this._menu;
                        if (l) {
                            n || (n = this._getFirstPlacement(this.placement));
                            var e = this._renderer,
                                t = this._elementRef.nativeElement;
                            e.removeClass(t, "dropup"), e.removeClass(t, "dropdown"), l.placement = "static" === this.display ? null : n;
                            var i = -1 !== n.search("^top") ? "dropup" : "dropdown";
                            e.addClass(t, i);
                            var u = this._bodyContainer;
                            u && (e.removeClass(u, "dropup"), e.removeClass(u, "dropdown"), e.addClass(u, i))
                        }
                    }
                }]), n
            }(),
            _m = function n() {
                _classCallCheck(this, n)
            },
            km = ((tm = function n() {
                _classCallCheck(this, n), this.backdrop = !0, this.keyboard = !0
            }).ngInjectableDef = yn({
                factory: function () {
                    return new tm
                },
                token: tm,
                providedIn: "root"
            }), tm),
            wm = function n(l, e, t) {
                _classCallCheck(this, n), this.nodes = l, this.viewRef = e, this.componentRef = t
            },
            xm = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this._type = l, this._injector = e, this._viewContainerRef = t, this._renderer = i, this._componentFactoryResolver = u, this._applicationRef = r
                }
                return _createClass(n, [{
                    key: "open",
                    value: function (n, l) {
                        return this._windowRef || (this._contentRef = this._getContentRef(n, l), this._windowRef = this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type), 0, this._injector, this._contentRef.nodes)), this._windowRef
                    }
                }, {
                    key: "close",
                    value: function () {
                        this._windowRef && (this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)), this._windowRef = null, this._contentRef.viewRef && (this._applicationRef.detachView(this._contentRef.viewRef), this._contentRef.viewRef.destroy(), this._contentRef = null))
                    }
                }, {
                    key: "_getContentRef",
                    value: function (n, l) {
                        if (n) {
                            if (n instanceof Ne) {
                                var e = n.createEmbeddedView(l);
                                return this._applicationRef.attachView(e), new wm([e.rootNodes], e)
                            }
                            return new wm([[this._renderer.createText("".concat(n))]])
                        }
                        return new wm([])
                    }
                }]), n
            }(),
            Cm = function () {},
            Sm = ((im = function () {
                function n(l) {
                    _classCallCheck(this, n), this._document = l
                }
                return _createClass(n, [{
                    key: "compensate",
                    value: function () {
                        return this._isPresent() ? this._adjustBody(this._getWidth()) : Cm
                    }
                }, {
                    key: "_adjustBody",
                    value: function (n) {
                        var l = this._document.body,
                            e = l.style.paddingRight,
                            t = parseFloat(window.getComputedStyle(l)["padding-right"]);
                        return l.style["padding-right"] = "".concat(t + n, "px"),
                            function () {
                                return l.style["padding-right"] = e
                            }
                    }
                }, {
                    key: "_isPresent",
                    value: function () {
                        var n = this._document.body.getBoundingClientRect();
                        return n.left + n.right < window.innerWidth
                    }
                }, {
                    key: "_getWidth",
                    value: function () {
                        var n = this._document.createElement("div");
                        n.className = "modal-scrollbar-measure";
                        var l = this._document.body;
                        l.appendChild(n);
                        var e = n.getBoundingClientRect().width - n.clientWidth;
                        return l.removeChild(n), e
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new im($n(Ro))
                },
                token: im,
                providedIn: "root"
            }), im),
            Im = function n() {
                _classCallCheck(this, n)
            },
            Tm = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "close",
                    value: function (n) {}
                }, {
                    key: "dismiss",
                    value: function (n) {}
                }]), n
            }(),
            Em = function () {
                function n(l, e, t, i) {
                    var u = this;
                    _classCallCheck(this, n), this._windowCmptRef = l, this._contentRef = e, this._backdropCmptRef = t, this._beforeDismiss = i, l.instance.dismissEvent.subscribe((function (n) {
                        u.dismiss(n)
                    })), this.result = new Promise((function (n, l) {
                        u._resolve = n, u._reject = l
                    })), this.result.then(null, (function () {}))
                }
                return _createClass(n, [{
                    key: "close",
                    value: function (n) {
                        this._windowCmptRef && (this._resolve(n), this._removeModalElements())
                    }
                }, {
                    key: "_dismiss",
                    value: function (n) {
                        this._reject(n), this._removeModalElements()
                    }
                }, {
                    key: "dismiss",
                    value: function (n) {
                        var l = this;
                        if (this._windowCmptRef)
                            if (this._beforeDismiss) {
                                var e = this._beforeDismiss();
                                e && e.then ? e.then((function (e) {
                                    !1 !== e && l._dismiss(n)
                                }), (function () {})) : !1 !== e && this._dismiss(n)
                            } else this._dismiss(n)
                    }
                }, {
                    key: "_removeModalElements",
                    value: function () {
                        var n = this._windowCmptRef.location.nativeElement;
                        if (n.parentNode.removeChild(n), this._windowCmptRef.destroy(), this._backdropCmptRef) {
                            var l = this._backdropCmptRef.location.nativeElement;
                            l.parentNode.removeChild(l), this._backdropCmptRef.destroy()
                        }
                        this._contentRef && this._contentRef.viewRef && this._contentRef.viewRef.destroy(), this._windowCmptRef = null, this._backdropCmptRef = null, this._contentRef = null
                    }
                }, {
                    key: "componentInstance",
                    get: function () {
                        if (this._contentRef && this._contentRef.componentRef) return this._contentRef.componentRef.instance
                    }
                }]), n
            }(),
            Am = function () {
                var n = {
                    BACKDROP_CLICK: 0,
                    ESC: 1
                };
                return n[n.BACKDROP_CLICK] = "BACKDROP_CLICK", n[n.ESC] = "ESC", n
            }(),
            Pm = function () {
                function n(l, e, t) {
                    var i = this;
                    _classCallCheck(this, n), this._document = l, this._elRef = e, this._zone = t, this.backdrop = !0, this.keyboard = !0, this.dismissEvent = new zi, t.runOutsideAngular((function () {
                        Vg(i._elRef.nativeElement, "keydown").pipe(Wg(i.dismissEvent), Zo((function (n) {
                            return n.which === Mv.Escape && i.keyboard
                        }))).subscribe((function (n) {
                            return requestAnimationFrame((function () {
                                n.defaultPrevented || t.run((function () {
                                    return i.dismiss(Am.ESC)
                                }))
                            }))
                        }));
                        var n = Vg(i._elRef.nativeElement, "mousedown").pipe(Wg(i.dismissEvent), V((function (n) {
                            return !0 === i.backdrop && i._elRef.nativeElement === n.target
                        })));
                        Vg(i._elRef.nativeElement, "mouseup").pipe(Wg(i.dismissEvent), Qg(n), Zo((function (n) {
                            var l = _slicedToArray(n, 2);
                            l[0];
                            return l[1]
                        }))).subscribe((function () {
                            return i._zone.run((function () {
                                return i.dismiss(Am.BACKDROP_CLICK)
                            }))
                        }))
                    }))
                }
                return _createClass(n, [{
                    key: "dismiss",
                    value: function (n) {
                        this.dismissEvent.emit(n)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this._elWithFocus = this._document.activeElement
                    }
                }, {
                    key: "ngAfterViewInit",
                    value: function () {
                        if (!this._elRef.nativeElement.contains(document.activeElement)) {
                            var n = this._elRef.nativeElement.querySelector("[ngbAutofocus]"),
                                l = Yv(this._elRef.nativeElement)[0];
                            (n || l || this._elRef.nativeElement).focus()
                        }
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        var n, l = this,
                            e = this._document.body,
                            t = this._elWithFocus;
                        n = t && t.focus && e.contains(t) ? t : e, this._zone.runOutsideAngular((function () {
                            setTimeout((function () {
                                return n.focus()
                            })), l._elWithFocus = null
                        }))
                    }
                }]), n
            }(),
            Om = ((rm = function () {
                function n(l, e, t, i, u, r) {
                    var a = this;
                    _classCallCheck(this, n), this._applicationRef = l, this._injector = e, this._document = t, this._scrollBar = i, this._rendererFactory = u, this._ngZone = r, this._activeWindowCmptHasChanged = new P, this._ariaHiddenValues = new Map, this._backdropAttributes = ["backdropClass"], this._modalRefs = [], this._windowAttributes = ["ariaLabelledBy", "backdrop", "centered", "keyboard", "scrollable", "size", "windowClass"], this._windowCmpts = [], this._activeWindowCmptHasChanged.subscribe((function () {
                        if (a._windowCmpts.length) {
                            var n = a._windowCmpts[a._windowCmpts.length - 1];
                            Xv(a._ngZone, n.location.nativeElement, a._activeWindowCmptHasChanged), a._revertAriaHidden(), a._setAriaHidden(n.location.nativeElement)
                        }
                    }))
                }
                return _createClass(n, [{
                    key: "open",
                    value: function (n, l, e, t) {
                        var i = this,
                            u = ov(t.container) ? this._document.querySelector(t.container) : this._document.body,
                            r = this._rendererFactory.createRenderer(null, null),
                            a = this._scrollBar.compensate(),
                            o = function () {
                                i._modalRefs.length || (r.removeClass(i._document.body, "modal-open"), i._revertAriaHidden())
                            };
                        if (!u) throw new Error('The specified modal container "'.concat(t.container || "body", '" was not found in the DOM.'));
                        var s = new Tm,
                            c = this._getContentRef(n, t.injector || l, e, s, t),
                            d = !1 !== t.backdrop ? this._attachBackdrop(n, u) : null,
                            h = this._attachWindowComponent(n, u, c),
                            p = new Em(h, c, d, t.beforeDismiss);
                        return this._registerModalRef(p), this._registerWindowCmpt(h), p.result.then(a, a), p.result.then(o, o), s.close = function (n) {
                            p.close(n)
                        }, s.dismiss = function (n) {
                            p.dismiss(n)
                        }, this._applyWindowOptions(h.instance, t), 1 === this._modalRefs.length && r.addClass(this._document.body, "modal-open"), d && d.instance && this._applyBackdropOptions(d.instance, t), p
                    }
                }, {
                    key: "dismissAll",
                    value: function (n) {
                        this._modalRefs.forEach((function (l) {
                            return l.dismiss(n)
                        }))
                    }
                }, {
                    key: "hasOpenModals",
                    value: function () {
                        return this._modalRefs.length > 0
                    }
                }, {
                    key: "_attachBackdrop",
                    value: function (n, l) {
                        var e = n.resolveComponentFactory(Im).create(this._injector);
                        return this._applicationRef.attachView(e.hostView), l.appendChild(e.location.nativeElement), e
                    }
                }, {
                    key: "_attachWindowComponent",
                    value: function (n, l, e) {
                        var t = n.resolveComponentFactory(Pm).create(this._injector, e.nodes);
                        return this._applicationRef.attachView(t.hostView), l.appendChild(t.location.nativeElement), t
                    }
                }, {
                    key: "_applyWindowOptions",
                    value: function (n, l) {
                        this._windowAttributes.forEach((function (e) {
                            ov(l[e]) && (n[e] = l[e])
                        }))
                    }
                }, {
                    key: "_applyBackdropOptions",
                    value: function (n, l) {
                        this._backdropAttributes.forEach((function (e) {
                            ov(l[e]) && (n[e] = l[e])
                        }))
                    }
                }, {
                    key: "_getContentRef",
                    value: function (n, l, e, t, i) {
                        return e ? e instanceof Ne ? this._createFromTemplateRef(e, t) : "string" == typeof e ? this._createFromString(e) : this._createFromComponent(n, l, e, t, i) : new wm([])
                    }
                }, {
                    key: "_createFromTemplateRef",
                    value: function (n, l) {
                        var e = n.createEmbeddedView({
                            $implicit: l,
                            close: function (n) {
                                l.close(n)
                            },
                            dismiss: function (n) {
                                l.dismiss(n)
                            }
                        });
                        return this._applicationRef.attachView(e), new wm([e.rootNodes], e)
                    }
                }, {
                    key: "_createFromString",
                    value: function (n) {
                        var l = this._document.createTextNode("".concat(n));
                        return new wm([[l]])
                    }
                }, {
                    key: "_createFromComponent",
                    value: function (n, l, e, t, i) {
                        var u = n.resolveComponentFactory(e),
                            r = Fl.create({
                                providers: [{
                                    provide: Tm,
                                    useValue: t
                                }],
                                parent: l
                            }),
                            a = u.create(r),
                            o = a.location.nativeElement;
                        return i.scrollable && o.classList.add("component-host-scrollable"), this._applicationRef.attachView(a.hostView), new wm([[o]], a.hostView, a)
                    }
                }, {
                    key: "_setAriaHidden",
                    value: function (n) {
                        var l = this,
                            e = n.parentElement;
                        e && n !== this._document.body && (Array.from(e.children).forEach((function (e) {
                            e !== n && "SCRIPT" !== e.nodeName && (l._ariaHiddenValues.set(e, e.getAttribute("aria-hidden")), e.setAttribute("aria-hidden", "true"))
                        })), this._setAriaHidden(e))
                    }
                }, {
                    key: "_revertAriaHidden",
                    value: function () {
                        this._ariaHiddenValues.forEach((function (n, l) {
                            n ? l.setAttribute("aria-hidden", n) : l.removeAttribute("aria-hidden")
                        })), this._ariaHiddenValues.clear()
                    }
                }, {
                    key: "_registerModalRef",
                    value: function (n) {
                        var l = this,
                            e = function () {
                                var e = l._modalRefs.indexOf(n);
                                e > -1 && l._modalRefs.splice(e, 1)
                            };
                        this._modalRefs.push(n), n.result.then(e, e)
                    }
                }, {
                    key: "_registerWindowCmpt",
                    value: function (n) {
                        var l = this;
                        this._windowCmpts.push(n), this._activeWindowCmptHasChanged.next(), n.onDestroy((function () {
                            var e = l._windowCmpts.indexOf(n);
                            e > -1 && (l._windowCmpts.splice(e, 1), l._activeWindowCmptHasChanged.next())
                        }))
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new rm($n(Du), $n(Rn), $n(Ro), $n(Sm), $n(ge), $n(pu))
                },
                token: rm,
                providedIn: "root"
            }), rm),
            Dm = ((um = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this._moduleCFR = l, this._injector = e, this._modalStack = t, this._config = i
                }
                return _createClass(n, [{
                    key: "open",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            e = Object.assign({}, this._config, l);
                        return this._modalStack.open(this._moduleCFR, this._injector, n, e)
                    }
                }, {
                    key: "dismissAll",
                    value: function (n) {
                        this._modalStack.dismissAll(n)
                    }
                }, {
                    key: "hasOpenModals",
                    value: function () {
                        return this._modalStack.hasOpenModals()
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new um($n(se), $n(Rn), $n(Om), $n(km))
                },
                token: um,
                providedIn: "root"
            }), um),
            Rm = function n() {
                _classCallCheck(this, n)
            },
            Mm = function n() {
                _classCallCheck(this, n)
            },
            Nm = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.open = l, this.close = e, e || (this.close = l)
                }
                return _createClass(n, [{
                    key: "isManual",
                    value: function () {
                        return "manual" === this.open || "manual" === this.close
                    }
                }]), n
            }(),
            Bm = {
                hover: ["mouseenter", "mouseleave"],
                focus: ["focusin", "focusout"]
            },
            zm = function (n) {
                return n > 0 ? lv(n) : function (n) {
                    return n
                }
            },
            Lm = ((am = function n() {
                _classCallCheck(this, n), this.autoClose = !0, this.placement = "auto", this.triggers = "click", this.disablePopover = !1, this.openDelay = 0, this.closeDelay = 0
            }).ngInjectableDef = yn({
                factory: function () {
                    return new am
                },
                token: am,
                providedIn: "root"
            }), am),
            Fm = 0,
            qm = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "isTitleTemplate",
                    value: function () {
                        return this.title instanceof Ne
                    }
                }]), n
            }(),
            Um = function () {
                function n(l, e, t, i, u, r, a, o, s, c) {
                    var d = this;
                    _classCallCheck(this, n), this._elementRef = l, this._renderer = e, this._ngZone = a, this._document = o, this._changeDetector = s, this._applicationRef = c, this.shown = new zi, this.hidden = new zi, this._ngbPopoverWindowId = "ngb-popover-".concat(Fm++), this.autoClose = r.autoClose, this.placement = r.placement, this.triggers = r.triggers, this.container = r.container, this.disablePopover = r.disablePopover, this.popoverClass = r.popoverClass, this.openDelay = r.openDelay, this.closeDelay = r.closeDelay, this._popupService = new xm(qm, t, u, e, i, c), this._zoneSubscription = a.onStable.subscribe((function () {
                        d._windowRef && lm(d._elementRef.nativeElement, d._windowRef.location.nativeElement, d.placement, "body" === d.container, "bs-popover")
                    }))
                }
                return _createClass(n, [{
                    key: "_isDisabled",
                    value: function () {
                        return !!this.disablePopover || !this.ngbPopover && !this.popoverTitle
                    }
                }, {
                    key: "open",
                    value: function (n) {
                        var l = this;
                        this._windowRef || this._isDisabled() || (this._windowRef = this._popupService.open(this.ngbPopover, n), this._windowRef.instance.title = this.popoverTitle, this._windowRef.instance.context = n, this._windowRef.instance.popoverClass = this.popoverClass, this._windowRef.instance.id = this._ngbPopoverWindowId, this._renderer.setAttribute(this._elementRef.nativeElement, "aria-describedby", this._ngbPopoverWindowId), "body" === this.container && this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement), this._windowRef.changeDetectorRef.detectChanges(), this._windowRef.changeDetectorRef.markForCheck(), Zv(this._ngZone, this._document, this.autoClose, (function () {
                            return l.close()
                        }), this.hidden, [this._windowRef.location.nativeElement]), this.shown.emit())
                    }
                }, {
                    key: "close",
                    value: function () {
                        this._windowRef && (this._renderer.removeAttribute(this._elementRef.nativeElement, "aria-describedby"), this._popupService.close(), this._windowRef = null, this.hidden.emit(), this._changeDetector.markForCheck())
                    }
                }, {
                    key: "toggle",
                    value: function () {
                        this._windowRef ? this.close() : this.open()
                    }
                }, {
                    key: "isOpen",
                    value: function () {
                        return null != this._windowRef
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this._unregisterListenersFn = function (n, l, e, t, i, u) {
                            var r = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                                a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
                                o = function (n) {
                                    var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Bm,
                                        e = (n || "").trim();
                                    if (0 === e.length) return [];
                                    var t = e.split(/\s+/).map((function (n) {
                                            return n.split(":")
                                        })).map((function (n) {
                                            var e = l[n[0]] || n;
                                            return new Nm(e[0], e[1])
                                        })),
                                        i = t.filter((function (n) {
                                            return n.isManual()
                                        }));
                                    if (i.length > 1) throw "Triggers parse error: only one manual trigger is allowed";
                                    if (1 === i.length && t.length > 1) throw "Triggers parse error: manual trigger can't be mixed with other triggers";
                                    return t
                                }(e);
                            if (1 === o.length && o[0].isManual()) return function () {};
                            var s = function (n, l, e, t) {
                                return new x((function (i) {
                                    var u = [],
                                        r = function () {
                                            return i.next(!0)
                                        },
                                        a = function () {
                                            return i.next(!1)
                                        },
                                        o = function () {
                                            return i.next(!t())
                                        };
                                    return e.forEach((function (e) {
                                            e.open === e.close ? u.push(n.listen(l, e.open, o)) : u.push(n.listen(l, e.open, r), n.listen(l, e.close, a))
                                        })),
                                        function () {
                                            u.forEach((function (n) {
                                                return n()
                                            }))
                                        }
                                }))
                            }(n, l, o, t).pipe(function (n, l, e) {
                                return function (t) {
                                    var i = null,
                                        u = t.pipe(V((function (n) {
                                            return {
                                                open: n
                                            }
                                        })), Zo((function (n) {
                                            var l = e();
                                            return l === n.open || i && i.open !== l ? (i && i.open !== n.open && (i = null), !1) : (i = n, !0)
                                        })), sn());
                                    return nn(u.pipe(Zo((function (n) {
                                        return n.open
                                    })), zm(n)), u.pipe(Zo((function (n) {
                                        return !n.open
                                    })), zm(l))).pipe(Zo((function (n) {
                                        return n === i && (i = null, n.open !== e())
                                    })), V((function (n) {
                                        return n.open
                                    })))
                                }
                            }(r, a, t)).subscribe((function (n) {
                                return n ? i() : u()
                            }));
                            return function () {
                                return s.unsubscribe()
                            }
                        }(this._renderer, this._elementRef.nativeElement, this.triggers, this.isOpen.bind(this), this.open.bind(this), this.close.bind(this), +this.openDelay, +this.closeDelay)
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        var l = n.ngbPopover,
                            e = n.popoverTitle,
                            t = n.disablePopover,
                            i = n.popoverClass;
                        i && this.isOpen() && (this._windowRef.instance.popoverClass = i.currentValue), (l || e || t) && this._isDisabled() && this.close()
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.close(), this._unregisterListenersFn && this._unregisterListenersFn(), this._zoneSubscription.unsubscribe()
                    }
                }]), n
            }(),
            $m = function n() {
                _classCallCheck(this, n)
            },
            Hm = function n() {
                _classCallCheck(this, n)
            },
            Vm = function n() {
                _classCallCheck(this, n)
            },
            jm = ((om = function n() {
                _classCallCheck(this, n), this.justify = "start", this.orientation = "horizontal", this.type = "tabs"
            }).ngInjectableDef = yn({
                factory: function () {
                    return new om
                },
                token: om,
                providedIn: "root"
            }), om),
            Gm = 0,
            Wm = function n(l) {
                _classCallCheck(this, n), this.templateRef = l
            },
            Km = function () {
                function n() {
                    _classCallCheck(this, n), this.id = "ngb-tab-".concat(Gm++), this.disabled = !1
                }
                return _createClass(n, [{
                    key: "ngAfterContentChecked",
                    value: function () {
                        this.titleTpl = this.titleTpls.first, this.contentTpl = this.contentTpls.first
                    }
                }]), n
            }(),
            Zm = function () {
                function n(l) {
                    _classCallCheck(this, n), this.destroyOnHide = !0, this.tabChange = new zi, this.type = l.type, this.justify = l.justify, this.orientation = l.orientation
                }
                return _createClass(n, [{
                    key: "select",
                    value: function (n) {
                        var l = this._getTabById(n);
                        if (l && !l.disabled && this.activeId !== l.id) {
                            var e = !1;
                            this.tabChange.emit({
                                activeId: this.activeId,
                                nextId: l.id,
                                preventDefault: function () {
                                    e = !0
                                }
                            }), e || (this.activeId = l.id)
                        }
                    }
                }, {
                    key: "ngAfterContentChecked",
                    value: function () {
                        var n = this._getTabById(this.activeId);
                        this.activeId = n ? n.id : this.tabs.length ? this.tabs.first.id : null
                    }
                }, {
                    key: "_getTabById",
                    value: function (n) {
                        var l = this.tabs.filter((function (l) {
                            return l.id === n
                        }));
                        return l.length ? l[0] : null
                    }
                }, {
                    key: "justify",
                    set: function (n) {
                        this.justifyClass = "fill" === n || "justified" === n ? "nav-".concat(n) : "justify-content-".concat(n)
                    }
                }]), n
            }(),
            Qm = function n() {
                _classCallCheck(this, n)
            },
            Ym = function n() {
                _classCallCheck(this, n)
            },
            Xm = ((sm = function n() {
                _classCallCheck(this, n), this.autohide = !0, this.delay = 500, this.ariaLive = "polite"
            }).ngInjectableDef = yn({
                factory: function () {
                    return new sm
                },
                token: sm,
                providedIn: "root"
            }), sm),
            Jm = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.ariaLive = l, this.contentHeaderTpl = null, this.hideOutput = new zi, null == this.ariaLive && (this.ariaLive = e.ariaLive), this.delay = e.delay, this.autohide = e.autohide
                }
                return _createClass(n, [{
                    key: "ngAfterContentInit",
                    value: function () {
                        this._init()
                    }
                }, {
                    key: "ngOnChanges",
                    value: function (n) {
                        "autohide" in n && (this._clearTimeout(), this._init())
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._clearTimeout(), this.hideOutput.emit()
                    }
                }, {
                    key: "_init",
                    value: function () {
                        var n = this;
                        this.autohide && !this._timeoutID && (this._timeoutID = setTimeout((function () {
                            return n.hide()
                        }), this.delay))
                    }
                }, {
                    key: "_clearTimeout",
                    value: function () {
                        this._timeoutID && (clearTimeout(this._timeoutID), this._timeoutID = null)
                    }
                }]), n
            }(),
            ny = function n() {
                _classCallCheck(this, n)
            },
            ly = function n() {
                _classCallCheck(this, n)
            },
            ey = function n() {
                _classCallCheck(this, n)
            },
            ty = function () {
                function n() {
                    _classCallCheck(this, n), this.highlightClass = "ngb-highlight"
                }
                return _createClass(n, [{
                    key: "ngOnChanges",
                    value: function (n) {
                        var l = rv(this.result),
                            e = (Array.isArray(this.term) ? this.term : [this.term]).map((function (n) {
                                return rv(n).replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
                            })).filter((function (n) {
                                return n
                            }));
                        this.parts = e.length ? l.split(new RegExp("(".concat(e.join("|"), ")"), "gmi")) : [l]
                    }
                }]), n
            }(),
            iy = function () {
                function n() {
                    _classCallCheck(this, n), this.activeIdx = 0, this.focusFirst = !0, this.formatter = rv, this.selectEvent = new zi, this.activeChangeEvent = new zi
                }
                return _createClass(n, [{
                    key: "hasActive",
                    value: function () {
                        return this.activeIdx > -1 && this.activeIdx < this.results.length
                    }
                }, {
                    key: "getActive",
                    value: function () {
                        return this.results[this.activeIdx]
                    }
                }, {
                    key: "markActive",
                    value: function (n) {
                        this.activeIdx = n, this._activeChanged()
                    }
                }, {
                    key: "next",
                    value: function () {
                        this.activeIdx === this.results.length - 1 ? this.activeIdx = this.focusFirst ? (this.activeIdx + 1) % this.results.length : -1 : this.activeIdx++, this._activeChanged()
                    }
                }, {
                    key: "prev",
                    value: function () {
                        this.activeIdx < 0 ? this.activeIdx = this.results.length - 1 : 0 === this.activeIdx ? this.activeIdx = this.focusFirst ? this.results.length - 1 : -1 : this.activeIdx--, this._activeChanged()
                    }
                }, {
                    key: "resetActive",
                    value: function () {
                        this.activeIdx = this.focusFirst ? 0 : -1, this._activeChanged()
                    }
                }, {
                    key: "select",
                    value: function (n) {
                        this.selectEvent.emit(n)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this.resetActive()
                    }
                }, {
                    key: "_activeChanged",
                    value: function () {
                        this.activeChangeEvent.emit(this.activeIdx >= 0 ? this.id + "-" + this.activeIdx : void 0)
                    }
                }]), n
            }(),
            uy = function n() {
                _classCallCheck(this, n)
            },
            ry = function n() {
                _classCallCheck(this, n)
            },
            ay = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "transform",
                    value: function (n) {
                        return Xf.formatTime(n)
                    }
                }]), n
            }(),
            oy = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.coreEngine = i, this.sanitizer = u, this.route = r, this.icons = $f
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        var l = this,
                            e = -1;
                        if (n.keyCode >= 49 && n.keyCode <= 51 && (e = n.keyCode - 49), n.keyCode >= 97 && n.keyCode <= 99 && (e = n.keyCode - 97), -1 != e) {
                            var t = Object.values(this.conf.spells).filter((function (n) {
                                return n.deity == l.dataService.player().deity
                            }))[e];
                            25 * -t.level >= this.dataService.player().orientation && this.dataService.useSpell(t, this.coreEngine)
                        }
                    }
                }, {
                    key: "isAvailable",
                    value: function (n) {
                        return this.dataService.isSpellAvailable(n)
                    }
                }, {
                    key: "isLocked",
                    value: function (n) {
                        return this.dataService.isSpellLocked(n)
                    }
                }, {
                    key: "use",
                    value: function (n) {
                        if (this.autocast) return this.autocast = !1, void(this.data.autocast = this.data.autocast == n.id ? "" : n.id);
                        this.dataService.useSpell(n, this.coreEngine)
                    }
                }, {
                    key: "style",
                    value: function (n) {
                        return this.data.spelltime[n.id] ? this.sanitizer.bypassSecurityTrustStyle("clip-path:inset(" + Math.floor(100 * (n.time - this.data.spelltime[n.id]) / n.time) + "% 0 0 0)") : this.data.cooldowns[n.id] ? this.sanitizer.bypassSecurityTrustStyle("clip-path:inset(" + Math.floor(100 * this.data.cooldowns[n.id] / (n.cooldown * this.dataService.coolDownMult())) + "% 0 0 0)") : ""
                    }
                }, {
                    key: "display",
                    value: function () {
                        var n = this.route.snapshot._routerState.url;
                        return !!(n.startsWith("/game/empire") || n.startsWith("/game/city") || n.startsWith("/game/science") || n.startsWith("/game/policies") || n.startsWith("/game/world") || n.startsWith("/game/attacks") || n.startsWith("/game/diplomacy") || n.startsWith("/game/powers"))
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.data.spellshidden = !0
                    }
                }, {
                    key: "show",
                    value: function () {
                        this.data.spellshidden = !1
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        n.open({
                            title: l.name,
                            id: l.id,
                            desc: l.description(this.dataService),
                            lockDesc: this.isLocked(l) ? l.lockDesc(this.dataService) : "",
                            level: l.level
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            sy = function n(l) {
                _classCallCheck(this, n), this.read = !1, this.id = l, this.date = new Date
            },
            cy = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.toastService = i, this.saveService = u, this.icons = $f, this.subscriptions = [], this.engine = $g(0, this.conf.ut), this.minuteEngine = $g(0, this.conf.mut)
                }
                return _createClass(n, [{
                    key: "ngOnDestroy",
                    value: function () {
                        this.stop()
                    }
                }, {
                    key: "stop",
                    value: function () {
                        this.subscriptions.forEach((function (n) {
                            return n.unsubscribe()
                        }))
                    }
                }, {
                    key: "start",
                    value: function () {
                        this.subscriptions.push(this.engine.subscribe(this.run.bind(this))), this.subscriptions.push(this.minuteEngine.subscribe(this.runMinute.bind(this)))
                    }
                }, {
                    key: "runMinute",
                    value: function (n) {
                        var l = this;
                        if (!this.data.pause) {
                            var e = this.conf.init.barbarians.nb + Object.keys(this.conf.civilizations).length + 2;
                            !this.data.no_respawn && Jf.roll(.2) && this.dataService.allCities().length < e && function () {
                                var n = !1,
                                    e = 0,
                                    t = 0;
                                if (l.dataService.allCities().some((function (n) {
                                        return l.dataService.isCoastal(n)
                                    })))
                                    for (; !n;) e = Jf.get(-l.conf.init.map_size, l.conf.init.map_size), t = Jf.get(-l.conf.init.map_size, l.conf.init.map_size), l.dataService.allCities().some((function (n) {
                                        return n.x == e && n.y == t
                                    })) || (n = !0);
                                else e = -30, t = Jf.get(-l.conf.init.map_size, l.conf.init.map_size);
                                if (l.data.players.length <= 8 && l.data.respawn.length < Object.values(l.conf.civilizations).filter((function (n) {
                                        return n.respawn
                                    })).length) {
                                    var i = Object.values(l.conf.civilizations).find((function (n) {
                                        return n.respawn && !l.data.respawn.includes(n.id)
                                    }));
                                    l.data.respawn.push(i.id);
                                    var u = new cg(l.data.lastids.player++, i.name);
                                    u.civ_id = i.id, wa.production || console.log("Creation of " + i.name + " (" + u.id + ")");
                                    var r = new dg(l.data.lastids.city++, i.vil_names[0], e, t, u.id, !0, !0);
                                    wa.production || console.log("Creation of " + r.name + " (" + r.x + "," + r.y + ")"), u.cities.push(r);
                                    var a = l.dataService.pop(l.dataService.capital(0)) - 1;
                                    a < 5 && (a = 5), r.citizens.idle = a, u.sciences = Object.assign({}, l.dataService.player().sciences), l.dataService.isTroopVisible(u, l.conf.troops.musketman) ? (r.troops.pikeman = 100, r.troops.musketman = 100, r.troops.explorer = 3) : l.dataService.isTroopVisible(u, l.conf.troops.pikeman) ? (r.troops.pikeman = 100, r.troops.longbowman = 100, r.troops.scout = 3) : (r.troops.lancier = 100, r.troops.archer = 100, r.troops.scout = 3), r.troops.governor = 2, r.troops.caravan = 2, r.buildings = Object.assign({}, l.dataService.capital(0).buildings), Object.keys(r.buildings).forEach((function (n) {
                                        l.conf.buildings[n].wonder && delete r.buildings[n], r.buildings[n].done || delete r.buildings[n]
                                    })), r.buildings.walls && r.buildings.walls.done || (r.buildings.walls = {
                                        progress: 0,
                                        done: !0
                                    }), r.buildings.cop && r.buildings.cop.done || (r.buildings.cop = {
                                        progress: 0,
                                        done: !0
                                    }), r.gold = 1e6, u.influence[u.id] = l.dataService.player().influence[0], u.culture = l.dataService.totalCultureUsed(l.dataService.player()), l.data.players.push(u), l.data.favors[0] || (l.data.favors[0] = {});
                                    var o = Object.keys(l.dataService.player().powers).reduce((function (n, e) {
                                        return n + (Math.pow(2, l.dataService.player().powers[e]) - 1) * Object.keys(l.conf.powers[e].cost).length
                                    }), 0) + Object.values(l.data.favors[0]).reduce((function (n, l) {
                                        return n + l
                                    }), 0);
                                    u.powers = {};
                                    var s = Math.floor(Jf.get(70, 95) * o / 100);
                                    for (l.data.favors[u.id] || (l.data.favors[u.id] = {}), l.data.favors[u.id][""] || (l.data.favors[u.id][""] = 0), l.data.favors[u.id][""] = Math.ceil(.2 * s), s = Math.floor(.8 * s); s > 0;) {
                                        var c = Math.max(1, Math.floor(s / 20)),
                                            d = Jf.fromArray(Object.keys(l.conf.deities));
                                        l.data.favors[u.id][d] ? l.data.favors[u.id][d] += c : l.data.favors[u.id][d] = c, s -= c
                                    }
                                    l.dataService.allocatePowers(u)
                                } else if (l.dataService.player(1)) {
                                    var h = new dg(l.data.lastids.city++, "Barb. vil.", e, t, 1, !0);
                                    h.bonus = Jf.randomVilBonus(), l.dataService.player(1).cities.push(h)
                                }
                            }(), this.data.players.forEach((function (n) {
                                if (l.dataService.hasPolicy("conscription", n.id) && (n.id > 0 || !l.data.emp_noconscription) && Jf.roll(.05)) {
                                    var e = l.data.colonies.filter((function (e) {
                                        return l.dataService.city(e).ownerid == n.id
                                    }));
                                    if (e.length) {
                                        var t = l.dataService.city(Jf.fromArray(e));
                                        if (t) {
                                            var i = Object.values(l.conf.troops).filter((function (e) {
                                                    return l.dataService.isTroopVisible(n, e) && e.conscript
                                                })),
                                                u = Jf.fromArray(i),
                                                r = l.dataService.currentScienceRank(n.id),
                                                a = Math.floor(Jf.get(3 * r, 16 * r));
                                            t.troops[u.id] || (t.troops[u.id] = 0), t.troops[u.id] += a, 0 == n.id && l.toastService.success("Conscription: " + a + " " + u.name(n) + " arrived in " + t.name, $f.attack, "/game/city/" + t.id)
                                        }
                                    }
                                }
                                if (n.orientation >= 100) {
                                    var o = l.dataService.relicsGain(n.id);
                                    n.progress += o, l.dataService.changeOrientationFortech(n, o)
                                }
                            }))
                        }
                        this.data.max_rpt && this.data.reports.splice(0, this.data.reports.length - this.data.max_rpt), this.data.max_notif && this.data.notifications.splice(0, this.data.notifications.length - this.data.max_notif), Object.values(this.conf.buildings).filter((function (n) {
                            return n.wonder
                        })).forEach((function (n) {
                            var e = l.dataService.allCities().filter((function (e) {
                                return l.dataService.hasBuilding(e, n.id)
                            }));
                            e.length > 1 && (e.pop(), e.forEach((function (l) {
                                console.log("removing " + n.id + " from " + l.name), delete l.buildings[n.id]
                            })))
                        })), this.data.players.forEach((function (n) {
                            return l.dataService.completeCheckNewCiv(n.id)
                        })), Object.values(this.conf.buildings).forEach((function (n) {
                            if (n.add_all && l.dataService.isWonderDone(n.id)) {
                                var e = l.dataService.cityForWonder(n.id);
                                e && l.dataService.player(e.ownerid).cities.forEach((function (l) {
                                    return l.buildings[n.add_all] = {
                                        done: !0,
                                        progress: 0
                                    }
                                }))
                            }
                        })), this.dataService.allCities().forEach((function (n) {
                            n.buildings.progress && n.buildings.progress.done && (n.buildings.progress.done = !1), Object.keys(n.buildings).forEach((function (l) {
                                var e = n.buildings[l];
                                e.done && delete e.progress
                            }))
                        }))
                    }
                }, {
                    key: "run",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            t = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                            i = Date.now();
                        if (e || (e = (i - this.data.lt) / 1e3), e > this.conf.max_dt && (e = this.conf.max_dt), i - this.data.savetime >= this.conf.autosave_delay && this.saveService.save(!1), n % 10 == 0 && this.dataService.allCities().forEach((function (n) {
                                (n.autoassign || l.data.emp_autoassign) && l.conf.autoassign.balanced.sort(n, l.dataService)
                            })), n % 5 == 0 && this.dataService.allCities().forEach((function (n) {
                                n.happiness = l.dataService.happiness(n, !0), n.cultureDiff = l.dataService.cultureDiff(n, null, !0), n.tradeGains = l.dataService.tradeRouteGains(n, !0), n.connected = l.dataService.cityConnectedToCapital(n, !0)
                            })), !this.data.pause || t) {
                            if (this.data.players.forEach((function (n) {
                                    n.cities.length ? (n.cities.forEach((function (t) {
                                        t.food += l.dataService.foodDiff(t) * e;
                                        var i = !1;
                                        if (t.autoassign_options && t.autoassign_options.nogrowth && (i = !0), t.food >= l.dataService.foodRequired(t) ? i ? t.food = l.dataService.foodRequired(t) : (t.food = l.dataService.hasBuilding(t, "town_hall") ? .25 * l.dataService.foodRequired(t) : l.dataService.hasBuilding(t, "lo") ? .15 * l.dataService.foodRequired(t) : 0, t.citizens.idle++, 0 == t.ownerid && (l.data.notif_pop && l.toastService.success("A new citizen is available in " + t.name, $f.pop, "/game/city/" + t.id), l.data.autopause.citizen && (l.data.pause = !0))) : t.food < 0 && l.dataService.pop(t) > 1 ? (l.dataService.killCitizen(t), t.food = l.dataService.foodRequired(t) / 10, 0 == t.ownerid && l.toastService.danger("A citizen died of starvation in " + t.name, $f.defeat, "/game/city/" + t.id)) : t.food < 0 && 1 == l.dataService.pop(t) && (t.food = 0), t.gold = t.gold + l.dataService.goldDiff(t) * e, isNaN(t.gold) && (t.gold = 0), t.gold > l.dataService.maxGold(t) && (t.gold = l.dataService.maxGold(t)), t.gold < 0) {
                                            for (var u = {}; l.dataService.goldDiff(t) < 0 && l.dataService.troopNb(t, !1);) {
                                                var r = l.dataService.killTroop(t);
                                                u[r] ? u[r]++ : u[r] = 1
                                            }
                                            if (Object.keys(u).length && 0 == t.ownerid) {
                                                var a = "";
                                                Object.keys(u).forEach((function (e) {
                                                    return a += u[e] + " " + l.conf.troops[e].name(n) + ", "
                                                })), a = a.slice(0, -2), l.toastService.danger("Troops have been dismissed due to lack of gold: " + a, $f.defeat, "/game/city/" + t.id)
                                            }
                                            t.gold = 0
                                        }
                                        if (t.building_queue.length && (t.buildings[t.building_queue[0]] || (t.buildings[t.building_queue[0]] = {
                                                progress: 0,
                                                done: !1
                                            }), t.buildings[t.building_queue[0]].progress += l.dataService.prodDiff(t) * e, t.buildings[t.building_queue[0]].progress >= l.dataService.buildingProdCost(l.conf.buildings[t.building_queue[0]], t)))
                                            for (var o = t.buildings[t.building_queue[0]].progress - l.dataService.buildingProdCost(l.conf.buildings[t.building_queue[0]], t), s = function () {
                                                    var e = l.conf.buildings[t.building_queue[0]];
                                                    if ("progress" == e.id) t.buildings[t.building_queue[0]].progress = 0, n.progress++, l.dataService.changeOrientationFortech(n, 1), t.building_queue.length > 1 && t.building_queue.shift();
                                                    else {
                                                        if (0 == n.id)(l.data.notif_building || e.wonder) && l.toastService.success(t.name + " has finished the construction of " + l.conf.buildings[t.building_queue[0]].label(n), e.wonder ? $f.wonder : $f.prod, "/game/city/" + t.id), l.data.autopause.building && (l.data.pause = !0);
                                                        else if (e.wonder) {
                                                            var i = l.dataService.haveRelation(0, t.ownerid) ? l.dataService.player(t.ownerid).name : "An unknown civilization";
                                                            l.toastService.danger(i + " has finished the construction of " + l.conf.buildings[t.building_queue[0]].label(n), $f.wonder, "/game/world?x=" + t.x + "&y=" + t.y)
                                                        }
                                                        e.add_city && (t.buildings[e.add_city] = {
                                                            done: !0,
                                                            progress: 0
                                                        }), e.add_all && n.cities.forEach((function (n) {
                                                            n.buildings[e.add_all] = {
                                                                done: !0,
                                                                progress: 0
                                                            }
                                                        })), t.buildings[t.building_queue[0]].done = !0, t.building_queue.shift(), e.wonder && l.dataService.allCities().filter((function (n) {
                                                            return n.building_queue.includes(e.id)
                                                        })).forEach((function (n) {
                                                            n.building_queue.splice(n.building_queue.indexOf(e.id), 1), delete n.buildings[e.id], n.gold += l.dataService.buildingGoldCost(e, n.ownerid)
                                                        }))
                                                    }
                                                    t.building_queue.length && (t.buildings[t.building_queue[0]].progress = o, o -= l.dataService.buildingProdCost(l.conf.buildings[t.building_queue[0]], t))
                                                }; o > 0 && t.building_queue.length;) s();
                                        for (var c in t.troops) t.troops[c] < 0 && (t.troops[c] = 0);
                                        if (t.troop_queue.length) {
                                            if (t.troops_progress[t.troop_queue[0].id] += e * l.dataService.recruitmentSpeed(t), t.troops_progress[t.troop_queue[0].id] >= l.conf.troops[t.troop_queue[0].id].time(l.dataService, n.id))
                                                for (var d = t.troops_progress[t.troop_queue[0].id] - l.conf.troops[t.troop_queue[0].id].time(l.dataService, n.id); d > 0 && t.troop_queue.length;) {
                                                    var h = l.conf.troops[t.troop_queue[0].id].citizen,
                                                        p = l.dataService.pop(t);
                                                    if (h && p > 1 && l.dataService.killCitizen(t), (!h || p > 1) && (t.troops[t.troop_queue[0].id] ? t.troops[t.troop_queue[0].id]++ : t.troops[t.troop_queue[0].id] = 1), t.troops_progress[t.troop_queue[0].id] = d, t.troop_queue[0].nb--, t.troop_queue[0].nb <= 0 && (t.troops_progress[t.troop_queue[0].id] = 0, t.troop_queue.shift()), !t.troop_queue.length && t.autorecruit) {
                                                        var f = l.conf.troops[t.autorecruit];
                                                        t.gold >= f.gold(l.dataService, t.ownerid) && (t.gold -= f.gold(l.dataService, t.ownerid), t.troops_progress[f.id] || (t.troops_progress[f.id] = 0), t.troop_queue.push({
                                                            id: f.id,
                                                            nb: 1
                                                        }))
                                                    }
                                                    t.troop_queue.length && (d -= l.conf.troops[t.troop_queue[0].id].time(l.dataService, n.id))
                                                }
                                        } else if (t.autorecruit) {
                                            var g = l.conf.troops[t.autorecruit];
                                            t.gold >= g.gold(l.dataService, t.ownerid) && (t.gold -= g.gold(l.dataService, t.ownerid), t.troops_progress[g.id] || (t.troops_progress[g.id] = 0), t.troop_queue.push({
                                                id: g.id,
                                                nb: 1
                                            }))
                                        }
                                        if (l.dataService.pop(t) > 1 && Jf.roll(l.dataService.healthKillChance(t)) && (l.dataService.killCitizen(t), 0 == t.ownerid && l.toastService.danger("Citizen died from disease in " + t.name, $f.health, "/game/city/" + t.id)), 1 != t.ownerid && !t.capital && l.dataService.happiness(t) < .2) {
                                            var v = l.dataService.revoltRisks(t);
                                            v && (0 != t.ownerid && 0 != v.id || l.toastService.danger("Uprising in " + t.name + ". The city joined " + v.name, $f.happiness, "/game/world?x=" + t.x + "&y=" + t.y), t.troops = {}, l.dataService.transferCity(t.id, v.id, !1, !1), l.data.autopause.city_joined && 0 == v.id && (l.data.pause = !0))
                                        }
                                        if (t.owner_change_timer && (t.owner_change_timer -= e, t.owner_change_timer <= 0 && (delete t.owner_change_timer, t.rightful_ownerid = t.ownerid)), 0 != l.data.difficulty && !l.dataService.plague() && Jf.roll(l.dataService.plagueInitRisk(t)) && l.dataService.initPlague(t), t.plague) {
                                            var m = t.plague,
                                                y = t.troops.plague_doctor ? t.troops.plague_doctor : 0,
                                                b = .1;
                                            if (l.dataService.hasBuilding(t, "aqueduct") && (b = .2), l.dataService.hasBuilding(t, "hospital") && (b = .3), t.plague -= t.plague > 0 ? e * (10 * l.dataService.health(t) / l.dataService.pop(t) + Math.pow(y, .8) * b) : e, t.plague <= -600 && delete t.plague, t.plague && (0 == t.ownerid && m > 0 && t.plague <= 0 && l.toastService.success("Plague is over in " + t.name + " !", $f.plague, "/game/world?x=" + t.x + "&y=" + t.y), t.plague > 0)) {
                                                var _ = l.dataService.citiesInRange(t, 5),
                                                    k = l.dataService.tradeRoutes(t);
                                                if ([].concat(_toConsumableArray(k.in.map((function (n) {
                                                        return l.dataService.city(n.from.x, n.from.y)
                                                    }))), _toConsumableArray(k.out.map((function (n) {
                                                        return l.dataService.city(n.to.x, n.to.y)
                                                    })))).forEach((function (n) {
                                                        _.some((function (l) {
                                                            return l.id == n.id
                                                        })) || _.push(n)
                                                    })), (_ = _.filter((function (n) {
                                                        return !n.plague
                                                    }))).forEach((function (n) {
                                                        Jf.roll(l.dataService.plagueRisk(n)) && (n.plague = Jf.get(60, 600), l.data.plagueMaxCities = l.dataService.plagueNb(), 0 == n.ownerid && (l.toastService.black("Plague has propagated to " + n.name + " !", $f.plague, "/game/world?x=" + n.x + "&y=" + n.y), l.data.autopause.plague && (l.data.pause = !0)))
                                                    })), Jf.roll(l.dataService.plagueTroopKillChances(t))) {
                                                    var w = Object.keys(t.troops).filter((function (n) {
                                                        return "governor" != n
                                                    }));
                                                    if (w.length) {
                                                        var x = Jf.fromArray(w);
                                                        "plague_doctor" != x && (t.troops[x]--, t.troops[x] <= 0 && delete t.troops[x])
                                                    }
                                                }
                                                if (Jf.roll(l.dataService.plagueTradeLostChances(t))) {
                                                    var C = l.dataService.tradeRoutes(t).out;
                                                    if (C.length) {
                                                        var S = Jf.fromArray(C),
                                                            I = l.dataService.city(S.to.x, S.to.y);
                                                        l.data.trades.splice(l.data.trades.indexOf(S), 1), 0 != t.ownerid && 0 != I.ownerid || l.toastService.danger("Trade route between " + t.name + " and " + I.name + " has been lost due to the plague", $f.trade, "/game/diplomacy#tab_trade")
                                                    }
                                                }
                                            }
                                        }
                                    })), n.science_queue.length && (n.sciences[n.science_queue[0]] || (n.sciences[n.science_queue[0]] = {
                                        progress: 0,
                                        done: !1
                                    }), n.sciences[n.science_queue[0]].progress += l.dataService.scienceDiff(null, n) * e, n.sciences[n.science_queue[0]].progress >= l.dataService.scienceCost(l.conf.sciences[n.science_queue[0]], n.id) && (l.dataService.discoverScience(n.id), 0 == n.id && l.data.autopause.science && (l.data.pause = !0))), 1 != n.id && (n.culture += l.dataService.cultureDiff(null, n) * e, l.dataService.cultureCost(n), n.faith += l.dataService.faithDiff(null, n) * e, n.influence[n.id] || (n.influence[n.id] = 0), n.influence[n.id] += l.dataService.cultureDiff(null, n) * Math.min(e, l.conf.max_influence_dt)), n.promotion_cooldown && Object.keys(n.promotion_cooldown).forEach((function (l) {
                                        n.promotion_cooldown[l] -= e, n.promotion_cooldown[l] <= 0 && delete n.promotion_cooldown[l]
                                    }))) : (0 == n.id ? (l.dataService.reincarnation(), l.toastService.danger("You lost your last city...", $f.defeat)) : 1 != n.id && l.toastService.danger("Player " + n.name + " has lost his last city", $f.success, "/game/diplomacy"), 1 != n.id && (l.data.players.splice(l.data.players.indexOf(n), 1), l.data.relations = l.data.relations.filter((function (l) {
                                        return l.playersid[0] != n.id && l.playersid[1] != n.id
                                    }))), l.data.attacks = l.data.attacks.filter((function (l) {
                                        return l.ownerid != n.id
                                    })), l.data.spies = l.data.spies.filter((function (l) {
                                        return l.ownerid != n.id
                                    })), l.data.scouts = l.data.scouts.filter((function (l) {
                                        return l.ownerid != n.id
                                    })), l.data.goldtransfers = l.data.goldtransfers.filter((function (l) {
                                        return l.ownerid != n.id
                                    })))
                                })), this.data.relations.forEach((function (n) {
                                    n.cooldown && (n.cooldown -= e, n.cooldown <= 0 && delete n.cooldown), n.war_length && (n.war_length += e), 2 != n.status || n.cooldown || (n.status = 0);
                                    var t = l.dataService.player(n.playersid[0]),
                                        i = l.dataService.player(n.playersid[1]);
                                    t.influence[i.id] || (t.influence[i.id] = 0), t.influence[i.id] += l.dataService.influenceDiff(i.id, t.id) * Math.min(e, l.conf.max_influence_dt), i.influence[t.id] || (i.influence[t.id] = 0), i.influence[t.id] += l.dataService.influenceDiff(t.id, i.id) * Math.min(e, l.conf.max_influence_dt)
                                })), this.data.workers = this.data.workers.filter((function (n) {
                                    return 1 != n.ownerid
                                })), this.data.workers.slice(0).forEach((function (n) {
                                    if (n.construction_progress ? (n.construction_progress += n.speed * e * (l.dataService.hasWonder(n.ownerid, "apadana") ? 1.25 : 1), l.conf.improvements[n.type].road ? l.dataService.getRoad(n.to.x, n.to.y) >= n.type && (n.construction_progress = 99999) : l.dataService.getImprovement(n.to.x, n.to.y) == n.type && (n.construction_progress = 0, n.returning = !0)) : n.progress += n.speed * e * l.conf.troop_speed_ratio, n.returning && n.progress >= 2 * n.dist) {
                                        var t = l.dataService.city(n.origin_id);
                                        if (t) {
                                            var i = 2 == n.level ? "engineer" : "worker";
                                            t.troops[i] ? t.troops[i]++ : t.troops[i] = 1
                                        }
                                        l.data.workers.splice(l.data.workers.indexOf(n), 1)
                                    } else if (!n.returning && !n.construction_progress && n.progress >= n.dist) n.construction_progress = .01;
                                    else if (n.construction_progress && n.construction_progress >= l.conf.improvements[n.type].time)
                                        if (l.conf.improvements[n.type].road)
                                            if (l.dataService.setRoad(n.to.x, n.to.y, n.type), n.route.length) {
                                                var u = l.dataService.city(n.origin_id),
                                                    r = l.conf.improvements[n.type];
                                                u && u.gold >= r.cost ? (u.gold -= r.cost, n.from.x = n.to.x, n.from.y = n.to.y, n.to.x = n.route[0].x, n.to.y = n.route[0].y, n.route.splice(0, 1), n.progress = 0, n.construction_progress = 0, n.dist = l.dataService.distance(n.from.x, n.from.y, n.to.x, n.to.y)) : n.route = []
                                            } else {
                                                var a = l.dataService.city(n.origin_id);
                                                a ? (n.from.x = n.to.x, n.from.y = n.to.y, n.to.x = a.x, n.to.y = a.y, n.returning = !0, n.dist = l.dataService.distance(n.from.x, n.from.y, n.to.x, n.to.y), n.progress = n.dist, n.construction_progress = 0) : l.data.workers.splice(l.data.workers.indexOf(n), 1)
                                            }
                                    else l.dataService.setImprovement(n.to.x, n.to.y, n.type), l.data.workers.splice(l.data.workers.indexOf(n), 1);
                                    else l.dataService.discover(n, !0)
                                })), this.data.archeologists.slice(0).forEach((function (n) {
                                    if (n.progress += n.speed * e * l.conf.troop_speed_ratio, !n.returning && n.progress >= n.dist)
                                        if (l.dataService.hasRuin(n.to.x, n.to.y)) {
                                            var t = l.dataService.city(n.from.x, n.from.y);
                                            t && (t.relics || (t.relics = 0), t.relics++, 0 == n.ownerid && l.toastService.success("A new relic in " + t.name, $f.relics, "/game/empire#tab_orientation"), l.data.ruins.splice(l.data.ruins.indexOf(l.data.ruins.find((function (l) {
                                                return l.x == n.to.x && l.y == n.to.y
                                            }))), 1)), l.data.archeologists.splice(l.data.archeologists.indexOf(n), 1)
                                        } else n.returning = !0;
                                    else if (n.returning && n.progress >= 2 * n.dist) {
                                        var i = l.dataService.city(n.from.x, n.from.y);
                                        i && i.troops.archeologist++, l.data.archeologists.splice(l.data.archeologists.indexOf(n), 1)
                                    } else l.dataService.discover(n, !0)
                                })), this.data.scouts = this.data.scouts.filter((function (n) {
                                    return 1 != n.ownerid
                                })), this.data.scouts.slice(0).forEach((function (n) {
                                    if (Jf.roll(l.dataService.scoutAmbushRisk(n))) {
                                        l.data.scouts.splice(l.data.scouts.indexOf(n), 1);
                                        var t = l.dataService.movPos(n);
                                        0 == n.ownerid && l.toastService.danger("A scout has been ambushed by marauders", $f.act_scout, "/game/world?x=" + t.x + "&y=" + t.y)
                                    } else if (n.progress += n.speed * e * l.conf.troop_speed_ratio, n.returning && n.progress >= 2 * n.dist) {
                                        l.data.scouts.splice(l.data.scouts.indexOf(n), 1);
                                        var i = l.dataService.city(n.from.x, n.from.y);
                                        i && (n.explorer ? i.troops.explorer ? i.troops.explorer++ : i.troops.explorer = 1 : i.troops.scout ? i.troops.scout++ : i.troops.scout = 1)
                                    } else if (!n.returning && n.progress >= n.dist)
                                        if (n.auto) {
                                            var u = l.dataService.city(n.origin_id),
                                                r = n.explorer || !u ? l.dataService.closestUndiscovered(n.ownerid, n.to.x, n.to.y) : l.dataService.closestUndiscoveredWithRange(n.ownerid, n.to.x, n.to.y, u.x, u.y, 15);
                                            r ? (n.progress = 0, n.from = {
                                                x: n.to.x,
                                                y: n.to.y
                                            }, n.to = {
                                                x: r.x,
                                                y: r.y
                                            }, n.dist = l.dataService.distance(n.from.x, n.from.y, n.to.x, n.to.y)) : u ? l.dataService.cancelMove(n) : l.data.scouts.splice(l.data.scouts.indexOf(n), 1)
                                        } else if (n.route && n.route.length) {
                                        var a = n.route.shift();
                                        n.route.length ? (n.progress = 0, n.from.x = n.to.x, n.from.y = n.to.y, n.to.x = a.x, n.to.y = a.y, n.dist = l.dataService.distance(n.from.x, n.from.y, n.to.x, n.to.y)) : (n.auto = !0, l.dataService.cancelMove(n))
                                    } else n.returning = !0;
                                    else l.dataService.discover(n, !0)
                                })), this.data.spies.slice(0).forEach((function (t) {
                                    if (n % 10 == 0 && (t.speed = l.dataService.speed("spy", t.ownerid, t.from, t.to)), t.progress += t.speed * e * l.conf.troop_speed_ratio, t.returning && t.progress >= 2 * t.dist) {
                                        l.data.spies.splice(l.data.spies.indexOf(t), 1);
                                        var i = l.dataService.city(t.from.x, t.from.y);
                                        i && (i.troops.spy ? i.troops.spy += t.spies : i.troops.spy = t.spies)
                                    } else if (!t.returning && t.progress >= t.dist) {
                                        var u = l.dataService.spy(t),
                                            r = l.dataService.city(t.from.x, t.from.y),
                                            a = l.dataService.city(t.to.x, t.to.y);
                                        if (r && a) {
                                            var o = l.dataService.player(a.ownerid);
                                            0 == t.ownerid && !u.survived && a.ownerid > 1 && (o.appreciation[t.ownerid] -= 5);
                                            var s = {
                                                id: l.data.lastids.report++,
                                                from_id: r.id,
                                                to_id: a.id,
                                                spy: !0,
                                                spyBuildings: u.buildings ? Object.assign({}, a.buildings) : {},
                                                spyPop: u.buildings ? l.dataService.pop(a) : 0,
                                                spyData: u,
                                                spyTroops: u.troops ? Object.assign({}, a.troops) : {},
                                                spyScience: u.science || 0,
                                                troops: {
                                                    initial: {
                                                        attacker: {
                                                            spy: t.spies
                                                        },
                                                        defender: {}
                                                    },
                                                    remaining: {
                                                        attacker: {
                                                            spy: u.survived ? t.spies : 0
                                                        },
                                                        defender: {}
                                                    }
                                                },
                                                gold: u.gold ? Math.floor(a.gold) : 0,
                                                cityTaken: !1,
                                                cityBurned: !1,
                                                date: new Date,
                                                victory: u.buildings,
                                                isAttacker: !0,
                                                defense: u.cityDef ? l.dataService.defense(a) : 0
                                            };
                                            if (l.data.reports.push(s), s.victory ? l.toastService.success("Spying succeded in " + a.name + " !", $f.success, "/game/reports/" + s.id) : l.toastService.success(u.survived ? "Spying failed in " + a.name + " !" : "Spying failed in " + a.name + ". Relations with " + o.name + " decreased.", $f.defeat, "/game/reports/" + s.id), u.science && l.dataService.player().science_queue.length) {
                                                var c = l.dataService.player().science_queue[0];
                                                l.dataService.player().sciences[c].progress += u.science, l.dataService.player().sciences[c].progress > l.dataService.scienceCost(l.conf.sciences[c], t.ownerid) && (l.dataService.player().sciences[c].progress = l.dataService.scienceCost(l.conf.sciences[c], t.ownerid))
                                            }
                                            u.survived ? t.returning = !0 : l.data.spies.splice(l.data.spies.indexOf(t), 1)
                                        } else t.returning = !0
                                    } else l.dataService.discover(t)
                                })), this.data.goldtransfers.slice(0).forEach((function (t) {
                                    if (n % 10 == 0 && (t.speed = l.dataService.speed("gold", t.ownerid, t.from, t.to)), t.progress += t.speed * e * l.conf.troop_speed_ratio, t.progress >= t.dist && !t.returning || t.progress >= 2 * t.dist && t.returning) {
                                        var i = l.dataService.city(t.from.x, t.from.y),
                                            u = l.dataService.city(t.to.x, t.to.y);
                                        if (u && u.ownerid == t.destid) {
                                            u.gold += t.gold;
                                            var r = l.dataService.player(u.ownerid);
                                            if (r.appreciation[t.ownerid]) {
                                                var a = l.dataService.giftValue(t.gold);
                                                r.appreciation[t.ownerid] = vg.constraint(r.appreciation[t.ownerid] + a, 100, 0)
                                            }
                                            0 == t.ownerid && 0 == u.ownerid ? l.toastService.success("Gold transfer arrived in " + u.name + " !", $f.gold, "/game/city/" + u.id) : 0 == t.ownerid ? l.toastService.success("Your gift arrived in " + u.name + " !", $f.diplomacy, "/game/diplomacy/") : 0 == u.ownerid && l.toastService.success("Gift from " + l.dataService.player(t.ownerid).name + " arrived in " + u.name + " !", $f.diplomacy, "/game/city/" + u.id), !t.returning && i && u.ownerid == t.ownerid && u.gold > l.dataService.maxGold(u) ? (t.from.x = u.x, t.from.y = u.y, t.to.x = i.x, t.to.y = i.y, t.gold = u.gold - l.dataService.maxGold(u), t.returning = !0, u.gold = l.dataService.maxGold(u)) : l.data.goldtransfers.splice(l.data.goldtransfers.indexOf(t), 1)
                                        } else l.data.goldtransfers.splice(l.data.goldtransfers.indexOf(t), 1)
                                    } else l.dataService.discover(t)
                                })), this.data.attacks.slice(0).forEach((function (t) {
                                    n % 10 == 0 && (t.speed = l.dataService.attackSpeed(t.troops, t.ownerid, t.from, t.to));
                                    var i = l.dataService.city(t.to.x, t.to.y);
                                    if (i && (0 == l.data.difficulty && 0 == i.ownerid && 0 != t.ownerid || 1 == l.data.difficulty && 0 == i.ownerid && 1 == t.ownerid) && (t.returning = !0, t.progress = 2 * t.dist - t.progress), t.progress += t.speed * e * l.conf.troop_speed_ratio * (l.data.spelltime.berserker ? 1 + l.dataService.berserkerSpeedBonus(t.ownerid) : 1), t.returning && t.progress >= 2 * t.dist) {
                                        var u = l.dataService.city(t.from.x, t.from.y);
                                        u ? u.ownerid != t.ownerid ? (l.dataService.fight(t.troops, u.troops, u, t.ownerid), l.data.attacks.splice(l.data.attacks.indexOf(t), 1)) : (Object.keys(t.troops).forEach((function (n) {
                                            u.troops[n] ? u.troops[n] += t.troops[n] : u.troops[n] = t.troops[n]
                                        })), t.gold && (u.gold += t.gold), l.data.attacks.splice(l.data.attacks.indexOf(t), 1)) : l.data.attacks.splice(l.data.attacks.indexOf(t), 1)
                                    } else if (!t.returning && t.progress >= t.dist) {
                                        var r = l.dataService.city(t.from.x, t.from.y),
                                            a = l.dataService.city(t.to.x, t.to.y);
                                        if (r && a)
                                            if (t.ownerid == a.ownerid) Object.keys(t.troops).forEach((function (n) {
                                                a.troops[n] || (a.troops[n] = 0), a.troops[n] += t.troops[n]
                                            })), l.data.attacks.splice(l.data.attacks.indexOf(t), 1), 0 == a.ownerid && l.toastService.info("Your troops have arrived in " + a.name, $f.act_move, "/game/city/" + a.id);
                                            else if (1 == a.ownerid || 1 == t.ownerid || l.dataService.atWar(r.ownerid, a.ownerid)) {
                                            var o = l.dataService.player(t.ownerid),
                                                s = l.dataService.player(a.ownerid),
                                                c = new sy(l.data.lastids.report++);
                                            c.from_id = r.id, c.name = a.name, c.to_pid = a.ownerid, c.to_id = a.id, c.troops = {
                                                initial: {
                                                    attacker: Object.assign({}, t.troops),
                                                    defender: Object.assign({}, a.troops)
                                                },
                                                remaining: void 0
                                            }, c.cityTaken = !1, c.defense = l.dataService.defense(a), c.gold = 0, c.isAttacker = !0;
                                            var d = Object.values(t.troops).reduce((function (n, l) {
                                                    return n + l
                                                }), 0),
                                                h = Object.values(a.troops).reduce((function (n, l) {
                                                    return n + l
                                                }), 0),
                                                p = Object.keys(t.troops).reduce((function (n, e) {
                                                    return n + t.troops[e] * l.conf.troops[e].attack(o)
                                                }), 0),
                                                f = Object.keys(a.troops).reduce((function (n, e) {
                                                    return n + a.troops[e] * l.conf.troops[e].attack(s)
                                                }), 0),
                                                g = l.dataService.fight(t.troops, a.troops, a, t.ownerid),
                                                v = _slicedToArray(g.troops, 2);
                                            t.troops = v[0], a.troops = v[1];
                                            var m = l.dataService.influenceEffectFromPlayer(a, l.dataService.player(t.ownerid));
                                            m && (c.influence = m), g.castle && (c.castle_destroyed = !0), g.walls && (c.walls_destroyed = !0), c.troops.remaining = {
                                                attacker: Object.assign({}, t.troops),
                                                defender: Object.assign({}, a.troops)
                                            };
                                            var y = Object.values(t.troops).reduce((function (n, l) {
                                                    return n + l
                                                }), 0),
                                                b = Object.values(a.troops).reduce((function (n, l) {
                                                    return n + l
                                                }), 0),
                                                _ = Object.keys(t.troops).reduce((function (n, e) {
                                                    return n + t.troops[e] * l.conf.troops[e].attack(o)
                                                }), 0),
                                                k = Object.keys(a.troops).reduce((function (n, e) {
                                                    return n + a.troops[e] * l.conf.troops[e].attack(s)
                                                }), 0);
                                            if (1 != t.ownerid && 1 != t.destid) {
                                                var w = l.dataService.getRelation(t.ownerid, a.ownerid);
                                                w && (r.ownerid == w.playersid[0] ? w.war_rating += f - k - (p - _) : w.war_rating -= f - k - (p - _), w.war_total += f - k + (p - _))
                                            }
                                            if (l.data.spelltime.appropriation && 0 == t.ownerid) {
                                                var x = l.dataService.player(t.ownerid),
                                                    C = l.dataService.appropriationBonus(t.ownerid) * (h - b);
                                                x.sciences[x.science_queue[0]].progress || (x.sciences[x.science_queue[0]].progress = 0), x.sciences[x.science_queue[0]].progress += C, x.sciences[x.science_queue[0]].progress >= l.dataService.scienceCost(l.dataService.conf.sciences[x.science_queue[0]], x.id) && l.dataService.discoverScience(x.id), x.faith += C
                                            }
                                            if (l.dataService.hasPolicy("crusades", o.id) && (o.faith += 10 * (h - b)), c.isAttacker = 0 == t.ownerid, c.victory = 0 == t.ownerid && y > 0 || 0 != t.ownerid && 0 == y, c.defeat = 0 == t.ownerid && 0 == y || 0 != t.ownerid && 0 == b, t.returning = !0, (t.troops.slaver || t.troops.warrior && "aztecs" == o.civ_id && l.dataService.hasScience("bronze_working", o)) && (0 != b || !t.troops.governor)) {
                                                var S = (b / h - y / d) * (l.dataService.pop(a) - 1) * .1 * (l.dataService.hasWonder(o.id, "ziggurat") ? 2 : 1),
                                                    I = 0;
                                                t.troops.slaver && (I += t.troops.slaver), t.troops.warrior && "aztecs" == o.civ_id && (I += t.troops.warrior), S = 1 - Math.pow(1 - S, I), Jf.roll(S) && (l.dataService.killCitizen(a), t.troops.worker = 1, l.dataService.pop(a) > 1 && l.dataService.hasPolicy("slavery") && Jf.roll(.5) && (l.dataService.killCitizen(a), t.troops.worker = 2))
                                            }
                                            var T = a.gold;
                                            if (0 == y) l.data.attacks.splice(l.data.attacks.indexOf(t), 1);
                                            else if (0 == b && t.troops.governor) {
                                                if (1 != t.ownerid && 1 != t.destid) {
                                                    var E = l.dataService.getRelation(t.ownerid, a.ownerid);
                                                    if (E) {
                                                        var A = l.dataService.cityValue(a);
                                                        r.ownerid == E.playersid[0] ? E.war_rating += A / 10 : E.war_rating -= A / 10, E.war_total += A / 10
                                                    }
                                                }
                                                t.burn ? l.dataService.transferCity(a.id, t.ownerid, !0) : (l.dataService.transferCity(a.id, t.ownerid), t.troops.governor--, t.troops.governor || delete t.troops.governor, t.noreturn && (Object.keys(t.troops).forEach((function (n) {
                                                    a.troops[n] || (a.troops[n] = 0), a.troops[n] += t.troops[n]
                                                })), l.data.attacks.splice(l.data.attacks.indexOf(t), 1))), l.dataService.hasPolicy("civilizing", o.id) && (o.progress += 50, l.dataService.changeOrientationFortech(o, 50)), 0 == t.ownerid && l.data.autopause.city_captured && (l.data.pause = !0), 0 == a.id && l.data.autopause.city_lost && (l.data.pause = !0), c.cityTaken = !0, t.burn && (c.cityBurned = !0)
                                            }
                                            if (!c.cityTaken || c.cityBurned) {
                                                var P = Object.keys(t.troops).map((function (n) {
                                                    return l.conf.troops[n].capacity * t.troops[n]
                                                })).reduce((function (n, l) {
                                                    return n + l
                                                }));
                                                l.data.spelltime.berserker && (P *= 10);
                                                var O = Math.floor(Math.min(P, T));
                                                a && (a.gold -= O), t.gold = O, c.gold = O
                                            }
                                            0 != r.ownerid && 0 != a.ownerid || (l.data.reports.push(c), c.victory ? l.toastService.success("Victory in " + a.name + " !", $f.success, "/game/reports/" + c.id) : c.defeat ? l.toastService.info("Defeat in " + a.name + " !", $f.defeat, "/game/reports/" + c.id) : l.toastService.info("Battle of " + a.name + " is over !", $f.attack, "/game/reports/" + c.id))
                                        } else t.returning = !0;
                                        else t.returning = !0
                                    } else l.dataService.discover(t)
                                })), !t) {
                                for (var u in this.data.cooldowns) this.data.cooldowns[u] -= e, this.data.cooldowns[u] <= 0 && delete this.data.cooldowns[u];
                                for (var r in this.data.spelltime) this.data.spelltime[r] -= e, this.data.spelltime[r] <= 0 && delete this.data.spelltime[r]
                            }
                            if (this.data.autocast && !t)
                                if (this.dataService.player().orientation > -100) this.data.autocast = void 0;
                                else {
                                    var a = this.conf.spells[this.data.autocast];
                                    this.dataService.isSpellAvailable(a) && this.dataService.useSpell(a, this)
                                } this.data.last_plague += Math.min(e, this.conf.max_plague_dt), this.data.capitalchange_cooldown && (this.data.capitalchange_cooldown -= e, this.data.capitalchange_cooldown <= 0 && delete this.data.capitalchange_cooldown), this.dataService.checkLocks()
                        }
                        this.data.lt = i
                    }
                }]), n
            }(),
            dy = et({
                encapsulation: 0,
                styles: [[".spells-deck[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:40px;height:40px}.spells-deck[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:10px;bottom:8px}.spells-deck[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]{cursor:pointer}.spells-deck[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover{background-color:#f8f9fa!important}.spells-deck[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#343a40!important}.spells-hidden[_ngcontent-%COMP%]{width:40px;height:40px;bottom:-20px}.spells-hidden[_ngcontent-%COMP%]:hover{bottom:-18px}"]],
                data: {}
            });

        function hy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "rounded-circle text-center position-relative border border-danger cursor-pointer"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = 0 != (i.autocast = !i.autocast) && t), t
            }), null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(2, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(3, {
                opacity: 0
            }), (n()(), pr(-1, null, [" A "]))], (function (n, l) {
                var e = n(l, 3, 0, l.component.autocast ? 1 : .6);
                n(l, 2, 0, e)
            }), null)
        }

        function py(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0], [8, "style", 2]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.value.icon + " " + (e.data.cooldowns[l.parent.parent.context.$implicit.key] ? "text-light" : "text-warning"), e.style(l.parent.parent.context.$implicit.value))
            }))
        }

        function fy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0], [8, "style", 2]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.parent.parent.context.$implicit.value.icon + " text-success", l.component.style(l.parent.parent.context.$implicit.value))
            }))
        }

        function gy(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 9, "div", [["container", "body"], ["triggers", "manuel"]], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 4), n.parent.context.$implicit.value) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 4)) && t), "click" === l && (t = !1 !== i.use(n.parent.context.$implicit.value) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "rounded-circle text-center position-relative": 0,
                "text-light hoverable": 1,
                "text-secondary": 2,
                "border border-danger": 3
            }), hi(4, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, py)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fy)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, !0, e.isAvailable(l.parent.context.$implicit.value), !e.isAvailable(l.parent.context.$implicit.value), e.data.autocast == l.parent.context.$implicit.key);
                n(l, 2, 0, t), n(l, 4, 0, Jt(l.parent.parent.parent.parent, 4), Jt(l.parent.parent.parent.parent, 3), "manuel", "body"), n(l, 7, 0, !e.data.spelltime[l.parent.context.$implicit.key] && !e.isLocked(l.parent.context.$implicit.value)), n(l, 9, 0, e.data.spelltime[l.parent.context.$implicit.key])
            }), (function (n, l) {
                n(l, 5, 0, l.parent.context.$implicit.value.icon)
            }))
        }

        function vy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, gy)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.context.$implicit.value.deity == e.dataService.player().deity && 25 * (0 - l.context.$implicit.value.level) >= e.dataService.player().orientation)
            }), null)
        }

        function my(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "div", [["class", "position-absolute"], ["style", "left:50%;bottom:10px;z-index:5"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 8, "div", [["class", "spells-deck position-relative bg-dark text-light text-150 rounded d-flex border border-light px-2 py-1"], ["style", "left:-50%"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, hy)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, vy)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(7, 16777216, null, null, 2, "div", [["class", "rounded-circle text-center cursor-pointer position-relative text-light hoverable"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.hide() && t), t
            }), null, null)), hi(8, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"]
            }, null), (n()(), Xu(9, 0, null, null, 0, "i", [["style", "left:12px"]], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.dataService.player().orientation <= -100), n(l, 5, 0, Je(l, 5, 0, Jt(l, 6).transform(e.conf.spells))), n(l, 8, 0, Jt(l.parent.parent, 5))
            }), (function (n, l) {
                n(l, 9, 0, l.component.icons.arrow_down)
            }))
        }

        function yy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "position-absolute"], ["style", "left:50%;bottom:0"]], null, null, null, null, null)), (n()(), Xu(1, 16777216, null, null, 2, "div", [["class", "spells-hidden rounded-circle bg-dark text-light text-130 text-center position-relative cursor-pointer border border-light"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.show() && t), t
            }), null, null)), hi(2, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"]
            }, null), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 2, 0, Jt(l.parent.parent, 6))
            }), (function (n, l) {
                n(l, 3, 0, l.component.icons.arrow_up)
            }))
        }

        function by(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, my)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yy)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, !e.data.spellshidden && e.display()), n(l, 4, 0, e.data.spellshidden && e.display())
            }), null)
        }

        function _y(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function ky(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "border-top text-success"]], null, null, null, null, null)), (n()(), pr(1, null, ["Charge: ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.data.charging[l.parent.context.id])
            }))
        }

        function wy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "border-top text-success"]], null, null, null, null, null)), (n()(), pr(1, null, ["Active: ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 0), e.data.spelltime[l.parent.context.id]));
                n(l, 1, 0, t)
            }))
        }

        function xy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "border-top text-primary"]], null, null, null, null, null)), (n()(), pr(1, null, ["Cooldown: ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 0), e.data.cooldowns[l.parent.context.id]));
                n(l, 1, 0, t)
            }))
        }

        function Cy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "b", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Locked"])), (n()(), pr(3, null, [" ", " to unlock"]))], null, (function (n, l) {
                n(l, 3, 0, l.parent.context.lockDesc)
            }))
        }

        function Sy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, ky)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wy)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xy)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Cy)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(9, 0, null, null, 3, "div", [["class", "border-top"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hotkey: "])), (n()(), Xu(11, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(12, null, ["", ""]))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.data.charging[l.context.id]), n(l, 4, 0, e.data.spelltime[l.context.id]), n(l, 6, 0, !e.data.spelltime[l.context.id] && e.data.cooldowns[l.context.id]), n(l, 8, 0, l.context.lockDesc)
            }), (function (n, l) {
                n(l, 0, 0, l.context.desc), n(l, 12, 0, l.context.level)
            }))
        }

        function Iy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Hide"]))], null, null)
        }

        function Ty(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Show"]))], null, null)
        }

        function Ey(n) {
            return vr(0, [pi(0, ay, []), (n()(), Yu(16777216, null, null, 1, null, by)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, _y)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, Sy)), (n()(), Yu(0, [["popHide", 2]], null, 0, null, Iy)), (n()(), Yu(0, [["popShow", 2]], null, 0, null, Ty))], (function (n, l) {
                n(l, 2, 0, l.component.dataService.player().orientation <= -25)
            }), null)
        }
        var Ay, Py = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "transform",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                        return void 0 === n ? "" : Xf.format(n, l)
                    }
                }]), n
            }(),
            Oy = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "transform",
                    value: function (n) {
                        return n == 1 / 0 ? "Infinity" : Math.round(100 * n) + " %"
                    }
                }]), n
            }(),
            Dy = e("HXk2"),
            Ry = function () {
                function n(l, e, t, i, u, r, a, o, s) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.conf = t, this.saveService = i, this.router = u, this.coreEngine = r, this.aiEngine = a, this.modalService = o, this.clipboardService = s, this.environment = wa, this.icons = $f, this.now = Date.now()
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.timer = setInterval((function () {
                            n.now = Date.now()
                        }), 100)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.timer && clearInterval(this.timer)
                    }
                }, {
                    key: "open",
                    value: function (n) {
                        this.saveStr = this.saveService.encryptData(), this.clipboardService.copyFromContent(this.saveStr), this.modalService.open(n)
                    }
                }, {
                    key: "download",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        n && (this.saveStr = this.saveService.encryptData());
                        var l = new Blob([this.saveStr], {
                            type: "text"
                        });
                        Object(Dy.saveAs)(l, "civ2_" + this.data.name.replace(/ /g, "_") + ".txt")
                    }
                }, {
                    key: "terminal",
                    value: function () {
                        console.log(this)
                    }
                }, {
                    key: "expand",
                    value: function () {
                        if (window.self !== window.top) {
                            try {
                                localStorage.fsa = "true", delete localStorage.openpages, delete localStorage.page_available
                            } catch (n) {}
                            window.open("https://festive-perlman-5fad70.netlify.com/"), window.location.href = "about:blank"
                        }
                    }
                }, {
                    key: "save",
                    value: function () {
                        this.saveService.save()
                    }
                }, {
                    key: "reincarnation",
                    value: function (n) {
                        this.modalService.open(n)
                    }
                }, {
                    key: "doReincarnation",
                    value: function () {
                        this.dataService.reincarnation()
                    }
                }, {
                    key: "favorGain",
                    value: function () {
                        var n = this.dataService.favorGain();
                        return n[0] + "|" + n[1]
                    }
                }, {
                    key: "saveTime",
                    value: function () {
                        return Math.floor((this.now - this.data.savetime) / 1e3)
                    }
                }, {
                    key: "exit",
                    value: function () {
                        this.coreEngine.stop(), this.aiEngine.stop(), delete this.data, this.router.navigate(["/"])
                    }
                }, {
                    key: "inIframe",
                    value: function () {
                        return window.self !== window.top
                    }
                }]), n
            }(),
            My = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.toastService = i, this.engine = $g(0, this.conf.ait), this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnDestroy",
                    value: function () {
                        this.stop()
                    }
                }, {
                    key: "stop",
                    value: function () {
                        this.subscription.unsubscribe()
                    }
                }, {
                    key: "start",
                    value: function () {
                        this.subscription = this.engine.subscribe(this.run.bind(this))
                    }
                }, {
                    key: "run",
                    value: function (n) {
                        var l = this;
                        this.data.pause || (Date.now(), this.data.relations.filter((function (n) {
                            return !n.playersid.includes(0) && 1 == n.status
                        })).forEach((function (n) {
                            if (!n.cooldown) {
                                var e = l.dataService.player(n.playersid[0]),
                                    t = l.dataService.player(n.playersid[1]);
                                n.war_length >= l.dataService.aiMinWarTime(e) && n.war_length >= l.dataService.aiMinWarTime(t) && (l.dataService.truce(e.id, t.id), l.dataService.haveRelation(0, e.id) && l.dataService.haveRelation(0, t.id) && l.toastService.info(e.name + " and " + t.name + " are now in peace.", $f.diplomacy, "/game/diplomacy"))
                            }
                        })), this.data.relations.filter((function (n) {
                            return !n.playersid.includes(0) && 0 == n.status
                        })).forEach((function (n) {
                            var e = l.dataService.player(n.playersid[0]),
                                t = l.dataService.player(n.playersid[1]);
                            l.dataService.hasScience("diplomacy", e) && l.dataService.hasScience("diplomacy", t) && e.appreciation[t.id] >= 95 && t.appreciation[e.id] >= 95 && (n.status = 3, n.cooldown = l.conf.alliance_min_length, l.dataService.haveRelation(0, e.id) && l.dataService.haveRelation(0, t.id) && l.toastService.info(e.name + " and " + t.name + " have formed an alliance.", $f.diplomacy, "/game/diplomacy"))
                        })), this.data.relations.filter((function (n) {
                            return 0 == n.status
                        })).forEach((function (n) {
                            var e = l.dataService.player(n.playersid[0]),
                                t = l.dataService.player(n.playersid[1]);
                            e.id > 1 && Jf.roll(l.dataService.warChance(e, t)) ? (0 == t.id ? l.toastService.danger(e.name + " declared war on you", $f.attack, "/game/diplomacy/") : l.dataService.haveRelation(0, e.id) && l.dataService.haveRelation(0, t.id) && l.toastService.warning(e.name + " declared war on " + t.name, $f.attack, "/game/diplomacy/"), l.dataService.war(e.id, t.id)) : t.id > 1 && Jf.roll(l.dataService.warChance(t, e)) && (0 == e.id ? l.toastService.danger(t.name + " declared war on you", $f.attack, "/game/diplomacy/") : l.dataService.haveRelation(0, e.id) && l.dataService.haveRelation(0, t.id) && l.toastService.warning(t.name + " declared war on " + e.name, $f.attack, "/game/diplomacy/"), l.dataService.war(t.id, e.id))
                        })), this.data.relations.filter((function (n) {
                            return 3 == n.status
                        })).forEach((function (n) {
                            if (!n.cooldown) {
                                var e = l.dataService.player(n.playersid[0]),
                                    t = l.dataService.player(n.playersid[1]);
                                n.playersid.includes(0) ? t.appreciation[0] < 85 && (n.status = 0, l.toastService.info(t.name + " has dissolved the alliance with you.", $f.diplomacy, "/game/diplomacy")) : (t.appreciation[e.id] < 85 || e.appreciation[t.id] < 85) && (n.status = 0, l.dataService.haveRelation(0, e.id) && l.dataService.haveRelation(0, t.id) && l.toastService.info(e.name + " has dissolved the alliance with " + t.name, $f.diplomacy, "/game/diplomacy"))
                            }
                        })), this.data.players.filter((function (n) {
                            return 0 != n.id
                        })).forEach((function (n) {
                            if (n.cities.forEach((function (e) {
                                    var t = ["", "builders", "scientists", "merchants", "artists"],
                                        i = l.dataService.health(e);
                                    i <= .2 && (e.autoassign_options.nogrowth = !0), i >= .5 && (t.push("farmers"), e.autoassign_options.nogrowth = !1), i >= .8 && t.push("farmers"), e.autoassign_options.priority = Jf.fromArray(t), Object.keys(e.troops).forEach((function (n) {
                                        var t = l.conf.troops[n],
                                            i = e.troops[n];
                                        i && l.dataService.canUpgrade(t, i, e) && l.dataService.upgrade(t, e)
                                    }));
                                    var u = [];
                                    if (Object.values(l.conf.buildings).forEach((function (n) {
                                            l.isBuildingAvailable(e, n) && u.push(n)
                                        })), u.length && Jf.roll(.8)) {
                                        u.length > 1 && u.some((function (n) {
                                            return "progress" == n.id
                                        })) && u.splice(u.indexOf(u.find((function (n) {
                                            return "progress" == n.id
                                        }))), 1);
                                        var r = Jf.fromArray(u);
                                        u.some((function (n) {
                                            return "cop" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "cop" == n.id
                                        }))), u.some((function (n) {
                                            return "go" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "go" == n.id
                                        }))), u.some((function (n) {
                                            return "coa" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "coa" == n.id
                                        }))), u.some((function (n) {
                                            return "market" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "market" == n.id
                                        }))), u.some((function (n) {
                                            return "bank" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "bank" == n.id
                                        }))), u.some((function (n) {
                                            return "stock" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "stock" == n.id
                                        }))), u.some((function (n) {
                                            return "seaport" == n.id
                                        })) && (r = u.find((function (n) {
                                            return "seaport" == n.id
                                        }))), e.gold -= l.dataService.buildingGoldCost(r, n.id), e.buildings[r.id] = {
                                            progress: 0,
                                            done: !1
                                        }, e.building_queue.push(r.id), "progress" != r.id && "progress" == e.building_queue[0] && e.building_queue.splice(0, 1)
                                    }
                                    var a = 1 == n.id ? 15 : l.conf.civilizations[n.civ_id].agressivity,
                                        o = l.dataService.goldDiff(e);
                                    if (e.troop_queue.length < 20 && o > 0 && Jf.roll(a / 5 - 2.3)) {
                                        var s = [];
                                        if (Object.values(l.conf.troops).forEach((function (t) {
                                                var i = l.isTroopAvailable(n, e, t);
                                                return ("caravan" != t.id || 1 != n.id) && ("caravan" == t.id && l.dataService.tradeRouteNb(n) + l.dataService.troopNbById(n.id, "caravan") >= l.dataService.maxTradeRoute(n) && (i = !1), ("caravel" != t.id || 1 != n.id) && ("caravel" == t.id && l.dataService.coloniesAvailable() <= l.dataService.troopNbById(n.id, "caravel") + 1 && (i = !1), ("scout" != t.id && "explorer" != t.id || 1 != n.id) && (("scout" == t.id || "explorer" == t.id) && l.dataService.troopNbById(n.id, "explorer", !0, !0) + l.dataService.troopNbById(n.id, "scout", !0, !0) >= 3 && (i = !1), "scout" != t.id && "explorer" != t.id || l.dataService.hasUndiscovered(n.id) || (i = !1), "spy" == t.id && e.troops.spy && e.troops.spies >= 20 && (i = !1), "governor" == t.id && (e.troops.governor || e.troop_queue.some((function (n) {
                                                    return "governor" == n.id
                                                }))) && (i = !1), "governor" == t.id && l.dataService.troopNbById(n.id, "governor", !0, !0) >= 5 && (i = !1), "slaver" == t.id && e.troops.slaver && e.troops.slaver >= 5 && (i = !1), "plague_doctor" == t.id && e.troops.plague_doctor && e.troops.plague_doctor >= 10 && (i = !1), "plague_doctor" == t.id && !l.dataService.plague() && l.dataService.currentScienceRank() < 10 && (i = !1), ("worker" != t.id && "engineer" != t.id || 1 != n.id) && ("worker" != t.id && "engineer" != t.id || !(l.dataService.pop(e) <= 1)) && (("worker" == t.id || "engineer" == t.id) && l.dataService.troopNbById(n.id, "worker", !0, !0) + l.dataService.troopNbById(n.id, "engineer", !0, !0) >= n.cities.length && (i = !1), ("archeologist" != t.id || 1 != n.id) && !("archeologist" == t.id && l.dataService.troopNbById(n.id, "archeologist", !0, !0) >= l.data.ruins.length) && void(i && s.push(t))))))
                                            })), s.length) {
                                            var c = Jf.fromArray(s);
                                            s.some((function (n) {
                                                return "caravel" == n.id
                                            })) && (c = s.find((function (n) {
                                                return "caravel" == n.id
                                            }))), s.some((function (n) {
                                                return "caravan" == n.id
                                            })) && (c = s.find((function (n) {
                                                return "caravan" == n.id
                                            }))), e.plague > 0 && s.some((function (n) {
                                                return "plague_doctor" == n.id
                                            })) && (c = s.find((function (n) {
                                                return "plague_doctor" == n.id
                                            })));
                                            var d = 1;
                                            c.special || "governor" == c.id || (d = Jf.get(1, vg.constraint(o / 5, 1, 5)), d = vg.constraint(d, e.gold / c.gold(l.dataService, n.id))), e.gold -= d * c.gold(l.dataService, n.id), e.troops_progress[c.id] || (e.troops_progress[c.id] = 0), e.troop_queue.push({
                                                id: c.id,
                                                nb: d
                                            })
                                        }
                                    } else e.troop_queue.length > 20 && (e.gold += 20 * (e.troop_queue.length - 20), e.troop_queue.splice(20));
                                    if (e.building_queue.includes("seaport") && e.gold >= l.dataService.buildingProdToGoldCost(e, "seaport") && l.dataService.buyBuilding(e, "seaport"), Object.keys(e.troop_queue).includes("caravel") && e.gold >= l.dataService.troopTimeToGoldCost(e, "caravel")) {
                                        e.gold -= l.dataService.troopTimeToGoldCost(e, "caravel");
                                        var h = Object.keys(e.troop_queue).indexOf("caravel");
                                        e.troops_progress.caravel = 0, e.troop_queue[h].nb--, e.troop_queue[h].nb || e.troop_queue.splice(h, 1), e.troops.caravel ? e.troops.caravel++ : e.troops.caravel = 1
                                    }
                                    if (e.gold >= .9 * l.dataService.maxGold(e) && e.building_queue.length && l.dataService.buildingProdToGoldCost(e, e.building_queue[0]) <= e.gold && !l.conf.buildings[e.building_queue[0]].wonder && l.dataService.buyBuilding(e, e.building_queue[0]), n.id > 1 && (e.troops.explorer && l.dataService.hasUndiscovered(n.id) ? l.dataService.createScout(e, !0, e.x, e.y) : delete e.troops.explorer, e.troops.scout && l.dataService.hasUndiscovered(n.id) ? l.dataService.createScout(e, !0, e.x, e.y) : delete e.troops.scout), n.id > 1 && l.data.attacks.some((function (n) {
                                            return n.to.x == e.x && n.to.y == e.y
                                        })) && !e.buildings.walls) {
                                        var p = e.building_queue.findIndex((function (n) {
                                            return "walls" == n
                                        })); - 1 == p ? l.isBuildingAvailable(e, l.conf.buildings.walls) && e.building_queue.unshift("walls") : 0 != p && (e.building_queue.splice(p, 1), e.building_queue.unshift("walls"))
                                    }
                                    var f = l.dataService.closestCity(e.x, e.y, n.id, !0),
                                        g = l.dataService.player(f.ownerid);
                                    if (1 != n.id && 1 != f.ownerid && l.dataService.haveRelation(n.id, g.id) && !l.dataService.atWar(n.id, g.id) && n.appreciation[f.ownerid] >= 50 && e.gold > 100 && Jf.roll(1e-4)) {
                                        var v = Math.floor(Jf.get(.01 * e.gold, .002 * n.appreciation[f.ownerid] * e.gold));
                                        l.dataService.createGold(e, f, v), 0 == f.ownerid && l.toastService.info(n.name + " are sending a gift to " + f.name, $f.gold, "/game/attacks")
                                    }
                                    if (1 != n.id && e.troops.caravel && l.dataService.coloniesAvailable() > 0 && (l.data.colonies.push(e.id), e.troops.caravel--, l.dataService.haveRelation(0, n.id) && l.toastService.warning(n.name + " have founded a colony", $f.colony, "/game/diplomacy#tab_colonies")), 1 != n.id && e.troops.caravan && l.dataService.tradeRouteNb(n) < l.dataService.maxTradeRoute(n)) {
                                        var m = l.dataService.availableCitiesForTrade(e);
                                        if (m.length) {
                                            var y = m.map((function (t) {
                                                    var i = l.dataService.tradeRouteValue(e, t),
                                                        u = i.gold + i.culture + i.faith + i.science;
                                                    return n.appreciation[t.ownerid] && (u *= Math.sqrt(n.appreciation[t.ownerid] / 2)), u
                                                })),
                                                b = -1,
                                                _ = -1;
                                            if (y.forEach((function (n, l) {
                                                    n > b && (b = n, _ = l)
                                                })), _ >= 0) {
                                                var k = m[_];
                                                l.data.trades.push({
                                                    ownerid: n.id,
                                                    destid: k.ownerid,
                                                    from: {
                                                        x: e.x,
                                                        y: e.y
                                                    },
                                                    to: {
                                                        x: k.x,
                                                        y: k.y
                                                    }
                                                }), e.troops.caravan -= 1, wa.production || console.log(n.name + " is starting trade from " + e.name + " to " + k.name), 0 == k.ownerid && l.toastService.info(n.name + " created a trade route between " + e.name + " and " + k.name, $f.trade, "/game/world?x=" + e.x + "&y=" + e.y)
                                            }
                                        }
                                    }
                                    if (1 != n.id && e.troops.archeologist) {
                                        var w, x = 999999,
                                            C = !0,
                                            S = !1,
                                            I = void 0;
                                        try {
                                            for (var T, E = function () {
                                                    var n = T.value,
                                                        t = l.dataService.distance(e.x, e.y, n.x, n.y);
                                                    t < x && !l.data.archeologists.some((function (l) {
                                                        return l.to.x == n.x && l.to.y == n.y
                                                    })) && (w = n, x = t)
                                                }, A = l.data.ruins[Symbol.iterator](); !(C = (T = A.next()).done); C = !0) E()
                                        } catch (K) {
                                            S = !0, I = K
                                        } finally {
                                            try {
                                                C || null == A.return || A.return()
                                            } finally {
                                                if (S) throw I
                                            }
                                        }
                                        w && (wa.production || console.log("New archeo orders from " + e.name + " to (" + w.x + "," + w.y + ")"), l.data.archeologists.push({
                                            from: {
                                                x: e.x,
                                                y: e.y
                                            },
                                            to: {
                                                x: w.x,
                                                y: w.y
                                            },
                                            ownerid: n.id,
                                            destid: n.id,
                                            dist: l.dataService.distance(e.x, e.y, w.x, w.y),
                                            progress: 0,
                                            speed: l.dataService.speed("archeologist", n.id, e, w),
                                            returning: !1
                                        })), e.troops.archeologist--, e.troops.archeologist || delete e.troops.archeologist
                                    }
                                    if ((e.troops.worker || e.troops.engineer) && (1 == n.id || l.dataService.troopNbById(n.id, "worker", !0, !0) + l.dataService.troopNbById(n.id, "engineer", !0, !0) >= n.cities.length) && (e.troops[e.troops.worker ? "worker" : "engineer"]--, e.citizens.idle++), 1 != n.id && (e.troops.worker || e.troops.engineer)) {
                                        var P = e.troops.engineer ? "engineer" : "worker",
                                            O = e.troops.engineer ? 2 : 1,
                                            D = 0;
                                        2 == O && l.dataService.isImprovementAvailable(l.conf.improvements[6], O, e) ? D = 6 : l.dataService.isImprovementAvailable(l.conf.improvements[5], O, e) && (D = 5);
                                        var R = l.dataService.closestCity(e.x, e.y, n.id, !1);
                                        if (D && R && l.dataService.cityConnected(e, R) + 4 < D) l.dataService.createWorker(e, D, R.x, R.y, O, !0);
                                        else if (D && l.dataService.cityConnectedToCapital(e) + 4 < D) {
                                            var M = l.dataService.capital(n.id);
                                            l.dataService.createWorker(e, D, M.x, M.y, O, !0)
                                        } else {
                                            for (var N = [], B = function (t) {
                                                    for (var i = function (i) {
                                                            var u = l.dataService.getTerrain(t, i),
                                                                r = l.dataService.getImprovement(t, i),
                                                                a = 0;
                                                            1 == u || 3 == u || 6 == u && "australians" == n.civ_id ? a = 2 == O ? 2 : 1 : 2 == u || 4 == u ? a = 2 == O ? 4 : 3 : 1 == u ? a = 7 : 5 == u && (a = 8), 0 != a && r != a && l.dataService.isImprovementAvailable(l.conf.improvements[a], O, e) && l.dataService.isImprovementAllowed(t, i, a, e, !1) && !l.data.workers.some((function (n) {
                                                                return n.type == a && n.to.x == t && n.to.y == i
                                                            })) && N.push({
                                                                x: t,
                                                                y: i,
                                                                type: a
                                                            })
                                                        }, u = e.y - 1; u <= e.y + 1; u++) i(u)
                                                }, z = e.x - 1; z <= e.x + 1; z++) B(z);
                                            if (N.length) {
                                                var L = Jf.fromArray(N);
                                                l.dataService.createWorker(e, L.type, L.x, L.y, O, !1)
                                            } else {
                                                var F = Jf.fromArray(n.cities),
                                                    q = {};
                                                q[P] = 1, l.data.attacks.push({
                                                    ownerid: n.id,
                                                    destid: n.id,
                                                    from: {
                                                        x: e.x,
                                                        y: e.y
                                                    },
                                                    to: {
                                                        x: F.x,
                                                        y: F.y
                                                    },
                                                    dist: l.dataService.distance(e.x, e.y, F.x, F.y),
                                                    speed: l.dataService.speed(P, n.id, e, F),
                                                    progress: 0,
                                                    troops: q,
                                                    returning: !1,
                                                    agressive: !1,
                                                    noreturn: !1,
                                                    burn: !1
                                                }), e.troops[P]--
                                            }
                                        }
                                    }
                                    if (-1 == l.data.attacks.findIndex((function (n) {
                                            return n.to.x == e.x && n.to.y == e.y
                                        }))) {
                                        var U = l.dataService.citiesInRange(e, 10).filter((function (t) {
                                            return t.ownerid != n.id && (1 == t.ownerid || l.dataService.era(t.ownerid) != l.conf.eras.prehistory.id) && !(0 == t.ownerid && 0 == l.data.difficulty) && !(0 == t.ownerid && 1 == l.data.difficulty && 1 == n.id) && (1 == t.ownerid || 1 == n.id || l.dataService.atWar(n.id, t.ownerid)) && (3 != l.data.difficulty && l.dataService.cityAttack(e) > l.dataService.attackRatioRequired(n.civ_id) * l.dataService.playerAttack(l.dataService.player(t.ownerid)) / l.dataService.player(t.ownerid).cities.length || 3 == l.data.difficulty && l.dataService.cityAttack(e) > l.dataService.attackRatioRequired(n.civ_id) * l.dataService.cityAttack(t))
                                        }));
                                        if (U.length) {
                                            var $ = .05;
                                            if (1 == l.data.difficulty ? $ = 1 == n.id ? 0 : .05 : 2 == l.data.difficulty ? $ = 1 == n.id ? .01 : .1 : 3 == l.data.difficulty && ($ = 1 == n.id ? .1 : .5), Jf.roll($)) {
                                                var H = Jf.fromArray(U);
                                                !wa.production && e.troops.governor && console.log(n.name + " is launching an attack with gov from " + e.name + " to " + H.name);
                                                var V = {};
                                                for (var j in e.troops) l.conf.troops[j].special || ("governor" == j ? (V[j] = 1, e.troops[j] -= 1) : (V[j] = e.troops[j], delete e.troops[j]));
                                                var G = l.conf.barbarian_burn_chances;
                                                n.id > 1 && (G = l.conf.civilizations[n.civ_id].burn_chances);
                                                var W = Jf.roll(G);
                                                l.data.attacks.push({
                                                    ownerid: n.id,
                                                    destid: H.ownerid,
                                                    from: {
                                                        x: e.x,
                                                        y: e.y
                                                    },
                                                    to: {
                                                        x: H.x,
                                                        y: H.y
                                                    },
                                                    dist: l.dataService.distance(H.x, H.y, e.x, e.y),
                                                    speed: l.dataService.attackSpeed(V, e.ownerid, e, H),
                                                    progress: 0,
                                                    troops: V,
                                                    returning: !1,
                                                    agressive: !0,
                                                    burn: W
                                                }), 0 == H.ownerid && (l.toastService.danger("Incoming attack in " + H.name, $f.attack, "/game/attacks/"), l.data.autopause.incoming && (l.data.pause = !0))
                                            }
                                        }
                                    }
                                })), n.id > 1 && l.data.players.filter((function (e) {
                                    return 1 != e.id && e.id != n.id && l.dataService.haveRelation(n.id, e.id)
                                })).forEach((function (e) {
                                    n.appreciation[e.id] += l.dataService.diploDiff(n.id, e.id) / 12, n.appreciation[e.id] = vg.constraint(n.appreciation[e.id], 100, 0)
                                })), !n.science_queue.length) {
                                var e = [];
                                if (Object.values(l.conf.sciences).forEach((function (t) {
                                        l.dataService.isScienceAvailable(t.id, n) && e.push(t)
                                    })), e.length) {
                                    var t = Jf.fromArray(e),
                                        i = "astronomy";
                                    "portuguese" == n.civ_id && (i = "education"), e.some((function (n) {
                                        return n.id == i
                                    })) && (t = l.conf.sciences[i]), n.science_queue = [t.id], n.sciences[t.id] = {
                                        progress: 0,
                                        done: !1
                                    }
                                }
                            }
                            if (1 != n.id) {
                                if (n.culture >= l.dataService.cultureCost(n)) {
                                    var u = [];
                                    if (Object.values(l.conf.policies.groups).forEach((function (e) {
                                            l.isGroupAvailable(n, e) && !n.policies.groups.includes(e.id) && u.push(e)
                                        })), u.length) {
                                        var r = Jf.fromArray(u);
                                        n.culture -= l.dataService.cultureCost(n), n.policies.groups.push(r.id)
                                    } else {
                                        var a = [];
                                        if (Object.values(l.conf.policies.policies).forEach((function (e) {
                                                l.isPolicyAvailable(n, e) && !n.policies.policies.includes(e.id) && a.push(e)
                                            })), a.length) {
                                            var o = Jf.fromArray(a);
                                            n.culture -= l.dataService.cultureCost(n), n.policies.policies.push(o.id)
                                        }
                                    }
                                }
                                if (Jf.roll((l.conf.civilizations[n.civ_id].mult.culture - 1) / 1e3)) {
                                    var s = Jf.fromArray(l.data.players.filter((function (e) {
                                        return 1 != e.id && e.id != n.id && l.dataService.haveRelation(n.id, e.id) && !l.dataService.atWar(n.id, e.id)
                                    })));
                                    s && l.dataService.promote(n.id, s.id) && 0 == s.id && l.toastService.info(n.name + " have been promoting their culture to us.", $f.culture, "/game/diplomacy#tab_influence")
                                }
                            }
                        })))
                    }
                }, {
                    key: "isPolicyAvailable",
                    value: function (n, l) {
                        return this.dataService.isPolicyAvailable(l, n.id)
                    }
                }, {
                    key: "isGroupAvailable",
                    value: function (n, l) {
                        return this.dataService.isPolicyGroupAvailable(l, n.id)
                    }
                }, {
                    key: "isTroopAvailable",
                    value: function (n, l, e) {
                        return this.dataService.isTroopAvailable(n, l, e)
                    }
                }, {
                    key: "isBuildingAvailable",
                    value: function (n, l) {
                        return this.dataService.isBuildingSelectable(n, l)
                    }
                }]), n
            }(),
            Ny = new Dn("WindowToken", "undefined" != typeof window && window.document ? {
                providedIn: "root",
                factory: function () {
                    return window
                }
            } : void 0),
            By = ((Ay = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.document = l, this.window = e, this.copySubject = new P, this.copyResponse$ = this.copySubject.asObservable(), this.config = {}
                }
                return _createClass(n, [{
                    key: "configure",
                    value: function (n) {
                        this.config = n
                    }
                }, {
                    key: "copy",
                    value: function (n) {
                        if (!this.isSupported || !n) return this.pushCopyResponse({
                            isSuccess: !1,
                            content: n
                        });
                        var l = this.copyFromContent(n);
                        return this.pushCopyResponse(l ? {
                            content: n,
                            isSuccess: l
                        } : {
                            isSuccess: !1,
                            content: n
                        })
                    }
                }, {
                    key: "isTargetValid",
                    value: function (n) {
                        if (n instanceof HTMLInputElement || n instanceof HTMLTextAreaElement) {
                            if (n.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                            return !0
                        }
                        throw new Error("Target should be input or textarea")
                    }
                }, {
                    key: "copyFromInputElement",
                    value: function (n) {
                        var l = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        try {
                            this.selectTarget(n);
                            var e = this.copyText();
                            return this.clearSelection(l ? n : void 0, this.window), e && this.isCopySuccessInIE11()
                        } catch (t) {
                            return !1
                        }
                    }
                }, {
                    key: "isCopySuccessInIE11",
                    value: function () {
                        var n = this.window.clipboardData;
                        return !(n && n.getData && !n.getData("Text"))
                    }
                }, {
                    key: "copyFromContent",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.document.body;
                        if (this.tempTextArea && !l.contains(this.tempTextArea) && this.destroy(this.tempTextArea.parentElement), !this.tempTextArea) {
                            this.tempTextArea = this.createTempTextArea(this.document, this.window);
                            try {
                                l.appendChild(this.tempTextArea)
                            } catch (t) {
                                throw new Error("Container should be a Dom element")
                            }
                        }
                        this.tempTextArea.value = n;
                        var e = this.copyFromInputElement(this.tempTextArea, !1);
                        return this.config.cleanUpAfterCopy && this.destroy(this.tempTextArea.parentElement), e
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.document.body;
                        this.tempTextArea && (n.removeChild(this.tempTextArea), this.tempTextArea = void 0)
                    }
                }, {
                    key: "selectTarget",
                    value: function (n) {
                        return n.select(), n.setSelectionRange(0, n.value.length), n.value.length
                    }
                }, {
                    key: "copyText",
                    value: function () {
                        return this.document.execCommand("copy")
                    }
                }, {
                    key: "clearSelection",
                    value: function (n, l) {
                        n && n.focus(), l.getSelection().removeAllRanges()
                    }
                }, {
                    key: "createTempTextArea",
                    value: function (n, l) {
                        var e, t = "rtl" === n.documentElement.getAttribute("dir");
                        return (e = n.createElement("textarea")).style.fontSize = "12pt", e.style.border = "0", e.style.padding = "0", e.style.margin = "0", e.style.position = "absolute", e.style[t ? "right" : "left"] = "-9999px", e.style.top = (l.pageYOffset || n.documentElement.scrollTop) + "px", e.setAttribute("readonly", ""), e
                    }
                }, {
                    key: "pushCopyResponse",
                    value: function (n) {
                        this.copySubject.next(n)
                    }
                }, {
                    key: "pushCopyReponse",
                    value: function (n) {
                        this.pushCopyResponse(n)
                    }
                }, {
                    key: "isSupported",
                    get: function () {
                        return !!this.document.queryCommandSupported && !!this.document.queryCommandSupported("copy") && !!this.window
                    }
                }]), n
            }()).ngInjectableDef = bn({
                factory: function () {
                    return new Ay(Hn(Ro), Hn(Ny, 8))
                },
                token: Ay,
                providedIn: "root"
            }), Ay),
            zy = function n() {
                _classCallCheck(this, n)
            },
            Ly = et({
                encapsulation: 0,
                styles: [["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.opacity-90[_ngcontent-%COMP%]{opacity:.9}.opacity-90[_ngcontent-%COMP%]:hover{opacity:1}"]],
                data: {}
            });

        function Fy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "a", [["class", "mr-2 text-center text-culture text-truncate text-90"], ["routerLink", "/game/policies"], ["style", "width: 200px"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " (", ")"])), cr(4, 1), cr(5, 2)], (function (n, l) {
                n(l, 1, 0, "/game/policies")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, e.icons.culture);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.dataService.player().culture)),
                    i = Je(l, 3, 1, n(l, 5, 0, Jt(l.parent, 0), e.dataService.cultureDiff(), "+.1"));
                n(l, 3, 0, t, i)
            }))
        }

        function qy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "a", [["class", "mr-2 text-center text-trade"], ["fragment", "tab_trade"], ["routerLink", "/game/diplomacy"], ["style", "width: 88px"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"],
                routerLink: [1, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " / ", " "]))], (function (n, l) {
                n(l, 1, 0, "tab_trade", "/game/diplomacy")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, e.icons.trade), n(l, 3, 0, e.dataService.tradeRouteNb(), e.dataService.maxTradeRoute())
            }))
        }

        function Uy(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, "a", [["class", "mr-2 text-center text-colony"], ["fragment", "tab_colonies"], ["placement", "bottom"], ["routerLink", "/game/diplomacy"], ["style", "width: 88px"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"],
                routerLink: [1, "routerLink"]
            }, null), hi(2, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(4, null, [" ", " / ", " "])), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, "tab_colonies", "/game/diplomacy"), n(l, 2, 0, Jt(l.parent, 53), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 3, 0, e.icons.colony), n(l, 4, 0, e.dataService.colonyNb(), e.dataService.coloniesAvailable())
            }))
        }

        function $y(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "a", [["class", "ml-1"], ["routerLink", "/game/science"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), pr(2, null, [" ", " ", " (", ") "])), cr(3, 1), cr(4, 2)], (function (n, l) {
                n(l, 1, 0, "/game/science")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href);
                var t = e.conf.sciences[e.dataService.player().science_queue[0]].label,
                    i = Je(l, 2, 1, n(l, 3, 0, Jt(l.parent, 2), e.dataService.scienceTime())),
                    u = Je(l, 2, 2, n(l, 4, 0, Jt(l.parent, 0), e.dataService.scienceDiff(), "+.1"));
                n(l, 2, 0, t, i, u)
            }))
        }

        function Hy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "a", [["routerLink", "/game/science"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), pr(-1, null, ["Nothing selected"]))], (function (n, l) {
                n(l, 1, 0, "/game/science")
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href)
            }))
        }

        function Vy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "mr-2 text-center text-faith text-90"], ["style", "width: 135px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" ", " (", ")"])), cr(3, 1), cr(4, 2)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.faith);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent, 0), e.dataService.player().faith)),
                    i = Je(l, 2, 1, n(l, 4, 0, Jt(l.parent, 0), e.dataService.faithDiff(), "+.1"));
                n(l, 2, 0, t, i)
            }))
        }

        function jy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "mr-2 text-center text-progress"], ["style", "width: 88px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" ", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.progress);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent, 0), e.dataService.player().progress));
                n(l, 2, 0, t)
            }))
        }

        function Gy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "a", [["fragment", "tab_orientation"], ["routerLink", "/game/empire"]], [[8, "className", 0], [1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"],
                routerLink: [1, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " "])), cr(4, 2)], (function (n, l) {
                n(l, 1, 0, "tab_orientation", "/game/empire")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.dataService.player().orientation >= 0 ? "text-tech mr-2" : "text-magic mr-2", Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, e.dataService.player().orientation >= 0 ? e.icons.tech : e.icons.spells);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.dataService.player().orientation, "+.0"));
                n(l, 3, 0, t)
            }))
        }

        function Wy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "a", [["class", "text-prestige mr-2'"], ["fragment", "tab_prestige"], ["routerLink", "/game/powers"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"],
                routerLink: [1, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " "])), cr(4, 1)], (function (n, l) {
                n(l, 1, 0, "tab_prestige", "/game/powers")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, e.icons.prestige);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.data.prestige));
                n(l, 3, 0, t)
            }))
        }

        function Ky(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "a", [["class", "mr-2 text-center text-120 line-height-1"], ["routerLink", "/game/deity"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(4, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(5, {
                color: 0
            })], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "/game/deity");
                var t = n(l, 5, 0, e.conf.deities[e.dataService.player().deity].color);
                n(l, 4, 0, t)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, e.conf.deities[e.dataService.player().deity].icon)
            }))
        }

        function Zy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-success btn-sm"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.terminal() && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [["class", "fas fa-terminal"]], null, null, null, null, null))], null, null)
        }

        function Qy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "cursor-pointer p-3 opacity-90"], ["title", "Fullscreen"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.expand() && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.expand)
            }))
        }

        function Yy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(", "s)"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.saveTime())
            }))
        }

        function Xy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 25, "div", [["class", "btn-group mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "button", [["class", "btn btn-primary btn-sm text-nowrap"], ["style", "width:78px"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.save() && t), t
            }), null, null)), (n()(), pr(-1, null, [" Save "])), (n()(), Yu(16777216, null, null, 1, null, Yy)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, null, null, 20, "div", [["class", "btn-group"], ["container", "body"], ["ngbDropdown", ""]], [[2, "show", null]], null, null, null, null)), hi(6, 1720320, null, 3, bm, [Nl, pm, Ro, pu, pe, me, [2, fm]], {
                container: [0, "container"]
            }, null), tr(603979776, 1, {
                _menu: 0
            }), tr(603979776, 2, {
                _menuElement: 0
            }), tr(603979776, 3, {
                _anchor: 0
            }), (n()(), Xu(10, 0, null, null, 2, "button", [["aria-haspopup", "true"], ["class", "btn btn-primary dropdown-toggle-split btn-sm dropdown-toggle"], ["ngbDropdownToggle", ""]], [[1, "aria-expanded", 0]], [[null, "click"], [null, "keydown.ArrowUp"], [null, "keydown.ArrowDown"], [null, "keydown.Home"], [null, "keydown.End"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 11).dropdown.toggle() && t), "keydown.ArrowUp" === l && (t = !1 !== Jt(n, 11).dropdown.onKeyDown(e) && t), "keydown.ArrowDown" === l && (t = !1 !== Jt(n, 11).dropdown.onKeyDown(e) && t), "keydown.Home" === l && (t = !1 !== Jt(n, 11).dropdown.onKeyDown(e) && t), "keydown.End" === l && (t = !1 !== Jt(n, 11).dropdown.onKeyDown(e) && t), t
            }), null, null)), hi(11, 16384, null, 0, ym, [bm, pe], null, null), fi(2048, [[3, 4]], mm, null, [ym]), (n()(), Xu(13, 0, [[2, 0]], null, 12, "div", [["class", "dropdown-menu"], ["ngbDropdownMenu", ""]], [[2, "dropdown-menu", null], [2, "show", null], [1, "x-placement", 0]], [[null, "keydown.ArrowUp"], [null, "keydown.ArrowDown"], [null, "keydown.Home"], [null, "keydown.End"], [null, "keydown.Enter"], [null, "keydown.Space"]], (function (n, l, e) {
                var t = !0;
                return "keydown.ArrowUp" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), "keydown.ArrowDown" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), "keydown.Home" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), "keydown.End" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), "keydown.Enter" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), "keydown.Space" === l && (t = !1 !== Jt(n, 14).dropdown.onKeyDown(e) && t), t
            }), null, null)), hi(14, 16384, [[1, 4]], 1, vm, [bm], null, null), tr(603979776, 4, {
                menuItems: 1
            }), (n()(), Xu(16, 0, null, null, 4, "button", [["class", "dropdown-item"], ["hover-class", "bg-primary text-light"], ["ngbDropdownItem", ""]], [[2, "disabled", null]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 18).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 18).onMouseLeave() && t), "click" === l && (t = !1 !== i.open(Jt(n.parent, 50)) && t), t
            }), null, null)), hi(17, 16384, [[4, 4]], 0, gm, [pe], null, null), hi(18, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Export"])), (n()(), Xu(21, 0, null, null, 4, "button", [["class", "dropdown-item"], ["hover-class", "bg-primary text-light"], ["ngbDropdownItem", ""]], [[2, "disabled", null]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 23).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 23).onMouseLeave() && t), "click" === l && (t = !1 !== i.download(!0) && t), t
            }), null, null)), hi(22, 16384, [[4, 4]], 0, gm, [pe], null, null), hi(23, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(24, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Download"]))], (function (n, l) {
                n(l, 4, 0, l.component.data.tuto_done), n(l, 6, 0, "body"), n(l, 18, 0, "bg-primary text-light"), n(l, 23, 0, "bg-primary text-light")
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Jt(l, 6).isOpen()), n(l, 10, 0, Jt(l, 11).dropdown.isOpen()), n(l, 13, 0, !0, Jt(l, 14).dropdown.isOpen(), Jt(l, 14).placement), n(l, 16, 0, Jt(l, 17).disabled), n(l, 19, 0, e.icons.copy), n(l, 21, 0, Jt(l, 22).disabled), n(l, 24, 0, e.icons.download)
            }))
        }

        function Jy(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm text-nowrap"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.open(Jt(n.parent, 50)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Save"]))], null, null)
        }

        function nb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-outline-warning btn-sm"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.reincarnation(Jt(n.parent, 51)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Reincarnation ("])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" +", ") "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.favor), n(l, 3, 0, e.favorGain())
            }))
        }

        function lb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-outline-warning btn-sm"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.reincarnation(Jt(n.parent, 52)) && t), t
            }), null, null)), (n()(), pr(-1, null, [" Time Travel ("])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" +", ") "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.prestige), n(l, 3, 0, e.dataService.prestigeGain())
            }))
        }

        function eb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Export save"])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 5, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "textarea", [["class", "form-control"], ["readonly", ""]], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 2, "div", [["class", "bg-success text-light p-3 mt-3 rounded font-weight-bold"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Save has been copied to clipboard"])), (n()(), Xu(12, 0, null, null, 5, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 2, "button", [["class", "btn btn-primary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.download() && t), t
            }), null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Download"])), (n()(), Xu(16, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Close"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.saveStr), n(l, 10, 0, e.icons.copy), n(l, 14, 0, e.icons.download)
            }))
        }

        function tb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 16, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You will gain: "])), (n()(), Xu(2, 0, null, null, 2, "b", [["class", "mr-1"]], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), cr(4, 1), (n()(), Xu(5, 0, null, null, 4, "span", [], null, null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(7, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(8, {
                color: 0
            }), (n()(), Xu(9, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" and "])), (n()(), Xu(11, 0, null, null, 2, "b", [["class", "mr-1"]], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), cr(13, 1), (n()(), Xu(14, 0, null, null, 1, "span", [["class", "text-dark"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" ( based on your current faith) "]))], (function (n, l) {
                var e = l.component,
                    t = n(l, 8, 0, e.conf.deities[e.dataService.player().deity].color);
                n(l, 7, 0, t)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.favorGain()[0]));
                n(l, 3, 0, t), n(l, 9, 0, e.icons.favor);
                var i = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent.parent, 0), e.dataService.favorGain()[1]));
                n(l, 12, 0, i), n(l, 15, 0, e.icons.favor)
            }))
        }

        function ib(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You will gain "])), (n()(), Xu(2, 0, null, null, 1, "b", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["nothing !"]))], null, null)
        }

        function ub(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Reincarnation"])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 17, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Are you sure you want to reincarnate ?"])), (n()(), Yu(16777216, null, null, 1, null, tb)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(11, 0, null, null, 4, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Next favor point at: "])), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(14, null, [" ", ""])), cr(15, 1), (n()(), Yu(16777216, null, null, 1, null, ib)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(18, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You will keep : your powers, your previously earned favor"])), (n()(), Xu(20, 0, null, null, 3, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You will lose: "])), (n()(), Xu(22, 0, null, null, 1, "u", [], null, null, null, null, null)), (n()(), pr(-1, null, ["everything else"])), (n()(), Xu(24, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(27, 0, null, null, 1, "button", [["class", "btn btn-warning"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.doReincarnation() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Reincarnate !"]))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, 0 != e.dataService.favorGain()[1]), n(l, 17, 0, 0 == e.dataService.favorGain()[1])
            }), (function (n, l) {
                var e = l.component;
                n(l, 13, 0, e.icons.faith + " text-faith");
                var t = Je(l, 14, 0, n(l, 15, 0, Jt(l.parent, 0), e.dataService.nextPoint()));
                n(l, 14, 0, t)
            }))
        }

        function rb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You will gain: "])), (n()(), Xu(2, 0, null, null, 2, "b", [["class", "mr-1"]], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), cr(4, 1), (n()(), Xu(5, 0, null, null, 1, "span", [["class", "text-prestige"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" ( based on your current progress) "]))], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.prestigeGain()));
                n(l, 3, 0, t), n(l, 6, 0, e.icons.prestige)
            }))
        }

        function ab(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You will gain "])), (n()(), Xu(2, 0, null, null, 1, "b", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["nothing !"]))], null, null)
        }

        function ob(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Time Travel"])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 22, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Are you sure you want to time travel ?"])), (n()(), Yu(16777216, null, null, 1, null, rb)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(11, 0, null, null, 6, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Each "])), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" gives you a +1% bonus in "])), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" & "])), (n()(), Xu(17, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, ab)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(20, 0, null, null, 4, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You will keep : your "])), (n()(), Xu(22, 0, null, null, 1, "span", [["class", "text-prestige"]], null, null, null, null, null)), (n()(), Xu(23, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [", your powers, your previously earned favor"])), (n()(), Xu(25, 0, null, null, 3, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You will lose: "])), (n()(), Xu(27, 0, null, null, 1, "u", [], null, null, null, null, null)), (n()(), pr(-1, null, ["everything else"])), (n()(), Xu(29, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(32, 0, null, null, 1, "button", [["class", "btn btn-warning"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.doReincarnation() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Time Travel !"]))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, 0 != e.dataService.prestigeGain()), n(l, 19, 0, 0 == e.dataService.prestigeGain())
            }), (function (n, l) {
                var e = l.component;
                n(l, 13, 0, e.icons.prestige + " text-prestige"), n(l, 15, 0, e.icons.food + " text-food"), n(l, 17, 0, e.icons.prod + " text-prod"), n(l, 23, 0, e.icons.prestige)
            }))
        }

        function sb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Science (empire)"])), (n()(), Xu(4, 0, null, null, 2, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), cr(6, 1), (n()(), Xu(7, 0, null, null, 2, "td", [["class", "text-science pl-1"]], null, null, null, null, null)), (n()(), pr(8, null, ["", " "])), cr(9, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.science);
                var t = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent.parent, 1), e.dataService.colonyScienceBonus()));
                n(l, 5, 0, t);
                var i = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent.parent, 1), e.dataService.colonyTotalScienceBonus()));
                n(l, 8, 0, i)
            }))
        }

        function cb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "d-block"]], null, null, null, null, null)), (n()(), pr(1, null, ["Available colonies (global): ", ""])), (n()(), Xu(2, 0, null, null, 1, "b", [["class", "d-block"]], null, null, null, null, null)), (n()(), pr(3, null, ["Occupied colonies (global): ", ""])), (n()(), Xu(4, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colony Bonus"])), (n()(), Xu(6, 0, null, null, 41, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 40, "tbody", [], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["colony"])), (n()(), Xu(12, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["total"])), (n()(), Xu(14, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 2, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Gold (empire)"])), (n()(), Xu(18, 0, null, null, 2, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), pr(19, null, ["", ""])), cr(20, 1), (n()(), Xu(21, 0, null, null, 2, "td", [["class", "text-gold pl-1"]], null, null, null, null, null)), (n()(), pr(22, null, ["", ""])), cr(23, 1), (n()(), Xu(24, 0, null, null, 11, "tr", [], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 4, "td", [["class", ""]], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" / "])), (n()(), Xu(28, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" (city)"])), (n()(), Xu(30, 0, null, null, 2, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), pr(31, null, ["", ""])), cr(32, 1), (n()(), Xu(33, 0, null, null, 2, "td", [["class", "text-gold pl-1"]], null, null, null, null, null)), (n()(), pr(34, null, ["", " "])), cr(35, 1), (n()(), Xu(36, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(37, 0, null, null, 2, "td", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), Xu(38, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Happiness (empire)"])), (n()(), Xu(40, 0, null, null, 2, "td", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), pr(41, null, ["", ""])), cr(42, 1), (n()(), Xu(43, 0, null, null, 2, "td", [["class", "text-happiness pl-1"]], null, null, null, null, null)), (n()(), pr(44, null, [" ", " "])), cr(45, 1), (n()(), Yu(16777216, null, null, 1, null, sb)), hi(47, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 47, 0, l.component.dataService.hasPolicy("geographical"))
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.coloniesAvailable()), n(l, 3, 0, e.conf.colony_nb - e.dataService.coloniesAvailable()), n(l, 16, 0, e.icons.gold);
                var t = Je(l, 19, 0, n(l, 20, 0, Jt(l.parent, 1), e.dataService.colonyGoldBonus()));
                n(l, 19, 0, t);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 1), e.dataService.colonyTotalGoldBonus()));
                n(l, 22, 0, i), n(l, 26, 0, "text-gold " + e.icons.gold), n(l, 28, 0, "text-trade " + e.icons.trade);
                var u = Je(l, 31, 0, n(l, 32, 0, Jt(l.parent, 1), e.dataService.colonyTradeGoldBonus()));
                n(l, 31, 0, u);
                var r = Je(l, 34, 0, n(l, 35, 0, Jt(l.parent, 1), e.dataService.colonyTotalTradeGoldBonus()));
                n(l, 34, 0, r), n(l, 38, 0, e.icons.happiness);
                var a = Je(l, 41, 0, n(l, 42, 0, Jt(l.parent, 1), e.dataService.colonyHappinessBonus()));
                n(l, 41, 0, a);
                var o = Je(l, 44, 0, n(l, 45, 0, Jt(l.parent, 1), e.dataService.colonyTotalHappinessBonus()));
                n(l, 44, 0, o)
            }))
        }

        function db(n) {
            return vr(0, [pi(0, Py, []), pi(0, Oy, []), pi(0, ay, []), (n()(), Xu(3, 0, null, null, 46, "nav", [["class", "d-flex bg-dark text-light p-2 text-110 font-weight-bold overflow-hidden"], ["style", "height:47px;"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 2, "div", [["class", "mr-2 text-center text-pop"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(6, null, [" ", " "])), (n()(), Yu(16777216, null, null, 1, null, Fy)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(9, 0, null, null, 3, "div", [["class", "mr-2 text-center text-happiness"], ["style", "width: 75px"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(11, null, [" ", " "])), cr(12, 1), (n()(), Yu(16777216, null, null, 1, null, qy)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Uy)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(17, 0, null, null, 5, "div", [["class", "mr-2 text-center text-science text-truncate text-90"], ["style", "max-width:300px"]], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, $y)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Hy)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Vy)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, jy)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Gy)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Wy)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(31, 0, null, null, 18, "div", [["class", "ml-auto"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ky)), hi(33, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(34, 0, null, null, 1, "span", [["class", "cursor-pointer p-3 opacity-90"], ["title", "Play/pause [space]"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = 0 != (i.data.pause = !i.data.pause) && t), t
            }), null, null)), (n()(), Xu(35, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Zy)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Qy)), hi(39, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Xy)), hi(41, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Jy)), hi(43, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, nb)), hi(45, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, lb)), hi(47, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(48, 0, null, null, 1, "span", [["class", "cursor-pointer p-3 opacity-90"], ["title", "Exit"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.exit() && t), t
            }), null, null)), (n()(), Xu(49, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(0, [["content", 2]], null, 0, null, eb)), (n()(), Yu(0, [["confirmation", 2]], null, 0, null, ub)), (n()(), Yu(0, [["confirmation2", 2]], null, 0, null, ob)), (n()(), Yu(0, [["popColony", 2]], null, 0, null, cb))], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.dataService.hasScience("art")), n(l, 14, 0, e.dataService.isUnlocked("trade")), n(l, 16, 0, e.dataService.isUnlocked("colonization")), n(l, 20, 0, e.dataService.player().science_queue.length), n(l, 22, 0, !e.dataService.player().science_queue.length), n(l, 24, 0, e.dataService.hasScience("spirituality") && e.dataService.player().orientation <= 0), n(l, 26, 0, e.dataService.player().orientation > 0), n(l, 28, 0, e.dataService.isUnlocked("orientation")), n(l, 30, 0, e.data.prestige), n(l, 33, 0, e.dataService.player().deity), n(l, 37, 0, !e.environment.production), n(l, 39, 0, e.inIframe()), n(l, 41, 0, !e.data.noautosave), n(l, 43, 0, e.data.noautosave), n(l, 45, 0, e.dataService.isUnlocked("reincarnation") && e.dataService.player().orientation <= 0), n(l, 47, 0, e.dataService.player().orientation > 0)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.icons.pop), n(l, 6, 0, e.dataService.pop()), n(l, 10, 0, e.icons.happiness);
                var t = Je(l, 11, 0, n(l, 12, 0, Jt(l, 1), e.dataService.happiness()));
                n(l, 11, 0, t), n(l, 18, 0, e.icons.science), n(l, 35, 0, e.data.pause ? e.icons.play + " text-warning" : e.icons.pause), n(l, 49, 0, e.icons.exit)
            }))
        }
        var hb = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.conf = t, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "getIncomings",
                    value: function () {
                        return this.data.attacks.filter((function (n) {
                            return 0 == n.destid && 0 != n.ownerid && !n.returning
                        })).length
                    }
                }, {
                    key: "hasNewReports",
                    value: function () {
                        return -1 != this.data.reports.findIndex((function (n) {
                            return !n.read
                        }))
                    }
                }, {
                    key: "hasNewPolicy",
                    value: function () {
                        return this.dataService.hasAnyPolicyAvailable()
                    }
                }, {
                    key: "hasSomethingToBuild",
                    value: function () {
                        var n = this;
                        return this.dataService.isUnlocked("buildings") && this.dataService.isUnlocked("citizen_builders") && this.dataService.player().cities.some((function (l) {
                            return !l.building_queue.length && n.dataService.hasAnyBuildingAvailable(l)
                        }))
                    }
                }]), n
            }(),
            pb = et({
                encapsulation: 0,
                styles: [["li[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]{padding:.5rem 1.25rem!important}.list-group-min[_ngcontent-%COMP%]{width:58px;text-align:center}.list-group-min[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:.5rem!important}"]],
                data: {}
            });

        function fb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "li", [["class", "list-group-item"], ["routerLink", "empire"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[1, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActiveOptions: [0, "routerLinkActiveOptions"],
                routerLinkActive: [1, "routerLinkActive"]
            }, null), tr(603979776, 1, {
                links: 1
            }), tr(603979776, 2, {
                linksWithHrefs: 1
            }), dr(5, {
                exact: 0
            }), (n()(), pr(-1, null, [" Empire "]))], (function (n, l) {
                n(l, 1, 0, "empire");
                var e = n(l, 5, 0, !0);
                n(l, 2, 0, e, "active")
            }), null)
        }

        function gb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function vb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function mb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function yb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "policies"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[7, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 7, {
                links: 1
            }), tr(603979776, 8, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, mb)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" Social Policies "]))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "policies"), n(l, 2, 0, "active"), n(l, 6, 0, e.hasNewPolicy())
            }), null)
        }

        function bb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "world"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[9, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 9, {
                links: 1
            }), tr(603979776, 10, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["World"]))], (function (n, l) {
                n(l, 1, 0, "world"), n(l, 2, 0, "active")
            }), null)
        }

        function _b(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "badge badge-pill badge-danger"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.getIncomings())
            }))
        }

        function kb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "attacks"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[11, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 11, {
                links: 1
            }), tr(603979776, 12, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, _b)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" Attacks & Transfers "]))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "attacks"), n(l, 2, 0, "active"), n(l, 6, 0, e.getIncomings())
            }), null)
        }

        function wb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function xb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "reports"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[13, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 13, {
                links: 1
            }), tr(603979776, 14, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, wb)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" Battle reports"]))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "reports"), n(l, 2, 0, "active"), n(l, 6, 0, e.hasNewReports())
            }), null)
        }

        function Cb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "simulator"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[15, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 15, {
                links: 1
            }), tr(603979776, 16, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Battle simulator"]))], (function (n, l) {
                n(l, 1, 0, "simulator"), n(l, 2, 0, "active")
            }), null)
        }

        function Sb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "diplomacy"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[19, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 19, {
                links: 1
            }), tr(603979776, 20, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Diplomacy"]))], (function (n, l) {
                n(l, 1, 0, "diplomacy"), n(l, 2, 0, "active")
            }), null)
        }

        function Ib(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["& Upgrades"]))], null, null)
        }

        function Tb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "powers"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[21, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 21, {
                links: 1
            }), tr(603979776, 22, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Powers "])), (n()(), Yu(16777216, null, null, 1, null, Ib)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "powers"), n(l, 2, 0, "active"), n(l, 7, 0, e.data.prestige)
            }), null)
        }

        function Eb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 60, "div", [["class", "border-right position-relative overflow-hidden"], ["style", "min-width:230px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 59, "ul", [["class", "list-group"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, fb)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(4, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "city"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 5).onClick() && t), t
            }), null, null)), hi(5, 16384, [[3, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(6, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 3, {
                links: 1
            }), tr(603979776, 4, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, gb)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" City"])), (n()(), Xu(12, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "science"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 13).onClick() && t), t
            }), null, null)), hi(13, 16384, [[5, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(14, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 5, {
                links: 1
            }), tr(603979776, 6, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, vb)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, ["Science"])), (n()(), Yu(16777216, null, null, 1, null, yb)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bb)), hi(23, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kb)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xb)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Cb)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(30, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "notifications"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 31).onClick() && t), t
            }), null, null)), hi(31, 16384, [[17, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(32, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 17, {
                links: 1
            }), tr(603979776, 18, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Notifications"])), (n()(), Yu(16777216, null, null, 1, null, Sb)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Tb)), hi(39, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(40, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "help"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 41).onClick() && t), t
            }), null, null)), hi(41, 16384, [[23, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(42, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 23, {
                links: 1
            }), tr(603979776, 24, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Help"])), (n()(), Xu(46, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "options"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 47).onClick() && t), t
            }), null, null)), hi(47, 16384, [[25, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(48, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 25, {
                links: 1
            }), tr(603979776, 26, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Options"])), (n()(), Xu(52, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "support"], ["routerLinkActive", "active"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 53).onClick() && t), t
            }), null, null)), hi(53, 16384, [[27, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(54, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 27, {
                links: 1
            }), tr(603979776, 28, {
                linksWithHrefs: 1
            }), (n()(), pr(-1, null, ["Support & Credits"])), (n()(), Xu(58, 0, null, null, 2, "li", [["class", "list-group-item text-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.data.lefthidden = !0) && t), t
            }), null, null)), (n()(), Xu(59, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Minimize "]))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.dataService.isUnlocked("menu_empire")), n(l, 5, 0, "city"), n(l, 6, 0, "active"), n(l, 10, 0, e.hasSomethingToBuild()), n(l, 13, 0, "science"), n(l, 14, 0, "active"), n(l, 18, 0, !e.dataService.player().science_queue.length), n(l, 21, 0, e.dataService.isUnlocked("menu_policies")), n(l, 23, 0, e.dataService.isUnlocked("menu_world")), n(l, 25, 0, e.dataService.isUnlocked("menu_world")), n(l, 27, 0, e.dataService.isUnlocked("menu_world")), n(l, 29, 0, e.dataService.isUnlocked("menu_simulator")), n(l, 31, 0, "notifications"), n(l, 32, 0, "active"), n(l, 37, 0, e.dataService.isUnlocked("menu_diplomacy")), n(l, 39, 0, e.dataService.isUnlocked("menu_powers")), n(l, 41, 0, "help"), n(l, 42, 0, "active"), n(l, 47, 0, "options"), n(l, 48, 0, "active"), n(l, 53, 0, "support"), n(l, 54, 0, "active")
            }), (function (n, l) {
                n(l, 59, 0, l.component.icons.arrow_angle_left_double)
            }))
        }

        function Ab(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "li", [["class", "list-group-item"], ["routerLink", "empire"], ["routerLinkActive", "active"], ["title", "Empire"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[29, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActiveOptions: [0, "routerLinkActiveOptions"],
                routerLinkActive: [1, "routerLinkActive"]
            }, null), tr(603979776, 29, {
                links: 1
            }), tr(603979776, 30, {
                linksWithHrefs: 1
            }), dr(5, {
                exact: 0
            }), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "empire");
                var e = n(l, 5, 0, !0);
                n(l, 2, 0, e, "active")
            }), (function (n, l) {
                n(l, 6, 0, l.component.icons.empire)
            }))
        }

        function Pb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function Ob(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function Db(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function Rb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "policies"], ["routerLinkActive", "active"], ["title", "Social Policies"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[35, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 35, {
                links: 1
            }), tr(603979776, 36, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, Db)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "policies"), n(l, 2, 0, "active"), n(l, 6, 0, e.hasNewPolicy())
            }), (function (n, l) {
                n(l, 7, 0, l.component.icons.culture)
            }))
        }

        function Mb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "world"], ["routerLinkActive", "active"], ["title", "World"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[37, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 37, {
                links: 1
            }), tr(603979776, 38, {
                linksWithHrefs: 1
            }), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "world"), n(l, 2, 0, "active")
            }), (function (n, l) {
                n(l, 5, 0, l.component.icons.world)
            }))
        }

        function Nb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "badge badge-pill badge-danger"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.getIncomings())
            }))
        }

        function Bb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "attacks"], ["routerLinkActive", "active"], ["title", "Attacks & Transfers"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[39, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 39, {
                links: 1
            }), tr(603979776, 40, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, Nb)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "attacks"), n(l, 2, 0, "active"), n(l, 6, 0, e.getIncomings())
            }), (function (n, l) {
                n(l, 7, 0, l.component.icons.attack)
            }))
        }

        function zb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function Lb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "reports"], ["routerLinkActive", "active"], ["title", "Battle Reports"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[41, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 41, {
                links: 1
            }), tr(603979776, 42, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, zb)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "reports"), n(l, 2, 0, "active"), n(l, 6, 0, e.hasNewReports())
            }), (function (n, l) {
                n(l, 7, 0, l.component.icons.report)
            }))
        }

        function Fb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "simulator"], ["routerLinkActive", "active"], ["title", "Battle Simulator"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[43, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 43, {
                links: 1
            }), tr(603979776, 44, {
                linksWithHrefs: 1
            }), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "simulator"), n(l, 2, 0, "active")
            }), (function (n, l) {
                n(l, 5, 0, l.component.icons.simulator)
            }))
        }

        function qb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "diplomacy"], ["routerLinkActive", "active"], ["title", "Diplomacy"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[47, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 47, {
                links: 1
            }), tr(603979776, 48, {
                linksWithHrefs: 1
            }), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "diplomacy"), n(l, 2, 0, "active")
            }), (function (n, l) {
                n(l, 5, 0, l.component.icons.diplomacy)
            }))
        }

        function Ub(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "powers"], ["routerLinkActive", "active"], ["title", "Powers"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, [[49, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(2, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 49, {
                links: 1
            }), tr(603979776, 50, {
                linksWithHrefs: 1
            }), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "powers"), n(l, 2, 0, "active")
            }), (function (n, l) {
                n(l, 5, 0, l.component.icons.power)
            }))
        }

        function $b(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 59, "div", [["class", "border-right position-relative overflow-hidden"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 58, "ul", [["class", "list-group list-group-min"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ab)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(4, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "city"], ["routerLinkActive", "active"], ["title", "City"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 5).onClick() && t), t
            }), null, null)), hi(5, 16384, [[31, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(6, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 31, {
                links: 1
            }), tr(603979776, 32, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, Pb)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(12, 0, null, null, 7, "li", [["class", "list-group-item"], ["routerLink", "science"], ["routerLinkActive", "active"], ["title", "Science"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 13).onClick() && t), t
            }), null, null)), hi(13, 16384, [[33, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(14, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 33, {
                links: 1
            }), tr(603979776, 34, {
                linksWithHrefs: 1
            }), (n()(), Yu(16777216, null, null, 1, null, Ob)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Rb)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Mb)), hi(23, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Bb)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Lb)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Fb)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(30, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "notifications"], ["routerLinkActive", "active"], ["title", "Notifications"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 31).onClick() && t), t
            }), null, null)), hi(31, 16384, [[45, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(32, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 45, {
                links: 1
            }), tr(603979776, 46, {
                linksWithHrefs: 1
            }), (n()(), Xu(35, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, qb)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ub)), hi(39, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(40, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "help"], ["routerLinkActive", "active"], ["title", "Help"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 41).onClick() && t), t
            }), null, null)), hi(41, 16384, [[51, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(42, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 51, {
                links: 1
            }), tr(603979776, 52, {
                linksWithHrefs: 1
            }), (n()(), Xu(45, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(46, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "options"], ["routerLinkActive", "active"], ["title", "Options"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 47).onClick() && t), t
            }), null, null)), hi(47, 16384, [[53, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(48, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 53, {
                links: 1
            }), tr(603979776, 54, {
                linksWithHrefs: 1
            }), (n()(), Xu(51, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(52, 0, null, null, 5, "li", [["class", "list-group-item"], ["routerLink", "support"], ["routerLinkActive", "active"], ["title", "Support & Credits"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 53).onClick() && t), t
            }), null, null)), hi(53, 16384, [[55, 4]], 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), hi(54, 1720320, null, 2, up, [lp, pe, me, [2, ep], [2, tp]], {
                routerLinkActive: [0, "routerLinkActive"]
            }, null), tr(603979776, 55, {
                links: 1
            }), tr(603979776, 56, {
                linksWithHrefs: 1
            }), (n()(), Xu(57, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(58, 0, null, null, 1, "li", [["class", "list-group-item text-secondary"], ["title", "Expand"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.data.lefthidden = !1) && t), t
            }), null, null)), (n()(), Xu(59, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.dataService.isUnlocked("menu_empire")), n(l, 5, 0, "city"), n(l, 6, 0, "active"), n(l, 10, 0, e.hasSomethingToBuild()), n(l, 13, 0, "science"), n(l, 14, 0, "active"), n(l, 18, 0, !e.dataService.player().science_queue.length), n(l, 21, 0, e.dataService.isUnlocked("menu_policies")), n(l, 23, 0, e.dataService.isUnlocked("menu_world")), n(l, 25, 0, e.dataService.isUnlocked("menu_world")), n(l, 27, 0, e.dataService.isUnlocked("menu_world")), n(l, 29, 0, e.dataService.isUnlocked("menu_simulator")), n(l, 31, 0, "notifications"), n(l, 32, 0, "active"), n(l, 37, 0, e.dataService.isUnlocked("menu_diplomacy")), n(l, 39, 0, e.dataService.isUnlocked("menu_powers")), n(l, 41, 0, "help"), n(l, 42, 0, "active"), n(l, 47, 0, "options"), n(l, 48, 0, "active"), n(l, 53, 0, "support"), n(l, 54, 0, "active")
            }), (function (n, l) {
                var e = l.component;
                n(l, 11, 0, e.icons.city), n(l, 19, 0, e.icons.science), n(l, 35, 0, e.icons.notification), n(l, 45, 0, e.icons.help), n(l, 51, 0, e.icons.option), n(l, 57, 0, e.icons.support), n(l, 59, 0, e.icons.arrow_angle_right_double)
            }))
        }

        function Hb(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, Eb)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, $b)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, !e.data.lefthidden), n(l, 3, 0, e.data.lefthidden)
            }), null)
        }
        var Vb = et({
            encapsulation: 2,
            styles: ["ngb-alert{display:block}"],
            data: {}
        });

        function jb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "button", [["aria-label", "Close"], ["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.closeHandler() && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"]))], null, null)
        }

        function Gb(n) {
            return vr(2, [or(null, 0), (n()(), Yu(16777216, null, null, 1, null, jb)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.dismissible)
            }), null)
        }
        var Wb = $t("ngb-alert", pv, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-alert", [["class", "alert"], ["role", "alert"]], [[2, "alert-dismissible", null]], null, null, Gb, Vb)), hi(1, 638976, null, 0, pv, [hv, me, pe], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), (function (n, l) {
                    n(l, 0, 0, Jt(l, 1).dismissible)
                }))
            }), {
                dismissible: "dismissible",
                type: "type"
            }, {
                close: "close"
            }, ["*"]),
            Kb = et({
                encapsulation: 2,
                styles: ['ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],
                data: {}
            });

        function Zb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [["class", "ngb-dp-weekday ngb-dp-showweek"]], null, null, null, null, null))], null, null)
        }

        function Qb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "ngb-dp-weekday small"], ["role", "columnheader"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "]))], null, (function (n, l) {
                n(l, 1, 0, l.component.i18n.getWeekdayShortName(l.context.$implicit))
            }))
        }

        function Yb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "ngb-dp-week ngb-dp-weekdays"], ["role", "row"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Zb)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Qb)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.showWeekNumbers), n(l, 4, 0, e.month.weekdays)
            }), null)
        }

        function Xb(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "ngb-dp-week-number small text-muted"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.i18n.getWeekNumerals(l.parent.parent.context.$implicit.number))
            }))
        }

        function Jb(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function n_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, Jb)), hi(1, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.context, l.component.dayTemplate)
            }), null)
        }

        function l_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "ngb-dp-day"], ["role", "gridcell"]], [[2, "disabled", null], [8, "tabIndex", 0], [2, "hidden", null], [2, "ngb-dp-today", null], [1, "aria-label", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.doSelect(n.context.$implicit) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 1, null, n_)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, !l.context.$implicit.hidden)
            }), (function (n, l) {
                n(l, 0, 0, l.context.$implicit.context.disabled, l.context.$implicit.tabindex, l.context.$implicit.hidden, l.context.$implicit.context.today, l.context.$implicit.ariaLabel)
            }))
        }

        function e_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "ngb-dp-week"], ["role", "row"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Xb)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, l_)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.showWeekNumbers), n(l, 4, 0, l.parent.context.$implicit.days)
            }), null)
        }

        function t_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, e_)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, !l.context.$implicit.collapsed)
            }), null)
        }

        function i_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, Yb)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, t_)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.showWeekdays), n(l, 3, 0, e.month.weeks)
            }), null)
        }
        var u_ = et({
            encapsulation: 2,
            styles: ["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],
            data: {}
        });

        function r_(n) {
            return vr(2, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.i18n.getDayNumerals(e.date))
            }))
        }
        var a_ = et({
            encapsulation: 2,
            styles: ["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],
            data: {}
        });

        function o_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-datepicker-navigation-select", [["class", "ngb-dp-navigation-select"]], null, [[null, "select"]], (function (n, l, e) {
                var t = !0;
                return "select" === l && (t = !1 !== n.component.select.emit(e) && t), t
            }), m_, f_)), hi(1, 8437760, null, 0, dm, [Ov, me], {
                date: [0, "date"],
                disabled: [1, "disabled"],
                months: [2, "months"],
                years: [3, "years"]
            }, {
                select: "select"
            })], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.date, e.disabled, e.selectBoxes.months, e.selectBoxes.years)
            }), null)
        }

        function s_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [["class", "ngb-dp-arrow"]], null, null, null, null, null))], null, null)
        }

        function c_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [["class", "ngb-dp-arrow"]], null, null, null, null, null))], null, null)
        }

        function d_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, s_)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(2, 0, null, null, 1, "div", [["class", "ngb-dp-month-name"]], null, null, null, null, null)), (n()(), pr(3, null, [" ", " ", " "])), (n()(), Yu(16777216, null, null, 1, null, c_)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, l.context.index > 0), n(l, 5, 0, l.context.index !== e.months.length - 1)
            }), (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.i18n.getMonthFullName(l.context.$implicit.number, l.context.$implicit.year), e.i18n.getYearNumerals(l.context.$implicit.year))
            }))
        }

        function h_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, d_)), hi(1, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, l.component.months)
            }), null)
        }

        function p_(n) {
            return vr(2, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "ngb-dp-arrow"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "button", [["aria-label", "Previous month"], ["class", "btn btn-link ngb-dp-arrow-btn"], ["title", "Previous month"], ["type", "button"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.onClickPrev(e) && t), t
            }), null, null)), (n()(), Xu(2, 0, null, null, 0, "span", [["class", "ngb-dp-navigation-chevron"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, o_)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, h_)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "ngb-dp-arrow right"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "button", [["aria-label", "Next month"], ["class", "btn btn-link ngb-dp-arrow-btn"], ["title", "Next month"], ["type", "button"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.onClickNext(e) && t), t
            }), null, null)), (n()(), Xu(9, 0, null, null, 0, "span", [["class", "ngb-dp-navigation-chevron"]], null, null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.showSelect), n(l, 6, 0, !e.showSelect)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.prevDisabled), n(l, 8, 0, e.nextDisabled)
            }))
        }
        var f_ = et({
            encapsulation: 2,
            styles: ["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],
            data: {}
        });

        function g_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [], [[1, "aria-label", 0]], null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(3, null, ["", ""]))], (function (n, l) {
                n(l, 1, 0, l.context.$implicit), n(l, 2, 0, l.context.$implicit)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.i18n.getMonthFullName(l.context.$implicit, null == e.date ? null : e.date.year)), n(l, 3, 0, e.i18n.getMonthShortName(l.context.$implicit, null == e.date ? null : e.date.year))
            }))
        }

        function v_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(3, null, ["", ""]))], (function (n, l) {
                n(l, 1, 0, l.context.$implicit), n(l, 2, 0, l.context.$implicit)
            }), (function (n, l) {
                n(l, 3, 0, l.component.i18n.getYearNumerals(l.context.$implicit))
            }))
        }

        function m_(n) {
            return vr(2, [tr(402653184, 1, {
                monthSelect: 0
            }), tr(402653184, 2, {
                yearSelect: 0
            }), (n()(), Xu(2, 0, [[1, 0], ["month", 1]], null, 2, "select", [["aria-label", "Select month"], ["class", "custom-select"], ["title", "Select month"]], [[8, "disabled", 0]], [[null, "change"]], (function (n, l, e) {
                var t = !0;
                return "change" === l && (t = !1 !== n.component.changeMonth(e.target.value) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 1, null, g_)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(5, 0, [[2, 0], ["year", 1]], null, 2, "select", [["aria-label", "Select year"], ["class", "custom-select"], ["title", "Select year"]], [[8, "disabled", 0]], [[null, "change"]], (function (n, l, e) {
                var t = !0;
                return "change" === l && (t = !1 !== n.component.changeYear(e.target.value) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 1, null, v_)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.months), n(l, 7, 0, e.years)
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.disabled), n(l, 5, 0, e.disabled)
            }))
        }
        var y_ = et({
            encapsulation: 2,
            styles: ["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],
            data: {}
        });

        function b_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "btn-light"], ["ngbDatepickerDayView", ""]], [[2, "bg-primary", null], [2, "text-white", null], [2, "text-muted", null], [2, "outside", null], [2, "active", null]], null, null, r_, u_)), hi(1, 49152, null, 0, cm, [Ov], {
                currentMonth: [0, "currentMonth"],
                date: [1, "date"],
                disabled: [2, "disabled"],
                focused: [3, "focused"],
                selected: [4, "selected"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.context.currentMonth, l.context.date, l.context.disabled, l.context.focused, l.context.selected)
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 1).selected, Jt(l, 1).selected, Jt(l, 1).isMuted(), Jt(l, 1).isMuted(), Jt(l, 1).focused)
            }))
        }

        function __(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-datepicker-navigation", [], null, [[null, "navigate"], [null, "select"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "navigate" === l && (t = !1 !== i.onNavigateEvent(e) && t), "select" === l && (t = !1 !== i.onNavigateDateSelect(e) && t), t
            }), p_, a_)), hi(1, 49152, null, 0, Vv, [Ov], {
                date: [0, "date"],
                disabled: [1, "disabled"],
                months: [2, "months"],
                showSelect: [3, "showSelect"],
                prevDisabled: [4, "prevDisabled"],
                nextDisabled: [5, "nextDisabled"],
                selectBoxes: [6, "selectBoxes"]
            }, {
                navigate: "navigate",
                select: "select"
            })], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.model.firstDate, e.model.disabled, e.model.months, "select" === e.model.navigation, e.model.prevDisabled, e.model.nextDisabled, e.model.selectBoxes)
            }), null)
        }

        function k_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "ngb-dp-month-name"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", " ", " "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.i18n.getMonthFullName(l.parent.context.$implicit.number, l.parent.context.$implicit.year), e.i18n.getYearNumerals(l.parent.context.$implicit.year))
            }))
        }

        function w_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "ngb-dp-month"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, k_)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 1, "ngb-datepicker-month-view", [["role", "grid"]], null, [[null, "select"]], (function (n, l, e) {
                var t = !0;
                return "select" === l && (t = !1 !== n.component.onDateSelect(e) && t), t
            }), i_, Kb)), hi(4, 49152, null, 0, Hv, [Ov], {
                dayTemplate: [0, "dayTemplate"],
                month: [1, "month"],
                showWeekdays: [2, "showWeekdays"],
                showWeekNumbers: [3, "showWeekNumbers"]
            }, {
                select: "select"
            })], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, "none" === e.navigation || e.displayMonths > 1 && "select" === e.navigation), n(l, 4, 0, e.dayTemplate || Jt(l.parent, 1), l.context.$implicit, e.showWeekdays, e.showWeekNumbers)
            }), null)
        }

        function x_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function C_(n) {
            return vr(2, [tr(402653184, 1, {
                _monthsEl: 0
            }), (n()(), Yu(0, [["dt", 2]], null, 0, null, b_)), (n()(), Xu(2, 0, null, null, 2, "div", [["class", "ngb-dp-header"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, __)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, [[1, 0], ["months", 1]], null, 2, "div", [["class", "ngb-dp-months"]], null, [[null, "keydown"]], (function (n, l, e) {
                var t = !0;
                return "keydown" === l && (t = !1 !== n.component.onKeyDown(e) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 1, null, w_)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, x_)), hi(9, 540672, null, 0, To, [ze], {
                ngTemplateOutlet: [0, "ngTemplateOutlet"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, "none" !== e.navigation), n(l, 7, 0, e.model.months), n(l, 9, 0, e.footerTemplate)
            }), null)
        }
        var S_ = $t("ngb-datepicker", $v, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 4, "ngb-datepicker", [], null, null, null, C_, y_)), fi(5120, null, Mp, (function (n) {
                    return [n]
                }), [$v]), fi(512, null, Rv, Rv, [xv, Ov]), fi(512, null, Nv, Nv, [Rv, xv]), hi(4, 4964352, null, 0, $v, [Nv, Rv, xv, Ov, zv, Nl, pe, qv, pu], null, null)], (function (n, l) {
                    n(l, 4, 0)
                }), null)
            }), {
                dayTemplate: "dayTemplate",
                dayTemplateData: "dayTemplateData",
                displayMonths: "displayMonths",
                firstDayOfWeek: "firstDayOfWeek",
                footerTemplate: "footerTemplate",
                markDisabled: "markDisabled",
                maxDate: "maxDate",
                minDate: "minDate",
                navigation: "navigation",
                outsideDays: "outsideDays",
                showWeekdays: "showWeekdays",
                showWeekNumbers: "showWeekNumbers",
                startDate: "startDate"
            }, {
                navigate: "navigate",
                select: "select"
            }, []),
            I_ = et({
                encapsulation: 2,
                styles: ["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],
                data: {}
            });

        function T_(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.component.title)
            }))
        }

        function E_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function A_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "h3", [["class", "popover-header"]], null, null, null, null, null)), (n()(), Yu(0, [["simpleTitle", 2]], null, 0, null, T_)), (n()(), Yu(16777216, null, null, 1, null, E_)), hi(3, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.context, e.isTitleTemplate() ? e.title : Jt(l, 1))
            }), null)
        }

        function P_(n) {
            return vr(2, [(n()(), Xu(0, 0, null, null, 0, "div", [["class", "arrow"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, A_)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 1, "div", [["class", "popover-body"]], null, null, null, null, null)), or(null, 0)], (function (n, l) {
                n(l, 2, 0, null != l.component.title)
            }), null)
        }
        var O_ = $t("ngb-popover-window", qm, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-popover-window", [["role", "tooltip"]], [[8, "className", 0], [8, "id", 0]], null, null, P_, I_)), hi(1, 49152, null, 0, qm, [], null, null)], null, (function (n, l) {
                    n(l, 0, 0, "popover" + (Jt(l, 1).popoverClass ? " " + Jt(l, 1).popoverClass : ""), Jt(l, 1).id)
                }))
            }), {
                title: "title",
                id: "id",
                popoverClass: "popoverClass",
                context: "context"
            }, {}, ["*"]),
            D_ = et({
                encapsulation: 2,
                styles: [],
                data: {}
            });

        function R_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function M_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "li", [["class", "nav-item"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "a", [["class", "nav-link"], ["href", ""], ["role", "tab"]], [[8, "id", 0], [2, "active", null], [2, "disabled", null], [1, "tabindex", 0], [1, "aria-controls", 0], [1, "aria-selected", 0], [1, "aria-disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (n.component.select(n.context.$implicit.id), t = !1 !== e.preventDefault() && t), t
            }), null, null)), (n()(), pr(2, null, [" ", ""])), (n()(), Yu(16777216, null, null, 1, null, R_)), hi(4, 540672, null, 0, To, [ze], {
                ngTemplateOutlet: [0, "ngTemplateOutlet"]
            }, null)], (function (n, l) {
                n(l, 4, 0, null == l.context.$implicit.titleTpl ? null : l.context.$implicit.titleTpl.templateRef)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, l.context.$implicit.id, l.context.$implicit.id === e.activeId, l.context.$implicit.disabled, l.context.$implicit.disabled ? "-1" : void 0, e.destroyOnHide && l.context.$implicit.id !== e.activeId ? null : l.context.$implicit.id + "-panel", l.context.$implicit.id === e.activeId, l.context.$implicit.disabled), n(l, 2, 0, l.context.$implicit.title)
            }))
        }

        function N_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function B_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["role", "tabpanel"]], [[8, "className", 0], [1, "aria-labelledby", 0], [8, "id", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, N_)), hi(2, 540672, null, 0, To, [ze], {
                ngTemplateOutlet: [0, "ngTemplateOutlet"]
            }, null)], (function (n, l) {
                n(l, 2, 0, null == l.parent.context.$implicit.contentTpl ? null : l.parent.context.$implicit.contentTpl.templateRef)
            }), (function (n, l) {
                n(l, 0, 0, At(1, "tab-pane ", l.parent.context.$implicit.id === l.component.activeId ? "active" : null, ""), l.parent.context.$implicit.id, At(1, "", l.parent.context.$implicit.id, "-panel"))
            }))
        }

        function z_(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, B_)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, !e.destroyOnHide || l.context.$implicit.id === e.activeId)
            }), null)
        }

        function L_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "ul", [["role", "tablist"]], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, M_)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(3, 0, null, null, 2, "div", [["class", "tab-content"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, z_)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.tabs), n(l, 5, 0, e.tabs)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, "nav nav-" + e.type + ("horizontal" == e.orientation ? " " + e.justifyClass : " flex-column"))
            }))
        }
        var F_ = et({
            encapsulation: 2,
            styles: [".ngb-toasts{position:fixed;top:0;right:0;margin:.5em;z-index:1200}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}"],
            data: {}
        });

        function q_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "strong", [["class", "mr-auto"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.header)
            }))
        }

        function U_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function $_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "toast-header"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, U_)), hi(2, 540672, null, 0, To, [ze], {
                ngTemplateOutlet: [0, "ngTemplateOutlet"]
            }, null), (n()(), Xu(3, 0, null, null, 2, "button", [["aria-label", "Close"], ["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.hide() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"]))], (function (n, l) {
                n(l, 2, 0, l.component.contentHeaderTpl || Jt(l.parent, 0))
            }), null)
        }

        function H_(n) {
            return vr(0, [(n()(), Yu(0, [["headerTpl", 2]], null, 0, null, q_)), (n()(), Yu(16777216, null, null, 1, null, $_)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 1, "div", [["class", "toast-body"]], null, null, null, null, null)), or(null, 0)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.contentHeaderTpl || e.header)
            }), null)
        }
        var V_ = et({
            encapsulation: 2,
            styles: ["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],
            data: {}
        });

        function j_(n) {
            return vr(2, [(n()(), Xu(0, 0, null, null, 0, "div", [["class", "arrow"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [["class", "tooltip-inner"]], null, null, null, null, null)), or(null, 0)], null, null)
        }
        var G_ = $t("ngb-tooltip-window", ly, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-tooltip-window", [["role", "tooltip"]], [[8, "className", 0], [8, "id", 0]], null, null, j_, V_)), hi(1, 49152, null, 0, ly, [], null, null)], null, (function (n, l) {
                    n(l, 0, 0, "tooltip show" + (Jt(l, 1).tooltipClass ? " " + Jt(l, 1).tooltipClass : ""), Jt(l, 1).id)
                }))
            }), {
                id: "id",
                tooltipClass: "tooltipClass"
            }, {}, ["*"]),
            W_ = et({
                encapsulation: 2,
                styles: [],
                data: {}
            });

        function K_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-highlight", [], null, null, null, tk, J_)), hi(1, 573440, null, 0, ty, [], {
                result: [0, "result"],
                term: [1, "term"]
            }, null)], (function (n, l) {
                var e = l.context.formatter(l.context.result);
                n(l, 1, 0, e, l.context.term)
            }), null)
        }

        function Z_(n) {
            return vr(0, [(n()(), Yu(0, null, null, 0))], null, null)
        }

        function Q_(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "dropdown-item"], ["role", "option"], ["type", "button"]], [[8, "id", 0], [2, "active", null]], [[null, "mouseenter"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.markActive(n.context.index) && t), "click" === l && (t = !1 !== i.select(n.context.$implicit) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 2, null, Z_)), hi(2, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), dr(3, {
                result: 0,
                term: 1,
                formatter: 2
            })], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, l.context.$implicit, e.term, e.formatter);
                n(l, 2, 0, t, e.resultTemplate || Jt(l.parent, 0))
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.id + "-" + l.context.index, l.context.index === e.activeIdx)
            }))
        }

        function Y_(n) {
            return vr(0, [(n()(), Yu(0, [["rt", 2]], null, 0, null, K_)), (n()(), Yu(16777216, null, null, 1, null, Q_)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.results)
            }), null)
        }
        var X_ = $t("ngb-typeahead-window", iy, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-typeahead-window", [["class", "dropdown-menu show"], ["role", "listbox"]], [[8, "id", 0]], [[null, "mousedown"]], (function (n, l, e) {
                    var t = !0;
                    return "mousedown" === l && (t = !1 !== e.preventDefault() && t), t
                }), Y_, W_)), hi(1, 114688, null, 0, iy, [], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), (function (n, l) {
                    n(l, 0, 0, Jt(l, 1).id)
                }))
            }), {
                id: "id",
                focusFirst: "focusFirst",
                results: "results",
                term: "term",
                formatter: "formatter",
                resultTemplate: "resultTemplate"
            }, {
                selectEvent: "select",
                activeChangeEvent: "activeChange"
            }, []),
            J_ = et({
                encapsulation: 2,
                styles: [".ngb-highlight{font-weight:700}"],
                data: {}
            });

        function nk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.component.highlightClass), n(l, 1, 0, l.parent.context.$implicit)
            }))
        }

        function lk(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.parent.context.$implicit)
            }))
        }

        function ek(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, nk)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"],
                ngIfElse: [1, "ngIfElse"]
            }, null), (n()(), Yu(0, [["even", 2]], null, 0, null, lk))], (function (n, l) {
                n(l, 1, 0, l.context.odd, Jt(l, 2))
            }), null)
        }

        function tk(n) {
            return vr(2, [(n()(), Yu(16777216, null, null, 1, null, ek)), hi(1, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.parts)
            }), null)
        }
        var ik = et({
            encapsulation: 2,
            styles: [],
            data: {}
        });

        function uk(n) {
            return vr(0, [], null, null)
        }
        var rk = $t("ngb-modal-backdrop", Im, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-modal-backdrop", [["style", "z-index: 1050"]], [[8, "className", 0]], null, null, uk, ik)), hi(1, 49152, null, 0, Im, [], null, null)], null, (function (n, l) {
                    n(l, 0, 0, "modal-backdrop fade show" + (Jt(l, 1).backdropClass ? " " + Jt(l, 1).backdropClass : ""))
                }))
            }), {
                backdropClass: "backdropClass"
            }, {}, []),
            ak = et({
                encapsulation: 2,
                styles: ["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],
                data: {}
            });

        function ok(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["role", "document"]], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [["class", "modal-content"]], null, null, null, null, null)), or(null, 0)], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, "modal-dialog" + (e.size ? " modal-" + e.size : "") + (e.centered ? " modal-dialog-centered" : "") + (e.scrollable ? " modal-dialog-scrollable" : ""))
            }))
        }
        var sk = $t("ngb-modal-window", Pm, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "ngb-modal-window", [["role", "dialog"], ["tabindex", "-1"]], [[8, "className", 0], [1, "aria-modal", 0], [1, "aria-labelledby", 0]], null, null, ok, ak)), hi(1, 4440064, null, 0, Pm, [Ro, pe, pu], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), (function (n, l) {
                    n(l, 0, 0, "modal fade show d-block" + (Jt(l, 1).windowClass ? " " + Jt(l, 1).windowClass : ""), !0, Jt(l, 1).ariaLabelledBy)
                }))
            }), {
                ariaLabelledBy: "ariaLabelledBy",
                backdrop: "backdrop",
                centered: "centered",
                keyboard: "keyboard",
                scrollable: "scrollable",
                size: "size",
                windowClass: "windowClass"
            }, {
                dismissEvent: "dismiss"
            }, ["*"]),
            ck = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.toastService = l, this.router = e, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "click",
                    value: function (n) {
                        if (this.toastService.remove(n), n.link)
                            if (n.link.indexOf("#") >= 0) this.router.navigate([n.link.split("#")[0]], {
                                fragment: n.link.split("#")[1]
                            });
                            else if (n.link.indexOf("?") >= 0) {
                            var l = {};
                            n.link.split("?")[1].split("&").forEach((function (n) {
                                var e = n.split("=");
                                e.length > 1 && (l[e[0]] = e[1])
                            })), this.router.navigate([n.link.split("?")[0]], {
                                queryParams: l
                            })
                        } else this.router.navigate([n.link])
                    }
                }]), n
            }(),
            dk = et({
                encapsulation: 0,
                styles: [[".toast[_ngcontent-%COMP%]{width:250px}.toast[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem!important}.toast-body[_ngcontent-%COMP%]{padding:.5rem!important}"]],
                data: {}
            });

        function hk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, "text-120 " + l.parent.context.$implicit.icon)
            }))
        }

        function pk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "ngb-toast", [["aria-atomic", "true"], ["role", "alert"]], [[8, "className", 0], [1, "aria-live", 0], [2, "toast", null], [2, "show", null]], [[null, "hide"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "hide" === l && (t = !1 !== i.toastService.remove(n.context.$implicit) && t), "click" === l && (t = !1 !== i.click(n.context.$implicit) && t), t
            }), H_, F_)), hi(1, 1622016, null, 1, Jm, [[8, null], Xm], {
                delay: [0, "delay"],
                autohide: [1, "autohide"]
            }, {
                hideOutput: "hide"
            }), tr(335544320, 1, {
                contentHeaderTpl: 0
            }), (n()(), Xu(3, 0, null, 0, 6, "div", [["class", "d-flex cursor-pointer"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, hk)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 0, "div", [["class", "font-weight-bold ml-2 flex-fill"], ["style", "height:auto!important"]], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "div", [["class", "text-150 font-wieght-bold line-height-1"], ["title", "close"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.toastService.remove(n.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, [" \xd7"]))], (function (n, l) {
                n(l, 1, 0, l.context.$implicit.delay || 5e3, !0), n(l, 6, 0, l.context.$implicit.icon)
            }), (function (n, l) {
                n(l, 0, 0, l.context.$implicit.classname, Jt(l, 1).ariaLive, !0, !0), n(l, 7, 0, l.context.$implicit.text)
            }))
        }

        function fk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "position-absolute"], ["style", "bottom:0;right:0;z-index:5"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, pk)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.toastService.toasts)
            }), null)
        }
        var gk = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this.coreEngine = l, this.aiEngine = e, this.dataService = i, this.data = u, this.conf = r, this.icons = $f, this.tuto_step = 0, t.triggers = "hover"
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        32 == n.keyCode && "INPUT" != n.target.tagName.toUpperCase() && (this.data.pause = !this.data.pause, n.preventDefault())
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this.init(!1)
                    }
                }, {
                    key: "init",
                    value: function (n) {
                        n && (this.data.tuto_done = !0), this.data.tuto_done && (this.data.savetime = Date.now(), this.coreEngine.start(), this.aiEngine.start())
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.coreEngine.stop(), this.aiEngine.stop()
                    }
                }, {
                    key: "civExists",
                    value: function (n) {
                        return this.data.players.some((function (l) {
                            return l.civ_id == n
                        }))
                    }
                }]), n
            }(),
            vk = et({
                encapsulation: 0,
                styles: [[".tuto_bg[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;background-color:rgba(0,0,0,.85);padding:10px}"]],
                data: {}
            });

        function mk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "bounce"], ["routerLink", "/game/daily"], ["style", "position:absolute;right:225px;bottom:10px"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, null, 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "/game/daily")
            }), (function (n, l) {
                n(l, 2, 0, l.component.icons.daily)
            }))
        }

        function yk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "bounce"], ["routerLink", "/game/deity"], ["style", "position:absolute;right:300px;bottom:10px"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick() && t), t
            }), null, null)), hi(1, 16384, null, 0, ep, [lp, Gd, [8, null], me, pe], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, "/game/deity")
            }), (function (n, l) {
                n(l, 2, 0, l.component.icons.deity)
            }))
        }

        function bk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 12, "div", [["class", "tuto_bg d-flex justify-content-center align-items-center text-light text-150"], ["style", "top:0;left:0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 11, "div", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "h4", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Welcome to Cividlization II !"])), (n()(), Xu(4, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["This is a short tutorial to help you get started with this game."])), (n()(), Xu(6, 0, null, null, 1, "p", [["class", "text-90"]], null, null, null, null, null)), (n()(), pr(-1, null, ["It will not cover every feature of this game, you will need to refer to the help section to get more information."])), (n()(), Xu(8, 0, null, null, 4, "p", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "a", [["class", "btn mr-2 btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.init(!0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Skip"])), (n()(), Xu(11, 0, null, null, 1, "a", [["class", "btn mr-2 btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Next"]))], null, null)
        }

        function _k(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 38, "div", [["class", "tuto_bg d-flex justify-content-center align-items-top text-light text-120"], ["style", "top:47px;left:0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 37, "div", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [["class", "fas fa-long-arrow-alt-up text-200 ml-4"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["This is the topbar where you can see how your empire is going."])), (n()(), Xu(5, 0, null, null, 24, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, [" There's already a few interesting information to look at: "])), (n()(), Xu(7, 0, null, null, 22, "ul", [], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "span", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" represents the total population of your empire. The more population you have, the more you will be able to produce."])), (n()(), Xu(12, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "span", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Next to your population is the average happiness of your people. Happy citizens are more efficient so keep it up!"])), (n()(), Xu(16, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 1, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" represents your science production. you can see that you are not researching anything at the moment. Try to keep it active as much as possible or you will be left behind!"])), (n()(), Xu(20, 0, null, null, 2, "li", [], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" allows you to pause the game."])), (n()(), Xu(23, 0, null, null, 2, "li", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" allows you to switch between full screen and windowed."])), (n()(), Xu(26, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(27, 0, null, null, 1, "button", [["class", "btn mr-2 btn-primary btn-sm"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Save"])), (n()(), pr(-1, null, ["allows you to save your game locally. The game will save every 10s so you don't really have to actively save. You can also export your save to use it on another computer or if you play in private mode."])), (n()(), Xu(30, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["There will be more stuff in it when you will progress in the game."])), (n()(), Xu(32, 0, null, null, 6, "p", [], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 1, "a", [["class", "btn mr-2 btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.init(!0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Skip"])), (n()(), Xu(35, 0, null, null, 1, "a", [["class", "btn mr-2 btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Previous"])), (n()(), Xu(37, 0, null, null, 1, "a", [["class", "btn mr-2 btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 2) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Next"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.icons.pop), n(l, 14, 0, e.icons.happiness), n(l, 18, 0, e.icons.science), n(l, 21, 0, e.icons.pause), n(l, 24, 0, e.icons.expand)
            }))
        }

        function kk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 40, "div", [["class", "tuto_bg d-flex justify-content-center align-items-top text-light text-120"], ["style", "top:47px;left:16.6666666667%;width:83.3333333333%"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "div", [["class", "tuto_bg"], ["style", "top:0;left:0;height:47px"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [["class", "fas fa-long-arrow-alt-left text-200 mt-4 mr-4"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 37, "div", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["This is the main menu that will help you access the different screens you need to manage your empire."])), (n()(), Xu(6, 0, null, null, 27, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, [" There's not much at the moment but there will be more options in it when you will progress in the game: "])), (n()(), Xu(8, 0, null, null, 25, "ul", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), pr(-1, null, [" is the current screen. It allows you to manage your cities which is the core of your empire"])), (n()(), Xu(13, 0, null, null, 5, "li", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Science"])), (n()(), pr(-1, null, [" is where you will be able to select a science to work on. You can see a small icon "])), (n()(), Xu(17, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" which means that your attention is required. In this case it means that there is no science selected and that you should choose one."])), (n()(), Xu(19, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Notifications"])), (n()(), pr(-1, null, [" allows you to check all your previous notifications that appeared on screen. You will be notified every time an interesting event happens"])), (n()(), Xu(23, 0, null, null, 6, "li", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Help"])), (n()(), pr(-1, null, [" is a very important section since "])), (n()(), Xu(27, 0, null, null, 1, "u", [], null, null, null, null, null)), (n()(), pr(-1, null, ["there will not be any other tutorial"])), (n()(), pr(-1, null, [". It allows you to find all the information you need to play this game."])), (n()(), Xu(30, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(31, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Support & Credits"])), (n()(), pr(-1, null, [" This game is completly free but if you like it, you can support the dev there !"])), (n()(), Xu(34, 0, null, null, 6, "p", [], null, null, null, null, null)), (n()(), Xu(35, 0, null, null, 1, "a", [["class", "btn mr-2 btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.init(!0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Skip"])), (n()(), Xu(37, 0, null, null, 1, "a", [["class", "btn mr-2 btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Previous"])), (n()(), Xu(39, 0, null, null, 1, "a", [["class", "btn mr-2 btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 3) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Next"]))], null, (function (n, l) {
                n(l, 17, 0, l.component.icons.exclamation)
            }))
        }

        function wk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 43, "div", [["style", "top:0;left:0;width:100%;height:100vh;"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "div", [["class", "tuto_bg"], ["style", "top:0;left:0;width:16.7%"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "div", [["class", "tuto_bg"], ["style", "top:0;left:0;height:47px"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 40, "div", [["class", "tuto_bg d-flex justify-content-left align-items-top text-120 text-light pl-3"], ["style", "top:200px;left:16.6666666667%;width:83.3333333333%"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 39, "div", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["And this is the City Screen where you will be able to manage your cities"])), (n()(), Xu(7, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Let's see what we have in the menu on the left part of this screen"])), (n()(), Xu(9, 0, null, null, 21, "ul", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 8, "li", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You already know those icons: "])), (n()(), Xu(12, 0, null, null, 1, "span", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(14, 0, null, null, 1, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(16, 0, null, null, 1, "span", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" They have the same meaning but at the city level. "])), (n()(), Xu(19, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "span", [["class", "text-food"]], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" represents the food. If you want you city to grow, you will need to meet the requirements for food."])), (n()(), Xu(23, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "span", [["class", "text-health"]], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" represents the health of your citizens. Be careful not to let it go too low or disease will strike."])), (n()(), Xu(27, 0, null, null, 3, "li", [], null, null, null, null, null)), (n()(), Xu(28, 0, null, null, 1, "span", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(29, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" represents the gold in this city's treasury. You will need it for a lot of things that you will discover later in this game. There is a maximum amount that you can hold."])), (n()(), Xu(31, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["And now the central part of this screen shows your citizens and what they are doing. There are not a lot of roles at the moment but you will unlock others when you will progress."])), (n()(), Xu(33, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You can find more information about the roles in the help menu."])), (n()(), Xu(35, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["The autoassign option allows you to let the game allocate citizens automatically. You will find more information about it in the Help section "])), (n()(), Xu(37, 0, null, null, 6, "p", [], null, null, null, null, null)), (n()(), Xu(38, 0, null, null, 1, "a", [["class", "btn mr-2 btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.init(!0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Skip"])), (n()(), Xu(40, 0, null, null, 1, "a", [["class", "btn mr-2 btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 2) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Previous"])), (n()(), Xu(42, 0, null, null, 1, "a", [["class", "btn mr-2 btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 4) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Next"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 13, 0, e.icons.pop), n(l, 15, 0, e.icons.science), n(l, 17, 0, e.icons.happiness), n(l, 21, 0, e.icons.food), n(l, 25, 0, e.icons.health), n(l, 29, 0, e.icons.gold)
            }))
        }

        function xk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [["class", "tuto_bg d-flex justify-content-center align-items-center text-light text-150"], ["style", "top:0;left:0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 9, "div", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Alright, now you are ready to start. Just click on Start and watch your food accumulate, your city grow and your empire prosper... or fall appart"])), (n()(), Xu(4, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Don't forget to look at the help pages if you need any help !"])), (n()(), Xu(6, 0, null, null, 4, "p", [], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "a", [["class", "btn mr-2 btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.tuto_step = 3) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Previous"])), (n()(), Xu(9, 0, null, null, 1, "a", [["class", "btn mr-2 btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.init(!0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Start !"]))], null, null)
        }

        function Ck(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [["class", "position-fixed vh-100 w-100"], ["style", "top:0;left:0;z-index:50;"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, bk)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _k)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kk)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wk)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xk)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, 0 == e.tuto_step), n(l, 4, 0, 1 == e.tuto_step), n(l, 6, 0, 2 == e.tuto_step), n(l, 8, 0, 3 == e.tuto_step), n(l, 10, 0, 4 == e.tuto_step)
            }), null)
        }

        function Sk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-spells", [], null, [["document", "keydown"]], (function (n, l, e) {
                var t = !0;
                return "document:keydown" === l && (t = !1 !== Jt(n, 1).handleKeydownEvent(e) && t), t
            }), Ey, dy)), hi(1, 49152, null, 0, oy, [sg, hg, bg, cy, Tc, Gd], null, null)], null, null)
        }

        function Ik(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["You've just been reincarnated !"]))], null, null)
        }

        function Tk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["You've just traveled back in time !"]))], null, null)
        }

        function Ek(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [["class", "ml-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(3, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(4, {
                color: 0
            }), (n()(), Xu(5, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(6, null, ["", ""]))], (function (n, l) {
                var e = n(l, 4, 0, l.context.$implicit.key ? l.component.conf.deities[l.context.$implicit.key].color : "#000");
                n(l, 3, 0, e)
            }), (function (n, l) {
                n(l, 1, 0, l.component.icons.favor), n(l, 6, 0, l.context.$implicit.value)
            }))
        }

        function Ak(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You now have: "])), (n()(), Yu(16777216, null, null, 2, null, Ek)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(5, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You can use those to buy helpful powers ! "]))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, Je(l, 3, 0, Jt(l, 4).transform(e.data.favors[0])))
            }), null)
        }

        function Pk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ak)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.data.favors[0])
            }), null)
        }

        function Ok(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 16, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You now have: "])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Xu(5, 0, null, null, 11, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Each "])), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" gives you a +1% bonus in "])), (n()(), Xu(9, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" & "])), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(12, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), pr(-1, null, [" You can also use them to buy special "])), (n()(), Xu(14, 0, null, null, 1, "b", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["upgrade"])), (n()(), pr(-1, null, [" !"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.prestige + " text-prestige"), n(l, 4, 0, e.data.prestige), n(l, 7, 0, e.icons.prestige + " text-prestige"), n(l, 9, 0, e.icons.food + " text-food"), n(l, 11, 0, e.icons.prod + " text-prod")
            }))
        }

        function Dk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ok)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.data.prestige)
            }), null)
        }

        function Rk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "div", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.civid = n.context.$implicit.key) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 6, "div", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(3, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(4, {
                "border-bottom cursor-pointer p-1": 0,
                "bg-dark text-light": 1
            }), (n()(), Xu(5, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(6, null, ["", ""])), (n()(), Xu(7, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = n(l, 4, 0, !0, l.component.civid == l.context.$implicit.key);
                n(l, 3, 0, e)
            }), (function (n, l) {
                n(l, 6, 0, l.context.$implicit.value.name), n(l, 7, 0, l.context.$implicit.value.description)
            }))
        }

        function Mk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 23, "div", [["class", "tuto_bg d-flex justify-content-center align-items-center"], ["style", "top:0;left:0;z-index:49;"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 22, "div", [["class", "bg-light"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 4, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ik)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Tk)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 13, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Pk)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Dk)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(12, 0, null, null, 0, "hr", [], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Please select your next civilization"])), (n()(), Xu(15, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Choose well, you will not be able to change until next reincarnation !"])), (n()(), Xu(17, 0, null, null, 3, "div", [["class", "overflow-auto d-flex flex-column border rounded mb-1"], ["style", "max-height: 250px;"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, Rk)), hi(19, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(21, 0, null, null, 2, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (i.data.death_modal = 0, i.dataService.chooseCiv(i.civid), t = 0 != (i.data.pause = !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Ok, cool !"]))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, 1 == e.data.death_modal), n(l, 6, 0, 2 == e.data.death_modal), n(l, 9, 0, 1 == e.data.death_modal), n(l, 11, 0, 2 == e.data.death_modal), n(l, 19, 0, Je(l, 19, 0, Jt(l, 20).transform(e.conf.civilizations)))
            }), (function (n, l) {
                n(l, 22, 0, !l.component.civid)
            }))
        }

        function Nk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "border-bottom cursor-pointer p-1": 0,
                "bg-dark text-light": 1
            }), (n()(), Xu(4, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), (n()(), Xu(6, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !0, l.component.civid == l.parent.context.$implicit.key);
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 5, 0, l.parent.context.$implicit.value.name), n(l, 6, 0, l.parent.context.$implicit.value.description)
            }))
        }

        function Bk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.civid = n.context.$implicit.key) && t), t
            }), null, null)), (n()(), Yu(16777216, null, null, 1, null, Nk)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, !l.component.civExists(l.context.$implicit.key))
            }), null)
        }

        function zk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 16, "div", [["class", "tuto_bg d-flex justify-content-center align-items-center"], ["style", "top:0;left:0;z-index:49;"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 15, "div", [["class", "bg-light"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(4, null, ["Welcome to v", " !"])), (n()(), Xu(5, 0, null, null, 8, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You now get to select a civilization !"])), (n()(), Xu(8, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Choose well, you will not be able to change until next reincarnation !"])), (n()(), Xu(10, 0, null, null, 3, "div", [["class", "overflow-auto d-flex flex-column border rounded mb-1"], ["style", "max-height: 250px;"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, Bk)), hi(12, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(14, 0, null, null, 2, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.dataService.chooseCiv(i.civid, !1) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Select"]))], (function (n, l) {
                var e = l.component;
                n(l, 12, 0, Je(l, 12, 0, Jt(l, 13).transform(e.conf.civilizations)))
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.dataService.getStrVersion()), n(l, 15, 0, !e.civid)
            }))
        }

        function Lk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 13, "div", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "vh-100 d-flex flex-column": 0,
                dark: 1
            }), (n()(), Xu(4, 0, null, null, 1, "app-topbar", [], null, null, null, db, Ly)), hi(5, 245760, null, 0, Ry, [hg, bg, sg, _g, lp, cy, My, Dm, By], null, null), (n()(), Xu(6, 0, null, null, 7, "div", [["class", "container-fluid px-0 flex-fill"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 6, "div", [["class", "d-flex h-100"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "app-leftmenu", [], null, null, null, Hb, pb)), hi(10, 114688, null, 0, hb, [hg, bg, sg], null, null), (n()(), Xu(11, 0, null, null, 2, "div", [["class", "flex-fill"], ["style", "height:auto!important;width:0;"]], null, null, null, null, null)), (n()(), Xu(12, 16777216, null, null, 1, "router-outlet", [], null, null, null, null, null)), hi(13, 212992, null, 0, op, [ap, ze, se, [8, null], Nl], null, null), (n()(), Xu(14, 0, null, null, 1, "app-toasts", [["aria-atomic", "true"], ["aria-live", "polite"]], null, null, null, fk, dk)), hi(15, 114688, null, 0, ck, [mg, lp], null, null), (n()(), Yu(16777216, null, null, 1, null, mk)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yk)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ck)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Sk)), hi(23, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Mk)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zk)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, !0, e.data.darktheme);
                n(l, 2, 0, t), n(l, 5, 0), n(l, 10, 0), n(l, 13, 0), n(l, 15, 0), n(l, 17, 0, e.dataService.isDailyAllowed() > 0), n(l, 19, 0, e.dataService.isDeitySelectionAllowed()), n(l, 21, 0, !e.data.tuto_done), n(l, 23, 0, e.dataService.player().deity), n(l, 25, 0, e.data.death_modal), n(l, 27, 0, !e.dataService.player().civ_id && !e.data.death_modal)
            }), null)
        }
        var Fk = $t("app-game", gk, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-game", [], null, [["document", "keydown"]], (function (n, l, e) {
                    var t = !0;
                    return "document:keydown" === l && (t = !1 !== Jt(n, 1).handleKeydownEvent(e) && t), t
                }), Lk, vk)), hi(1, 245760, null, 0, gk, [cy, My, Lm, bg, hg, sg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            qk = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.city = null != this.id ? this.dataService.allCities().find((function (l) {
                            return l.id == n.id
                        })) : this.dataService.allCities().find((function (l) {
                            return l.x == n.x && l.y == n.y
                        })), this.city && (this.player = this.data.players.find((function (l) {
                            return l.id == n.city.ownerid
                        })), 0 == this.city.ownerid ? this.link = "/game/city/" + this.city.id : (this.link = "/game/world", this.params = {
                            x: this.city.x,
                            y: this.city.y
                        }))
                    }
                }, {
                    key: "style",
                    value: function () {
                        return {
                            color: this.dataService.color(this.player.id),
                            "-webkit-text-fill-color": this.dataService.color2(this.player.id),
                            "-webkit-text-stroke-width": "1px",
                            "-webkit-text-stroke-color": this.dataService.color(this.player.id)
                        }
                    }
                }]), n
            }(),
            Uk = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function $k(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "a", [], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                queryParams: [0, "queryParams"],
                routerLink: [1, "routerLink"]
            }, null), (n()(), Xu(2, 0, null, null, 3, "span", [], null, null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(4, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(6, null, [" ", "\n"]))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.params, e.link), n(l, 4, 0, e.style())
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 5, 0, e.icons.player), n(l, 6, 0, e.city.name)
            }))
        }

        function Hk(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, $k)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.city && e.player)
            }), null)
        }
        var Vk = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.activatedRoute = i, this.icons = $f, this.svg = {
                        steps: [0, 0, 0, 0, 0, 0, 0, 0, 0],
                        cr: 15,
                        cr2: 30,
                        cdist: 80,
                        rh: 15,
                        pad: 5
                    }
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.fragment.subscribe((function (l) {
                            l && (n.activetabeid = l)
                        }))
                    }
                }, {
                    key: "updateName",
                    value: function () {
                        this.data.name = this.newName, this.dataService.player().name = this.newName
                    }
                }, {
                    key: "hasTroopsInQueue",
                    value: function (n) {
                        return Object.keys(n.troop_queue).length > 0
                    }
                }, {
                    key: "autoassign_icon",
                    value: function (n) {
                        return "builders" == n ? $f.prod : "scientists" == n ? $f.science : "merchants" == n ? $f.gold : "artists" == n ? $f.culture : "priests" == n ? $f.faith : "farmers" == n ? $f.food : $f.balanced
                    }
                }, {
                    key: "hasSomethingToBuild",
                    value: function (n) {
                        return this.dataService.isUnlocked("buildings") && this.dataService.isUnlocked("citizen_builders") && !n.building_queue.length && this.dataService.hasAnyBuildingAvailable(n)
                    }
                }, {
                    key: "circleFilled",
                    value: function (n) {
                        if (4 == n) return !0;
                        var l = 25 * (n - 4);
                        return l < 0 && l >= this.dataService.player().orientation || l > 0 && l <= this.dataService.player().orientation
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = "";
                        0 == l && (e = 'Unlock <span class="text-magic">Autocast <i class="' + $f.spells + '"></i> Spells</span>'), 1 == l && (e = 'Unlock <span class="text-magic"><i class="' + $f.spells + '"></i> Spell 3</span>'), 2 == l && (e = 'Unlock <span class="text-magic"><i class="' + $f.spells + '"></i> Spell 2</span>'), 3 == l && (e = 'Unlock <span class="text-magic"><i class="' + $f.spells + '"></i> Spell 1</span>.'), 4 == l && (e = '0-: Unlock <span class="text-magic"><i class="' + $f.favor + '"></i> Reincarnation</span>. Allow incremental spells effects.<br/>0+: <span class="text-prestige"><i class="' + $f.prestige + '"></i> Time Travel</span>'), 5 == l && (e = 'Unlock <span class="text-tech">Industrial buildings</span>'), 6 == l && (e = 'Unlock <span class="text-tech">Industrial improvements</span>'), 7 == l && (e = 'Unlock <span class="text-tech">Industrial wonders</span>'), 8 == l && (e = 'Unlock <span class="text-tech">Archeologists & Ruins</span>'), n.open({
                            desc: e
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            jk = et({
                encapsulation: 0,
                styles: [["circle[_ngcontent-%COMP%]{fill:#fff;stroke:#000}text[_ngcontent-%COMP%]{font-weight:700}rect[_ngcontent-%COMP%]{stroke:#000}.fill[_ngcontent-%COMP%]{fill:#58ca8f;stroke:#0da054;stroke-width:2}.fill.rust[_ngcontent-%COMP%]{fill:#e18c55;stroke:#b7410e}.fill.center[_ngcontent-%COMP%]{stroke:#444;stroke-width:1;fill:url(#center)}"]],
                data: {}
            });

        function Gk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "])), (n()(), Xu(2, 0, null, null, 1, "button", [["class", "btn btn-dark btn-sm line-height-1 ml-2"], ["title", "Rename"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (i.edit = !0, t = !1 !== (i.newName = i.data.name) && t), t
            }), null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.data.name), n(l, 3, 0, e.icons.edit)
            }))
        }

        function Wk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "span", [["class", "input-group form-inline d-inline"], ["style", "width:200px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-control form-control-sm"], ["type", "text"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 2)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 2)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 2)._compositionEnd(e.target.value) && t), "ngModelChange" === l && (t = !1 !== (i.newName = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [zp]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-sm btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.edit = !1) && t), t
            }), null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "button", [["class", "btn btn-sm btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (i.updateName(), t = 0 != (i.edit = !1) && t), t
            }), null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 4, 0, l.component.newName)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending), n(l, 8, 0, e.icons.cancel), n(l, 10, 0, e.icons.ok)
            }))
        }

        function Kk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.capital + " mr-1")
            }))
        }

        function Zk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.icons.connected + " text-connected" + e.dataService.cityConnectedToCapital(l.parent.context.$implicit) + " mr-1")
            }))
        }

        function Qk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "rounded-circle bg-primary text-light p-1 text-80 font-weight-bold mr-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.autoassign_icon(e.data.emp_priority))
            }))
        }

        function Yk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "rounded-circle bg-primary text-light p-1 text-80 font-weight-bold mr-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.autoassign_icon(l.parent.context.$implicit.autoassign_options.priority))
            }))
        }

        function Xk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" ", ""])), cr(3, 1)], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.sleep);
                var e = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent, 0), l.parent.context.$implicit.citizens.idle));
                n(l, 2, 0, e)
            }))
        }

        function Jk(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "text-plague"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.plague)
            }))
        }

        function nw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.forbidden)
            }))
        }

        function lw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" +", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.parent.context.$implicit.building_queue.length - 1)
            }))
        }

        function ew(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["( ", " "])), (n()(), Yu(16777216, null, null, 1, null, lw)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" )"]))], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.building_queue.length > 1)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.buildings[l.parent.context.$implicit.building_queue[0]].label(e.dataService.player()))
            }))
        }

        function tw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function iw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["("])), (n()(), Yu(16777216, null, null, 1, null, tw)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" Nothing)"]))], (function (n, l) {
                n(l, 3, 0, l.component.hasSomethingToBuild(l.parent.context.$implicit))
            }), null)
        }

        function uw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function rw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [["class", "text-trade"]], null, null, null, null, null)), (n()(), pr(-1, null, [" ( "])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" ) "]))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.trade)
            }))
        }

        function aw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" +", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.parent.context.$implicit.troop_queue[0].nb)
            }))
        }

        function ow(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["( ", " "])), (n()(), Yu(16777216, null, null, 1, null, aw)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(-1, null, [" )"]))], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.troop_queue.length > 1)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.troops[l.parent.context.$implicit.troop_queue[0].id].name(e.dataService.player()))
            }))
        }

        function sw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["("])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Nothing)"]))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.exclamation)
            }))
        }

        function cw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 84, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 11, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Kk)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Zk)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Qk)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Yk)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(10, 0, null, null, 2, "a", [], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 11).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(11, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), pr(12, null, ["", ""])), (n()(), Xu(13, 0, null, null, 5, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(15, null, [" ", " "])), cr(16, 1), (n()(), Yu(16777216, null, null, 1, null, Xk)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 5, "td", [["class", "text-health"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(21, null, [" ", " "])), cr(22, 1), (n()(), Yu(16777216, null, null, 1, null, Jk)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(25, 0, null, null, 13, "td", [["class", "text-food"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, nw)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(28, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(29, null, [" ", "/", " ("])), cr(30, 1), cr(31, 1), (n()(), Xu(32, 0, null, null, 5, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(34, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(35, {
                "text-danger": 0
            }), (n()(), pr(36, null, ["", ""])), cr(37, 2), (n()(), pr(-1, null, [") "])), (n()(), Xu(39, 0, null, null, 7, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), Xu(40, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(41, null, [" ", " "])), cr(42, 2), (n()(), Yu(16777216, null, null, 1, null, ew)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, iw)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(47, 0, null, null, 15, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(48, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(49, null, [" ", "/", " ("])), cr(50, 1), cr(51, 1), (n()(), Xu(52, 0, null, null, 5, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(54, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(55, {
                "text-danger": 0
            }), (n()(), pr(56, null, ["", ""])), cr(57, 2), (n()(), pr(-1, null, [") "])), (n()(), Yu(16777216, null, null, 1, null, uw)), hi(60, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rw)), hi(62, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(63, 0, null, null, 3, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(64, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(65, null, [" ", " "])), cr(66, 2), (n()(), Xu(67, 0, null, null, 3, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(68, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(69, null, [" ", " "])), cr(70, 2), (n()(), Xu(71, 0, null, null, 3, "td", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(72, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(73, null, [" ", " "])), cr(74, 2), (n()(), Xu(75, 0, null, null, 3, "td", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), Xu(76, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(77, null, [" ", " "])), cr(78, 1), (n()(), Xu(79, 0, null, null, 5, "td", [["class", "text-attack"]], null, null, null, null, null)), (n()(), Xu(80, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, ow)), hi(82, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sw)), hi(84, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.context.$implicit.capital), n(l, 5, 0, e.dataService.cityConnectedToCapital(l.context.$implicit)), n(l, 7, 0, e.data.emp_autoassign), n(l, 9, 0, !e.data.emp_autoassign && l.context.$implicit.autoassign && l.context.$implicit.autoassign_options), n(l, 11, 0, "/game/city/" + l.context.$implicit.id), n(l, 18, 0, l.context.$implicit.citizens.idle), n(l, 24, 0, l.context.$implicit.plague && l.context.$implicit.plague > 0), n(l, 27, 0, l.context.$implicit.autoassign_options.nogrowth);
                var t = n(l, 35, 0, e.dataService.foodDiff(l.context.$implicit) < 0);
                n(l, 34, 0, t), n(l, 44, 0, l.context.$implicit.building_queue.length), n(l, 46, 0, !l.context.$implicit.building_queue.length);
                var i = n(l, 55, 0, e.dataService.goldDiff(l.context.$implicit) < 0);
                n(l, 54, 0, i), n(l, 60, 0, e.dataService.maxGold(l.context.$implicit) == l.context.$implicit.gold), n(l, 62, 0, l.context.$implicit.troops.caravan), n(l, 82, 0, e.hasTroopsInQueue(l.context.$implicit)), n(l, 84, 0, !l.context.$implicit.troop_queue.length)
            }), (function (n, l) {
                var e = l.component;
                n(l, 10, 0, Jt(l, 11).target, Jt(l, 11).href), n(l, 12, 0, l.context.$implicit.name), n(l, 14, 0, e.icons.pop);
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent, 0), e.dataService.pop(l.context.$implicit)));
                n(l, 15, 0, t), n(l, 20, 0, e.icons.health);
                var i = Je(l, 21, 0, n(l, 22, 0, Jt(l.parent.parent, 1), e.dataService.health(l.context.$implicit)));
                n(l, 21, 0, i), n(l, 28, 0, e.icons.food);
                var u = Je(l, 29, 0, n(l, 30, 0, Jt(l.parent.parent, 0), l.context.$implicit.food)),
                    r = Je(l, 29, 1, n(l, 31, 0, Jt(l.parent.parent, 0), e.dataService.foodRequired(l.context.$implicit)));
                n(l, 29, 0, u, r);
                var a = Je(l, 36, 0, n(l, 37, 0, Jt(l.parent.parent, 0), e.dataService.foodDiff(l.context.$implicit), "+.1"));
                n(l, 36, 0, a), n(l, 40, 0, e.icons.prod);
                var o = Je(l, 41, 0, n(l, 42, 0, Jt(l.parent.parent, 0), e.dataService.prodDiff(l.context.$implicit), "+.1"));
                n(l, 41, 0, o), n(l, 48, 0, e.icons.gold);
                var s = Je(l, 49, 0, n(l, 50, 0, Jt(l.parent.parent, 0), l.context.$implicit.gold)),
                    c = Je(l, 49, 1, n(l, 51, 0, Jt(l.parent.parent, 0), e.dataService.maxGold(l.context.$implicit)));
                n(l, 49, 0, s, c);
                var d = Je(l, 56, 0, n(l, 57, 0, Jt(l.parent.parent, 0), e.dataService.goldDiff(l.context.$implicit), "+.1"));
                n(l, 56, 0, d), n(l, 64, 0, e.icons.science);
                var h = Je(l, 65, 0, n(l, 66, 0, Jt(l.parent.parent, 0), e.dataService.scienceDiff(l.context.$implicit), "+.1"));
                n(l, 65, 0, h), n(l, 68, 0, e.icons.culture);
                var p = Je(l, 69, 0, n(l, 70, 0, Jt(l.parent.parent, 0), e.dataService.cultureDiff(l.context.$implicit), "+.1"));
                n(l, 69, 0, p), n(l, 72, 0, e.icons.faith);
                var f = Je(l, 73, 0, n(l, 74, 0, Jt(l.parent.parent, 0), e.dataService.faithDiff(l.context.$implicit), "+.1"));
                n(l, 73, 0, f), n(l, 76, 0, e.icons.happiness);
                var g = Je(l, 77, 0, n(l, 78, 0, Jt(l.parent.parent, 1), e.dataService.happiness(l.context.$implicit)));
                n(l, 77, 0, g), n(l, 80, 0, e.icons.attack)
            }))
        }

        function dw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "h2", [], null, null, null, null, null)), (n()(), pr(1, null, ["", " Empire - "])), (n()(), Yu(16777216, null, null, 1, null, Gk)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Wk)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(6, 0, null, null, 31, "table", [["class", "table"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 30, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, cw)), hi(9, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(10, 0, null, null, 27, "tr", [["class", "font-weight-bold"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(13, 0, null, null, 3, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(15, null, [" ", ""])), cr(16, 1), (n()(), Xu(17, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 4, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(22, null, [" ", " (", ")"])), cr(23, 1), cr(24, 2), (n()(), Xu(25, 0, null, null, 3, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(27, null, [" ", " "])), cr(28, 2), (n()(), Xu(29, 0, null, null, 3, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(31, null, [" ", " "])), cr(32, 2), (n()(), Xu(33, 0, null, null, 3, "td", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(34, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(35, null, [" ", " "])), cr(36, 2), (n()(), Xu(37, 0, null, null, 0, "td", [["class", "text-faith"]], null, null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, !e.edit), n(l, 5, 0, e.edit), n(l, 9, 0, e.dataService.player().cities)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.civilizations[e.dataService.player().civ_id].name2), n(l, 14, 0, e.icons.pop);
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent, 0), e.dataService.pop()));
                n(l, 15, 0, t), n(l, 21, 0, e.icons.gold);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 0), e.dataService.goldTotal())),
                    u = Je(l, 22, 1, n(l, 24, 0, Jt(l.parent, 0), e.dataService.goldDiff(), "+.1"));
                n(l, 22, 0, i, u), n(l, 26, 0, e.icons.science);
                var r = Je(l, 27, 0, n(l, 28, 0, Jt(l.parent, 0), e.dataService.scienceDiff(), "+.1"));
                n(l, 27, 0, r), n(l, 30, 0, e.icons.culture);
                var a = Je(l, 31, 0, n(l, 32, 0, Jt(l.parent, 0), e.dataService.cultureDiff(), "+.1"));
                n(l, 31, 0, a), n(l, 34, 0, e.icons.faith);
                var o = Je(l, 35, 0, n(l, 36, 0, Jt(l.parent, 0), e.dataService.faithDiff(), "+.1"));
                n(l, 35, 0, o)
            }))
        }

        function hw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", " ", " "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, l.parent.context.$implicit.value, e.conf.troops[l.parent.context.$implicit.key].name(e.dataService.player()))
            }))
        }

        function pw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, hw)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value)
            }), null)
        }

        function fw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "a", [], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 3).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(3, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), pr(4, null, ["", ""])), (n()(), Xu(5, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, pw)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                n(l, 3, 0, "/game/city/" + l.context.$implicit.id), n(l, 7, 0, Je(l, 7, 0, Jt(l, 8).transform(l.context.$implicit.troops)))
            }), (function (n, l) {
                n(l, 2, 0, Jt(l, 3).target, Jt(l, 3).href), n(l, 4, 0, l.context.$implicit.name)
            }))
        }

        function gw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "table", [["class", "table"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, fw)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.component.dataService.player().cities)
            }), null)
        }

        function vw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "builders"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Production"]))], (function (n, l) {
                n(l, 1, 0, "builders"), n(l, 2, 0, "builders")
            }), null)
        }

        function mw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "merchants"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Gold"]))], (function (n, l) {
                n(l, 1, 0, "merchants"), n(l, 2, 0, "merchants")
            }), null)
        }

        function yw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "scientists"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Science"]))], (function (n, l) {
                n(l, 1, 0, "scientists"), n(l, 2, 0, "scientists")
            }), null)
        }

        function bw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "artists"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Culture"]))], (function (n, l) {
                n(l, 1, 0, "artists"), n(l, 2, 0, "artists")
            }), null)
        }

        function _w(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "priests"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Faith"]))], (function (n, l) {
                n(l, 1, 0, "priests"), n(l, 2, 0, "priests")
            }), null)
        }

        function kw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 26, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign_priority"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Priority"])), (n()(), Xu(3, 0, null, null, 23, "select", [["id", "autoassign_priority"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 4).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 4).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.emp_priority = e) && t), t
            }), null, null)), hi(4, 16384, null, 0, af, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [af]), hi(6, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(8, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(9, 0, null, null, 3, "option", [["value", ""]], null, null, null, null, null)), hi(10, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(11, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["None"])), (n()(), Xu(13, 0, null, null, 3, "option", [["value", "farmers"]], null, null, null, null, null)), hi(14, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(15, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Food"])), (n()(), Yu(16777216, null, null, 1, null, vw)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, mw)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yw)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bw)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _w)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.data.emp_priority), n(l, 10, 0, ""), n(l, 11, 0, ""), n(l, 14, 0, "farmers"), n(l, 15, 0, "farmers"), n(l, 18, 0, e.dataService.isUnlocked("citizen_builders")), n(l, 20, 0, e.dataService.isUnlocked("citizen_merchants")), n(l, 22, 0, e.dataService.isUnlocked("citizen_scientists")), n(l, 24, 0, e.dataService.isUnlocked("citizen_artists")), n(l, 26, 0, e.dataService.isUnlocked("citizen_priests"))
            }), (function (n, l) {
                n(l, 3, 0, Jt(l, 8).ngClassUntouched, Jt(l, 8).ngClassTouched, Jt(l, 8).ngClassPristine, Jt(l, 8).ngClassDirty, Jt(l, 8).ngClassValid, Jt(l, 8).ngClassInvalid, Jt(l, 8).ngClassPending)
            }))
        }

        function ww(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "autoassign_strong"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.emp_strong = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign_strong"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Strong priority"]))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, !e.data.emp_priority, e.data.emp_strong)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function xw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "autoassign"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.emp_autoassign = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Auto-assign for all cities"])), (n()(), Yu(16777216, null, null, 1, null, kw)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ww)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.data.emp_autoassign), n(l, 10, 0, e.data.emp_autoassign), n(l, 12, 0, e.data.emp_autoassign)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function Cw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_orders"], ["title", "Orders"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 6, {
                titleTpls: 1
            }), tr(603979776, 7, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, xw)), hi(5, 16384, [[7, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_orders", "Orders")
            }), null)
        }

        function Sw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["stop-color", "white"]], [[1, "offset", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.dataService.player().orientation / 2 + 49 + "%")
            }))
        }

        function Iw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["stop-color", "#58ca8f"]], [[1, "offset", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.dataService.player().orientation / 2 + 51 + "%")
            }))
        }

        function Tw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["offset", "50%"], ["stop-color", "#58ca8f"]], null, null, null, null, null))], null, null)
        }

        function Ew(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["offset", "50%"], ["stop-color", "#e18c55"]], null, null, null, null, null))], null, null)
        }

        function Aw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["stop-color", "#e18c55"]], [[1, "offset", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.dataService.player().orientation / 2 + 49 + "%")
            }))
        }

        function Pw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:stop", [["stop-color", "white"]], [[1, "offset", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.dataService.player().orientation / 2 + 51 + "%")
            }))
        }

        function Ow(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, null, null, null, null, null, null, null)), (n()(), Xu(1, 16777216, null, null, 4, ":svg:circle", [["container", "body"], ["placement", "bottom"], ["triggers", "manuel"]], [[1, "cx", 0], [1, "cy", 0], [1, "r", 0]], [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 5), n.context.index) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 5)) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(3, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(4, {
                center: 0,
                fill: 1,
                rust: 2
            }), hi(5, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = n(l, 4, 0, 4 == l.context.index, l.component.circleFilled(l.context.index), l.context.index > 4);
                n(l, 3, 0, e), n(l, 5, 0, Jt(l.parent.parent.parent, 21), "bottom", "manuel", "body")
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.svg.cdist * l.context.index + e.svg.cr + e.svg.pad, e.svg.cr2 + e.svg.pad, l.context.index == (e.svg.steps.length - 1) / 2 ? e.svg.cr2 : e.svg.cr)
            }))
        }

        function Dw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 11, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(4, 0, null, null, 2, "td", [["class", "text-relics"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(6, null, [" ", ""])), (n()(), Xu(7, 0, null, null, 4, "td", [["class", "text-progress"]], null, null, null, null, null)), (n()(), pr(8, null, ["+ ", " "])), cr(9, 1), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" / min"]))], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.id)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.icons.relics), n(l, 6, 0, l.parent.context.$implicit.relics);
                var t = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent.parent.parent.parent.parent, 0), e.dataService.relicsValue(l.parent.context.$implicit) * l.parent.context.$implicit.relics));
                n(l, 8, 0, t), n(l, 10, 0, e.icons.progress)
            }))
        }

        function Rw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Dw)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.relics)
            }), null)
        }

        function Mw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(4, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Eiffel Tower"])), (n()(), Xu(6, 0, null, null, 3, "td", [["class", "text-progress"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 "])), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" / min"]))], (function (n, l) {
                n(l, 3, 0, l.component.dataService.cityForWonder("eiffel").id)
            }), (function (n, l) {
                n(l, 8, 0, l.component.icons.progress)
            }))
        }

        function Nw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 20, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "h5", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Relics"])), (n()(), Xu(4, 0, null, null, 16, "table", [["class", "table table-sm d-inline"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 15, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Rw)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Mw)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(10, 0, null, null, 10, "tr", [["class", "font-weight-bold"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(13, 0, null, null, 2, "td", [["class", "text-relics"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(15, null, [" ", ""])), (n()(), Xu(16, 0, null, null, 4, "td", [["class", "text-progress"]], null, null, null, null, null)), (n()(), pr(17, null, ["+ ", " "])), cr(18, 1), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" / min"]))], (function (n, l) {
                var e = l.component;
                n(l, 7, 0, e.dataService.player().cities), n(l, 9, 0, e.dataService.hasWonder(0, "eiffel"))
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.relics + " text-relics mx-2"), n(l, 14, 0, e.icons.relics), n(l, 15, 0, e.dataService.relicsNb(0));
                var t = Je(l, 17, 0, n(l, 18, 0, Jt(l.parent.parent.parent, 0), e.dataService.relicsGain(0)));
                n(l, 17, 0, t), n(l, 19, 0, e.icons.progress)
            }))
        }

        function Bw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 30, "div", [["class", "d-flex align-items-center m-3"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(2, 0, null, null, 27, ":svg:svg", [["class", "mx-3"]], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 19, ":svg:defs", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 2, ":svg:linearGradient", [["id", "center"], ["x1", "0%"], ["x2", "100%"], ["y1", "0%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#58ca8f;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#e18c55;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 15, ":svg:linearGradient", [["id", "grad"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["stop-color", "white"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Sw)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Iw)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Tw)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(15, 0, null, null, 0, ":svg:stop", [["offset", "50%"], ["stop-color", "white"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ew)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Aw)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Pw)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(22, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["stop-color", "white"]], null, null, null, null, null)), (n()(), Xu(23, 0, null, null, 0, ":svg:rect", [["fill", "url(#grad)"]], [[1, "x", 0], [1, "y", 0], [1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Ow)), hi(25, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(26, 16777216, null, null, 3, ":svg:text", [["container", "body"], ["placement", "bottom"], ["text-anchor", "middle"], ["triggers", "manuel"]], [[1, "x", 0], [1, "y", 0]], [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 27), 4) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 27)) && t), t
            }), null, null)), hi(27, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), pr(28, null, [" ", " "])), cr(29, 2), (n()(), Xu(30, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Nw)), hi(32, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.player().orientation < 0), n(l, 12, 0, e.dataService.player().orientation < 0), n(l, 14, 0, e.dataService.player().orientation < 0), n(l, 17, 0, e.dataService.player().orientation > 0), n(l, 19, 0, e.dataService.player().orientation > 0), n(l, 21, 0, e.dataService.player().orientation > 0), n(l, 25, 0, e.svg.steps), n(l, 27, 0, Jt(l.parent.parent, 21), "bottom", "manuel", "body"), n(l, 32, 0, e.dataService.player().orientation >= 100)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.spells + " text-300 text-magic"), n(l, 2, 0, e.svg.cdist * (e.svg.steps.length - 1) + 2 * e.svg.cr + 2 * e.svg.pad, 2 * (e.svg.cr2 + e.svg.pad)), n(l, 23, 0, e.svg.cr + e.svg.pad, e.svg.cr2 - e.svg.rh / 2 + e.svg.pad, e.svg.cdist * (e.svg.steps.length - 1), e.svg.rh), n(l, 26, 0, e.svg.cdist * (e.svg.steps.length - 1) / 2 + e.svg.cr + e.svg.pad, e.svg.cr2 + 5 + e.svg.pad);
                var t = Je(l, 28, 0, n(l, 29, 0, Jt(l.parent.parent, 0), e.dataService.player().orientation, "+.0"));
                n(l, 28, 0, t), n(l, 30, 0, e.icons.tech + " text-300 text-tech")
            }))
        }

        function zw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_orientation"], ["title", "Orientation"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 8, {
                titleTpls: 1
            }), tr(603979776, 9, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, Bw)), hi(5, 16384, [[9, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_orientation", "Orientation")
            }), null)
        }

        function Lw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.context.desc)
            }))
        }

        function Fw(n) {
            return vr(0, [pi(0, Py, []), pi(0, Oy, []), (n()(), Xu(2, 0, null, null, 18, "ngb-tabset", [], null, null, null, L_, D_)), hi(3, 2146304, null, 1, Zm, [jm], {
                activeId: [0, "activeId"]
            }, null), tr(603979776, 1, {
                tabs: 1
            }), (n()(), Xu(5, 0, null, null, 5, "ngb-tab", [["title", "Cities"]], null, null, null, null, null)), hi(6, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 2, {
                titleTpls: 1
            }), tr(603979776, 3, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, dw)), hi(10, 16384, [[3, 4]], 0, Wm, [Ne], null, null), (n()(), Xu(11, 0, null, null, 5, "ngb-tab", [["title", "Armies"]], null, null, null, null, null)), hi(12, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 4, {
                titleTpls: 1
            }), tr(603979776, 5, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, gw)), hi(16, 16384, [[5, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(16777216, null, null, 1, null, Cw)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zw)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popContent", 2]], null, 0, null, Lw))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.activetabeid), n(l, 6, 0, "Cities"), n(l, 12, 0, "Armies"), n(l, 18, 0, e.dataService.isUnlocked("empire_orders")), n(l, 20, 0, e.dataService.isUnlocked("orientation"))
            }), null)
        }
        var qw = $t("app-home", Vk, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-home", [], null, null, null, Fw, jk)), hi(1, 114688, null, 0, Vk, [sg, hg, bg, Gd], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            Uw = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.dataService = l, this.conf = e, this.data = t, this.edit = !1, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "useBonus",
                    value: function (n) {
                        var l = this.data.dailys[n];
                        if ("gold" == l.bonus && (this.city.gold += l.quantity), "science" == l.bonus && this.dataService.player().science_queue.length && (this.dataService.player().sciences[this.dataService.player().science_queue[0]].progress += l.quantity), "prod" == l.bonus && this.city.building_queue.length && (this.city.buildings[this.city.building_queue[0]].progress += l.quantity), "culture" == l.bonus && (this.dataService.player().culture += l.quantity), "food" == l.bonus && (this.city.food += l.quantity), "troops" == l.bonus) {
                            var e = "warrior";
                            this.dataService.hasScience("steel") ? e = "longswordsman" : this.dataService.hasScience("iron_working") && (e = "swordsman"), this.city.troops[e] ? this.city.troops[e] += l.quantity : this.city.troops[e] = l.quantity
                        }
                        this.data.dailys.splice(n, 1)
                    }
                }, {
                    key: "capitalize",
                    value: function (n) {
                        return Xf.capitalizeFirstLetter(n)
                    }
                }]), n
            }(),
            $w = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function Hw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 3, "div", [["class", "mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 74), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, "text-" + e.city.bonus), n(l, 3, 0, e.icons[e.city.bonus])
            }))
        }

        function Vw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.capital + " mr-1")
            }))
        }

        function jw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 1, "i", [["placement", "bottom"], ["triggers", "mouseenter:mouseleave"]], [[8, "className", 0]], null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"],
                triggers: [2, "triggers"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "City is connected to capital" + (2 == e.dataService.cityConnectedToCapital(e.city) ? " by railroad" : ""), "bottom", "mouseenter:mouseleave")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.icons.connected + " text-connected" + e.dataService.cityConnectedToCapital(e.city) + " mr-1")
            }))
        }

        function Gw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "bg-dark text-light mr-2"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Vw)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, jw)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(6, null, ["", ""])), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-dark btn-sm line-height-1 ml-2"], ["title", "Rename"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (i.edit = !0, t = !1 !== (i.newName = i.city.name) && t), t
            }), null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.city.capital), n(l, 4, 0, e.dataService.cityConnectedToCapital(e.city))
            }), (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.city.name), n(l, 8, 0, e.icons.edit)
            }))
        }

        function Ww(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [["class", "bg-dark text-light input-group  form-inline mr-2"], ["style", "width:200px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-control form-control-sm"], ["type", "text"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 2)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 2)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 2)._compositionEnd(e.target.value) && t), "ngModelChange" === l && (t = !1 !== (i.newName = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [zp]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-sm btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.edit = !1) && t), t
            }), null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "button", [["class", "btn btn-sm btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (i.city.name = i.newName, t = 0 != (i.edit = !1) && t), t
            }), null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 4, 0, l.component.newName)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending), n(l, 8, 0, e.icons.cancel), n(l, 10, 0, e.icons.ok)
            }))
        }

        function Kw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, "div", [["class", "text-prod mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", ""])), cr(4, 2), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 80), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.prod);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.dataService.prodDiff(e.city), "+.1"));
                n(l, 3, 0, t)
            }))
        }

        function Zw(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function Qw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, "div", [["class", "text-culture mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", ""])), cr(4, 2), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 78), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.culture);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.dataService.cultureDiff(e.city), "+.1"));
                n(l, 3, 0, t)
            }))
        }

        function Yw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, "div", [["class", "text-faith mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", ""])), cr(4, 2), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 79), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.faith);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 0), e.dataService.faithDiff(e.city), "+.1"));
                n(l, 3, 0, t)
            }))
        }

        function Xw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 6, "div", [["class", "text-gold mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["/"])), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(5, null, [" ", ""])), cr(6, 2), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 84), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.gold), n(l, 4, 0, e.icons.troops);
                var t = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent, 0), e.dataService.maintenanceUnitaryCost(e.city), ".1"));
                n(l, 5, 0, t)
            }))
        }

        function Jw(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, "div", [["class", "text-light mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", ""])), cr(4, 1), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 83), "bottom")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.defense);
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent, 1), e.dataService.defense(e.city)));
                n(l, 3, 0, t)
            }))
        }

        function nx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "dropdown-item"], ["ngbDropdownItem", ""]], [[2, "disabled", null]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.useBonus(n.context.index) && t), t
            }), null, null)), hi(1, 16384, [[4, 4]], 0, gm, [pe], null, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, Jt(l, 1).disabled), n(l, 2, 0, e.icons[l.context.$implicit.bonus]), n(l, 3, 0, l.context.$implicit.quantity)
            }))
        }

        function lx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 13, "div", [["class", "d-inline-block"], ["container", "body"], ["ngbDropdown", ""]], [[2, "show", null]], null, null, null, null)), hi(1, 1720320, null, 3, bm, [Nl, pm, Ro, pu, pe, me, [2, fm]], {
                container: [0, "container"]
            }, null), tr(603979776, 1, {
                _menu: 0
            }), tr(603979776, 2, {
                _menuElement: 0
            }), tr(603979776, 3, {
                _anchor: 0
            }), (n()(), Xu(5, 0, null, null, 3, "button", [["aria-haspopup", "true"], ["class", "btn btn-warning btn-sm p-0 dropdown-toggle"], ["id", "bonusdd"], ["ngbDropdownToggle", ""]], [[1, "aria-expanded", 0]], [[null, "click"], [null, "keydown.ArrowUp"], [null, "keydown.ArrowDown"], [null, "keydown.Home"], [null, "keydown.End"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 6).dropdown.toggle() && t), "keydown.ArrowUp" === l && (t = !1 !== Jt(n, 6).dropdown.onKeyDown(e) && t), "keydown.ArrowDown" === l && (t = !1 !== Jt(n, 6).dropdown.onKeyDown(e) && t), "keydown.Home" === l && (t = !1 !== Jt(n, 6).dropdown.onKeyDown(e) && t), "keydown.End" === l && (t = !1 !== Jt(n, 6).dropdown.onKeyDown(e) && t), t
            }), null, null)), hi(6, 16384, null, 0, ym, [bm, pe], null, null), fi(2048, [[3, 4]], mm, null, [ym]), (n()(), pr(-1, null, ["Use a bonus"])), (n()(), Xu(9, 0, [[2, 0]], null, 4, "div", [["aria-labelledby", "bonusdd"], ["class", "bg-warning text-dark"], ["ngbDropdownMenu", ""]], [[2, "dropdown-menu", null], [2, "show", null], [1, "x-placement", 0]], [[null, "keydown.ArrowUp"], [null, "keydown.ArrowDown"], [null, "keydown.Home"], [null, "keydown.End"], [null, "keydown.Enter"], [null, "keydown.Space"]], (function (n, l, e) {
                var t = !0;
                return "keydown.ArrowUp" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), "keydown.ArrowDown" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), "keydown.Home" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), "keydown.End" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), "keydown.Enter" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), "keydown.Space" === l && (t = !1 !== Jt(n, 10).dropdown.onKeyDown(e) && t), t
            }), null, null)), hi(10, 16384, [[1, 4]], 1, vm, [bm], null, null), tr(603979776, 4, {
                menuItems: 1
            }), (n()(), Yu(16777216, null, null, 1, null, nx)), hi(13, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "body"), n(l, 13, 0, e.data.dailys)
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 1).isOpen()), n(l, 5, 0, Jt(l, 6).dropdown.isOpen()), n(l, 9, 0, !0, Jt(l, 10).dropdown.isOpen(), Jt(l, 10).placement)
            }))
        }

        function ex(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["New citizen in ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 2), e.dataService.citizenTime(e.city)));
                n(l, 1, 0, t)
            }))
        }

        function tx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["Loosing citizen in ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 2), 0 - e.dataService.citizenTime(e.city)));
                n(l, 1, 0, t)
            }))
        }

        function ix(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, ex)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, tx)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.foodDiff(e.city) >= 0), n(l, 3, 0, e.dataService.foodDiff(e.city) < 0)
            }), null)
        }

        function ux(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-food"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Food"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-food"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.food)
            }))
        }

        function rx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Industry"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-prod"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.prod)
            }))
        }

        function ax(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Science"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.science)
            }))
        }

        function ox(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-gold"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Gold"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.gold)
            }))
        }

        function sx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Culture"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.culture)
            }))
        }

        function cx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-faith"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Faith"])), (n()(), pr(-1, null, [" bonus: "])), (n()(), Xu(4, 0, null, null, 1, "span", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +20%"]))], null, (function (n, l) {
                n(l, 5, 0, l.component.icons.faith)
            }))
        }

        function dx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-dark"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Recruitment"])), (n()(), pr(-1, null, [" bonus: recruitment speed +25%"]))], null, null)
        }

        function hx(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, ux)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rx)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ax)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ox)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sx)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cx)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, dx)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "food" == e.city.bonus), n(l, 3, 0, "prod" == e.city.bonus), n(l, 5, 0, "science" == e.city.bonus), n(l, 7, 0, "gold" == e.city.bonus), n(l, 9, 0, "culture" == e.city.bonus), n(l, 11, 0, "faith" == e.city.bonus), n(l, 13, 0, "recruitment" == e.city.bonus)
            }), null)
        }

        function px(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function fx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ": "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.granary.label(e.dataService.player())), n(l, 4, 0, e.dataService.buildingBonus("granary", 0))
            }))
        }

        function gx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Harbor: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function vx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Mill: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, null)
        }

        function mx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hanging Gardens: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, null)
        }

        function yx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function bx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Monopoly"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10%"]))], null, null)
        }

        function _x(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Feathered Serpent"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.serpentBonus(e.city)));
                n(l, 4, 0, t)
            }))
        }

        function kx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Abundance"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.abundanceBonus()));
                n(l, 4, 0, t)
            }))
        }

        function wx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Third Eye"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.thirdeyeBonus(e.city)));
                n(l, 4, 0, t)
            }))
        }

        function xx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Prestige"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " %"])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), 100 * e.dataService.prestigeBonus(0)));
                n(l, 4, 0, t)
            }))
        }

        function Cx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Food"])), (n()(), Xu(2, 0, null, null, 63, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 62, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["1"])), (n()(), Xu(9, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Idle"])), (n()(), Xu(12, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(13, 2), (n()(), Xu(14, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(16, null, ["", ": "])), (n()(), Xu(17, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(18, 2), (n()(), Yu(16777216, null, null, 1, null, px)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fx)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, gx)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, vx)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, mx)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(29, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(32, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(33, 2), (n()(), Xu(34, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(35, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(37, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(38, 2), (n()(), Yu(16777216, null, null, 1, null, yx)), hi(40, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bx)), hi(42, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _x)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kx)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wx)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xx)), hi(50, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(51, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(52, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total gains: "])), (n()(), Xu(54, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(55, 2), (n()(), Xu(56, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(57, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Citizens"])), (n()(), Xu(59, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(60, 2), (n()(), Xu(61, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(62, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(64, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(65, 2)], (function (n, l) {
                var e = l.component;
                n(l, 20, 0, e.dataService.hasBuilding(e.city, "palace")), n(l, 22, 0, e.dataService.hasBuilding(e.city, "granary")), n(l, 24, 0, e.dataService.hasBuilding(e.city, "port")), n(l, 26, 0, e.dataService.hasBuilding(e.city, "mill")), n(l, 28, 0, e.dataService.hasBuilding(e.city, "hanging_gardens")), n(l, 40, 0, "food" == e.city.bonus), n(l, 42, 0, e.dataService.hasPolicy("monopoly") && e.dataService.tradeRoutes(e.city).out.length), n(l, 44, 0, e.dataService.player().powers.serpent), n(l, 46, 0, e.data.spelltime.abundance), n(l, 48, 0, e.dataService.player().powers.thirdeye), n(l, 50, 0, e.data.prestige)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent, 0), e.city.citizens.idle * e.conf.citizens.idle.food(e.dataService, e.city), "+.1c"));
                n(l, 12, 0, t), n(l, 16, 0, e.conf.citizens.farmers.name(e.dataService));
                var i = Je(l, 17, 0, n(l, 18, 0, Jt(l.parent, 0), e.city.citizens.farmers * e.conf.citizens.farmers.food(e.dataService, e.city), "+.1c"));
                n(l, 17, 0, i);
                var u = Je(l, 32, 0, n(l, 33, 0, Jt(l.parent, 0), e.dataService.foodProduction(e.city), "+.1c"));
                n(l, 32, 0, u);
                var r = Je(l, 37, 0, n(l, 38, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 37, 0, r);
                var a = Je(l, 54, 0, n(l, 55, 0, Jt(l.parent, 0), e.dataService.foodDiff(e.city) + e.dataService.pop(e.city), "+.1c"));
                n(l, 54, 0, a);
                var o = Je(l, 59, 0, n(l, 60, 0, Jt(l.parent, 0), 0 - e.dataService.pop(e.city), "+.1c"));
                n(l, 59, 0, o);
                var s = Je(l, 64, 0, n(l, 65, 0, Jt(l.parent, 0), e.dataService.foodDiff(e.city), "+.1c"));
                n(l, 64, 0, s)
            }))
        }

        function Sx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function Ix(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Copper mine"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function Tx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Gold mine"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function Ex(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Coal mine"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25"]))], null, null)
        }

        function Ax(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.castle.label(e.dataService.player()))
            }))
        }

        function Px(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colossus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, null)
        }

        function Ox(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Aristocracy"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function Dx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Meritocracy"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function Rx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Connected to capital"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function Mx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-colony"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colonies"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.colonyTotalGoldBonus()));
                n(l, 4, 0, t)
            }))
        }

        function Nx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function Bx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrades"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.upgradeGoldMult(0) - 1));
                n(l, 4, 0, t)
            }))
        }

        function zx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.tradeRouteGains(e.city).gold, "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function Lx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troop maintenance"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(4, null, ["- ", " "])), cr(5, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), e.dataService.maintenanceCost(e.city), ".1"));
                n(l, 4, 0, t)
            }))
        }

        function Fx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Gold"])), (n()(), Xu(2, 0, null, null, 54, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 53, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Merchants"])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, Sx)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ix)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Tx)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ex)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ax)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Px)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(21, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(24, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(25, 2), (n()(), Yu(16777216, null, null, 1, null, Ox)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Dx)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Rx)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(32, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(35, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(36, 2), (n()(), Yu(16777216, null, null, 1, null, Mx)), hi(38, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Nx)), hi(40, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Bx)), hi(42, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zx)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(45, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(46, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total gains: "])), (n()(), Xu(48, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(49, 2), (n()(), Yu(16777216, null, null, 1, null, Lx)), hi(51, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(52, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(53, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(55, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(56, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.hasBuilding(e.city, "palace")), n(l, 12, 0, e.dataService.hasBuilding(e.city, "cop")), n(l, 14, 0, e.dataService.hasBuilding(e.city, "go")), n(l, 16, 0, e.dataService.hasBuilding(e.city, "coa")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "castle") && "french" == e.dataService.player().civ_id), n(l, 20, 0, e.dataService.hasBuilding(e.city, "colossus")), n(l, 27, 0, e.city.capital && e.dataService.hasPolicy("aristocracy")), n(l, 29, 0, e.dataService.hasPolicy("meritocracy")), n(l, 31, 0, e.dataService.cityConnectedToCapital(e.city)), n(l, 38, 0, e.dataService.colonyNb()), n(l, 40, 0, "gold" == e.city.bonus), n(l, 42, 0, e.dataService.upgradeGoldMult(0)), n(l, 44, 0, e.dataService.isUnlocked("trade")), n(l, 51, 0, e.dataService.isUnlocked("troops"))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.city.citizens.merchants * e.conf.citizens.merchants.gold(e.dataService, e.city), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 24, 0, n(l, 25, 0, Jt(l.parent, 0), e.dataService.goldProduction(e.city), "+.1c"));
                n(l, 24, 0, i);
                var u = Je(l, 35, 0, n(l, 36, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 35, 0, u);
                var r = Je(l, 48, 0, n(l, 49, 0, Jt(l.parent, 0), e.dataService.goldDiff(e.city) + e.dataService.maintenanceCost(e.city), "+.1c"));
                n(l, 48, 0, r);
                var a = Je(l, 55, 0, n(l, 56, 0, Jt(l.parent, 0), e.dataService.goldDiff(e.city), "+.1c"));
                n(l, 55, 0, a)
            }))
        }

        function qx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Scientists"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.city.citizens.scientists * e.conf.citizens.scientists.science(e.dataService, e.city), "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function Ux(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function $x(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.library.label(e.dataService.player())), n(l, 4, 0, e.dataService.buildingBonus("library", 0))
            }))
        }

        function Hx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["University"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function Vx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Public School"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25"]))], null, null)
        }

        function jx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Monastery (Reformation)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function Gx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["University (Scientific State)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function Wx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Wisdom of the Ancients"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function Kx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Oxford University"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function Zx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-colony"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colonies"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.colonyTotalScienceBonus()));
                n(l, 4, 0, t)
            }))
        }

        function Qx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function Yx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.tradeRouteGains(e.city).science, "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function Xx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Clairvoyance"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.clairvoyanceBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function Jx(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Enlightment"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.enlightmentBonus()));
                n(l, 4, 0, t)
            }))
        }

        function nC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Bacchanalia"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.bacchanaliaBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function lC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["The Punisher"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.punisherBonus() * e.dataService.plagueNb()));
                n(l, 4, 0, t)
            }))
        }

        function eC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrades"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.upgradeScienceMult(0) - 1));
                n(l, 4, 0, t)
            }))
        }

        function tC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Science"])), (n()(), Xu(2, 0, null, null, 55, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 54, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Population"])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, qx)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ux)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, $x)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Hx)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Vx)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(22, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(23, 2), (n()(), Yu(16777216, null, null, 1, null, jx)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Gx)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Wx)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Kx)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(32, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(35, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(36, 2), (n()(), Yu(16777216, null, null, 1, null, Zx)), hi(38, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Qx)), hi(40, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Yx)), hi(42, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Xx)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Jx)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, nC)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, lC)), hi(50, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, eC)), hi(52, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(53, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(54, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(56, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(57, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.isUnlocked("citizen_scientists")), n(l, 12, 0, e.dataService.hasBuilding(e.city, "palace")), n(l, 14, 0, e.dataService.hasBuilding(e.city, "library")), n(l, 16, 0, e.dataService.hasBuilding(e.city, "uni")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "school")), n(l, 25, 0, e.dataService.hasBuilding(e.city, "monastery") && e.dataService.hasPolicy("reformation")), n(l, 27, 0, e.dataService.hasBuilding(e.city, "uni") && e.dataService.hasPolicy("scientific_state")), n(l, 29, 0, e.city.capital && e.dataService.hasPolicy("wisdom_ancients")), n(l, 31, 0, e.dataService.hasBuilding(e.city, "oxford")), n(l, 38, 0, e.dataService.colonyNb() && e.dataService.hasPolicy("geographical")), n(l, 40, 0, "science" == e.city.bonus), n(l, 42, 0, e.dataService.isUnlocked("trade") && e.dataService.tradeRouteGains(e.city).science), n(l, 44, 0, e.dataService.player().powers.clairvoyance), n(l, 46, 0, e.data.charging.enlightment), n(l, 48, 0, e.data.spelltime.bacchanalia), n(l, 50, 0, e.data.charging.punisher), n(l, 52, 0, e.dataService.upgradeScienceMult(0))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.dataService.pop(e.city) * e.dataService.sciencePerPop(), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 0), e.dataService.scienceProduction(e.city), "+.1c"));
                n(l, 22, 0, i);
                var u = Je(l, 35, 0, n(l, 36, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 35, 0, u);
                var r = Je(l, 56, 0, n(l, 57, 0, Jt(l.parent, 0), e.dataService.scienceDiff(e.city), "+.1c"));
                n(l, 56, 0, r)
            }))
        }

        function iC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Idle"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.city.citizens.idle * e.conf.citizens.idle.culture(e.dataService), "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function uC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function rC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Monument"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function aC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Amphitheatre"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function oC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Opera"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function sC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Museum"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, null)
        }

        function cC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.castle.label(e.dataService.player()))
            }))
        }

        function dC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.zoo.label(e.dataService.player()))
            }))
        }

        function hC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Pyramids"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function pC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Mausoleum"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function fC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Forbidden City"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function gC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Sistine Chapel"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function vC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Versailles"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function mC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hermitage"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                n(l, 4, 0, 5 * l.component.city.relics)
            }))
        }

        function yC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Library (Philosophy)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function bC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Traditionalism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15 %"]))], null, null)
        }

        function _C(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Imperialism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function kC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function wC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Ouroboros"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.ouroborosBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function xC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade routes"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " "])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), e.dataService.tradeRouteGains(e.city).culture));
                n(l, 4, 0, t)
            }))
        }

        function CC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Dionysia"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.dionysiaBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function SC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Culture"])), (n()(), Xu(2, 0, null, null, 63, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 62, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Artists"])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, iC)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uC)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rC)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, aC)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, oC)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sC)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cC)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, dC)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hC)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, pC)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fC)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, gC)), hi(32, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, vC)), hi(34, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, mC)), hi(36, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(37, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(38, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(40, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(41, 2), (n()(), Yu(16777216, null, null, 1, null, yC)), hi(43, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bC)), hi(45, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _C)), hi(47, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(48, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(49, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(51, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(52, 2), (n()(), Yu(16777216, null, null, 1, null, kC)), hi(54, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wC)), hi(56, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xC)), hi(58, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CC)), hi(60, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(61, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(62, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(64, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(65, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.conf.citizens.idle.culture(e.dataService)), n(l, 12, 0, e.dataService.hasBuilding(e.city, "palace")), n(l, 14, 0, e.dataService.hasBuilding(e.city, "monument")), n(l, 16, 0, e.dataService.hasBuilding(e.city, "amphitheatre")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "opera")), n(l, 20, 0, e.dataService.hasBuilding(e.city, "museum")), n(l, 22, 0, e.dataService.hasBuilding(e.city, "castle") && "french" == e.dataService.player().civ_id), n(l, 24, 0, e.dataService.hasBuilding(e.city, "zoo") && "french" == e.dataService.player().civ_id), n(l, 26, 0, e.dataService.hasBuilding(e.city, "pyramid")), n(l, 28, 0, e.dataService.hasBuilding(e.city, "mausoleum")), n(l, 30, 0, e.dataService.hasBuilding(e.city, "forbidden")), n(l, 32, 0, e.dataService.hasBuilding(e.city, "sistine")), n(l, 34, 0, e.dataService.hasBuilding(e.city, "versailles")), n(l, 36, 0, e.dataService.hasWonder(e.city.ownerid, "hermitage") && e.city.relics), n(l, 43, 0, e.dataService.hasBuilding(e.city, "library") && e.dataService.hasPolicy("philosophy")), n(l, 45, 0, e.city.capital && e.dataService.hasPolicyGroup("traditionalism")), n(l, 47, 0, e.dataService.hasPolicyGroup("imperialism")), n(l, 54, 0, "culture" == e.city.bonus), n(l, 56, 0, e.dataService.player().powers.ouroboros), n(l, 58, 0, e.dataService.isUnlocked("trade")), n(l, 60, 0, e.data.spelltime.dionysia)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.city.citizens.artists * e.conf.citizens.artists.culture(e.dataService), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 40, 0, n(l, 41, 0, Jt(l.parent, 0), e.dataService.cultureProduction(e.city), "+.1c"));
                n(l, 40, 0, i);
                var u = Je(l, 51, 0, n(l, 52, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 51, 0, u);
                var r = Je(l, 64, 0, n(l, 65, 0, Jt(l.parent, 0), e.dataService.cultureDiff(e.city), "+.1c"));
                n(l, 64, 0, r)
            }))
        }

        function IC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Population (Orphic Mysteries)"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.pop(e.city) * e.dataService.orphicBonus(0), "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function TC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Shrine"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                n(l, 4, 0, l.component.dataService.hasPolicyGroup("piety") ? 3 : 1)
            }))
        }

        function EC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Temple"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5"]))], null, null)
        }

        function AC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Monastery"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function PC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Pyramids"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 4, 0, 2 * e.dataService.wondersNbInCity(e.city))
            }))
        }

        function OC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Monastery (Reformation)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function DC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["University (Scientific State)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function RC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Landed Elite"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function MC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["State Religion"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15 %"]))], null, null)
        }

        function NC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Proselytism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " %"]))], null, (function (n, l) {
                n(l, 4, 0, l.component.dataService.player().cities.length)
            }))
        }

        function BC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Bacchanalia"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.bacchanaliaBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function zC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["The Punisher"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.punisherBonus() * e.dataService.plagueNb()));
                n(l, 4, 0, t)
            }))
        }

        function LC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function FC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.tradeRouteGains(e.city).faith, "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function qC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Difficulty"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.difficulty().faith_mult - 1));
                n(l, 4, 0, t)
            }))
        }

        function UC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Faith"])), (n()(), Xu(2, 0, null, null, 51, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 50, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Priests"])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, IC)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, TC)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, EC)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, AC)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, PC)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(22, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(23, 2), (n()(), Yu(16777216, null, null, 1, null, OC)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, DC)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, RC)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, MC)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, NC)), hi(33, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, BC)), hi(35, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zC)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(38, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(39, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(41, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(42, 2), (n()(), Yu(16777216, null, null, 1, null, LC)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, FC)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, qC)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(49, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(50, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(52, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(53, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.player().powers.orphic), n(l, 12, 0, e.dataService.hasBuilding(e.city, "shrine")), n(l, 14, 0, e.dataService.hasBuilding(e.city, "temple")), n(l, 16, 0, e.dataService.hasBuilding(e.city, "monastery")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "pyramid")), n(l, 25, 0, e.dataService.hasBuilding(e.city, "monastery") && e.dataService.hasPolicy("reformation")), n(l, 27, 0, e.dataService.hasBuilding(e.city, "uni") && e.dataService.hasPolicy("scientific_state")), n(l, 29, 0, e.city.capital && e.dataService.hasPolicy("landed_elite")), n(l, 31, 0, e.dataService.hasPolicy("colonialism")), n(l, 33, 0, e.dataService.hasPolicy("proselytism")), n(l, 35, 0, e.data.spelltime.bacchanalia), n(l, 37, 0, e.data.charging.punisher), n(l, 44, 0, "faith" == e.city.bonus), n(l, 46, 0, e.dataService.isUnlocked("trade") && e.dataService.tradeRouteGains(e.city).faith), n(l, 48, 0, e.data.difficulty)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.city.citizens.priests * e.conf.citizens.priests.faith(e.dataService), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 0), e.dataService.faithProduction(e.city), "+.1c"));
                n(l, 22, 0, i);
                var u = Je(l, 41, 0, n(l, 42, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 41, 0, u);
                var r = Je(l, 52, 0, n(l, 53, 0, Jt(l.parent, 0), e.dataService.faithDiff(e.city), "+.1c"));
                n(l, 52, 0, r)
            }))
        }

        function $C(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function HC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.workshop.label(e.dataService.player())), n(l, 4, 0, e.dataService.buildingBonus("workshop", 0))
            }))
        }

        function VC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Furnace"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15"]))], null, null)
        }

        function jC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.ironworks.label(e.dataService.player())), n(l, 4, 0, e.dataService.buildingBonus("ironworks", 0))
            }))
        }

        function GC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Factory"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50"]))], null, null)
        }

        function WC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hydro Plant"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50"]))], null, null)
        }

        function KC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Administration"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function ZC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Liberalism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function QC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Ruhr Valley"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function YC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Connected to capital"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 25 %"]))], null, null)
        }

        function XC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City bonus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function JC(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Gateway to Eternity"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.eternityBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function nS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Third Eye"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.thirdeyeBonus(e.city)));
                n(l, 4, 0, t)
            }))
        }

        function lS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Prestige"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " %"])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), 100 * e.dataService.prestigeBonus(0)));
                n(l, 4, 0, t)
            }))
        }

        function eS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Production"])), (n()(), Xu(2, 0, null, null, 49, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 48, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Builders: "])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, $C)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, HC)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, VC)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, jC)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, GC)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, WC)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(21, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total production: "])), (n()(), Xu(24, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(25, 2), (n()(), Yu(16777216, null, null, 1, null, KC)), hi(27, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ZC)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, QC)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, YC)), hi(33, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(34, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(35, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness: "])), (n()(), Xu(37, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(38, 2), (n()(), Yu(16777216, null, null, 1, null, XC)), hi(40, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, JC)), hi(42, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, nS)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, lS)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(47, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(48, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(50, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(51, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.hasBuilding(e.city, "palace")), n(l, 12, 0, e.dataService.hasBuilding(e.city, "workshop")), n(l, 14, 0, e.dataService.hasBuilding(e.city, "furnace")), n(l, 16, 0, e.dataService.hasBuilding(e.city, "ironworks")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "factory")), n(l, 20, 0, e.dataService.hasBuilding(e.city, "hydro")), n(l, 27, 0, e.dataService.hasPolicy("administration")), n(l, 29, 0, e.dataService.hasPolicy("liberalism") && e.city.building_queue.length && "progress" == e.city.building_queue[0]), n(l, 31, 0, e.dataService.hasWonder(0, "ruhr") && e.city.building_queue.length && "progress" == e.city.building_queue[0]), n(l, 33, 0, 2 == e.dataService.cityConnectedToCapital(e.city)), n(l, 40, 0, "prod" == e.city.bonus), n(l, 42, 0, e.dataService.player().powers.eternity), n(l, 44, 0, e.dataService.player().powers.thirdeye), n(l, 46, 0, e.data.prestige)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.city.citizens.builders * e.conf.citizens.builders.prod(e.dataService, e.city), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 24, 0, n(l, 25, 0, Jt(l.parent, 0), e.dataService.prodProduction(e.city), "+.1c"));
                n(l, 24, 0, i);
                var u = Je(l, 37, 0, n(l, 38, 0, Jt(l.parent, 0), e.dataService.happinessEffect(e.city), "+.0%c"));
                n(l, 37, 0, u);
                var r = Je(l, 50, 0, n(l, 51, 0, Jt(l.parent, 0), e.dataService.prodDiff(e.city), "+.1c"));
                n(l, 50, 0, r)
            }))
        }

        function tS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Scientists"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, [" +", " "])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.city.citizens.scientists * e.conf.citizens.scientists.health(e.dataService)));
                n(l, 4, 0, t)
            }))
        }

        function iS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Plague !"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["- 30%"]))], null, null)
        }

        function uS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Pottery"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function rS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Well"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function aS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Aqueduct"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function oS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hospital"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " %"]))], null, (function (n, l) {
                n(l, 4, 0, l.component.dataService.hasPolicy("procedures") ? "20" : "15")
            }))
        }

        function sS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Dispensary"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function cS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Quarantine Station"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function dS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Temple (Organized Religion)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function hS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Isolationism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15 %"]))], null, null)
        }

        function pS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["National Institute of Health"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function fS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrades"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.upgradeHealth(0)));
                n(l, 4, 0, t)
            }))
        }

        function gS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Health"])), (n()(), Xu(2, 0, null, null, 42, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 41, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["100 %"])), (n()(), Xu(9, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Population"])), (n()(), Xu(12, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(13, null, ["- ", ""])), cr(14, 1), (n()(), Yu(16777216, null, null, 1, null, tS)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, iS)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uS)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rS)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, aS)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, oS)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sS)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cS)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, dS)), hi(32, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hS)), hi(34, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, pS)), hi(36, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fS)), hi(38, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(39, 0, null, null, 5, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(40, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(42, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(43, null, ["", ""])), cr(44, 1)], (function (n, l) {
                var e = l.component;
                n(l, 16, 0, e.conf.citizens.scientists.health(e.dataService)), n(l, 18, 0, e.city.plague && e.city.plague > 0), n(l, 20, 0, e.dataService.hasScience("pottery")), n(l, 22, 0, e.dataService.hasBuilding(e.city, "well")), n(l, 24, 0, e.dataService.hasBuilding(e.city, "aqueduct")), n(l, 26, 0, e.dataService.hasBuilding(e.city, "hospital")), n(l, 28, 0, e.dataService.hasBuilding(e.city, "dispensary")), n(l, 30, 0, e.dataService.hasBuilding(e.city, "quarantine")), n(l, 32, 0, e.dataService.hasPolicy("organized_religion") && e.dataService.hasBuilding(e.city, "temple")), n(l, 34, 0, e.dataService.hasPolicy("isolationism") && e.city.capital), n(l, 36, 0, e.dataService.hasPolicy("nih")), n(l, 38, 0, e.dataService.upgradeHealth(0))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent, 1), .05 * e.dataService.pop(e.city)));
                n(l, 13, 0, t);
                var i = Je(l, 43, 0, n(l, 44, 0, Jt(l.parent, 1), e.dataService.health(e.city)));
                n(l, 43, 0, i)
            }))
        }

        function vS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Idle"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.city.citizens.idle * e.conf.citizens.idle.happiness(e.dataService)));
                n(l, 4, 0, t)
            }))
        }

        function mS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Distance from capital"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(4, null, ["- ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.happinessDistance(e.city)));
                n(l, 4, 0, t)
            }))
        }

        function yS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-colony"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colonies"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.colonyTotalHappinessBonus()));
                n(l, 4, 0, t)
            }))
        }

        function bS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["(Rightful)"]))], null, null)
        }

        function _S(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), pr(2, null, ["Infl. from ", " "])), (n()(), Yu(16777216, null, null, 1, null, bS)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(6, null, ["- ", ""])), cr(7, 1)], (function (n, l) {
                n(l, 4, 0, l.component.city.rightful_ownerid == l.parent.context.$implicit.id)
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.parent.context.$implicit.name);
                var t = Je(l, 6, 0, n(l, 7, 0, Jt(l.parent.parent.parent, 1), e.dataService.influenceEffectFromPlayer(e.city, l.parent.context.$implicit)));
                n(l, 6, 0, t)
            }))
        }

        function kS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, _S)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.context.$implicit.id > 1 && e.dataService.haveRelation(0, l.context.$implicit.id) && e.dataService.influenceEffectFromPlayer(e.city, l.context.$implicit))
            }), null)
        }

        function wS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Patriotism"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function xS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", " %"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.gardens.label(e.dataService.player())), n(l, 4, 0, 100 * e.dataService.buildingBonus("gardens", 0))
            }))
        }

        function CS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Theatre"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function SS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hanging Gardens"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 10 %"]))], null, null)
        }

        function IS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Circus"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15 %"]))], null, null)
        }

        function TS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 15 %"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.zoo.label(e.dataService.player()))
            }))
        }

        function ES(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Monopoly"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5%"]))], null, null)
        }

        function AS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Monastery (Theocracy)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function PS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Shrine (Secularism)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function OS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Barracks (Despotism)"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 5 %"]))], null, null)
        }

        function DS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Bliss"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.blissBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function RS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Eye of Horus"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.eyeBonus()));
                n(l, 4, 0, t)
            }))
        }

        function MS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Valhalla"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.valhallaBonus(e.city)));
                n(l, 4, 0, t)
            }))
        }

        function NS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["New Fire"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.newfireBonus()));
                n(l, 4, 0, t)
            }))
        }

        function BS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrades"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.upgradeHappiness(0)));
                n(l, 4, 0, t)
            }))
        }

        function zS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Happiness"])), (n()(), Xu(2, 0, null, null, 68, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 67, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["100 %"])), (n()(), Xu(9, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Population"])), (n()(), Xu(12, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(13, null, ["- ", ""])), cr(14, 1), (n()(), Xu(15, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Artists"])), (n()(), Xu(18, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(19, null, ["+ ", ""])), cr(20, 1), (n()(), Yu(16777216, null, null, 1, null, vS)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(23, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Number of Cities"])), (n()(), Xu(26, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(27, null, ["- ", ""])), cr(28, 1), (n()(), Yu(16777216, null, null, 1, null, mS)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yS)), hi(32, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kS)), hi(34, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wS)), hi(36, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xS)), hi(38, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CS)), hi(40, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, SS)), hi(42, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, IS)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, TS)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ES)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, AS)), hi(50, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, PS)), hi(52, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, OS)), hi(54, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, DS)), hi(56, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, RS)), hi(58, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, MS)), hi(60, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, NS)), hi(62, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, BS)), hi(64, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(65, 0, null, null, 5, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(66, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(68, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(69, null, ["", ""])), cr(70, 1)], (function (n, l) {
                var e = l.component;
                n(l, 22, 0, e.conf.citizens.idle.happiness(e.dataService)), n(l, 30, 0, !e.city.capital), n(l, 32, 0, e.dataService.colonyNb()), n(l, 34, 0, e.data.players), n(l, 36, 0, e.dataService.hasPolicy("patriotism")), n(l, 38, 0, e.dataService.hasBuilding(e.city, "gardens")), n(l, 40, 0, e.dataService.hasBuilding(e.city, "theatre")), n(l, 42, 0, e.dataService.hasBuilding(e.city, "hanging_gardens")), n(l, 44, 0, e.dataService.hasBuilding(e.city, "circus")), n(l, 46, 0, e.dataService.hasBuilding(e.city, "zoo")), n(l, 48, 0, e.dataService.hasPolicy("monopoly") && e.dataService.tradeRoutes(e.city).out.length), n(l, 50, 0, e.dataService.hasPolicy("theocracy", e.city.ownerid) && e.dataService.hasBuilding(e.city, "monastery")), n(l, 52, 0, e.dataService.hasPolicy("secularism", e.city.ownerid) && e.dataService.hasBuilding(e.city, "shrine")), n(l, 54, 0, e.dataService.hasPolicy("despotism", e.city.ownerid) && e.dataService.hasBuilding(e.city, "barracks")), n(l, 56, 0, e.dataService.player().powers.bliss), n(l, 58, 0, e.dataService.player().powers.eye), n(l, 60, 0, e.dataService.player().powers.valhalla), n(l, 62, 0, e.data.charging.newfire), n(l, 64, 0, e.dataService.upgradeHappiness(0))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent, 1), e.dataService.popNbHappinessEffect(e.city)));
                n(l, 13, 0, t);
                var i = Je(l, 19, 0, n(l, 20, 0, Jt(l.parent, 1), e.city.citizens.artists * e.conf.citizens.artists.happiness(e.dataService)));
                n(l, 19, 0, i);
                var u = Je(l, 27, 0, n(l, 28, 0, Jt(l.parent, 1), e.dataService.citiesNbHappinessEffect(e.city.ownerid)));
                n(l, 27, 0, u);
                var r = Je(l, 69, 0, n(l, 70, 0, Jt(l.parent, 1), e.dataService.happiness(e.city)));
                n(l, 69, 0, r)
            }))
        }

        function LS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Walls"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function FS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.buildings.castle.label(e.dataService.player()))
            }))
        }

        function qS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Fortress"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function US(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Temple of Artemis"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function $S(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-special"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Great Wall"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 50 %"]))], null, null)
        }

        function HS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["City-state"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 20 %"]))], null, null)
        }

        function VS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Stone Skin"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.stoneBonus(e.city.ownerid)));
                n(l, 4, 0, t)
            }))
        }

        function jS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Defense"])), (n()(), Xu(2, 0, null, null, 32, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 31, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["100 %"])), (n()(), Xu(9, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Population"])), (n()(), Xu(12, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(13, null, ["+ ", ""])), cr(14, 1), (n()(), Yu(16777216, null, null, 1, null, LS)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, FS)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, qS)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, US)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, $S)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, HS)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, VS)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(29, 0, null, null, 5, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(32, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(33, null, ["", ""])), cr(34, 1)], (function (n, l) {
                var e = l.component;
                n(l, 16, 0, e.dataService.hasBuilding(e.city, "walls")), n(l, 18, 0, e.dataService.hasBuilding(e.city, "castle")), n(l, 20, 0, e.dataService.hasBuilding(e.city, "fortress")), n(l, 22, 0, e.dataService.hasBuilding(e.city, "temple_artemis")), n(l, 24, 0, e.dataService.hasWonder(e.city.ownerid, "great_wall")), n(l, 26, 0, e.city.capital && e.dataService.hasPolicy("city_state", e.city.ownerid)), n(l, 28, 0, e.dataService.player().powers.stone)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent, 1), e.dataService.pop(e.city) * e.conf.pop_defense));
                n(l, 13, 0, t);
                var i = Je(l, 33, 0, n(l, 34, 0, Jt(l.parent, 1), e.dataService.defense(e.city)));
                n(l, 33, 0, i)
            }))
        }

        function GS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Armory"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["- 50 %"]))], null, null)
        }

        function WS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Oligarchy"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["- 50 %"]))], null, null)
        }

        function KS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Professional Army"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["- 50 %"]))], null, null)
        }

        function ZS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-magic"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Warpath"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["- ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 1), e.dataService.warpathMaintenanceBonus(0)));
                n(l, 4, 0, t)
            }))
        }

        function QS(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Troop unitary maintenance cost"])), (n()(), Xu(2, 0, null, null, 21, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 20, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), cr(9, 2), (n()(), Yu(16777216, null, null, 1, null, GS)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, WS)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, KS)), hi(15, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ZS)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(18, 0, null, null, 5, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(21, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(22, null, ["", ""])), cr(23, 2)], (function (n, l) {
                var e = l.component;
                n(l, 11, 0, e.dataService.hasBuilding(e.city, "armory")), n(l, 13, 0, e.city.capital && e.dataService.hasPolicy("oligarchy", e.city.ownerid)), n(l, 15, 0, e.dataService.hasPolicy("professional_army", e.city.ownerid)), n(l, 17, 0, e.data.charging.warpath)
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent, 0), e.conf.troop_maintenance, ".2"));
                n(l, 8, 0, t);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 0), e.dataService.maintenanceUnitaryCost(e.city), ".3"));
                n(l, 22, 0, i)
            }))
        }

        function YS(n) {
            return vr(0, [pi(0, Py, []), pi(0, Oy, []), pi(0, ay, []), (n()(), Xu(3, 0, null, null, 69, "nav", [["class", "d-flex bg-dark px-2 py-1 font-weight-bold flex-wrap"], ["style", "margin-top: -1px;"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, Hw)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Gw)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Ww)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(10, 16777216, null, null, 3, "div", [["class", "text-pop mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(11, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(13, null, [" ", " "])), (n()(), Xu(14, 16777216, null, null, 16, "div", [["class", "text-food mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(15, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(16, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(17, 0, null, null, 6, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(19, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(20, {
                "text-danger": 0
            }), (n()(), pr(21, null, [" ", " / ", ""])), cr(22, 1), cr(23, 1), (n()(), pr(-1, null, [" ("])), (n()(), Xu(25, 0, null, null, 5, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(27, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(28, {
                "text-danger": 0
            }), (n()(), pr(29, null, ["", ")"])), cr(30, 2), (n()(), Xu(31, 16777216, null, null, 4, "div", [["class", "text-health mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(32, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(33, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(34, null, [" ", ""])), cr(35, 1), (n()(), Yu(16777216, null, null, 1, null, Kw)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(38, 16777216, null, null, 14, "div", [["class", "text-gold mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(39, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(40, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(41, null, [" ", " / ", " ("])), cr(42, 1), cr(43, 1), (n()(), Xu(44, 0, null, null, 5, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(46, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(47, {
                "text-danger": 0
            }), (n()(), pr(48, null, ["", ""])), cr(49, 2), (n()(), pr(-1, null, [") "])), (n()(), Yu(16777216, null, null, 1, null, Zw)), hi(52, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(53, 16777216, null, null, 4, "div", [["class", "text-science mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(54, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(55, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(56, null, [" ", ""])), cr(57, 2), (n()(), Yu(16777216, null, null, 1, null, Qw)), hi(59, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Yw)), hi(61, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(62, 16777216, null, null, 4, "div", [["class", "text-happiness mr-2"], ["placement", "bottom"]], null, null, null, null, null)), hi(63, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                placement: [1, "placement"]
            }, null), (n()(), Xu(64, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(65, null, [" ", ""])), cr(66, 1), (n()(), Yu(16777216, null, null, 1, null, Xw)), hi(68, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, Jw)), hi(70, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, lx)), hi(72, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popPop", 2]], null, 0, null, ix)), (n()(), Yu(0, [["popBonus", 2]], null, 0, null, hx)), (n()(), Yu(0, [["popFood", 2]], null, 0, null, Cx)), (n()(), Yu(0, [["popGold", 2]], null, 0, null, Fx)), (n()(), Yu(0, [["popScience", 2]], null, 0, null, tC)), (n()(), Yu(0, [["popCulture", 2]], null, 0, null, SC)), (n()(), Yu(0, [["popFaith", 2]], null, 0, null, UC)), (n()(), Yu(0, [["popProd", 2]], null, 0, null, eS)), (n()(), Yu(0, [["popHealth", 2]], null, 0, null, gS)), (n()(), Yu(0, [["popHappiness", 2]], null, 0, null, zS)), (n()(), Yu(0, [["popDefense", 2]], null, 0, null, jS)), (n()(), Yu(0, [["popMaintenance", 2]], null, 0, null, QS))], (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.city.bonus), n(l, 7, 0, !e.edit), n(l, 9, 0, e.edit), n(l, 11, 0, Jt(l, 73), "bottom"), n(l, 15, 0, Jt(l, 75), "bottom");
                var t = n(l, 20, 0, e.city.autoassign_options && e.city.autoassign_options.nogrowth && e.city.food == e.dataService.foodRequired(e.city));
                n(l, 19, 0, t);
                var i = n(l, 28, 0, e.dataService.foodDiff(e.city) < 0);
                n(l, 27, 0, i), n(l, 32, 0, Jt(l, 81), "bottom"), n(l, 37, 0, e.dataService.isUnlocked("buildings")), n(l, 39, 0, Jt(l, 76), "bottom");
                var u = n(l, 47, 0, e.dataService.goldDiff(e.city) < 0);
                n(l, 46, 0, u), n(l, 52, 0, e.city.gold == e.dataService.maxGold(e.city)), n(l, 54, 0, Jt(l, 77), "bottom"), n(l, 59, 0, e.dataService.hasScience("art")), n(l, 61, 0, e.dataService.hasScience("spirituality")), n(l, 63, 0, Jt(l, 82), "bottom"), n(l, 68, 0, e.dataService.isUnlocked("troops")), n(l, 70, 0, e.dataService.isUnlocked("menu_world")), n(l, 72, 0, e.data.dailys.length)
            }), (function (n, l) {
                var e = l.component;
                n(l, 12, 0, e.icons.pop), n(l, 13, 0, e.dataService.pop(e.city)), n(l, 16, 0, e.icons.food);
                var t = Je(l, 21, 0, n(l, 22, 0, Jt(l, 0), e.city.food)),
                    i = Je(l, 21, 1, n(l, 23, 0, Jt(l, 0), e.dataService.foodRequired(e.city)));
                n(l, 21, 0, t, i);
                var u = Je(l, 29, 0, n(l, 30, 0, Jt(l, 0), e.dataService.foodDiff(e.city), "+.1"));
                n(l, 29, 0, u), n(l, 33, 0, e.icons.health);
                var r = Je(l, 34, 0, n(l, 35, 0, Jt(l, 1), e.dataService.health(e.city)));
                n(l, 34, 0, r), n(l, 40, 0, e.icons.gold);
                var a = Je(l, 41, 0, n(l, 42, 0, Jt(l, 0), e.city.gold)),
                    o = Je(l, 41, 1, n(l, 43, 0, Jt(l, 0), e.dataService.maxGold(e.city)));
                n(l, 41, 0, a, o);
                var s = Je(l, 48, 0, n(l, 49, 0, Jt(l, 0), e.dataService.goldDiff(e.city), "+.1"));
                n(l, 48, 0, s), n(l, 55, 0, e.icons.science);
                var c = Je(l, 56, 0, n(l, 57, 0, Jt(l, 0), e.dataService.scienceDiff(e.city), "+.1"));
                n(l, 56, 0, c), n(l, 64, 0, e.icons.happiness);
                var d = Je(l, 65, 0, n(l, 66, 0, Jt(l, 1), e.dataService.happiness(e.city)));
                n(l, 65, 0, d)
            }))
        }
        var XS = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.ctrl = !1, this.shift = !1, this.icons = $f, this.troopSelection = !1
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        this.isCtrl(n.key) && this.dataService.isUnlocked("recruit_x10") ? this.ctrl = !0 : this.isShift(n.key) && this.dataService.isUnlocked("recruit_x100") && (this.shift = !0)
                    }
                }, {
                    key: "handleKeyupEvent",
                    value: function (n) {
                        this.isCtrl(n.key) && (this.ctrl = !1), this.isShift(n.key) && (this.shift = !1)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "isCtrl",
                    value: function (n) {
                        return "Control" == n || "Meta" == n
                    }
                }, {
                    key: "isShift",
                    value: function (n) {
                        return "Shift" == n
                    }
                }, {
                    key: "isQueueAllowed",
                    value: function () {
                        return this.dataService.isUnlocked("queue_troops")
                    }
                }, {
                    key: "toggleTroopSelection",
                    value: function () {
                        this.troopSelection = !this.troopSelection
                    }
                }, {
                    key: "isAnythingVisible",
                    value: function () {
                        var n = this;
                        return Object.values(this.conf.troops).some((function (l) {
                            return n.isVisible(l)
                        }))
                    }
                }, {
                    key: "isVisible",
                    value: function (n) {
                        return !(n.require.science && !this.dataService.hasScience(n.require.science) || n.obsolete && this.dataService.hasScience(n.obsolete) || n.require.building && !this.dataService.hasBuilding(this.city, n.require.building))
                    }
                }, {
                    key: "isAvailable",
                    value: function (n) {
                        var l = this.anb();
                        return "governor" == n.id && (l = 1), !(!this.isQueueAllowed() && this.city.troop_queue.length || n.gold(this.dataService, 0) * l > this.city.gold || "caravan" == n.id && this.dataService.tradeRouteNb() + this.dataService.troopNbById(0, "caravan") >= this.dataService.maxTradeRoute() || n.citizen && this.dataService.pop(this.city) <= l * n.citizen)
                    }
                }, {
                    key: "anb",
                    value: function () {
                        return this.ctrl ? 10 : this.shift ? 100 : 1
                    }
                }, {
                    key: "troopsNb",
                    value: function (n) {
                        var l = this.anb();
                        return Math.min(l, this.city.troops[n])
                    }
                }, {
                    key: "execute",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                            e = this.anb();
                        e = Math.min(e, this.city.troops[n]), this.city.troops[n] -= e, this.city.troops[n] <= 0 && delete this.city.troops[n], "worker" != n && "engineer" != n || l || (this.city.citizens.idle += e), "worker" != n && "engineer" != n || !l || (this.city.buildings[this.city.building_queue[0]].progress += this.wonderBuilderGain() * e)
                    }
                }, {
                    key: "canBuy",
                    value: function (n, l) {
                        return this.city.gold >= this.buyCost(n, l)
                    }
                }, {
                    key: "nb",
                    value: function (n) {
                        if ("governor" == this.city.troop_queue[n].id) return 1;
                        var l = this.anb();
                        return l > this.city.troop_queue[n].nb && (l = this.city.troop_queue[n].nb), l
                    }
                }, {
                    key: "buyCost",
                    value: function (n, l) {
                        return (this.nb(l) - 1) * this.dataService.troopTimeToGoldCost(this.city, n, !1) + this.dataService.troopTimeToGoldCost(this.city, n)
                    }
                }, {
                    key: "buy",
                    value: function (n, l) {
                        if (this.canBuy(n, l)) {
                            var e = this.nb(l);
                            this.city.gold -= this.buyCost(n, l), this.city.troops_progress[n] = 0, this.city.troop_queue[l].nb -= e, this.city.troop_queue[l].nb || this.city.troop_queue.splice(l, 1), this.city.troops[n] ? this.city.troops[n] += e : this.city.troops[n] = e
                        }
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        var l = this.anb();
                        l = Math.min(l, this.city.troop_queue[n].nb);
                        var e = this.conf.troops[this.city.troop_queue[n].id];
                        this.city.gold += "governor" == e.id ? this.dataService.govCost(0, -1) : l * e.gold(this.dataService, 0), this.city.troop_queue[n].nb -= l, this.city.troop_queue[n].nb <= 0 && this.city.troop_queue.splice(n, 1)
                    }
                }, {
                    key: "isPopulateAllowed",
                    value: function () {
                        return this.dataService.pop(this.city) < 20
                    }
                }, {
                    key: "selectTroop",
                    value: function (n) {
                        var l = this.anb();
                        "governor" == n.id && (l = 1), this.isAvailable(n) && (this.city.gold -= n.gold(this.dataService, 0) * l, this.city.troops_progress[n.id] || (this.city.troops_progress[n.id] = 0), this.isQueueAllowed() || (this.city.troop_queue = []), this.city.troop_queue.length && this.city.troop_queue[this.city.troop_queue.length - 1].id == n.id ? this.city.troop_queue[this.city.troop_queue.length - 1].nb += l : this.city.troop_queue.push({
                            id: n.id,
                            nb: l
                        }))
                    }
                }, {
                    key: "wonderBuilderGain",
                    value: function () {
                        return Math.max(0, 500 * this.dataService.currentScienceRank() - 1900)
                    }
                }, {
                    key: "upgrade",
                    value: function (n) {
                        this.dataService.upgrade(n, this.city)
                    }
                }, {
                    key: "isUpgradable",
                    value: function (n) {
                        return this.dataService.isUpgradable(n, 0)
                    }
                }, {
                    key: "canUpgrade",
                    value: function (n, l) {
                        return this.dataService.canUpgrade(n, l, this.city)
                    }
                }, {
                    key: "upgradeCost",
                    value: function (n, l) {
                        return this.dataService.upgradeCost(n, l, this.city)
                    }
                }, {
                    key: "autorecruit",
                    value: function (n) {
                        this.city.autorecruit = this.city.autorecruit == n ? void 0 : n
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = this.conf.troops[l];
                        n.open({
                            title: e.name(this.dataService.player()),
                            desc: e.description,
                            troop: e,
                            time: this.dataService.troopTime(this.city, l)
                        })
                    }
                }, {
                    key: "mouseenterforbuy",
                    value: function (n, l, e) {
                        n.open({
                            id: l,
                            idx: e
                        })
                    }
                }, {
                    key: "mouseenterforupgrade",
                    value: function (n, l, e) {
                        n.open({
                            upgrade: this.conf.troops[this.conf.troops[l].upgradable].name(this.dataService.player()),
                            cost: this.upgradeCost(this.conf.troops[l], e)
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            JS = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function nI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, [" & Shift for x100"]))], null, null)
        }

        function lI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "text-primary"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Ctrl for x10 "])), (n()(), Yu(16777216, null, null, 1, null, nI)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 4, 0, l.component.dataService.isUnlocked("recruit_x100"))
            }), (function (n, l) {
                n(l, 1, 0, l.component.icons.info)
            }))
        }

        function eI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 2, "button", [["triggers", "manuel"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.upgrade(i.conf.troops[n.parent.parent.context.$implicit.key]) && t), "mouseenter" === l && (t = !1 !== i.mouseenterforupgrade(Jt(n, 1), n.parent.parent.context.$implicit.key, n.parent.parent.context.$implicit.value) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p2", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                triggers: [1, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent.parent.parent, 26), "manuel")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, At(1, "btn btn-sm mr-1 ", e.canUpgrade(e.conf.troops[l.parent.parent.context.$implicit.key], l.parent.parent.context.$implicit.value) ? "btn-primary" : "btn-secondary", "")), n(l, 2, 0, e.icons.chevron_up)
            }))
        }

        function tI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "button", [["class", "btn btn-sm btn-danger bg-pop mr-1"], ["title", "Populate (only if city population less than 20)"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.execute(n.parent.parent.context.$implicit.key) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.isPopulateAllowed()), n(l, 1, 0, e.icons.pop), n(l, 2, 0, e.troopsNb(l.parent.parent.context.$implicit.key))
            }))
        }

        function iI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-sm btn-danger bg-pop mr-1"], ["title", "Whip !"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.execute(n.parent.parent.context.$implicit.key, !0) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.prod);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent, 0), e.wonderBuilderGain() * e.troopsNb(l.parent.parent.context.$implicit.key)));
                n(l, 2, 0, t)
            }))
        }

        function uI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-sm btn-danger mr-1"], ["title", "Disband"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.execute(n.parent.parent.context.$implicit.key) && t), t
            }), null, null)), (n()(), pr(1, null, ["- ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.troopsNb(l.parent.parent.context.$implicit.key))
            }))
        }

        function rI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 11, "div", [["class", "d-flex p-1"], ["placement", "left"], ["triggers", "manual"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.parent.context.$implicit.key) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 1, "div", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(3, null, ["", ": ", ""])), (n()(), Yu(16777216, null, null, 1, null, eI)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, tI)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, iI)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uI)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent, 24), Jt(l.parent.parent, 23), "left", "manual"), n(l, 5, 0, e.isUpgradable(e.conf.troops[l.parent.context.$implicit.key])), n(l, 7, 0, "worker" == l.parent.context.$implicit.key), n(l, 9, 0, "worker" == l.parent.context.$implicit.key && e.dataService.hasPolicy("wonder_builder")), n(l, 11, 0, "worker" != l.parent.context.$implicit.key)
            }), (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.conf.troops[l.parent.context.$implicit.key].name(e.dataService.player()), l.parent.context.$implicit.value)
            }))
        }

        function aI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, rI)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value > 0)
            }), null)
        }

        function oI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Recruiting nothing"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.exclamation)
            }))
        }

        function sI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["("])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" auto-recruiting)"]))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.auto + " text-primary")
            }))
        }

        function cI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(x", ")"]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.nb)
            }))
        }

        function dI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 3, "button", [["style", "width:68px"], ["triggers", "manuel"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.buy(n.parent.context.$implicit.id, n.parent.context.index) && t), "mouseenter" === l && (t = !1 !== i.mouseenterforbuy(Jt(n, 1), n.parent.context.$implicit.id, n.parent.context.index) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p2", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                triggers: [1, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" x", ""])), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent.parent.parent, 25), "manuel")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, "btn btn-sm mr-1 " + (e.canBuy(l.parent.context.$implicit.id, l.parent.context.index) ? " btn-dark text-gold" : " btn-secondary text-light")), n(l, 2, 0, e.icons.opt_buy), n(l, 3, 0, e.nb(l.parent.context.index))
            }))
        }

        function hI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-sm btn-danger mr-1"], ["style", "width:40px"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.remove(n.parent.context.index) && t), t
            }), null, null)), (n()(), pr(1, null, ["-", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.nb(l.parent.context.index))
            }))
        }

        function pI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "li", [["class", "d-flex align-items-center px-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "div", [["class", "flex-fill"], ["style", "height:auto!important"]], null, null, null, null, null)), (n()(), pr(2, null, [" ", " "])), (n()(), Yu(16777216, null, null, 1, null, cI)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(5, null, [": ", " "])), cr(6, 1), (n()(), Yu(16777216, null, null, 1, null, dI)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hI)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, l.context.$implicit.nb > 1), n(l, 8, 0, e.dataService.isUnlocked("prod_purchase") && !e.conf.troops[l.context.$implicit.id].citizen), n(l, 10, 0, e.isQueueAllowed())
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.troops[l.context.$implicit.id].name(e.dataService.player()));
                var t = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent.parent, 1), e.dataService.troopTime(e.city, l.context.$implicit.id, 0 == l.context.index)));
                n(l, 5, 0, t)
            }))
        }

        function fI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [["class", "overflow-auto flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Recruiting "])), (n()(), Yu(16777216, null, null, 1, null, sI)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(4, 0, null, null, 2, "ul", [["class", "list-unstyled"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, pI)), hi(6, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.city.autorecruit), n(l, 6, 0, e.city.troop_queue)
            }), null)
        }

        function gI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["title", "Auto-recruit"]], [[8, "className", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.autorecruit(n.parent.parent.context.$implicit.key) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, At(1, "btn btn-sm ", e.city.autorecruit == l.parent.parent.context.$implicit.key ? "btn-primary" : "btn-secondary", "")), n(l, 1, 0, e.icons.auto)
            }))
        }

        function vI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" ", " "]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.pop), n(l, 2, 0, l.parent.parent.context.$implicit.value.citizen)
            }))
        }

        function mI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 19, "div", [["class", "border px-2"], ["placement", "left-bottom"], ["triggers", "manual"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.parent.context.$implicit.key) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 6, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "div", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Xu(5, 0, null, null, 1, "button", [["class", "btn btn-sm btn-primary mr-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.selectTroop(n.parent.context.$implicit.value) && t), t
            }), null, null)), (n()(), pr(6, null, ["+", ""])), (n()(), Yu(16777216, null, null, 1, null, gI)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(9, 0, null, null, 10, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 3, "div", [["class", "text-gold mr-2"]], null, null, null, null, null)), (n()(), pr(11, null, ["", " "])), cr(12, 1), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(14, 0, null, null, 3, "div", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(16, null, [" ", " "])), cr(17, 1), (n()(), Yu(16777216, null, null, 1, null, vI)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent.parent, 24), Jt(l.parent.parent.parent, 23), "left-bottom", "manual"), n(l, 8, 0, !l.parent.context.$implicit.value.noautorecruit && e.dataService.isUnlocked("recruit_x10")), n(l, 19, 0, l.parent.context.$implicit.value.citizen)
            }), (function (n, l) {
                var e = l.component,
                    t = l.parent.context.$implicit.value.name(e.dataService.player());
                n(l, 4, 0, t), n(l, 5, 0, !e.isAvailable(l.parent.context.$implicit.value)), n(l, 6, 0, "governor" == l.parent.context.$implicit.key ? 1 : e.anb());
                var i = Je(l, 11, 0, n(l, 12, 0, Jt(l.parent.parent.parent, 0), l.parent.context.$implicit.value.gold(e.dataService, 0)));
                n(l, 11, 0, i), n(l, 13, 0, e.icons.gold), n(l, 15, 0, e.icons.time);
                var u = Je(l, 16, 0, n(l, 17, 0, Jt(l.parent.parent.parent, 1), e.dataService.troopTime(e.city, l.parent.context.$implicit.key, !1)));
                n(l, 16, 0, u)
            }))
        }

        function yI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, mI)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.isVisible(l.context.$implicit.value))
            }), null)
        }

        function bI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "overflow-auto flex-fill"], ["style", "height:0"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, yI)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, Je(l, 2, 0, Jt(l, 3).transform(e.conf.troops)))
            }), null)
        }

        function _I(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, [" There is no troop available for recruit in this city "]))], null, null)
        }

        function kI(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function wI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), pr(1, null, [" Range: ", " "]))], null, (function (n, l) {
                n(l, 1, 0, l.component.dataService.tradeRouteMaxDist())
            }))
        }

        function xI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.ranged)
            }))
        }

        function CI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.siege)
            }))
        }

        function SI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-pop"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" (", ")"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.pop), n(l, 2, 0, l.parent.context.troop.citizen)
            }))
        }

        function II(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, wI)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 16, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, xI)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CI)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(8, 0, null, null, 2, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(10, null, [" ", ""])), (n()(), Xu(11, 0, null, null, 2, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(13, null, [" ", ""])), (n()(), Xu(14, 0, null, null, 2, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(16, null, [" ", ""])), (n()(), Xu(17, 0, null, null, 2, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(19, null, [" ", ""])), (n()(), Xu(20, 0, null, null, 10, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 3, "span", [["class", "text-gold mr-2"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(23, null, [" ", ""])), cr(24, 1), (n()(), Xu(25, 0, null, null, 3, "span", [["class", "text-time mr-2"]], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(27, null, [" (", ")"])), cr(28, 1), (n()(), Yu(16777216, null, null, 1, null, SI)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, "caravan" == l.context.troop.id);
                var t = l.context.troop.ranged(e.dataService.player);
                n(l, 5, 0, t), n(l, 7, 0, l.context.troop.siege), n(l, 30, 0, l.context.troop.citizen)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.context.desc), n(l, 9, 0, e.icons.attack);
                var t = l.context.troop.attack(e.dataService.player());
                n(l, 10, 0, t), n(l, 12, 0, e.icons.defense);
                var i = l.context.troop.defense(e.dataService.player());
                n(l, 13, 0, i), n(l, 15, 0, e.icons.speed);
                var u = l.context.troop.speed(e.dataService.player());
                n(l, 16, 0, u), n(l, 18, 0, e.icons.capacity), n(l, 19, 0, l.context.troop.capacity), n(l, 22, 0, e.icons.gold);
                var r = Je(l, 23, 0, n(l, 24, 0, Jt(l.parent, 0), l.context.troop.gold(e.dataService, 0)));
                n(l, 23, 0, r), n(l, 26, 0, e.icons.time);
                var a = Je(l, 27, 0, n(l, 28, 0, Jt(l.parent, 1), l.context.time));
                n(l, 27, 0, a)
            }))
        }

        function TI(n) {
            return vr(0, [(n()(), pr(0, null, [" Buy ", " for "])), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, ["", "\n"])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.nb(l.context.idx)), n(l, 1, 0, "text-gold " + e.icons.gold);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent, 0), e.buyCost(l.context.id, l.context.idx)));
                n(l, 2, 0, t)
            }))
        }

        function EI(n) {
            return vr(0, [(n()(), pr(-1, null, [" Upgrade to "])), (n()(), Xu(1, 0, null, null, 1, "span", [["class", "text-troop"]], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), pr(-1, null, [" for "])), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(5, null, ["", "\n"])), cr(6, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.context.upgrade), n(l, 4, 0, "text-gold " + e.icons.gold);
                var t = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent, 0), l.context.cost));
                n(l, 5, 0, t)
            }))
        }

        function AI(n) {
            return vr(0, [pi(0, Py, []), pi(0, ay, []), (n()(), Xu(2, 0, null, null, 20, "div", [["class", "border-left h-100 d-flex flex-column"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 8, "div", [["class", "h-40 d-flex flex-column"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troops"])), (n()(), Yu(16777216, null, null, 1, null, lI)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(8, 0, null, null, 3, "div", [["class", "flex-fill overflow-auto"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, aI)), hi(10, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(12, 0, null, null, 10, "div", [["class", "h-60 border-top d-flex flex-column"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, oI)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fI)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(17, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.toggleTroopSelection() && t), t
            }), null, null)), (n()(), pr(18, null, ["", ""])), (n()(), Yu(16777216, null, null, 1, null, bI)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _I)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, kI)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, II)), (n()(), Yu(0, [["popBuy", 2]], null, 0, null, TI)), (n()(), Yu(0, [["popUpgrade", 2]], null, 0, null, EI))], (function (n, l) {
                var e = l.component;
                n(l, 7, 0, e.dataService.isUnlocked("recruit_x10")), n(l, 10, 0, Je(l, 10, 0, Jt(l, 11).transform(e.city.troops))), n(l, 14, 0, !e.city.troop_queue.length), n(l, 16, 0, e.city.troop_queue.length), n(l, 20, 0, e.troopSelection && e.isAnythingVisible()), n(l, 22, 0, e.troopSelection && !e.isAnythingVisible())
            }), (function (n, l) {
                n(l, 18, 0, l.component.isQueueAllowed() ? "Add to queue" : "Select troop")
            }))
        }
        var PI = function () {
                function n(l, e, t) {
                    var i = this;
                    _classCallCheck(this, n), this.dataService = l, this.data = e, this.conf = t, this.icons = $f, this.buildingSelection = !1, this.orderByCategoryAndId = function (n, l) {
                        var e = i.conf.buildings[n.key],
                            t = i.conf.buildings[l.key];
                        return e.category > t.category ? 1 : e.category < t.category ? -1 : 0
                    }
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "isQueueAllowed",
                    value: function () {
                        return this.dataService.isUnlocked("queue_buildings")
                    }
                }, {
                    key: "toggleBuildingSelection",
                    value: function () {
                        this.buildingSelection = !this.buildingSelection
                    }
                }, {
                    key: "isAnythingVisible",
                    value: function () {
                        var n = this;
                        return Object.values(this.conf.buildings).some((function (l) {
                            return n.isVisible(l)
                        }))
                    }
                }, {
                    key: "isDone",
                    value: function (n) {
                        return this.dataService.hasBuilding(this.city, n.id)
                    }
                }, {
                    key: "isVisible",
                    value: function (n) {
                        return this.dataService.isBuildingVisible(this.city, n)
                    }
                }, {
                    key: "isAvailable",
                    value: function (n) {
                        return this.dataService.isBuildingAvailable(this.city, n)
                    }
                }, {
                    key: "visibleBuildings",
                    value: function () {
                        var n = this;
                        return Object.values(this.conf.buildings).filter((function (l) {
                            return n.isVisible(l)
                        })).sort((function (l, e) {
                            var t = n.conf.sciences[l.require.science].rank,
                                i = n.conf.sciences[e.require.science].rank;
                            return t > i ? 1 : t < i ? -1 : 0
                        }))
                    }
                }, {
                    key: "remove",
                    value: function (n) {
                        var l = this;
                        this.city.building_queue.splice(this.city.building_queue.indexOf(n), 1), delete this.city.buildings[n], this.city.gold += this.dataService.buildingGoldCost(this.conf.buildings[n]), this.city.building_queue.forEach((function (e) {
                            l.conf.buildings[e].require.buildings.includes(n) && l.remove(e)
                        }))
                    }
                }, {
                    key: "selectBuilding",
                    value: function (n) {
                        this.isAvailable(n) && (this.city.buildings[n.id] || (this.city.gold -= this.dataService.buildingGoldCost(n), this.city.buildings[n.id] = {
                            progress: 0,
                            done: !1
                        }), this.isQueueAllowed() || (this.city.building_queue = []), this.city.building_queue.push(n.id))
                    }
                }, {
                    key: "canBuy",
                    value: function (n) {
                        return !("progress" == n && !this.dataService.hasScience("corporation")) && this.city.gold >= this.dataService.buildingProdToGoldCost(this.city, n)
                    }
                }, {
                    key: "buy",
                    value: function (n) {
                        this.canBuy(n) && this.dataService.buyBuilding(this.city, n)
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = this,
                            t = this.conf.buildings[l];
                        n.open({
                            title: t.label(this.dataService.player()),
                            desc: t.description(0, this.dataService),
                            cost: this.dataService.buildingGoldCost(t),
                            prod: this.dataService.buildingProdCost(t, this.city),
                            time: this.dataService.buildingTime(this.city, l),
                            req: t.require.buildings.map((function (n) {
                                return e.conf.buildings[n].label(e.dataService.player())
                            })),
                            building: t
                        })
                    }
                }, {
                    key: "mouseenterforbuy",
                    value: function (n, l) {
                        n.open({
                            id: l
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            OI = et({
                encapsulation: 0,
                styles: [[".cursor-forbidden[_ngcontent-%COMP%]   .text-special[_ngcontent-%COMP%]{color:#6c757d!important}"]],
                data: {}
            });

        function DI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "span", [], [[8, "innerHTML", 1]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.conf.buildings[l.parent.parent.context.$implicit.key].desc(0, e.dataService, e.city))
            }))
        }

        function RI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 8, "div", [["class", "d-flex justify-content-between"], ["placement", "left"], ["triggers", "manuel"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.parent.context.$implicit.key) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 4, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(4, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(5, {
                "text-special font-weight-bold": 0
            }), (n()(), pr(6, null, ["", ""])), (n()(), Yu(16777216, null, null, 1, null, DI)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent, 22), Jt(l.parent.parent, 21), "left", "manuel");
                var t = n(l, 5, 0, e.conf.buildings[l.parent.context.$implicit.key].wonder);
                n(l, 4, 0, t), n(l, 8, 0, e.conf.buildings[l.parent.context.$implicit.key].desc)
            }), (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.conf.buildings[l.parent.context.$implicit.key].label(e.dataService.player()))
            }))
        }

        function MI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, RI)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value.done)
            }), null)
        }

        function NI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Building nothing"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.exclamation)
            }))
        }

        function BI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 2, "button", [["triggers", "manuel"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.buy(n.parent.context.$implicit) && t), "mouseenter" === l && (t = !1 !== i.mouseenterforbuy(Jt(n, 1), n.parent.context.$implicit) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p2", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                triggers: [1, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent.parent.parent, 23), "manuel")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, "btn btn-sm mr-1 " + (e.canBuy(l.parent.context.$implicit) ? " btn-dark text-gold" : " btn-secondary text-light")), n(l, 2, 0, e.icons.opt_buy)
            }))
        }

        function zI(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 9, "li", [["class", "d-flex align-items-center px-1"], ["placement", "left"], ["triggers", "manuel"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.context.$implicit) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 2, "div", [["class", "flex-fill"], ["style", "height:auto!important"]], null, null, null, null, null)), (n()(), pr(3, null, [" ", " : ", " "])), cr(4, 1), (n()(), Yu(16777216, null, null, 1, null, BI)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 16777216, null, null, 2, "button", [["class", "btn btn-sm btn-danger mr-1"], ["ngbPopover", "Remove from queue"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.remove(n.context.$implicit) && t), t
            }), null, null)), hi(8, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"]
            }, null), (n()(), Xu(9, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent, 22), Jt(l.parent.parent, 21), "left", "manuel"), n(l, 6, 0, !e.conf.buildings[l.context.$implicit].wonder && e.dataService.isUnlocked("prod_purchase")), n(l, 8, 0, "Remove from queue")
            }), (function (n, l) {
                var e = l.component,
                    t = e.conf.buildings[l.context.$implicit].label(e.dataService.player()),
                    i = Je(l, 3, 1, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.buildingTime(e.city, l.context.$implicit)));
                n(l, 3, 0, t, i), n(l, 9, 0, e.icons.minus)
            }))
        }

        function LI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "overflow-auto flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Building: "])), (n()(), Xu(2, 0, null, null, 2, "ul", [["class", "list-unstyled"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, zI)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 4, 0, l.component.city.building_queue)
            }), null)
        }

        function FI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 17, "div", [], null, null, null, null, null)), (n()(), Xu(1, 16777216, null, null, 16, "div", [["placement", "left-bottom"], ["triggers", "manual"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.selectBuilding(n.context.$implicit) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 5), n.context.$implicit.id) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 5)) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(3, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(4, {
                "cursor-pointer list-group-item": 0,
                "text-secondary cursor-forbidden": 1
            }), hi(5, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(6, 0, null, null, 4, "span", [], null, null, null, null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(8, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(9, {
                "text-special font-weight-bold": 0
            }), (n()(), pr(10, null, ["", ""])), (n()(), pr(-1, null, [" - "])), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(13, null, [" ", " - "])), cr(14, 1), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(16, null, [" ", " "])), cr(17, 1)], (function (n, l) {
                var e = n(l, 4, 0, !0, !l.component.isAvailable(l.context.$implicit));
                n(l, 3, 0, e), n(l, 5, 0, Jt(l.parent.parent, 22), Jt(l.parent.parent, 21), "left-bottom", "manual");
                var t = n(l, 9, 0, l.context.$implicit.wonder);
                n(l, 8, 0, t)
            }), (function (n, l) {
                var e = l.component,
                    t = l.context.$implicit.label(e.dataService.player());
                n(l, 10, 0, t), n(l, 12, 0, e.icons.gold);
                var i = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent.parent, 1), e.dataService.buildingGoldCost(l.context.$implicit, 0)));
                n(l, 13, 0, i), n(l, 15, 0, e.icons.time);
                var u = Je(l, 16, 0, n(l, 17, 0, Jt(l.parent.parent, 0), e.dataService.buildingTime(e.city, l.context.$implicit.id)));
                n(l, 16, 0, u)
            }))
        }

        function qI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "list-group overflow-auto flex-fill"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, FI)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.visibleBuildings())
            }), null)
        }

        function UI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, [" There is nothing we can build in this city "]))], null, null)
        }

        function $I(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function HI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [["class", "text-time"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" (", ")"])), cr(3, 1)], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.time);
                var e = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent, 0), l.parent.context.time));
                n(l, 2, 0, e)
            }))
        }

        function VI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "]))], null, (function (n, l) {
                n(l, 1, 0, l.context.$implicit)
            }))
        }

        function jI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Required: "])), (n()(), Yu(16777216, null, null, 1, null, VI)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.req)
            }), null)
        }

        function GI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Required: "])), (n()(), Xu(2, 0, null, null, 2, "span", [["class", "text-tech"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +75"]))], null, (function (n, l) {
                n(l, 3, 0, l.component.icons.tech)
            }))
        }

        function WI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Required: "])), (n()(), Xu(2, 0, null, null, 2, "span", [["class", "text-tech"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" +25"]))], null, (function (n, l) {
                n(l, 3, 0, l.component.icons.tech)
            }))
        }

        function KI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 10, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 3, "span", [["class", "text-gold mr-2"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(4, null, [" ", ""])), cr(5, 1), (n()(), Xu(6, 0, null, null, 3, "span", [["class", "text-prod mr-2"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(8, null, [" ", ""])), cr(9, 1), (n()(), Yu(16777216, null, null, 1, null, HI)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, jI)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, GI)), hi(15, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, WI)), hi(17, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 11, 0, !l.component.isDone(l.context.building)), n(l, 13, 0, l.context.req.length), n(l, 15, 0, l.context.building.industrial && l.context.building.wonder), n(l, 17, 0, l.context.building.industrial && !l.context.building.wonder)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.context.desc), n(l, 3, 0, e.icons.gold);
                var t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent, 1), l.context.cost));
                n(l, 4, 0, t), n(l, 7, 0, e.icons.prod);
                var i = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent, 1), l.context.prod));
                n(l, 8, 0, i)
            }))
        }

        function ZI(n) {
            return vr(0, [(n()(), pr(-1, null, [" Buy for "])), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, ["", "\n"])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "text-gold " + e.icons.gold);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent, 1), e.dataService.buildingProdToGoldCost(e.city, l.context.id)));
                n(l, 2, 0, t)
            }))
        }

        function QI(n) {
            return vr(0, [pi(0, ay, []), pi(0, Py, []), (n()(), Xu(2, 0, null, null, 18, "div", [["class", "border-left h-100 d-flex flex-column"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 6, "div", [["class", "h-40 d-flex flex-column"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Buildings"])), (n()(), Xu(6, 0, null, null, 3, "div", [["class", "flex-fill overflow-auto"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, MI)), hi(8, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, Ao, [Oe]), (n()(), Xu(10, 0, null, null, 10, "div", [["class", "h-60 border-top d-flex flex-column"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, NI)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, LI)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(15, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.toggleBuildingSelection() && t), t
            }), null, null)), (n()(), pr(16, null, ["", ""])), (n()(), Yu(16777216, null, null, 1, null, qI)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, UI)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, $I)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, KI)), (n()(), Yu(0, [["popBuy", 2]], null, 0, null, ZI))], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, Je(l, 8, 0, Jt(l, 9).transform(e.city.buildings, e.orderByCategoryAndId))), n(l, 12, 0, !e.city.building_queue.length), n(l, 14, 0, e.city.building_queue.length), n(l, 18, 0, e.buildingSelection && e.isAnythingVisible()), n(l, 20, 0, e.buildingSelection && !e.isAnythingVisible())
            }), (function (n, l) {
                n(l, 16, 0, l.component.isQueueAllowed() ? "Add to queue" : "Select building")
            }))
        }
        var YI = function () {
                function n() {
                    _classCallCheck(this, n), this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }]), n
            }(),
            XI = et({
                encapsulation: 0,
                styles: [[".bgicon[_ngcontent-%COMP%]{position:absolute;left:50%;z-index:-9}.bgicon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{position:relative;top:15px;left:-50%;font-size:75vh;opacity:.05}"]],
                data: {}
            });

        function JI(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "bgicon"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons[e.icon])
            }))
        }
        var nT = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.conf = t, this.activatedRoute = i, this.modalService = u, this.icons = $f, this.cityId = this.dataService.player().cities[0].id
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        39 == n.keyCode ? this.goNext() : 37 == n.keyCode && this.goNext(!0)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.paramMap.subscribe((function (l) {
                            l.has("id") ? n.cityId = +l.get("id") : n.data.sel_cityid && (n.cityId = n.data.sel_cityid), n.city = n.dataService.player().cities.find((function (l) {
                                return l.id == n.cityId
                            })), n.city || (n.cityId = n.dataService.player().cities[0].id, n.city = n.dataService.player().cities.find((function (l) {
                                return l.id == n.cityId
                            }))), n.updateId()
                        })), this.timer = setInterval((function () {
                            n.city && 0 != n.city.ownerid && (n.city = n.dataService.player().cities[0], n.updateId())
                        }), 100)
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        this.timer && clearInterval(this.timer)
                    }
                }, {
                    key: "capitalCost",
                    value: function () {
                        return Math.floor(500 * Math.pow(this.dataService.currentScienceRank(), 4))
                    }
                }, {
                    key: "relocate",
                    value: function () {
                        if (this.isRelocateAllowed()) {
                            this.city.gold -= this.capitalCost(), this.data.capitalchange_cooldown = this.conf.capital_cooldown;
                            var n = this.dataService.capital();
                            delete n.buildings.palace, n.capital = !1, this.city.capital = !0
                        }
                    }
                }, {
                    key: "isRelocateAllowed",
                    value: function () {
                        return !(this.city.capital || !this.dataService.hasScience("state") || this.city.gold < this.capitalCost() || this.data.capitalchange_cooldown)
                    }
                }, {
                    key: "updateId",
                    value: function () {
                        this.data.sel_cityid = this.city.id, this.nextCity = this.next(), this.prevCity = this.next(!0)
                    }
                }, {
                    key: "autoAssign",
                    value: function () {
                        this.data.pause && this.city.autoassign && this.conf.autoassign.balanced.sort(this.city, this.dataService)
                    }
                }, {
                    key: "isAvailable",
                    value: function (n) {
                        return "farmers" == n || "idle" == n || this.dataService.isUnlocked("citizen_" + n)
                    }
                }, {
                    key: "next",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            l = this.dataService.player().cities.indexOf(this.city) + (n ? -1 : 1);
                        return l >= this.dataService.player().cities.length && (l = 0), l < 0 && (l = this.dataService.player().cities.length - 1), this.dataService.player().cities[l]
                    }
                }, {
                    key: "goNext",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        this.city = n ? this.prevCity : this.nextCity, this.updateId()
                    }
                }, {
                    key: "increaseCitizen",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                        this.city.citizens.idle && (l = Math.min(l, this.city.citizens.idle), this.city.citizens[n] += l, this.city.citizens.idle -= l)
                    }
                }, {
                    key: "decreaseCitizen",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                        this.city.citizens[n] && (l = Math.min(l, this.city.citizens[n]), this.city.citizens[n] -= l, this.city.citizens.idle += l)
                    }
                }, {
                    key: "abandon",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                        if (n) {
                            this.dataService.transferCity(this.city.id, n, !1, !1);
                            var l = this.dataService.player(n);
                            n > 1 && l.appreciation[0] && (l.appreciation[0] += 20, l.appreciation[0] > 100 && (l.appreciation[0] = 100)), this.goNext(!0)
                        }
                    }
                }]), n
            }(),
            lT = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function eT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-citytopmenu", [], null, null, null, YS, $w)), hi(1, 114688, null, 0, Uw, [bg, sg, hg], {
                city: [0, "city"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.city)
            }), null)
        }

        function tT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "text-plague"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.plague)
            }))
        }

        function iT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "a", [["class", "btn btn-link text-primary"], ["routerLink", "/game/world"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                queryParams: [0, "queryParams"],
                routerLink: [1, "routerLink"]
            }, null), dr(2, {
                x: 0,
                y: 1
            }), (n()(), pr(-1, null, ["Show on map"]))], (function (n, l) {
                var e = l.component,
                    t = n(l, 2, 0, e.city.x, e.city.y);
                n(l, 1, 0, t, "/game/world")
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href)
            }))
        }

        function uT(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 2, "button", [], [[8, "className", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== (i.isRelocateAllowed() ? i.modalService.open(Jt(n.parent.parent, 14)) : null) && t), t
            }), null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"]
            }, null), (n()(), pr(-1, null, ["Relocate capital"])), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent.parent, 15))
            }), (function (n, l) {
                n(l, 0, 0, At(1, "btn btn-link ", l.component.isRelocateAllowed() ? "text-primary" : "text-secondary cursor-forbidden", ""))
            }))
        }

        function rT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-link text-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.modalService.open(Jt(n.parent.parent, 13)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Liberate the city"]))], null, null)
        }

        function aT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-link text-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.modalService.open(Jt(n.parent.parent, 12)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Abandon the city"]))], null, null)
        }

        function oT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-food mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.food);
                var t = l.parent.parent.context.$implicit.value.food(e.dataService, e.city);
                n(l, 2, 0, t)
            }))
        }

        function sT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-prod mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.prod);
                var t = l.parent.parent.context.$implicit.value.prod(e.dataService, e.city);
                n(l, 2, 0, t)
            }))
        }

        function cT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-gold mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.gold);
                var t = l.parent.parent.context.$implicit.value.gold(e.dataService, e.city);
                n(l, 2, 0, t)
            }))
        }

        function dT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-science mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.science);
                var t = l.parent.parent.context.$implicit.value.science(e.dataService, e.city);
                n(l, 2, 0, t)
            }))
        }

        function hT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-culture mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.culture);
                var t = l.parent.parent.context.$implicit.value.culture(e.dataService);
                n(l, 2, 0, t)
            }))
        }

        function pT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [["class", "text-faith mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.faith);
                var t = l.parent.parent.context.$implicit.value.faith && l.parent.parent.context.$implicit.value.faith(e.dataService);
                n(l, 2, 0, t)
            }))
        }

        function fT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [["class", "text-happiness"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.happiness);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent.parent, 0), l.parent.parent.context.$implicit.value.happiness(e.dataService)));
                n(l, 2, 0, t)
            }))
        }

        function gT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [["class", "text-health"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.health);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent.parent, 0), l.parent.parent.context.$implicit.value.health(e.dataService)));
                n(l, 2, 0, t)
            }))
        }

        function vT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm line-height-1 font-weight-bold mr-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.decreaseCitizen(n.parent.parent.context.$implicit.key, 5) && t), t
            }), null, null)), (n()(), pr(-1, null, ["-5"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.city.citizens[l.parent.parent.context.$implicit.key] || e.city.autoassign)
            }))
        }

        function mT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm line-height-1 font-weight-bold"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.decreaseCitizen(n.parent.parent.context.$implicit.key) && t), t
            }), null, null)), (n()(), pr(-1, null, ["-"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.city.citizens[l.parent.parent.context.$implicit.key] || e.city.autoassign)
            }))
        }

        function yT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm line-height-1 font-weight-bold"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.increaseCitizen(n.parent.parent.context.$implicit.key) && t), t
            }), null, null)), (n()(), pr(-1, null, ["+"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.city.citizens.idle || e.city.autoassign)
            }))
        }

        function bT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm line-height-1 font-weight-bold ml-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.increaseCitizen(n.parent.parent.context.$implicit.key, 5) && t), t
            }), null, null)), (n()(), pr(-1, null, ["+5"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.city.citizens.idle || e.city.autoassign)
            }))
        }

        function _T(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 32, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 16, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, oT)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sT)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cT)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, dT)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hT)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, pT)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fT)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, gT)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(21, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, vT)), hi(23, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, mT)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(26, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(27, null, ["", ""])), (n()(), Xu(28, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, yT)), hi(30, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bT)), hi(32, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 6, 0, l.parent.context.$implicit.value.food), n(l, 8, 0, l.parent.context.$implicit.value.prod), n(l, 10, 0, l.parent.context.$implicit.value.gold), n(l, 12, 0, l.parent.context.$implicit.value.science);
                var t = l.parent.context.$implicit.value.culture && l.parent.context.$implicit.value.culture(e.dataService);
                n(l, 14, 0, t);
                var i = l.parent.context.$implicit.value.faith && l.parent.context.$implicit.value.faith(e.dataService);
                n(l, 16, 0, i);
                var u = l.parent.context.$implicit.value.happiness && l.parent.context.$implicit.value.happiness(e.dataService);
                n(l, 18, 0, u);
                var r = l.parent.context.$implicit.value.health && l.parent.context.$implicit.value.health(e.dataService);
                n(l, 20, 0, r), n(l, 23, 0, "idle" != l.parent.context.$implicit.key && e.dataService.pop(e.city) >= 5), n(l, 25, 0, "idle" != l.parent.context.$implicit.key), n(l, 30, 0, "idle" != l.parent.context.$implicit.key), n(l, 32, 0, "idle" != l.parent.context.$implicit.key && e.dataService.pop(e.city) >= 5)
            }), (function (n, l) {
                var e = l.component,
                    t = l.parent.context.$implicit.value.name(e.dataService);
                n(l, 3, 0, t), n(l, 27, 0, e.city.citizens[l.parent.context.$implicit.key])
            }))
        }

        function kT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, _T)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.isAvailable(l.context.$implicit.key))
            }), null)
        }

        function wT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "builders"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Production"]))], (function (n, l) {
                n(l, 1, 0, "builders"), n(l, 2, 0, "builders")
            }), null)
        }

        function xT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "merchants"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Gold"]))], (function (n, l) {
                n(l, 1, 0, "merchants"), n(l, 2, 0, "merchants")
            }), null)
        }

        function CT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "scientists"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Science"]))], (function (n, l) {
                n(l, 1, 0, "scientists"), n(l, 2, 0, "scientists")
            }), null)
        }

        function ST(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "artists"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Culture"]))], (function (n, l) {
                n(l, 1, 0, "artists"), n(l, 2, 0, "artists")
            }), null)
        }

        function IT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [["value", "priests"]], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Faith"]))], (function (n, l) {
                n(l, 1, 0, "priests"), n(l, 2, 0, "priests")
            }), null)
        }

        function TT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 26, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign_priority"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Priority"])), (n()(), Xu(3, 0, null, null, 23, "select", [["id", "autoassign_priority"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 4).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 4).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.city.autoassign_options.priority = e) && t), "change" === l && (t = !1 !== i.autoAssign() && t), t
            }), null, null)), hi(4, 16384, null, 0, af, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [af]), hi(6, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(8, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(9, 0, null, null, 3, "option", [["value", ""]], null, null, null, null, null)), hi(10, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(11, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["None"])), (n()(), Xu(13, 0, null, null, 3, "option", [["value", "farmers"]], null, null, null, null, null)), hi(14, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(15, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(-1, null, ["Food"])), (n()(), Yu(16777216, null, null, 1, null, wT)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xT)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CT)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ST)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, IT)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.city.autoassign_options.priority), n(l, 10, 0, ""), n(l, 11, 0, ""), n(l, 14, 0, "farmers"), n(l, 15, 0, "farmers"), n(l, 18, 0, e.isAvailable("builders")), n(l, 20, 0, e.isAvailable("merchants")), n(l, 22, 0, e.isAvailable("scientists")), n(l, 24, 0, e.isAvailable("artists")), n(l, 26, 0, e.isAvailable("priests"))
            }), (function (n, l) {
                n(l, 3, 0, Jt(l, 8).ngClassUntouched, Jt(l, 8).ngClassTouched, Jt(l, 8).ngClassPristine, Jt(l, 8).ngClassDirty, Jt(l, 8).ngClassValid, Jt(l, 8).ngClassInvalid, Jt(l, 8).ngClassPending)
            }))
        }

        function ET(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "autoassign_strong"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "change"], [null, "ngModelChange"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "change" === l && (t = !1 !== i.autoAssign() && t), "ngModelChange" === l && (t = !1 !== (i.city.autoassign_options.strong = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign_strong"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Strong priority"]))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, !e.city.autoassign_options.priority, e.city.autoassign_options.strong)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function AT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "col-3"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "app-citytroops", [], null, [["document", "keydown"], ["document", "keyup"]], (function (n, l, e) {
                var t = !0;
                return "document:keydown" === l && (t = !1 !== Jt(n, 2).handleKeydownEvent(e) && t), "document:keyup" === l && (t = !1 !== Jt(n, 2).handleKeyupEvent(e) && t), t
            }), AI, JS)), hi(2, 114688, null, 0, XS, [sg, hg, bg], {
                city: [0, "city"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.city)
            }), null)
        }

        function PT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "col-3"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "app-citybuildings", [], null, null, null, QI, OI)), hi(2, 114688, null, 0, PI, [bg, hg, sg], {
                city: [0, "city"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.city)
            }), null)
        }

        function OT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 43, "div", [["class", "row flex-fill no-gutters pl-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 38, "div", [["class", "col-6"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 10, "div", [["class", "d-flex border-bottom border-secondary"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, tT)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, iT)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uT)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rT)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, aT)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(13, 0, null, null, 4, "table", [["class", "table table-borderless w-auto table-sm mr-5"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 3, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, kT)), hi(16, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(18, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "autoassign_nogrowth"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 20).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 20).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.city.autoassign_options.nogrowth = e) && t), "change" === l && (t = !1 !== i.autoAssign() && t), t
            }), null, null)), hi(20, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(22, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(24, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(25, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign_nogrowth"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Prevent growth"])), (n()(), Xu(27, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(28, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "autoassign"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 29).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 29).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.city.autoassign = e) && t), "change" === l && (t = !1 !== i.autoAssign() && t), t
            }), null, null)), hi(29, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(31, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(33, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(34, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "autoassign"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Auto-assign"])), (n()(), Yu(16777216, null, null, 1, null, TT)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ET)), hi(39, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, AT)), hi(41, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, PT)), hi(43, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.city.plague && e.city.plague > 0), n(l, 6, 0, e.dataService.isUnlocked("menu_world")), n(l, 8, 0, !e.city.capital && e.dataService.hasScience("state")), n(l, 10, 0, !e.city.capital && e.city.rightful_ownerid > 1 && e.dataService.player(e.city.rightful_ownerid)), n(l, 12, 0, !e.city.capital), n(l, 16, 0, Je(l, 16, 0, Jt(l, 17).transform(e.conf.citizens))), n(l, 22, 0, e.city.autoassign_options.nogrowth), n(l, 31, 0, e.city.autoassign), n(l, 37, 0, e.city.autoassign), n(l, 39, 0, e.city.autoassign), n(l, 41, 0, e.dataService.isUnlocked("troops")), n(l, 43, 0, e.dataService.isUnlocked("buildings"))
            }), (function (n, l) {
                n(l, 19, 0, Jt(l, 24).ngClassUntouched, Jt(l, 24).ngClassTouched, Jt(l, 24).ngClassPristine, Jt(l, 24).ngClassDirty, Jt(l, 24).ngClassValid, Jt(l, 24).ngClassInvalid, Jt(l, 24).ngClassPending), n(l, 28, 0, Jt(l, 33).ngClassUntouched, Jt(l, 33).ngClassTouched, Jt(l, 33).ngClassPristine, Jt(l, 33).ngClassDirty, Jt(l, 33).ngClassValid, Jt(l, 33).ngClassInvalid, Jt(l, 33).ngClassPending)
            }))
        }

        function DT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "div", [["class", "row border-top"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "div", [["class", "col-4"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "button", [["class", "btn btn-link"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.goNext(!0) && t), t
            }), null, null)), (n()(), pr(3, null, [" < ", ""])), (n()(), Xu(4, 0, null, null, 2, "div", [["class", "col-4"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "b", [["class", "text-150"]], null, null, null, null, null)), (n()(), pr(6, null, ["", ""])), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "col-4"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "button", [["class", "btn btn-link"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.goNext() && t), t
            }), null, null)), (n()(), pr(9, null, ["", " >"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.prevCity.name), n(l, 6, 0, e.city.name), n(l, 9, 0, e.nextCity.name)
            }))
        }

        function RT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(2, null, ["Abandon ", ""])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 3, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "text-danger"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(9, null, ["Are you sure you want to abandon the city of ", " to barbarians ?"])), (n()(), Xu(10, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "button", [["class", "btn btn-secondary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(13, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.abandon() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Abandon"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.city.name), n(l, 9, 0, e.city.name)
            }))
        }

        function MT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(2, null, ["Liberate ", ""])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 3, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "text-danger"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(9, null, ["Are you sure you want to liberate the city of ", " and give it to ", " ?"])), (n()(), Xu(10, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "button", [["class", "btn btn-secondary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(13, 0, null, null, 1, "button", [["class", "btn btn-primary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.abandon(i.city.rightful_ownerid) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Liberate"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.city.name), n(l, 9, 0, e.city.name, e.dataService.player(e.city.rightful_ownerid).name)
            }))
        }

        function NT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(2, null, ["Relocate capital to ", ""])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 16, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "text-danger"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(9, null, ["Are you sure you want to relocate your capital to ", " ?"])), (n()(), Xu(10, 0, null, null, 3, "div", [], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "span", [["class", "text-prod"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Palace"])), (n()(), pr(-1, null, [" will be destroyed if the current capital has one."])), (n()(), Xu(14, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), pr(15, null, ["You will not be able to relocate again before ", "."])), cr(16, 1), (n()(), Xu(17, 0, null, null, 5, "div", [], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 1, "b", [["class", "mr-1"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Cost :"])), (n()(), Xu(20, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(21, null, [" ", ""])), cr(22, 1), (n()(), Xu(23, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "button", [["class", "btn btn-secondary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(26, 0, null, null, 1, "button", [["class", "btn btn-primary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.relocate() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Relocate"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.city.name), n(l, 9, 0, e.city.name);
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent, 1), e.conf.capital_cooldown / 1e3));
                n(l, 15, 0, t), n(l, 20, 0, "text-gold " + e.icons.gold);
                var i = Je(l, 21, 0, n(l, 22, 0, Jt(l.parent, 2), e.capitalCost()));
                n(l, 21, 0, i)
            }))
        }

        function BT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["A town hall is required"]))], null, null)
        }

        function zT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), pr(1, null, ["Capital Relocation allowed in ", " "])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 1), e.data.capitalchange_cooldown));
                n(l, 1, 0, t)
            }))
        }

        function LT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(1, null, ["Relocate ", " as capital"])), (n()(), Xu(2, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, BT)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Cost: "])), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(8, null, [" ", ""])), cr(9, 1), (n()(), Yu(16777216, null, null, 1, null, zT)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, !e.dataService.hasBuilding(e.city, "town_hall")), n(l, 11, 0, e.data.capitalchange_cooldown)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.city.name), n(l, 7, 0, "text-gold " + e.icons.gold);
                var t = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent, 2), e.capitalCost()));
                n(l, 8, 0, t)
            }))
        }

        function FT(n) {
            return vr(0, [pi(0, Oy, []), pi(0, ay, []), pi(0, Py, []), (n()(), Xu(3, 0, null, null, 8, "div", [["class", "h-100 d-flex flex-column p-relative"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "bgicon", [["icon", "city"]], null, null, null, JI, XI)), hi(5, 114688, null, 0, YI, [], {
                icon: [0, "icon"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, eT)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, OT)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, DT)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["content", 2]], null, 0, null, RT)), (n()(), Yu(0, [["contentl", 2]], null, 0, null, MT)), (n()(), Yu(0, [["popRelocate", 2]], null, 0, null, NT)), (n()(), Yu(0, [["popCapital", 2]], null, 0, null, LT))], (function (n, l) {
                var e = l.component;
                n(l, 5, 0, "city"), n(l, 7, 0, e.city), n(l, 9, 0, e.city), n(l, 11, 0, e.city && e.dataService.isUnlocked("menu_empire"))
            }), null)
        }
        var qT = $t("app-citycontainer", nT, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-citycontainer", [], null, [["document", "keydown"]], (function (n, l, e) {
                    var t = !0;
                    return "document:keydown" === l && (t = !1 !== Jt(n, 1).handleKeydownEvent(e) && t), t
                }), FT, lT)), hi(1, 245760, null, 0, nT, [hg, bg, sg, Gd, Dm], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            UT = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.conf = t, this.icons = $f, this.ranks_nb = 0, this.max_nodes = 5, this.era_height = 28, this.node_width = 150, this.node_height = 40, this.rank_sep = 100, this.node_sep = 20, this.curve = 20, this.link_color = "black", this.era_color = "url(#black)", this.node_colors = {
                        current: "url(#blue)",
                        inqueue: "url(#lightblue)",
                        done: "url(#gold)",
                        available: "url(#green)",
                        locked: "url(#black)"
                    }, this.svg_data = {
                        nodes: [],
                        links: []
                    }, this.ctrl = !1
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        this.isCtrl(n.key) && (this.ctrl = !0)
                    }
                }, {
                    key: "handleKeyupEvent",
                    value: function (n) {
                        this.isCtrl(n.key) && (this.ctrl = !1)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this.player = this.dataService.player(), this.init()
                    }
                }, {
                    key: "isCtrl",
                    value: function (n) {
                        return "Control" == n || "Meta" == n
                    }
                }, {
                    key: "init",
                    value: function () {
                        var n = this;
                        this.svg_data.nodes = [], this.svg_data.links = [], Object.values(this.conf.sciences).forEach((function (l) {
                            n.isScienceUnlocked(l) && (n.svg_data.nodes.push({
                                id: l.id,
                                rank: l.rank
                            }), l.require.forEach((function (e) {
                                n.svg_data.links.push({
                                    origin: e,
                                    end: l.id
                                })
                            })), n.ranks_nb = l.rank)
                        })), this.initChart(), setTimeout(this.scroll.bind(this), 10)
                    }
                }, {
                    key: "label",
                    value: function (n) {
                        var l = this.conf.sciences[n],
                            e = this.player.science_queue.indexOf(n);
                        return l.label + (e > 0 ? " (" + e + ")" : "")
                    }
                }, {
                    key: "scroll",
                    value: function () {
                        this.container.nativeElement.scrollLeft = (this.dataService.currentScienceRank() - 2) * (this.node_width + this.rank_sep)
                    }
                }, {
                    key: "isScienceUnlocked",
                    value: function (n) {
                        return this.isEraUnlocked(this.dataService.era(0, n.rank))
                    }
                }, {
                    key: "isEraUnlocked",
                    value: function (n) {
                        return "prehistory" == n || this.dataService.isUnlocked("era_" + n)
                    }
                }, {
                    key: "color",
                    value: function (n) {
                        return this.player.science_queue[0] == n ? this.node_colors.current : this.player.science_queue.some((function (l) {
                            return l == n
                        })) ? this.node_colors.inqueue : this.player.sciences[n] && this.player.sciences[n].done ? this.node_colors.done : this.dataService.isScienceAvailable(n) ? this.node_colors.available : this.node_colors.locked
                    }
                }, {
                    key: "clearQueue",
                    value: function () {
                        this.dataService.player().science_queue = []
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = this.conf.sciences[l];
                        n.open({
                            title: e.label,
                            desc: e.description,
                            cost: this.dataService.scienceCost(e),
                            time: this.dataService.scienceTime(l)
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }, {
                    key: "select",
                    value: function (n) {
                        var l = this;
                        if (!this.player.sciences[n] || !this.player.sciences[n].done) {
                            if (this.dataService.isUnlocked("queue_science")) {
                                var e, t = this.getReqs(n);
                                t.sort((function (n, e) {
                                    var t = l.conf.sciences[n],
                                        i = l.conf.sciences[e];
                                    return t.rank > i.rank ? 1 : t.rank < i.rank ? -1 : 0
                                })), t.push(n), this.ctrl ? ((e = this.player.science_queue).push.apply(e, _toConsumableArray(t)), this.player.science_queue = _toConsumableArray(new Set(this.player.science_queue))) : this.player.science_queue = t
                            } else {
                                if (!this.dataService.isScienceAvailable(n)) return;
                                this.player.science_queue = [n]
                            }
                            this.player.sciences[this.player.science_queue[0]] || (this.player.sciences[this.player.science_queue[0]] = {
                                progress: 0,
                                done: !1
                            })
                        }
                    }
                }, {
                    key: "getReqs",
                    value: function (n) {
                        var l = this,
                            e = [];
                        return this.conf.sciences[n].require.forEach((function (n) {
                            l.dataService.hasScience(n) || (e.push(n), e.push.apply(e, _toConsumableArray(l.getReqs(n))))
                        })), _toConsumableArray(new Set(e))
                    }
                }, {
                    key: "initChart",
                    value: function () {
                        var n = this;
                        this.svg_data.width = 3 * Object.keys(this.conf.eras).length * (this.node_width + this.rank_sep - 1), this.svg_data.height = this.max_nodes * this.node_height + (this.max_nodes - 1) * this.node_sep;
                        for (var l = function (l) {
                                n.svg_data.nodes.filter((function (n) {
                                    return n.rank == l
                                })).forEach((function (l, e, t) {
                                    var i = t.length,
                                        u = (n.svg_data.height - i * n.node_height - (i - 1) * n.node_sep) / 2 + n.era_height + n.node_sep;
                                    l.x = (n.node_width + n.rank_sep) * (l.rank - 1), l.y = (n.node_height + n.node_sep) * e + u
                                }))
                            }, e = 1; e <= this.ranks_nb; e++) l(e);
                        this.svg_data.links.forEach((function (l) {
                            var e = n.node(l.origin),
                                t = n.node(l.end);
                            l.points = [[e.x + n.node_width, e.y + n.node_height / 2], [t.x - 4, t.y + n.node_height / 2]];
                            var i = l.points[0],
                                u = l.points[1];
                            l.d = "M".concat(i[0], " ").concat(i[1], " C ").concat(i[0] + n.curve, " ").concat(i[1], ", ").concat(u[0] - n.curve - (t.rank - e.rank - 1) * (1.5 * n.rank_sep + n.node_width), " ").concat(u[1], ", ").concat(u[0], " ").concat(u[1])
                        }))
                    }
                }, {
                    key: "node",
                    value: function (n) {
                        return this.svg_data.nodes.find((function (l) {
                            return l.id == n
                        }))
                    }
                }, {
                    key: "eraWidth",
                    value: function (n) {
                        return (n.rank_end - n.rank_start + 1) * (this.rank_sep + this.node_width) - (1 == n.rank_start ? this.rank_sep / 2 : 0)
                    }
                }, {
                    key: "eraX",
                    value: function (n) {
                        return (n.rank_start - 1) * (this.node_width + this.rank_sep) - (1 == n.rank_start ? 0 : this.rank_sep / 2)
                    }
                }]), n
            }(),
            $T = et({
                encapsulation: 0,
                styles: [["g[_ngcontent-%COMP%], rect[_ngcontent-%COMP%], text[_ngcontent-%COMP%]{cursor:pointer}"]],
                data: {}
            });

        function HT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, ":svg:text", [["fill", "#888"], ["font-size", "400"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["?"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.eraX(l.parent.context.$implicit.value) + e.eraWidth(l.parent.context.$implicit.value) / 2, e.svg_data.height + e.era_height + e.node_height)
            }))
        }

        function VT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, null, null, null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "14"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Yu(16777216, null, null, 1, null, HT)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 6, 0, !l.component.isEraUnlocked(l.context.$implicit.key))
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.eraWidth(l.context.$implicit.value), e.era_height), n(l, 2, 0, e.eraWidth(l.context.$implicit.value), e.era_height, e.eraX(l.context.$implicit.value), 0, e.era_color), n(l, 3, 0, e.eraX(l.context.$implicit.value) + e.eraWidth(l.context.$implicit.value) / 2, e.era_height / 2), n(l, 4, 0, l.context.$implicit.value.name)
            }))
        }

        function jT(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 4, ":svg:g", [["container", "body"], ["triggers", "manuel"]], [[1, "width", 0], [1, "height", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.select(n.context.$implicit.id) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.context.$implicit.id) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), Xu(2, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent, 53), Jt(l.parent, 52), "manuel", "body")
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.node_width, e.node_height), n(l, 2, 0, e.node_width, e.node_height, l.context.$implicit.x, l.context.$implicit.y, e.color(l.context.$implicit.id)), n(l, 3, 0, l.context.$implicit.x + e.node_width / 2, l.context.$implicit.y + e.node_height / 2), n(l, 4, 0, e.label(l.context.$implicit.id))
            }))
        }

        function GT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:path", [["fill", "transparent"], ["marker-end", "url(#head)"]], [[1, "d", 0], [1, "stroke", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.context.$implicit.d, l.component.link_color)
            }))
        }

        function WT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["In queue"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.node_width, e.node_height), n(l, 1, 0, e.node_width, e.node_height, 4 * (e.node_width + e.node_sep), e.svg_data.height + 2 * e.node_sep + e.era_height, e.node_colors.inqueue), n(l, 2, 0, 4 * (e.node_width + e.node_sep) + e.node_width / 2, e.svg_data.height + e.node_height / 2 + 2 * e.node_sep + e.era_height)
            }))
        }

        function KT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Use ctrl + click to add to queue"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.info)
            }))
        }

        function ZT(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function QT(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 6, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 3, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(4, null, [" ", ""])), cr(5, 1), (n()(), pr(6, null, [" (", ")"])), cr(7, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.context.desc), n(l, 3, 0, e.icons.science);
                var t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent, 0), l.context.cost));
                n(l, 4, 0, t);
                var i = Je(l, 6, 0, n(l, 7, 0, Jt(l.parent, 1), l.context.time));
                n(l, 6, 0, i)
            }))
        }

        function YT(n) {
            return vr(0, [pi(0, Py, []), pi(0, ay, []), tr(402653184, 1, {
                container: 0
            }), (n()(), Xu(3, 0, [[1, 0], ["container", 1]], null, 44, "div", [["class", "bg-dark p-4"], ["style", "overflow:auto"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 43, ":svg:svg", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(5, 0, null, null, 17, ":svg:defs", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 1, ":svg:marker", [["id", "head"], ["markerHeight", "8"], ["markerWidth", "4"], ["orient", "auto"], ["refX", "0"], ["refY", "4"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 0, ":svg:path", [["d", "M0,0 V8 L4,4 Z"]], [[1, "fill", 0]], null, null, null, null)), (n()(), Xu(8, 0, null, null, 2, ":svg:linearGradient", [["id", "blue"], ["x1", "0%"], ["x2", "100%"], ["y1", "100%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#2E86C1;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#5DADE2;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 2, ":svg:linearGradient", [["id", "gold"], ["x1", "0%"], ["x2", "100%"], ["y1", "100%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#D4AC0D;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#F4D03F;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 2, ":svg:linearGradient", [["id", "green"], ["x1", "0%"], ["x2", "100%"], ["y1", "100%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#196F3D;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#27AE60;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 2, ":svg:linearGradient", [["id", "black"], ["x1", "0%"], ["x2", "100%"], ["y1", "100%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#17202A;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#34495E;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 2, ":svg:linearGradient", [["id", "lightblue"], ["x1", "0%"], ["x2", "100%"], ["y1", "100%"], ["y2", "0%"]], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 0, ":svg:stop", [["offset", "0%"], ["style", "stop-color:#17202A;stop-opacity:1"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 0, ":svg:stop", [["offset", "100%"], ["style", "stop-color:#2E86C1;stop-opacity:1"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, VT)), hi(24, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Yu(16777216, null, null, 1, null, jT)), hi(27, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, GT)), hi(29, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(30, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(31, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"], ["x", "0"]], [[1, "width", 0], [1, "height", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(32, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Current"])), (n()(), Xu(34, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(35, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(36, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Locked"])), (n()(), Xu(38, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(39, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(40, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Available"])), (n()(), Xu(42, 0, null, null, 3, ":svg:g", [], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Xu(43, 0, null, null, 0, ":svg:rect", [["rx", "5"], ["ry", "5"], ["stroke", "black"]], [[1, "width", 0], [1, "height", 0], [1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(44, 0, null, null, 1, ":svg:text", [["dominant-baseline", "middle"], ["fill", "white"], ["font-size", "16"], ["font-weight", "bold"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Done"])), (n()(), Yu(16777216, null, null, 1, null, WT)), hi(47, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, KT)), hi(49, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(50, 0, null, null, 1, "button", [["class", "btn btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.clearQueue() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Clear queue"])), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, ZT)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, QT))], (function (n, l) {
                var e = l.component;
                n(l, 24, 0, Je(l, 24, 0, Jt(l, 25).transform(e.conf.eras))), n(l, 27, 0, e.svg_data.nodes), n(l, 29, 0, e.svg_data.links), n(l, 47, 0, e.dataService.isUnlocked("queue_science")), n(l, 49, 0, e.dataService.isUnlocked("queue_science"))
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.svg_data.width + e.rank_sep, e.svg_data.height + e.node_height + 2 * e.node_sep + e.era_height), n(l, 7, 0, e.link_color), n(l, 30, 0, e.node_width, e.node_height), n(l, 31, 0, e.node_width, e.node_height, e.svg_data.height + 2 * e.node_sep + e.era_height, e.node_colors.current), n(l, 32, 0, e.node_width / 2, e.svg_data.height + e.node_height / 2 + 2 * e.node_sep + e.era_height), n(l, 34, 0, e.node_width, e.node_height), n(l, 35, 0, e.node_width, e.node_height, e.node_width + e.node_sep, e.svg_data.height + 2 * e.node_sep + e.era_height, e.node_colors.locked), n(l, 36, 0, e.node_width + e.node_sep + e.node_width / 2, e.svg_data.height + e.node_height / 2 + 2 * e.node_sep + e.era_height), n(l, 38, 0, e.node_width, e.node_height), n(l, 39, 0, e.node_width, e.node_height, 2 * (e.node_width + e.node_sep), e.svg_data.height + 2 * e.node_sep + e.era_height, e.node_colors.available), n(l, 40, 0, 2 * (e.node_width + e.node_sep) + e.node_width / 2, e.svg_data.height + e.node_height / 2 + 2 * e.node_sep + e.era_height), n(l, 42, 0, e.node_width, e.node_height), n(l, 43, 0, e.node_width, e.node_height, 3 * (e.node_width + e.node_sep), e.svg_data.height + 2 * e.node_sep + e.era_height, e.node_colors.done), n(l, 44, 0, 3 * (e.node_width + e.node_sep) + e.node_width / 2, e.svg_data.height + e.node_height / 2 + 2 * e.node_sep + e.era_height)
            }))
        }
        var XT = $t("app-science", UT, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-science", [], null, [["document", "keydown"], ["document", "keyup"]], (function (n, l, e) {
                    var t = !0;
                    return "document:keydown" === l && (t = !1 !== Jt(n, 1).handleKeydownEvent(e) && t), "document:keyup" === l && (t = !1 !== Jt(n, 1).handleKeyupEvent(e) && t), t
                }), YT, $T)), hi(1, 114688, null, 0, UT, [hg, bg, sg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            JT = function () {
                function n(l) {
                    _classCallCheck(this, n), this.dataService = l, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.player = -1 == this.id ? new cg(-1, "Unknown civilization") : this.dataService.player(this.id)
                    }
                }, {
                    key: "style",
                    value: function () {
                        return {
                            color: this.dataService.color(this.player.id),
                            "-webkit-text-fill-color": this.dataService.color2(this.player.id),
                            "-webkit-text-stroke-width": "1px",
                            "-webkit-text-stroke-color": this.dataService.color(this.player.id)
                        }
                    }
                }]), n
            }(),
            nE = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function lE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, null, null, null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "span", [], null, null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(3, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(5, null, [" ", "\n"]))], (function (n, l) {
                n(l, 3, 0, l.component.style())
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.icons.player), n(l, 5, 0, e.player.name)
            }))
        }

        function eE(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, lE)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.player)
            }), null)
        }
        var tE = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.activatedRoute = t, this.dataService = i, this.router = u, this.ctrl = !1, this.icons = $f, this.unicode = {
                        pop: "\uf0c0",
                        flag: "\uf024",
                        star: "\uf005",
                        food: "\uf6d7",
                        gold: "\uf51e",
                        prod: "\uf6e3",
                        culture: "\uf630",
                        science: "\uf0c3",
                        faith: "\uf683",
                        recruitment: "\uf505",
                        plague: "\uf714",
                        connected: "\uf1b8"
                    }, this.img_src = ["vil1", "vil2", "vil3", "vil4", "vil5", "vil1i", "vil2i", "vil3i", "vil4i", "vil5i", "troop", "troop1", "cart", "scout", "spy", "worker", "archeologist", "imp1", "imp2", "imp3", "imp4", "imp5", "imp6", "imp7", "imp8", "imp52", "imp62", "ruins", "road_0", "road_tbr", "road_tbl", "road_tlr", "road_blr", "road_4", "road_lr", "road_td", "road_tl", "road_tr", "road_br", "road_bl", "rail_0", "rail_tbr", "rail_tbl", "rail_tlr", "rail_blr", "rail_4", "rail_lr", "rail_td", "rail_tl", "rail_tr", "rail_br", "rail_bl"], this.img = {}, this.menu = {
                        show: !1,
                        desc: "",
                        x: 0,
                        y: 0,
                        city: void 0,
                        ownerId: 0
                    }, this.attack = void 0, this.spy = void 0, this.gold = void 0, this.scout = void 0, this.archeologist = void 0, this.trade = void 0, this.worker = void 0, this.highlight = void 0, this.view = {
                        x: -320,
                        y: -240,
                        zoom: 16,
                        width: 640,
                        height: 480,
                        font_size: 2,
                        zoom_min: 4,
                        zoom_max: 16,
                        zoom_step: 2,
                        base_size: 8
                    }
                }
                return _createClass(n, [{
                    key: "handleKeydownEvent",
                    value: function (n) {
                        this.isCtrl(n.key) ? this.ctrl = !0 : 27 == n.keyCode && (this.scout || this.worker) ? (this.escape(), n.preventDefault()) : 27 == n.keyCode ? this.escape() : 37 == n.keyCode && "INPUT" != n.target.tagName.toUpperCase() ? (this.view.x -= 20, this.data.world_pos.x = this.view.x, n.preventDefault()) : 38 == n.keyCode && "INPUT" != n.target.tagName.toUpperCase() ? (this.view.y -= 20, this.data.world_pos.y = this.view.y, n.preventDefault()) : 39 == n.keyCode && "INPUT" != n.target.tagName.toUpperCase() ? (this.view.x += 20, this.data.world_pos.x = this.view.x, n.preventDefault()) : 40 == n.keyCode && "INPUT" != n.target.tagName.toUpperCase() && (this.view.y += 20, this.data.world_pos.y = this.view.y, n.preventDefault())
                    }
                }, {
                    key: "handleKeyupEvent",
                    value: function (n) {
                        this.isCtrl(n.key) && (this.ctrl = !1)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.data.world_zoom && (this.view.zoom = this.data.world_zoom), this.activatedRoute.queryParams.subscribe((function (l) {
                            if (n.view.width = n.container.nativeElement.offsetWidth, n.view.height = n.container.nativeElement.offsetHeight, l.x && l.y) {
                                var e = l.y;
                                n.view.x = l.x * n.tileSize() - n.view.width / 2, n.view.y = e * n.tileSize() - n.view.height / 2
                            } else n.data.world_pos ? (n.view.x = n.data.world_pos.x, n.view.y = n.data.world_pos.y) : (n.view.x = n.view.width / 2, n.view.y = n.view.height / 2);
                            n.data.world_pos = {
                                x: n.view.x,
                                y: n.view.y
                            }, n.data.world_pos.x = n.view.x, n.data.world_pos.y = n.view.y;
                            var t = 0,
                                i = n.img_src.length;
                            n.img_src.forEach((function (l) {
                                n.img[l] = new Image, n.img[l].src = "assets/img/" + l + ".png", n.img[l].onload = function () {
                                    ++t == i && n.initCanvas()
                                }
                            }))
                        }))
                    }
                }, {
                    key: "escape",
                    value: function () {
                        this.selectTile && this.container.nativeElement.removeEventListener("mousemove", this.selectTile), this.selectTileDone && this.container.nativeElement.removeEventListener("mousedown", this.selectTileDone), this.scout = void 0, this.archeologist = void 0, this.worker = void 0, this.highlight = void 0, this.label = void 0, this.menu.show = !1
                    }
                }, {
                    key: "isCtrl",
                    value: function (n) {
                        return "Control" == n || "Meta" == n
                    }
                }, {
                    key: "ngOnDestroy",
                    value: function () {
                        cancelAnimationFrame(this.animationFrame)
                    }
                }, {
                    key: "initCanvas",
                    value: function () {
                        var n = this;
                        this.canvas.nativeElement.width = this.view.width, this.canvas.nativeElement.height = this.view.height, this.ctx = this.canvas.nativeElement.getContext("2d"), this.canvast.nativeElement.width = this.view.width, this.canvast.nativeElement.height = this.view.height, this.ctxt = this.canvast.nativeElement.getContext("2d"), this.container.nativeElement.addEventListener("mousedown", (function (l) {
                            var e = n.view.x + l.clientX,
                                t = n.view.y + l.clientY,
                                i = function (l) {
                                    n.view.x = e - l.clientX, n.view.y = t - l.clientY
                                };
                            n.container.nativeElement.addEventListener("mousemove", i), window.addEventListener("mouseup", (function (l) {
                                n.container.nativeElement.removeEventListener("mousemove", i), n.data.world_pos.x = n.view.x, n.data.world_pos.y = n.view.y
                            }))
                        })), this.container.nativeElement.addEventListener("click", (function (l) {
                            var e = Math.floor((n.view.x + l.offsetX) / n.tileSize()),
                                t = Math.floor((n.view.y + l.offsetY) / n.tileSize()),
                                i = n.dataService.city(e, t);
                            if (n.dataService.isDiscovered(0, e, t))
                                if (i && !n.worker) n.label = i.name, n.menu = Object.assign({}, n.menu, {
                                    show: !0,
                                    city: i,
                                    x: i.x * n.tileSize() - n.view.x - (i.ownerid ? 66 : 122) + n.tileSize() / 2,
                                    y: i.y * n.tileSize() - n.view.y,
                                    ownerId: i.ownerid
                                }), n.highlight = {
                                    x: e,
                                    y: t
                                };
                                else {
                                    var u = n.dataService.getTerrain(e, t),
                                        r = n.dataService.getImprovement(e, t),
                                        a = n.dataService.getRoad(e, t),
                                        o = n.dataService.hasRuin(e, t);
                                    n.label = n.conf.terrains[u].name, a && (n.label += " - " + n.conf.improvements[a].name), o && (n.label += " - Ruins"), r ? (n.label += " - " + n.conf.improvements[r].name + "<br/>" + n.conf.improvements[r].description, n.highlight = {
                                        x: e,
                                        y: t
                                    }) : n.highlight = void 0, n.menu.show = !1
                                }
                            else n.menu.show = !1, n.label = void 0, n.highlight = void 0
                        })), this.container.nativeElement.addEventListener("wheel", (function (l) {
                            l.preventDefault(), l.deltaY < 0 ? n.zoomIn(l.offsetX, l.offsetY) : n.zoomOut(l.offsetX, l.offsetY), n.menu.show = !1
                        })), this.animationFrame = requestAnimationFrame(this.drawAll.bind(this))
                    }
                }, {
                    key: "createWorker",
                    value: function () {
                        var n = this.isWorkerAvailable();
                        n && (this.menu.show = !1, this.worker = {
                            x: 0,
                            y: 0,
                            type: 0,
                            level: n
                        })
                    }
                }, {
                    key: "createArcheologist",
                    value: function () {
                        var n = this;
                        this.isArcheologistAvailable() && (this.menu.show = !1, this.archeologist = {
                            x: this.menu.city.x,
                            y: this.menu.city.y
                        }, this.selectTile = function (l) {
                            n.archeologist.x = Math.floor((n.view.x + l.offsetX) / n.tileSize()), n.archeologist.y = Math.floor((n.view.y + l.offsetY) / n.tileSize()), n.archeologist.x < -n.conf.init.map_size && (n.archeologist.x = -n.conf.init.map_size), n.archeologist.x > n.conf.init.map_size && (n.archeologist.x = n.conf.init.map_size), n.archeologist.y < -n.conf.init.map_size && (n.archeologist.y = -n.conf.init.map_size), n.archeologist.y > n.conf.init.map_size && (n.archeologist.y = n.conf.init.map_size)
                        }, this.selectTileDone = function (l) {
                            0 == l.button ? n.dataService.hasRuin(n.archeologist.x, n.archeologist.y) && (n.menu.show = !1, n.container.nativeElement.removeEventListener("mousemove", n.selectTile), n.container.nativeElement.removeEventListener("mousedown", n.selectTileDone), n.data.archeologists.push({
                                from: {
                                    x: n.menu.city.x,
                                    y: n.menu.city.y
                                },
                                to: {
                                    x: n.archeologist.x,
                                    y: n.archeologist.y
                                },
                                ownerid: 0,
                                destid: 0,
                                dist: n.dataService.distance(n.menu.city.x, n.menu.city.y, n.archeologist.x, n.archeologist.y),
                                progress: 0,
                                speed: n.dataService.speed("archeologist", 0, n.menu.city, n.archeologist),
                                returning: !1
                            }), n.menu.city.troops.archeologist--, n.menu.city.troops.archeologist || delete n.menu.city.troops.archeologist, n.archeologist = void 0) : n.escape()
                        }, this.container.nativeElement.addEventListener("mousemove", this.selectTile), this.container.nativeElement.addEventListener("mousedown", this.selectTileDone))
                    }
                }, {
                    key: "workerSelect",
                    value: function (n) {
                        var l = this,
                            e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        this.dataService.isImprovementAvailable(n, this.worker.level, this.menu.city) && (this.worker.type = n.id, this.worker.roadto = e, this.selectTile = function (n) {
                            l.worker.x = vg.constraint(Math.floor((l.view.x + n.offsetX) / l.tileSize()), l.conf.init.map_size, -l.conf.init.map_size), l.worker.y = vg.constraint(Math.floor((l.view.y + n.offsetY) / l.tileSize()), l.conf.init.map_size, -l.conf.init.map_size)
                        }, this.selectTileDone = function (n) {
                            0 == n.button ? l.isImprovementAllowed(l.worker.x, l.worker.y, l.worker.type) && (l.menu.show = !1, l.container.nativeElement.removeEventListener("mousemove", l.selectTile), l.container.nativeElement.removeEventListener("mousedown", l.selectTileDone), l.isWorkerAvailable() && l.dataService.createWorker(l.menu.city, l.worker.type, l.worker.x, l.worker.y, l.worker.level, l.worker.roadto), l.worker = void 0) : l.escape()
                        }, this.container.nativeElement.addEventListener("mousemove", this.selectTile), this.container.nativeElement.addEventListener("mousedown", this.selectTileDone))
                    }
                }, {
                    key: "sendScout",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        this.isScoutAvailable() && (this.menu.show = !1, this.scout = {
                            x: this.menu.city.x,
                            y: this.menu.city.y,
                            route: []
                        }, l ? (this.scout.x = this.menu.city.x, this.scout.y = this.menu.city.y, this.createScout(!0)) : (this.selectTile = function (l) {
                            n.scout.x = Math.floor((n.view.x + l.offsetX) / n.tileSize()), n.scout.y = Math.floor((n.view.y + l.offsetY) / n.tileSize()), n.scout.x < -n.conf.init.map_size && (n.scout.x = -n.conf.init.map_size), n.scout.x > n.conf.init.map_size && (n.scout.x = n.conf.init.map_size), n.scout.y < -n.conf.init.map_size && (n.scout.y = -n.conf.init.map_size), n.scout.y > n.conf.init.map_size && (n.scout.y = n.conf.init.map_size)
                        }, this.selectTileDone = function (l) {
                            0 == l.button ? n.ctrl ? n.scout.route.push({
                                x: n.scout.x,
                                y: n.scout.y
                            }) : (n.scout.route.length && (n.scout.route.push({
                                x: n.scout.x,
                                y: n.scout.y
                            }), n.scout.route.push({
                                x: n.menu.city.x,
                                y: n.menu.city.y
                            }), n.scout.x = n.scout.route[0].x, n.scout.y = n.scout.route[0].y), n.menu.show = !1, n.container.nativeElement.removeEventListener("mousemove", n.selectTile), n.container.nativeElement.removeEventListener("mousedown", n.selectTileDone), n.createScout(!1)) : n.escape()
                        }, this.container.nativeElement.addEventListener("mousemove", this.selectTile), this.container.nativeElement.addEventListener("mousedown", this.selectTileDone)))
                    }
                }, {
                    key: "createScout",
                    value: function (n) {
                        this.isScoutAvailable() && this.dataService.createScout(this.menu.city, n, this.scout.x, this.scout.y, this.scout.route), this.scout = void 0
                    }
                }, {
                    key: "viewCity",
                    value: function () {
                        this.router.navigate(["/game/city/" + this.menu.city.id])
                    }
                }, {
                    key: "spyCity",
                    value: function () {
                        if (this.isSpyAvailable()) {
                            this.menu.show = !1;
                            var n = this.dataService.closestCity(this.menu.city.x, this.menu.city.y);
                            this.spy = {
                                from: n ? n.id : void 0,
                                to: this.menu.city.id,
                                spies: {}
                            }
                        }
                    }
                }, {
                    key: "canAttack",
                    value: function () {
                        return this.menu.city.ownerid <= 1 || ("string" == typeof this.menu.city.ownerid && (this.menu.city.ownerid = parseInt(this.menu.city.ownerid)), this.dataService.atWar(0, this.menu.city.ownerid))
                    }
                }, {
                    key: "isSpyAvailable",
                    value: function () {
                        return this.dataService.troopNbById(0, "spy", !1, !1) > 0
                    }
                }, {
                    key: "isScoutAvailable",
                    value: function () {
                        return !(!this.menu.city.troops.scout && !this.menu.city.troops.explorer)
                    }
                }, {
                    key: "isCaravanAvailable",
                    value: function () {
                        return !(!this.menu.city.troops.caravan || this.dataService.tradeRouteNb() >= this.dataService.maxTradeRoute())
                    }
                }, {
                    key: "isCaravelAvailable",
                    value: function () {
                        return !(!this.menu.city.troops.caravel || this.dataService.coloniesAvailable() <= 0)
                    }
                }, {
                    key: "isWorkerAvailable",
                    value: function () {
                        return this.menu.city.troops.engineer ? 2 : this.menu.city.troops.worker ? 1 : 0
                    }
                }, {
                    key: "isArcheologistAvailable",
                    value: function () {
                        return !!this.menu.city.troops.archeologist
                    }
                }, {
                    key: "createColony",
                    value: function () {
                        this.isCaravelAvailable() && (this.menu.city.troops.caravel--, this.data.colonies.push(this.menu.city.id), this.menu.show = !1)
                    }
                }, {
                    key: "createTrade",
                    value: function () {
                        var n = this;
                        this.isCaravanAvailable() && (this.menu.show = !1, this.trade = {
                            from: this.menu.city,
                            cities: this.dataService.availableCitiesForTrade(this.menu.city),
                            values: []
                        }, this.trade.values = this.trade.cities.map((function (l) {
                            return n.dataService.tradeRouteValue(n.menu.city, l)
                        })))
                    }
                }, {
                    key: "doCreateTrade",
                    value: function (n) {
                        if (this.isCaravanAvailable()) {
                            var l = this.trade.cities[n];
                            this.data.trades.push({
                                ownerid: 0,
                                destid: l.ownerid,
                                from: {
                                    x: this.trade.from.x,
                                    y: this.trade.from.y
                                },
                                to: {
                                    x: l.x,
                                    y: l.y
                                }
                            }), this.trade.from.troops.caravan--, this.trade = void 0
                        }
                    }
                }, {
                    key: "isGiftAvailable",
                    value: function () {
                        return !!this.dataService.haveRelation(0, this.menu.ownerId) && !this.dataService.atWar(0, this.menu.ownerId)
                    }
                }, {
                    key: "orderedCities",
                    value: function (n) {
                        var l = this;
                        return this.dataService.player().cities.filter((function (l) {
                            return l.id != n
                        })).sort((function (e, t) {
                            var i = l.dataService.cityDistance(e.id, n),
                                u = l.dataService.cityDistance(t.id, n);
                            return i < u ? -1 : i > u ? 1 : 0
                        }))
                    }
                }, {
                    key: "sendGold",
                    value: function () {
                        if (0 == this.menu.ownerId || this.isGiftAvailable()) {
                            var n = this.dataService.closestCity(this.menu.city.x, this.menu.city.y);
                            this.gold = {
                                from: n ? n.id : void 0,
                                to: this.menu.city.id,
                                gold: {}
                            }
                        }
                    }
                }, {
                    key: "doSpy",
                    value: function (n) {
                        if (this.isSpyAvailable()) {
                            var l = this.dataService.city(this.spy.to);
                            !n.troops.spy || this.spy.spies[n.id] > n.troops.spy || this.spy.spies[n.id] < 0 || (this.data.spies.push({
                                ownerid: 0,
                                destid: l.ownerid,
                                from: {
                                    x: n.x,
                                    y: n.y
                                },
                                to: {
                                    x: l.x,
                                    y: l.y
                                },
                                dist: this.dataService.distance(n.x, n.y, l.x, l.y),
                                speed: this.dataService.speed("spy", 0, n, l),
                                progress: 0,
                                spies: this.spy.spies[n.id],
                                returning: !1
                            }), n.troops.spy -= this.spy.spies[n.id], delete this.spy.spies[n.id])
                        }
                    }
                }, {
                    key: "setMaxGold",
                    value: function (n) {
                        this.gold.gold[n.id] = Math.floor(n.gold)
                    }
                }, {
                    key: "doSendGold",
                    value: function (n) {
                        if (this.gold && this.gold.gold[n.id]) {
                            var l = this.dataService.city(this.gold.to);
                            if (this.gold.gold[n.id] > n.gold || this.gold.gold[n.id] < 0) return;
                            this.dataService.createGold(n, l, this.gold.gold[n.id]), delete this.gold.gold[n.id]
                        }
                    }
                }, {
                    key: "attackCity",
                    value: function () {
                        var n = this;
                        if (this.canAttack()) {
                            var l = this.dataService.closestCity(this.menu.city.x, this.menu.city.y);
                            this.attack = {
                                from: l ? l.id : void 0,
                                to: this.menu.city.id,
                                troops: {},
                                noreturn: !1,
                                burn: !1
                            }, this.dataService.player().cities.filter((function (l) {
                                return l.id != n.menu.city.id
                            })).forEach((function (l) {
                                return n.attack.troops[l.id] = {}
                            }))
                        }
                    }
                }, {
                    key: "isTroopSelectable",
                    value: function (n) {
                        return 0 == this.menu.city.ownerid ? "caravel" != n : !this.conf.troops[n].special
                    }
                }, {
                    key: "doAttack",
                    value: function (n) {
                        var l = this;
                        if (this.troopNb(n) > 0) {
                            var e = this.dataService.city(this.attack.to);
                            for (var t in this.attack.troops[n.id])
                                if (!n.troops[t] || this.attack.troops[n.id][t] > n.troops[t] || this.attack.troops[n.id][t] < 0) return;
                            var i = this.attack.noreturn,
                                u = this.attack.burn;
                            this.attack.troops[n.id].governor || (i = !1), this.attack.troops[n.id].governor || (u = !1), this.attack.burn && (this.attack.noreturn = !1), this.data.attacks.push({
                                ownerid: 0,
                                destid: e.ownerid,
                                from: {
                                    x: n.x,
                                    y: n.y
                                },
                                to: {
                                    x: e.x,
                                    y: e.y
                                },
                                dist: this.dataService.distance(n.x, n.y, e.x, e.y),
                                speed: this.attackSpeed(n, e),
                                progress: 0,
                                troops: Object.assign({}, this.attack.troops[n.id]),
                                returning: !1,
                                agressive: n.ownerid != e.ownerid,
                                noreturn: i,
                                burn: u
                            }), Object.keys(this.attack.troops[n.id]).forEach((function (e) {
                                n.troops[e] -= l.attack.troops[n.id][e], n.troops[e] || delete n.troops[e]
                            })), this.attack.troops[n.id] = {}
                        }
                    }
                }, {
                    key: "troopNb",
                    value: function (n) {
                        return Object.keys(this.attack.troops[n.id]).length ? Object.values(this.attack.troops[n.id]).reduce((function (n, l) {
                            return n + l
                        })) : 0
                    }
                }, {
                    key: "troops",
                    value: function (n) {
                        var l = this;
                        return Object.values(this.conf.troops).filter((function (e) {
                            return (n || !e.special) && l.dataService.troopNbById(0, e.id, !1, !1)
                        }))
                    }
                }, {
                    key: "attackSpeed",
                    value: function (n, l) {
                        return this.dataService.attackSpeed(this.attack.troops[n.id], 0, n, l)
                    }
                }, {
                    key: "fillTroops",
                    value: function (n, l) {
                        this.attack.troops[n.id][l] = n.troops[l]
                    }
                }, {
                    key: "drawAll",
                    value: function () {
                        this.draw(), this.drawTroops(), this.animationFrame = requestAnimationFrame(this.drawAll.bind(this))
                    }
                }, {
                    key: "draw",
                    value: function () {
                        var n = this,
                            l = this.tileSize();
                        this.ctx.clearRect(0, 0, this.view.width, this.view.height), this.ctx.strokeStyle = "rgba(0,0,0,.6)";
                        var e = .2 * l;
                        if (this.dataService.player().discovered.forEach((function (t, i) {
                                if (t) {
                                    var u = n.dataService.indexToCoords(i),
                                        r = u[0] * l - n.view.x,
                                        a = u[1] * l - n.view.y;
                                    if (n.isVisible(r, a, l)) {
                                        var o = n.dataService.getTerrain(u[0], u[1]);
                                        n.ctx.fillStyle = n.data.world_hide_ter ? 0 == o ? n.conf.terrains[0].color : n.conf.terrains[1].color : n.conf.terrains[o].color, n.ctx.globalCompositeOperation = "destination-over", n.ctx.fillRect(r, a, l + 1, l + 1), n.ctx.globalCompositeOperation = "source-over";
                                        var s = n.dataService.city(u[0], u[1]),
                                            c = n.dataService.getRoad(u[0], u[1]);
                                        if (!c && s && (c = 1), c) {
                                            var d = 6 == c ? "rail" : "road";
                                            a += l / 5;
                                            var h = n.dataService.getRoad(u[0], u[1] + 1) || n.dataService.city(u[0], u[1] + 1),
                                                p = n.dataService.getRoad(u[0], u[1] - 1) || n.dataService.city(u[0], u[1] - 1),
                                                f = n.dataService.getRoad(u[0] - 1, u[1]) || n.dataService.city(u[0] - 1, u[1]),
                                                g = n.dataService.getRoad(u[0] + 1, u[1]) || n.dataService.city(u[0] + 1, u[1]);
                                            p && h && f && g ? n.ctx.drawImage(n.img[d + "_4"], r, a, l + 1, l + 1) : p && h && g ? n.ctx.drawImage(n.img[d + "_tbr"], r, a, l + 1, l + 1) : p && h && f ? n.ctx.drawImage(n.img[d + "_tbl"], r, a, l + 1, l + 1) : p && f && g ? n.ctx.drawImage(n.img[d + "_tlr"], r, a, l + 1, l + 1) : h && f && g ? n.ctx.drawImage(n.img[d + "_blr"], r, a, l + 1, l + 1) : p && g ? n.ctx.drawImage(n.img[d + "_tr"], r, a, l + 1, l + 1) : p && f ? n.ctx.drawImage(n.img[d + "_tl"], r, a, l + 1, l + 1) : h && g ? n.ctx.drawImage(n.img[d + "_br"], r, a, l + 1, l + 1) : h && f ? n.ctx.drawImage(n.img[d + "_bl"], r, a, l + 1, l + 1) : h || p ? n.ctx.drawImage(n.img[d + "_td"], r - 1, a - 1, l + 2, l + 2) : f || g ? n.ctx.drawImage(n.img[d + "_lr"], r, a, l + 1, l + 1) : s || n.ctx.drawImage(n.img[d + "_0"], r, a, l + 1, l + 1), a = u[1] * l - n.view.y
                                        }
                                        if (!n.data.world_hide_ter && (2 == o || 4 == o)) {
                                            n.ctx.lineWidth = 2, n.ctx.strokeStyle = "rgba(0,0,0,.4)";
                                            var v = .2,
                                                m = .7;
                                            n.ctx.beginPath(), n.ctx.moveTo(r + l * v, a + l * m), n.ctx.bezierCurveTo(r + l * v, a + l * (m - .3), r + l * (v + .4), a + l * (m - .3), r + l * (v + .4), a + l * m), n.ctx.stroke(), v = .4, m = .45, n.ctx.beginPath(), n.ctx.moveTo(r + l * v, a + l * m), n.ctx.bezierCurveTo(r + l * v, a + l * (m - .3), r + l * (v + .4), a + l * (m - .3), r + l * (v + .4), a + l * m), n.ctx.stroke()
                                        }
                                        var y = n.dataService.getImprovement(u[0], u[1]);
                                        if (y) {
                                            var b = .6 * l;
                                            n.ctx.drawImage(n.img["imp" + y], r + e, a + e, b, b)
                                        }
                                        if (n.dataService.hasRuin(u[0], u[1]) && n.dataService.player().orientation >= 100) {
                                            var _ = .6 * l;
                                            n.ctx.drawImage(n.img.ruins, r + e, a + e, _, _)
                                        }
                                        if (s) {
                                            n.ctx.lineWidth = 1;
                                            var k = 1;
                                            n.dataService.hasBuilding(s, "palace") ? k = 5 : n.dataService.hasBuilding(s, "police") ? k = 4 : n.dataService.hasBuilding(s, "town_hall") ? k = 3 : n.dataService.hasBuilding(s, "lo") && (k = 2);
                                            var w = .8 * l * Math.pow(.8, 3 - k),
                                                x = l - w,
                                                C = l - w - n.fontSize(),
                                                S = "";
                                            if (n.dataService.currentScienceRank(s.ownerid) >= 16 && (S = "i"), n.ctx.drawImage(n.img["vil" + k + S], r + x / 2, a + C, w, w), n.cityName(s, r, a), n.ctx.font = "bold " + n.fontSize() + 'px "Font Awesome 5 Free"', s.plague && s.plague > 0) {
                                                n.ctx.fillStyle = "#000";
                                                var I = Math.floor(n.view.zoom);
                                                n.ctx.fillText(n.unicode.plague, r + I, a + I)
                                            }
                                        }
                                    }
                                }
                            })), this.ctx.lineWidth = 2, this.highlight) {
                            var t = this.highlight.x * l - this.view.x,
                                i = this.highlight.y * l - this.view.y;
                            this.ctx.fillStyle = "rgba(51,168,255,.2)", this.ctx.strokeStyle = "rgba(51,168,255,1)", this.ctx.fillRect(t - l, i - l, 3 * l + 1, 3 * l + 1), this.ctx.strokeRect(t - l, i - l, 3 * l + 1, 3 * l + 1)
                        }
                        if (this.scout) {
                            this.ctx.strokeStyle = "#000";
                            var u = this.realPos(this.menu.city.x, this.menu.city.y),
                                r = this.realPos(this.scout.x, this.scout.y);
                            if (this.scout.route.length) {
                                var a = {
                                    x: u.x,
                                    y: u.y
                                };
                                this.scout.route.forEach((function (l) {
                                    var e = n.realPos(l.x, l.y);
                                    n.drawLine(n.ctx, a.x, a.y, e.x, e.y), a = e
                                })), this.drawLine(this.ctx, a.x, a.y, r.x, r.y)
                            } else this.drawLine(this.ctx, u.x, u.y, r.x, r.y);
                            this.ctx.rect(this.scout.x * l - this.view.x, this.scout.y * l - this.view.y, l, l), this.ctx.stroke()
                        }
                        if (this.archeologist) {
                            this.ctx.strokeStyle = "#000";
                            var o = this.realPos(this.menu.city.x, this.menu.city.y),
                                s = this.realPos(this.archeologist.x, this.archeologist.y);
                            this.drawLine(this.ctx, o.x, o.y, s.x, s.y), this.ctx.rect(this.archeologist.x * l - this.view.x, this.archeologist.y * l - this.view.y, l, l), this.ctx.stroke()
                        }
                        if (this.worker && this.worker.type) {
                            this.ctx.strokeStyle = "#000";
                            var c = this.realPos(this.menu.city.x, this.menu.city.y, !1),
                                d = this.realPos(this.worker.x, this.worker.y, !1);
                            this.drawLine(this.ctx, c.x + l / 2, c.y + l / 2, d.x + l / 2, d.y + l / 2), this.ctx.rect(this.worker.x * l - this.view.x, this.worker.y * l - this.view.y, l, l), this.ctx.stroke();
                            var h = .6 * l,
                                p = .2 * l;
                            this.ctx.drawImage(this.img["imp" + this.worker.type], d.x + p, d.y + p, h, h), this.isImprovementAllowed(this.worker.x, this.worker.y, this.worker.type) || (this.ctx.fillStyle = "rgba(255,0,0,0.2)", this.ctx.fillRect(d.x, d.y, l, l))
                        }
                    }
                }, {
                    key: "isImprovementAllowed",
                    value: function (n, l, e) {
                        return this.dataService.isImprovementAllowed(n, l, e, this.menu.city, this.worker.roadto)
                    }
                }, {
                    key: "cityName",
                    value: function (n, l, e) {
                        var t = .75 * this.fontSize() / 2,
                            i = .75 * this.fontSize() / 2,
                            u = .75 * this.fontSize() / 2,
                            r = this.data.players.find((function (l) {
                                return l.id == n.ownerid
                            }));
                        this.ctx.font = "bold " + this.fontSize() + "px Arial";
                        var a = this.ctx.measureText(n.name).width;
                        this.ctx.font = "bold " + this.fontSize() + 'px "Font Awesome 5 Free"';
                        var o = "",
                            s = "",
                            c = "";
                        4 != this.view.zoom && (o += n.capital ? this.unicode.star : this.unicode.flag, n.bonus && (o += " " + this.unicode[n.bonus]), o += " ", this.dataService.cityConnectedToCapital(n) && (s = " " + this.unicode.connected)), 16 == this.view.zoom && (s += " " + this.unicode.pop + " ", c = "" + this.dataService.pop(n));
                        var d = this.ctx.measureText(o).width,
                            h = this.ctx.measureText(s).width,
                            p = a + d + h + this.ctx.measureText(c).width + 2 * i,
                            f = .75 * this.fontSize() + 2 * u;
                        this.ctx.fillStyle = this.dataService.color2(r.id), this.ctx.strokeStyle = this.dataService.color(r.id), l = l + this.tileSize() / 2 - p / 2, e = e + this.tileSize() - f + 2 * u, this.ctx.beginPath(), this.ctx.moveTo(l + t, e), this.ctx.lineTo(l + p - t, e), this.ctx.quadraticCurveTo(l + p, e, l + p, e + t), this.ctx.lineTo(l + p, e + f - t), this.ctx.quadraticCurveTo(l + p, e + f, l + p - t, e + f), this.ctx.lineTo(l + t, e + f), this.ctx.quadraticCurveTo(l, e + f, l, e + f - t), this.ctx.lineTo(l, e + t), this.ctx.quadraticCurveTo(l, e, l + t, e), this.ctx.closePath(), this.ctx.fill(), this.ctx.stroke(), this.ctx.fillStyle = this.dataService.color(r.id), 4 != this.view.zoom && this.ctx.fillText(o, l + i, e + f - u), this.ctx.font = "bold " + this.fontSize() + "px Arial", this.ctx.fillText(n.name, l + i + d, e + f - u), this.ctx.font = "bold " + this.fontSize() + 'px "Font Awesome 5 Free"', this.ctx.fillText(s, l + i + d + a, e + f - u), this.ctx.font = "bold " + this.fontSize() + "px Arial", this.ctx.fillText(c, l + i + d + a + h, e + f - u)
                    }
                }, {
                    key: "drawTroops",
                    value: function () {
                        var n = this;
                        this.ctxt.clearRect(0, 0, this.view.width, this.view.height), this.ctxt.font = "bold " + this.fontSize() + 'px "Font Awesome 5 Free"', this.data.world_hide_tr || (this.ctxt.lineWidth = this.view.zoom > 4 ? 2 : 1, this.ctxt.setLineDash([2, 2]), this.data.trades.forEach((function (l) {
                            if (0 == l.ownerid || 0 == l.destid) {
                                n.ctxt.strokeStyle = n.dataService.color2(l.ownerid);
                                var e = n.realPos(l.from.x, l.from.y),
                                    t = n.realPos(l.to.x, l.to.y);
                                n.drawLine(n.ctxt, e.x, e.y, t.x, t.y)
                            }
                        }))), this.data.world_hide_un || (this.ctxt.setLineDash([5, 10]), this.data.goldtransfers.forEach((function (l) {
                            n.drawMov(l, "cart")
                        })), this.data.scouts.forEach((function (l) {
                            n.drawMov(l, "scout")
                        })), this.data.attacks.forEach((function (l) {
                            n.dataService.currentScienceRank(l.ownerid) >= 13 ? n.drawMov(l, "troop1") : n.drawMov(l, "troop")
                        })), this.data.spies.forEach((function (l) {
                            n.drawMov(l, "spy")
                        })), this.data.workers.forEach((function (l) {
                            n.drawMov(l, "worker")
                        })), this.data.archeologists.forEach((function (l) {
                            n.drawMov(l, "archeologist")
                        })))
                    }
                }, {
                    key: "drawMov",
                    value: function (n, l) {
                        var e = this.movPos(n),
                            t = this.dataService.city(n.to.x, n.to.y) ? this.dataService.city(n.to.x, n.to.y).ownerid : n.destid,
                            i = 0 == n.ownerid || 0 == t && !n.returning && "scout" != l;
                        if (i || this.dataService.minDistFromCity(e) <= 1.5) {
                            if (i) {
                                var u = this.realPos(n.from.x, n.from.y),
                                    r = this.realPos(n.to.x, n.to.y);
                                this.ctxt.strokeStyle = 0 == n.ownerid ? "#000" : "#F00", this.drawLine(this.ctxt, u.x, u.y, r.x, r.y)
                            }
                            this.isVisible(e.x, e.y, this.tileSize() / 3) && (this.ctxt.drawImage(this.img[l], e.x - this.tileSize() / 6, e.y - this.tileSize() / 6, this.tileSize() / 3, this.tileSize() / 3), this.ctxt.fillStyle = this.dataService.color2(n.ownerid), this.ctxt.fillText(this.unicode.flag, e.x + this.tileSize() / 6, e.y))
                        }
                    }
                }, {
                    key: "isVisible",
                    value: function (n, l, e) {
                        return n + e >= 0 && n <= this.view.width && l + e >= 0 && l <= this.view.height
                    }
                }, {
                    key: "movPos",
                    value: function (n) {
                        var l = this.realPos(n.from.x, n.from.y),
                            e = this.realPos(n.to.x, n.to.y);
                        return n.progress <= n.dist ? {
                            x: l.x + (e.x - l.x) * n.progress / n.dist,
                            y: l.y + (e.y - l.y) * n.progress / n.dist
                        } : {
                            x: l.x + (e.x - l.x) * (2 - n.progress / n.dist),
                            y: l.y + (e.y - l.y) * (2 - n.progress / n.dist)
                        }
                    }
                }, {
                    key: "realPos",
                    value: function (n, l) {
                        var e = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        return {
                            x: n * this.tileSize() - this.view.x + (e ? this.tileSize() / 2 : 0),
                            y: l * this.tileSize() - this.view.y + (e ? this.tileSize() / 2 : 0)
                        }
                    }
                }, {
                    key: "drawLine",
                    value: function (n, l, e, t, i) {
                        var u = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
                        if (n.beginPath(), n.moveTo(l, e), n.lineTo(t, i), u) {
                            var r = 10,
                                a = Math.atan2(i - e, t - l);
                            n.lineTo(t - r * Math.cos(a - Math.PI / 6), i - r * Math.sin(a - Math.PI / 6)), n.moveTo(t, i), n.lineTo(t - r * Math.cos(a + Math.PI / 6), i - r * Math.sin(a + Math.PI / 6))
                        }
                        n.stroke()
                    }
                }, {
                    key: "fontSize",
                    value: function () {
                        switch (this.view.zoom) {
                            case 16:
                                return 10 * this.view.font_size;
                            case 8:
                                return 7 * this.view.font_size;
                            case 4:
                                return 6 * this.view.font_size
                        }
                    }
                }, {
                    key: "tileSize",
                    value: function () {
                        return this.view.base_size * this.view.zoom
                    }
                }, {
                    key: "zoomOut",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
                        return this.view.zoom > this.view.zoom_min && (-1 != n && -1 != l || (n = this.view.width / 2, l = this.view.height / 2), this.view.x = (this.view.x + n) / this.view.zoom_step - n, this.view.y = (this.view.y + l) / this.view.zoom_step - l, this.view.zoom = this.view.zoom / this.view.zoom_step, this.data.world_pos.x = this.view.x, this.data.world_pos.y = this.view.y, this.data.world_zoom = this.view.zoom, !0)
                    }
                }, {
                    key: "zoomIn",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                            l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
                        return this.view.zoom < this.view.zoom_max && (-1 != n && -1 != l || (n = this.view.width / 2, l = this.view.height / 2), this.view.x = (this.view.x + n) * this.view.zoom_step - n, this.view.y = (this.view.y + l) * this.view.zoom_step - l, this.view.zoom = this.view.zoom * this.view.zoom_step, this.data.world_zoom = this.view.zoom, this.data.world_pos.x = this.view.x, this.data.world_pos.y = this.view.y, !0)
                    }
                }, {
                    key: "center",
                    value: function () {
                        this.view.x = -this.view.width / 2, this.view.y = -this.view.height / 2
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                            t = l.description;
                        l.description2 && (t += "<br/>" + l.description2), l.road || (t += "<br/>Worker will be consumed."), n.open({
                            title: l.name + (e ? " To" : ""),
                            desc: t,
                            cost: l.cost,
                            time: l.time
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            iE = et({
                encapsulation: 0,
                styles: [[".map-menu[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);border-radius:5px;padding:2px 8px}.menu-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:50%;width:24px;height:24px;color:#fff;font-size:18px;text-align:center;cursor:pointer;margin:2px}.menu-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.menu-list[_ngcontent-%COMP%] > div.disabled[_ngcontent-%COMP%]{background:0 0!important;color:#aaa!important;cursor:forbidden!important}.menu-desc[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:16px}.imp-menu[_ngcontent-%COMP%]{background:rgba(52,58,64,.8)!important}.imp-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px}"]],
                data: {}
            });

        function uE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "position-absolute d-flex bg-dark p-2 text-light"], ["style", "left:10px;bottom:10px;z-index:5"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "span", [], [[8, "innerHTML", 1]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.label)
            }))
        }

        function rE(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 6, "div", [["container", "body"], ["hover-class", "bg-light"], ["placement", "right"], ["triggers", "manuel"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 5).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 5).onMouseLeave() && t), "click" === l && (t = !1 !== i.workerSelect(n.parent.context.$implicit.value) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 4), n.parent.context.$implicit.value) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 4)) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "rounded-circle p-2 cursor-pointer my-1": 0,
                "bg-warning": 1,
                "opacity-60 cursor-forbidden": 2
            }), hi(4, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"],
                container: [4, "container"]
            }, null), hi(5, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(6, 0, null, null, 0, "img", [], [[8, "src", 4], [8, "title", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, !0, e.worker.type == l.parent.context.$implicit.key, !e.dataService.isImprovementAvailable(l.parent.context.$implicit.value, e.worker.level, e.menu.city));
                n(l, 2, 0, t), n(l, 4, 0, Jt(l.parent.parent.parent, 60), Jt(l.parent.parent.parent, 59), "right", "manuel", "body"), n(l, 5, 0, "bg-light")
            }), (function (n, l) {
                n(l, 6, 0, At(1, "assets/img/imp", l.parent.context.$implicit.key, ".png"), At(1, "", l.parent.context.$implicit.value.name, ""))
            }))
        }

        function aE(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 6, "div", [["container", "body"], ["hover-class", "bg-light"], ["placement", "right"], ["triggers", "manuel"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 5).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 5).onMouseLeave() && t), "click" === l && (t = !1 !== i.workerSelect(n.parent.context.$implicit.value, !0) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 4), n.parent.context.$implicit.value, !0) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 4)) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "rounded-circle p-2 cursor-pointer my-1": 0,
                "bg-warning": 1,
                "opacity-60 cursor-forbidden": 2
            }), hi(4, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"],
                container: [4, "container"]
            }, null), hi(5, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(6, 0, null, null, 0, "img", [], [[8, "src", 4], [8, "title", 0]], null, null, null, null)), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, !0, e.worker.type == l.parent.context.$implicit.key, !e.dataService.isImprovementAvailable(l.parent.context.$implicit.value, e.worker.level, e.menu.city));
                n(l, 2, 0, t), n(l, 4, 0, Jt(l.parent.parent.parent, 60), Jt(l.parent.parent.parent, 59), "right", "manuel", "body"), n(l, 5, 0, "bg-light")
            }), (function (n, l) {
                n(l, 6, 0, At(1, "assets/img/imp", l.parent.context.$implicit.key, "2.png"), At(1, "", l.parent.context.$implicit.value.name, ""))
            }))
        }

        function oE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, rE)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, aE)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.dataService.isImprovementVisible(l.context.$implicit.value, e.worker.level, 0)), n(l, 4, 0, e.dataService.isImprovementVisible(l.context.$implicit.value, e.worker.level, 0) && l.context.$implicit.value.road)
            }), null)
        }

        function sE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "position-absolute d-flex d-flex flex-column justify-content-center p-1 rounded imp-menu"], ["style", "left:10px;top:10%;z-index:5"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, oE)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, Je(l, 2, 0, Jt(l, 3).transform(e.conf.improvements)))
            }), null)
        }

        function cE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "bg-dark text-warning px-1 position-absolute d-flex"], ["style", "left:40%;top:10px;z-index:5"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Keep Ctrl or Command to create a waypoint "]))], null, null)
        }

        function dE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Move troops here") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.attackCity() && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.act_move)
            }))
        }

        function hE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send gold here") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.sendGold() && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.act_transfer)
            }))
        }

        function pE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Trade Route") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.createTrade() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isCaravanAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_trade)
            }))
        }

        function fE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send worker") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.createWorker() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isWorkerAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_worker)
            }))
        }

        function gE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send archeologist") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.createArcheologist() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isArcheologistAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.relics)
            }))
        }

        function vE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Create Colony") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.createColony() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isCaravelAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_colony)
            }))
        }

        function mE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 25, null, null, null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "View") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.viewCity() && t), t
            }), null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, dE)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hE)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send scout") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.sendScout() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(9, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(10, {
                disabled: 0
            }), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(12, 0, null, null, 5, "div", [["style", "font-size: 90%;height: 90%;"]], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send scout (auto)") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.sendScout(!0) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(14, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(15, {
                disabled: 0
            }), (n()(), Xu(16, 0, null, null, 1, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["A"])), (n()(), Yu(16777216, null, null, 1, null, pE)), hi(19, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fE)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, gE)), hi(23, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, vE)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.dataService.player().cities.length > 1), n(l, 6, 0, e.dataService.player().cities.length > 1);
                var t = n(l, 10, 0, !e.isScoutAvailable());
                n(l, 9, 0, t);
                var i = n(l, 15, 0, !e.isScoutAvailable());
                n(l, 14, 0, i), n(l, 19, 0, e.dataService.isUnlocked("trade")), n(l, 21, 0, e.dataService.isUnlocked("trade")), n(l, 23, 0, e.dataService.isUnlocked("archeology") && e.dataService.player().orientation >= 100), n(l, 25, 0, e.dataService.isUnlocked("colonization") && e.dataService.isCoastal(e.menu.city))
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.act_view), n(l, 11, 0, e.icons.act_scout), n(l, 16, 0, e.icons.act_scout)
            }))
        }

        function yE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Attack") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.attackCity() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.canAttack());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_attack)
            }))
        }

        function bE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Spy") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.spyCity() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isSpyAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_spy)
            }))
        }

        function _E(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== (i.menu.desc = "Send gift here") && t), "mouseleave" === l && (t = !1 !== (i.menu.desc = "") && t), "click" === l && (t = !1 !== i.sendGold() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                disabled: 0
            }), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !l.component.isGiftAvailable());
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, l.component.icons.act_transfer)
            }))
        }

        function kE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 15, "div", [["class", "map-menu position-absolute"]], null, [[null, "mousedown"]], (function (n, l, e) {
                var t = !0;
                return "mousedown" === l && (t = !1 !== e.stopPropagation() && t), t
            }), null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(2, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(3, {
                "left.px": 0,
                "top.px": 1,
                "z-index": 2
            }), (n()(), Xu(4, 0, null, null, 8, "div", [["class", "menu-list d-flex mx-3"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, mE)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yE)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, bE)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _E)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(13, 0, null, null, 2, "div", [["class", "menu-desc"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(15, null, ["", ""]))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, e.menu.x, e.menu.y, "10");
                n(l, 2, 0, t), n(l, 6, 0, 0 == e.menu.ownerId), n(l, 8, 0, 0 != e.menu.ownerId), n(l, 10, 0, 0 != e.menu.ownerId && e.dataService.isUnlocked("spy")), n(l, 12, 0, e.menu.city.ownerid > 1)
            }), (function (n, l) {
                n(l, 15, 0, l.component.menu.desc)
            }))
        }

        function wE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(1, null, ["Attacking ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.city(e.attack.to).name)
            }))
        }

        function xE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(1, null, ["Transfer to ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.city(e.attack.to).name)
            }))
        }

        function CE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "burn"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.attack.burn = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "burn"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Burn down on conquest ! (requires a governor, will not be consumed)"]))], (function (n, l) {
                n(l, 4, 0, l.component.attack.burn)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function SE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "noreturn"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.attack.noreturn = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "noreturn"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Do not return troops if city is conquered (be careful about maintenance!)"]))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.attack.burn, e.attack.noreturn)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function IE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "]))], null, (function (n, l) {
                var e = l.context.$implicit.name(l.component.dataService.player());
                n(l, 1, 0, e)
            }))
        }

        function TE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "]))], null, (function (n, l) {
                var e = l.context.$implicit.name(l.component.dataService.player());
                n(l, 1, 0, e)
            }))
        }

        function EE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Yu(16777216, null, null, 1, null, TE)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(5, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Distance"])), (n()(), Xu(7, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Time"])), (n()(), Xu(9, 0, null, null, 0, "th", [], null, null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.troops(0 == e.menu.ownerId))
            }), null)
        }

        function AE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "td", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 6, "input", [["class", "d-inline"], ["min", "0"], ["style", "width:64px"], ["type", "number"]], [[1, "max", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 2)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 2)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 2)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 3).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 3).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 3).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.attack.troops[n.parent.context.$implicit.id][n.context.$implicit.id] = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(3, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(5, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(7, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(8, 0, null, null, 1, "span", [], [[8, "className", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.fillTroops(n.parent.context.$implicit, n.context.$implicit.id) && t), t
            }), null, null)), (n()(), pr(9, null, ["(", ")"]))], (function (n, l) {
                n(l, 5, 0, l.component.attack.troops[l.parent.context.$implicit.id][l.context.$implicit.id])
            }), (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.troops[l.context.$implicit.id] || 0, Jt(l, 7).ngClassUntouched, Jt(l, 7).ngClassTouched, Jt(l, 7).ngClassPristine, Jt(l, 7).ngClassDirty, Jt(l, 7).ngClassValid, Jt(l, 7).ngClassInvalid, Jt(l, 7).ngClassPending), n(l, 8, 0, "cursor-pointer " + (l.parent.context.$implicit.troops[l.context.$implicit.id] ? "text-primary" : "text-secondary")), n(l, 9, 0, l.parent.context.$implicit.troops[l.context.$implicit.id] || 0)
            }))
        }

        function PE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent, 1), e.dataService.cityDistance(l.parent.context.$implicit.id, e.attack.to) / (e.attackSpeed(l.parent.context.$implicit, e.dataService.city(e.attack.to)) * e.conf.troop_speed_ratio)));
                n(l, 1, 0, t)
            }))
        }

        function OE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger btn-sm"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.doAttack(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Attack"]))], null, (function (n, l) {
                n(l, 0, 0, 0 == l.component.troopNb(l.parent.context.$implicit))
            }))
        }

        function DE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.doAttack(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Transfer"]))], null, (function (n, l) {
                n(l, 0, 0, 0 == l.component.troopNb(l.parent.context.$implicit))
            }))
        }

        function RE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 18, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, EE)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 15, "tr", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), (n()(), Yu(16777216, null, null, 1, null, AE)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(8, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(9, null, ["", ""])), cr(10, 2), (n()(), Xu(11, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, PE)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(14, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, OE)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, DE)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, (l.context.index + 1) % 8 == 0), n(l, 7, 0, e.troops(0 == e.menu.ownerId)), n(l, 13, 0, e.attack.troops[l.context.$implicit.id]), n(l, 16, 0, 0 != e.menu.ownerId), n(l, 18, 0, 0 == e.menu.ownerId)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, l.context.$implicit.name);
                var t = Je(l, 9, 0, n(l, 10, 0, Jt(l.parent.parent, 0), e.dataService.cityDistance(l.context.$implicit.id, e.attack.to), ".1"));
                n(l, 9, 0, t)
            }))
        }

        function ME(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 28, "div", [["class", "pl-2 overflow-auto h-100 pb-4"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, wE)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xE)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(5, 0, null, null, 1, "button", [["class", "btn btn-sm btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.attack = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Return"])), (n()(), Xu(7, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Click on a troop number to select all."])), (n()(), Yu(16777216, null, null, 1, null, CE)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, SE)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(14, 0, null, null, 14, "table", [["class", "table-sm"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 10, "thead", [], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Yu(16777216, null, null, 1, null, IE)), hi(20, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(21, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Distance"])), (n()(), Xu(23, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Time"])), (n()(), Xu(25, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, RE)), hi(28, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, 0 != e.menu.ownerId), n(l, 4, 0, 0 == e.menu.ownerId), n(l, 11, 0, 0 != e.menu.city.ownerid), n(l, 13, 0, 0 != e.menu.city.ownerid), n(l, 20, 0, e.troops(0 == e.menu.ownerId)), n(l, 28, 0, e.orderedCities(e.attack.to))
            }), (function (n, l) {
                n(l, 8, 0, l.component.icons.info)
            }))
        }

        function NE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 21, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 9, "td", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 6, "input", [["class", "d-inline"], ["min", "0"], ["style", "width:64px"], ["type", "number"]], [[1, "max", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 5)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 5).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 5)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 5)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 6).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 6).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 6).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.spy.spies[n.parent.context.$implicit.id] = e) && t), t
            }), null, null)), hi(5, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(6, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(8, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(10, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(11, 0, null, null, 1, "span", [], [[8, "className", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.spy.spies[n.parent.context.$implicit.id] = n.parent.context.$implicit.troops.spy) && t), t
            }), null, null)), (n()(), pr(12, null, ["(", ")"])), (n()(), Xu(13, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(14, null, ["", ""])), cr(15, 2), (n()(), Xu(16, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(17, null, [" ", " "])), cr(18, 1), (n()(), Xu(19, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.doSpy(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Send"]))], (function (n, l) {
                n(l, 8, 0, l.component.spy.spies[l.parent.context.$implicit.id])
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.parent.context.$implicit.name), n(l, 4, 0, l.parent.context.$implicit.troops.spy || 0, Jt(l, 10).ngClassUntouched, Jt(l, 10).ngClassTouched, Jt(l, 10).ngClassPristine, Jt(l, 10).ngClassDirty, Jt(l, 10).ngClassValid, Jt(l, 10).ngClassInvalid, Jt(l, 10).ngClassPending), n(l, 11, 0, "cursor-pointer " + (l.parent.context.$implicit.troops.spy ? "text-primary" : "text-secondary")), n(l, 12, 0, l.parent.context.$implicit.troops.spy || 0);
                var t = Je(l, 14, 0, n(l, 15, 0, Jt(l.parent.parent.parent, 0), e.dataService.cityDistance(l.parent.context.$implicit.id, e.spy.to), ".1"));
                n(l, 14, 0, t);
                var i = Je(l, 17, 0, n(l, 18, 0, Jt(l.parent.parent.parent, 1), e.dataService.cityDistance(l.parent.context.$implicit.id, e.spy.to) / (e.dataService.speed("spy", 0, l.parent.context.$implicit, e.dataService.city(e.spy.to)) * e.conf.troop_speed_ratio)));
                n(l, 17, 0, i), n(l, 20, 0, !e.spy.spies[l.parent.context.$implicit.id])
            }))
        }

        function BE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, NE)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.troops.spy)
            }), null)
        }

        function zE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 22, "div", [["class", "pl-2 overflow-auto h-100 pb-4"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(2, null, ["Spying ", ""])), (n()(), Xu(3, 0, null, null, 1, "button", [["class", "btn btn-sm btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.spy = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Return"])), (n()(), Xu(5, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Click on a spy nb to send all."])), (n()(), Xu(8, 0, null, null, 14, "table", [["class", "table-sm"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 10, "thead", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 9, "tr", [], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Xu(13, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Spy"])), (n()(), Xu(15, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Distance"])), (n()(), Xu(17, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Time"])), (n()(), Xu(19, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, BE)), hi(22, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 22, 0, e.orderedCities(e.spy.to))
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.dataService.city(e.spy.to).name), n(l, 6, 0, e.icons.info)
            }))
        }

        function LE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "th", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Relations gains (est.)"]))], null, (function (n, l) {
                n(l, 1, 0, l.component.icons.diplomacy + " text-diplomacy")
            }))
        }

        function FE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [["class", "text-diplomacy"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", " "])), cr(3, 2)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.diplomacy);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent.parent, 0), e.dataService.giftValue(e.gold.gold[l.parent.parent.context.$implicit.id]), ".1"));
                n(l, 2, 0, t)
            }))
        }

        function qE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, FE)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 2, 0, l.component.gold.gold[l.parent.context.$implicit.id])
            }), null)
        }

        function UE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 25, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 3, "td", [["class", "cursor-pointer"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.setMaxGold(n.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(5, null, [" ", ""])), cr(6, 1), (n()(), Xu(7, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), cr(9, 2), (n()(), Xu(10, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(11, null, [" ", " "])), cr(12, 1), (n()(), Yu(16777216, null, null, 1, null, qE)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(15, 0, null, null, 7, "td", [], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 6, "input", [["min", "0"], ["style", "width:180px"], ["type", "number"]], [[1, "max", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 17)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 17).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 17)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 17)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 18).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 18).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 18).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.gold.gold[n.context.$implicit.id] = e) && t), t
            }), null, null)), hi(17, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(18, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(20, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(22, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(23, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.doSendGold(n.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Send"]))], (function (n, l) {
                var e = l.component;
                n(l, 14, 0, 0 != e.dataService.city(e.gold.to).ownerid), n(l, 20, 0, e.gold.gold[l.context.$implicit.id])
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.context.$implicit.name), n(l, 4, 0, e.icons.gold + " text-gold");
                var t = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent.parent, 0), l.context.$implicit.gold));
                n(l, 5, 0, t);
                var i = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent.parent, 0), e.dataService.cityDistance(l.context.$implicit.id, e.gold.to), ".1"));
                n(l, 8, 0, i);
                var u = Je(l, 11, 0, n(l, 12, 0, Jt(l.parent.parent, 1), e.dataService.cityDistance(l.context.$implicit.id, e.gold.to) / (e.dataService.speed("gold", 0, l.context.$implicit, e.dataService.city(e.gold.to)) * e.conf.troop_speed_ratio)));
                n(l, 11, 0, u), n(l, 16, 0, l.context.$implicit.gold, Jt(l, 22).ngClassUntouched, Jt(l, 22).ngClassTouched, Jt(l, 22).ngClassPristine, Jt(l, 22).ngClassDirty, Jt(l, 22).ngClassValid, Jt(l, 22).ngClassInvalid, Jt(l, 22).ngClassPending), n(l, 24, 0, !e.gold.gold[l.context.$implicit.id])
            }))
        }

        function $E(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 26, "div", [["class", "pl-2 overflow-auto h-100 pb-4"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(2, null, ["Sending gold to ", ""])), (n()(), Xu(3, 0, null, null, 1, "button", [["class", "btn btn-sm btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.gold = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Return"])), (n()(), Xu(5, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Click on a gold value to send all."])), (n()(), Xu(8, 0, null, null, 18, "table", [["class", "table-sm"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 14, "thead", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 13, "tr", [], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Xu(13, 0, null, null, 2, "th", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Gold"])), (n()(), Xu(16, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Distance"])), (n()(), Xu(18, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Time"])), (n()(), Yu(16777216, null, null, 1, null, LE)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(22, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(23, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, UE)), hi(26, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 21, 0, 0 != e.dataService.city(e.gold.to).ownerid), n(l, 26, 0, e.orderedCities(e.gold.to))
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.dataService.city(e.gold.to).name), n(l, 6, 0, e.icons.info), n(l, 14, 0, e.icons.gold + " text-gold")
            }))
        }

        function HE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.science);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent.parent, 0), e.trade.values[l.parent.context.index].science));
                n(l, 2, 0, t)
            }))
        }

        function VE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" +", ""])), cr(3, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.faith);
                var t = Je(l, 2, 0, n(l, 3, 0, Jt(l.parent.parent.parent.parent, 0), e.trade.values[l.parent.context.index].faith));
                n(l, 2, 0, t)
            }))
        }

        function jE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 43, "div", [["class", "card cursor-pointer"], ["hover-class", "bg-dark text-light"], ["style", "width:500px"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.doCreateTrade(n.context.index) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(2, 0, null, null, 41, "div", [["class", "card-body p-2"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 40, "div", [["class", "card-text d-flex align-items-center"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 16, "div", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 3, "div", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(7, null, [" +", ""])), cr(8, 1), (n()(), Xu(9, 0, null, null, 3, "div", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(11, null, [" +", " "])), cr(12, 1), (n()(), Xu(13, 0, null, null, 3, "div", [["class", "text-diplomacy"]], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(15, null, [" +", ""])), cr(16, 2), (n()(), Yu(16777216, null, null, 1, null, HE)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, VE)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(21, 0, null, null, 1, "div", [["class", "mx-4 text-200 text-secondary"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(23, 0, null, null, 5, "div", [["class", "mx-3 flex-fill text-center"], ["style", "height:auto!important"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "div", [["class", "text-120"]], null, null, null, null, null)), (n()(), pr(25, null, ["", ""])), (n()(), Xu(26, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(27, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(28, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(29, 0, null, null, 1, "div", [["class", "mx-4 text-200 text-secondary"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(31, 0, null, null, 12, "div", [], null, null, null, null, null)), (n()(), Xu(32, 0, null, null, 3, "div", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(34, null, [" +", ""])), cr(35, 1), (n()(), Xu(36, 0, null, null, 3, "div", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(37, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(38, null, [" +", ""])), cr(39, 1), (n()(), Xu(40, 0, null, null, 3, "div", [["class", "text-diplomacy"]], null, null, null, null, null)), (n()(), Xu(41, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(42, null, [" +", ""])), cr(43, 1)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, "bg-dark text-light"), n(l, 18, 0, e.trade.values[l.context.index].science), n(l, 20, 0, e.trade.values[l.context.index].faith), n(l, 28, 0, l.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.icons.gold);
                var t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].gold));
                n(l, 7, 0, t), n(l, 10, 0, e.icons.culture);
                var i = Je(l, 11, 0, n(l, 12, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].culture));
                n(l, 11, 0, i), n(l, 14, 0, e.icons.diplomacy);
                var u = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].diplomacy, ".1"));
                n(l, 15, 0, u), n(l, 22, 0, e.icons.arrow_left), n(l, 25, 0, l.context.$implicit.name), n(l, 30, 0, e.icons.arrow_right), n(l, 33, 0, e.icons.gold);
                var r = Je(l, 34, 0, n(l, 35, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].gold * e.conf.trade_route_ratio));
                n(l, 34, 0, r), n(l, 37, 0, e.icons.culture);
                var a = Je(l, 38, 0, n(l, 39, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].culture * e.conf.trade_route_ratio));
                n(l, 38, 0, a), n(l, 41, 0, e.icons.culture);
                var o = Je(l, 42, 0, n(l, 43, 0, Jt(l.parent.parent.parent, 0), e.trade.values[l.context.index].diplomacy));
                n(l, 42, 0, o)
            }))
        }

        function GE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", ""]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(2, null, ["Maximum distance allowed: ", ""])), (n()(), Yu(16777216, null, null, 1, null, jE)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 4, 0, l.component.trade.cities)
            }), (function (n, l) {
                n(l, 2, 0, l.component.dataService.tradeRouteMaxDist())
            }))
        }

        function WE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, [" There is no available trade routes at the moment. "]))], null, null)
        }

        function KE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 9, "div", [["class", "h-100 overflow-auto pl-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(2, null, ["Create trade route from ", ""])), (n()(), Yu(16777216, null, null, 1, null, GE)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, WE)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 2, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "button", [["class", "btn btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.trade = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"]))], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.trade.cities.length), n(l, 6, 0, !e.trade.cities.length)
            }), (function (n, l) {
                n(l, 2, 0, l.component.trade.from.name)
            }))
        }

        function ZE(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function QE(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 7, "div", [["class", "border-top mt-1"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 3, "span", [["class", "text-gold mr-2"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(4, null, [" ", ""])), cr(5, 1), (n()(), Xu(6, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(7, null, [" ", " "])), cr(8, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.context.desc), n(l, 3, 0, e.icons.gold);
                var t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent, 0), l.context.cost));
                n(l, 4, 0, t), n(l, 6, 0, e.icons.time);
                var i = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 1), l.context.time));
                n(l, 7, 0, i)
            }))
        }

        function YE(n) {
            return vr(0, [pi(0, Py, []), pi(0, ay, []), tr(402653184, 1, {
                container: 0
            }), tr(402653184, 2, {
                canvas: 0
            }), tr(402653184, 3, {
                canvast: 0
            }), (n()(), Xu(5, 0, [[1, 0], ["container", 1]], null, 45, "div", [["class", "position-relative h-100 bg-dark"]], [[8, "hidden", 0]], null, null, null, null)), (n()(), Xu(6, 0, [[2, 0], ["canvas", 1]], null, 0, "canvas", [["style", "position:absolute;z-index:1;"]], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(7, 0, [[3, 0], ["canvast", 1]], null, 0, "canvas", [["style", "position:absolute;z-index:2;"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 6, "div", [["class", "position-absolute d-flex flex-column"], ["style", "right:10px;top:10px;z-index:5"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "button", [["class", "btn btn-sm btn-light mb-1"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.center() && t), t
            }), null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "button", [["class", "btn btn-sm btn-light mb-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.zoomIn() && t), t
            }), null, null)), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "button", [["class", "btn btn-sm btn-light"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.zoomOut() && t), t
            }), null, null)), (n()(), Xu(14, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(15, 0, null, null, 27, "div", [["class", "position-absolute d-flex"], ["style", "right:10px;bottom:10px;z-index:5"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 8, "div", [["class", "bg-dark text-light px-1"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 5, "input", [["id", "showtraderoutes"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 18).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 18).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.world_hide_tr = e) && t), t
            }), null, null)), hi(18, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(20, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(22, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(23, 0, null, null, 1, "label", [["class", "m-0"], ["for", "showtraderoutes"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hide Trade Routes"])), (n()(), Xu(25, 0, null, null, 8, "div", [["class", "bg-dark text-light px-1"]], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 5, "input", [["id", "showtroops"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 27).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 27).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.world_hide_un = e) && t), t
            }), null, null)), hi(27, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(29, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(31, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(32, 0, null, null, 1, "label", [["class", "m-0"], ["for", "showtroops"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hide Troops"])), (n()(), Xu(34, 0, null, null, 8, "div", [["class", "bg-dark text-light px-1"]], null, null, null, null, null)), (n()(), Xu(35, 0, null, null, 5, "input", [["id", "showter"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 36).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 36).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.world_hide_ter = e) && t), t
            }), null, null)), hi(36, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(38, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(40, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(41, 0, null, null, 1, "label", [["class", "m-0"], ["for", "showter"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Hide Terrain"])), (n()(), Yu(16777216, null, null, 1, null, uE)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, sE)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cE)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kE)), hi(50, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ME)), hi(52, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zE)), hi(54, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, $E)), hi(56, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, KE)), hi(58, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, ZE)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, QE))], (function (n, l) {
                var e = l.component;
                n(l, 20, 0, e.data.world_hide_tr), n(l, 29, 0, e.data.world_hide_un), n(l, 38, 0, e.data.world_hide_ter), n(l, 44, 0, e.label), n(l, 46, 0, e.worker), n(l, 48, 0, e.scout), n(l, 50, 0, e.menu.show), n(l, 52, 0, e.attack), n(l, 54, 0, e.spy), n(l, 56, 0, e.gold), n(l, 58, 0, e.trade)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.attack || e.spy || e.gold || e.trade), n(l, 6, 0, e.scout ? "cursor-crosshair" : ""), n(l, 10, 0, e.icons.center), n(l, 11, 0, e.view.zoom == e.view.zoom_max), n(l, 12, 0, e.icons.plus), n(l, 13, 0, e.view.zoom == e.view.zoom_min), n(l, 14, 0, e.icons.minus), n(l, 17, 0, Jt(l, 22).ngClassUntouched, Jt(l, 22).ngClassTouched, Jt(l, 22).ngClassPristine, Jt(l, 22).ngClassDirty, Jt(l, 22).ngClassValid, Jt(l, 22).ngClassInvalid, Jt(l, 22).ngClassPending), n(l, 26, 0, Jt(l, 31).ngClassUntouched, Jt(l, 31).ngClassTouched, Jt(l, 31).ngClassPristine, Jt(l, 31).ngClassDirty, Jt(l, 31).ngClassValid, Jt(l, 31).ngClassInvalid, Jt(l, 31).ngClassPending), n(l, 35, 0, Jt(l, 40).ngClassUntouched, Jt(l, 40).ngClassTouched, Jt(l, 40).ngClassPristine, Jt(l, 40).ngClassDirty, Jt(l, 40).ngClassValid, Jt(l, 40).ngClassInvalid, Jt(l, 40).ngClassPending)
            }))
        }
        var XE = $t("app-world", tE, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-world", [], null, [["document", "keydown"], ["document", "keyup"]], (function (n, l, e) {
                    var t = !0;
                    return "document:keydown" === l && (t = !1 !== Jt(n, 1).handleKeydownEvent(e) && t), "document:keyup" === l && (t = !1 !== Jt(n, 1).handleKeyupEvent(e) && t), t
                }), YE, iE)), hi(1, 245760, null, 0, tE, [sg, hg, Gd, bg, lp], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            JE = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.data = l, this.dataService = e, this.conf = t, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.attacks = this.data.attacks.filter((function (n) {
                            return 0 == n.ownerid || 0 == n.destid
                        }))
                    }
                }, {
                    key: "timeRemaining",
                    value: function (n) {
                        return n.returning ? (2 * n.dist - n.progress) / (n.speed * this.conf.troop_speed_ratio) : (n.dist - n.progress) / (n.speed * this.conf.troop_speed_ratio)
                    }
                }, {
                    key: "workerTimeRemaining",
                    value: function (n) {
                        return n.construction_progress ? (this.conf.improvements[n.type].time - n.construction_progress) / n.speed : this.timeRemaining(n)
                    }
                }, {
                    key: "cancel",
                    value: function (n) {
                        this.dataService.cancelMove(n)
                    }
                }, {
                    key: "cancelWorker",
                    value: function (n) {
                        n.route.length && (n.auto = !0), this.dataService.cancelMove(n)
                    }
                }, {
                    key: "cancelScout",
                    value: function (n) {
                        n.route.length && (n.auto = !0), this.dataService.cancelMove(n)
                    }
                }, {
                    key: "coords",
                    value: function (n) {
                        return "(" + Math.abs(n.y) + (n.y < 0 ? "N" : "S") + "," + Math.abs(n.x) + (n.x < 0 ? "W" : "E") + ")"
                    }
                }]), n
            }(),
            nA = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function lA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "badge badge-pill badge-danger mr-2"]], null, null, null, null, null)), (n()(), pr(-1, null, ["!"]))], null, null)
        }

        function eA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ": ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.key, l.parent.context.$implicit.value)
            }))
        }

        function tA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, eA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value)
            }), null)
        }

        function iA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, tA)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, Ao, [Oe])], (function (n, l) {
                n(l, 2, 0, Je(l, 2, 0, Jt(l, 3).transform(l.parent.parent.context.$implicit.troops)))
            }), null)
        }

        function uA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["?"]))], null, null)
        }

        function rA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancel(n.parent.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function aA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 25, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, lA)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(4, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(5, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(6, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(8, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), (n()(), Xu(13, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(14, null, ["", ""])), cr(15, 1), (n()(), Xu(16, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(17, null, ["", ""])), cr(18, 1), (n()(), Yu(16777216, null, null, 1, null, iA)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uA)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(23, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, rA)), hi(25, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, 0 != l.parent.context.$implicit.ownerid), n(l, 5, 0, l.parent.context.$implicit.from.x, l.parent.context.$implicit.from.y), n(l, 8, 0, l.parent.context.$implicit.to.x, l.parent.context.$implicit.to.y), n(l, 20, 0, 0 == l.parent.context.$implicit.ownerid), n(l, 22, 0, 0 != l.parent.context.$implicit.ownerid), n(l, 25, 0, 0 == l.parent.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 10, 0, l.parent.context.$implicit.speed), n(l, 12, 0, l.parent.context.$implicit.returning ? "Returning" : l.parent.context.$implicit.agressive ? "Attacking" : "Moving");
                var t = Je(l, 14, 0, n(l, 15, 0, Jt(l.parent.parent, 0), l.parent.context.$implicit.gold));
                n(l, 14, 0, t);
                var i = Je(l, 17, 0, n(l, 18, 0, Jt(l.parent.parent, 1), e.timeRemaining(l.parent.context.$implicit)));
                n(l, 17, 0, i)
            }))
        }

        function oA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, aA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, 0 == l.context.$implicit.ownerid || 0 == l.context.$implicit.destid && !l.context.$implicit.returning)
            }), null)
        }

        function sA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(1, null, ["Spy: ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.spies)
            }))
        }

        function cA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["?"]))], null, null)
        }

        function dA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancel(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function hA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 21, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(6, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(7, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(13, null, ["", ""])), cr(14, 1), (n()(), Yu(16777216, null, null, 1, null, sA)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cA)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, dA)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.from.x, l.context.$implicit.from.y), n(l, 6, 0, l.context.$implicit.to.x, l.context.$implicit.to.y), n(l, 16, 0, 0 == l.context.$implicit.ownerid), n(l, 18, 0, 0 != l.context.$implicit.ownerid), n(l, 21, 0, 0 == l.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 8, 0, l.context.$implicit.speed), n(l, 10, 0, l.context.$implicit.returning ? "Returning" : "Spying");
                var t = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent, 1), e.timeRemaining(l.context.$implicit)));
                n(l, 13, 0, t)
            }))
        }

        function pA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancelScout(n.parent.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function fA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 21, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 3, "a", [["routerLink", "/game/world"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 6).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(6, 671744, null, 0, tp, [lp, Gd, Ta], {
                queryParams: [0, "queryParams"],
                routerLink: [1, "routerLink"]
            }, null), dr(7, {
                x: 0,
                y: 1
            }), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), (n()(), Xu(13, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(15, null, ["", ""])), cr(16, 1), (n()(), Xu(17, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(18, null, ["", ": 1"])), (n()(), Xu(19, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, pA)), hi(21, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.from.x, l.parent.context.$implicit.from.y);
                var e = n(l, 7, 0, l.parent.context.$implicit.to.x, l.parent.context.$implicit.to.y);
                n(l, 6, 0, e, "/game/world"), n(l, 21, 0, 0 == l.parent.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Jt(l, 6).target, Jt(l, 6).href), n(l, 8, 0, e.coords(l.parent.context.$implicit.to)), n(l, 10, 0, l.parent.context.$implicit.speed), n(l, 12, 0, l.parent.context.$implicit.returning ? "Returning" : "Scouting");
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent, 1), e.timeRemaining(l.parent.context.$implicit)));
                n(l, 15, 0, t), n(l, 18, 0, l.parent.context.$implicit.explorer ? "Explorer" : "Scout")
            }))
        }

        function gA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, fA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, 0 == l.context.$implicit.ownerid)
            }), null)
        }

        function vA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancelWorker(n.parent.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function mA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 20, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 3, "a", [["routerLink", "/game/world"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 6).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(6, 671744, null, 0, tp, [lp, Gd, Ta], {
                queryParams: [0, "queryParams"],
                routerLink: [1, "routerLink"]
            }, null), dr(7, {
                x: 0,
                y: 1
            }), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), (n()(), Xu(13, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(15, null, ["", ""])), cr(16, 1), (n()(), Xu(17, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, vA)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.from.x, l.parent.context.$implicit.from.y);
                var e = n(l, 7, 0, l.parent.context.$implicit.to.x, l.parent.context.$implicit.to.y);
                n(l, 6, 0, e, "/game/world"), n(l, 20, 0, 0 == l.parent.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Jt(l, 6).target, Jt(l, 6).href), n(l, 8, 0, e.coords(l.parent.context.$implicit.to)), n(l, 10, 0, l.parent.context.$implicit.speed), n(l, 12, 0, l.parent.context.$implicit.construction_progress ? "Constructing" : "Moving");
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent, 1), e.workerTimeRemaining(l.parent.context.$implicit)));
                n(l, 15, 0, t)
            }))
        }

        function yA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, mA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, 0 == l.context.$implicit.ownerid)
            }), null)
        }

        function bA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancel(n.parent.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function _A(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 20, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 3, "a", [["routerLink", "/game/world"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 6).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(6, 671744, null, 0, tp, [lp, Gd, Ta], {
                queryParams: [0, "queryParams"],
                routerLink: [1, "routerLink"]
            }, null), dr(7, {
                x: 0,
                y: 1
            }), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Moving"])), (n()(), Xu(13, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(15, null, ["", ""])), cr(16, 1), (n()(), Xu(17, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, bA)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.from.x, l.parent.context.$implicit.from.y);
                var e = n(l, 7, 0, l.parent.context.$implicit.to.x, l.parent.context.$implicit.to.y);
                n(l, 6, 0, e, "/game/world"), n(l, 20, 0, 0 == l.parent.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Jt(l, 6).target, Jt(l, 6).href), n(l, 8, 0, e.coords(l.parent.context.$implicit.to)), n(l, 10, 0, l.parent.context.$implicit.speed);
                var t = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent, 1), e.timeRemaining(l.parent.context.$implicit)));
                n(l, 15, 0, t)
            }))
        }

        function kA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, _A)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, 0 == l.context.$implicit.ownerid)
            }), null)
        }

        function wA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["title", "Cancel"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.cancel(n.parent.parent.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, l.parent.parent.context.$implicit.returning), n(l, 1, 0, e.icons.cancel)
            }))
        }

        function xA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 20, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(6, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(7, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), (n()(), Xu(9, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Gold transfer"])), (n()(), Xu(11, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(12, null, ["", ""])), cr(13, 1), (n()(), Xu(14, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(15, null, ["", ""])), cr(16, 1), (n()(), Xu(17, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, wA)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.from.x, l.parent.context.$implicit.from.y), n(l, 6, 0, l.parent.context.$implicit.to.x, l.parent.context.$implicit.to.y), n(l, 20, 0, 0 == l.parent.context.$implicit.ownerid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 8, 0, l.parent.context.$implicit.speed);
                var t = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent.parent, 0), l.parent.context.$implicit.gold));
                n(l, 12, 0, t);
                var i = Je(l, 15, 0, n(l, 16, 0, Jt(l.parent.parent, 1), e.timeRemaining(l.parent.context.$implicit)));
                n(l, 15, 0, i)
            }))
        }

        function CA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, xA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, 0 == l.context.$implicit.ownerid || 0 == l.context.$implicit.destid)
            }), null)
        }

        function SA(n) {
            return vr(0, [pi(0, Py, []), pi(0, ay, []), (n()(), Xu(2, 0, null, null, 29, "div", [["class", "overflow-auto h-100"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 28, "table", [["class", "table"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 14, "thead", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Origin"])), (n()(), Xu(7, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Destination"])), (n()(), Xu(9, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Speed"])), (n()(), Xu(11, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Gold"])), (n()(), Xu(14, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Remaining Time"])), (n()(), Xu(16, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troops"])), (n()(), Xu(18, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 12, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, oA)), hi(21, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hA)), hi(23, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, gA)), hi(25, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yA)), hi(27, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kA)), hi(29, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CA)), hi(31, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 21, 0, e.attacks), n(l, 23, 0, e.data.spies), n(l, 25, 0, e.data.scouts), n(l, 27, 0, e.data.workers), n(l, 29, 0, e.data.archeologists), n(l, 31, 0, e.data.goldtransfers)
            }), null)
        }
        var IA, TA = $t("app-attacks", JE, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-attacks", [], null, null, null, SA, nA)), hi(1, 114688, null, 0, JE, [hg, bg, sg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            EA = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.dataService = l, this.conf = e, this.data = t, this.messageService = i, this.icons = $f, this.attacking = {}, this.defending = {}, this.attacking_results = {}, this.defending_results = {}, this.walls = !1, this.walls_result = !1, this.castle = !1, this.castle_result = !1, this.fortress = !1, this.fortress_result = !1, this.pop = 5, this.def = 0
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        Object.values(this.conf.troops).forEach((function (l) {
                            l.special || (n.attacking[l.id] = 0)
                        })), this.defending = Object.assign({}, this.attacking), this.attacking_results = Object.assign({}, this.attacking), this.defending_results = Object.assign({}, this.attacking);
                        var l = this.messageService.getMessage();
                        !l || l.defeat && l.isAttacker || (Object.keys(l.troops.remaining.attacker).forEach((function (e) {
                            n.conf.troops[e].special || (n.attacking[e] = l.troops.remaining.attacker[e])
                        })), l.spyTroops ? Object.keys(l.spyTroops).forEach((function (e) {
                            n.conf.troops[e].special || (n.defending[e] = l.spyTroops[e])
                        })) : Object.keys(l.troops.remaining.defender).forEach((function (e) {
                            n.conf.troops[e].special || (n.defending[e] = l.troops.remaining.defender[e])
                        })), this.def = 1, l.to_pid && 1 == l.to_pid && (this.def = 0), l.spyBuildings && (l.spyBuildings.walls && l.spyBuildings.walls.done && (this.walls = !0), l.spyBuildings.castle && l.spyBuildings.castle.done && (this.walls = !0), l.spyBuildings.fortress && l.spyBuildings.fortress.done && (this.walls = !0)), l.spyPop && (this.pop = +l.spyPop), this.messageService.clearMessage())
                    }
                }, {
                    key: "simulate",
                    value: function () {
                        var n, l, e = 1;
                        1 == this.def && this.data.players.length > 2 && (e = this.data.players[2].id);
                        var t = new dg(-1, "", 1, 0, e, !1, !1);
                        t.citizens.idle = vg.constraint(this.pop, 100, 1), this.walls && (t.buildings.walls = {
                            done: !0,
                            progress: 0
                        }), this.castle && (t.buildings.castle = {
                            done: !0,
                            progress: 0
                        }), this.fortress && (t.buildings.fortress = {
                            done: !0,
                            progress: 0
                        });
                        var i = this.dataService.fight(this.attacking, this.defending, t, 0);
                        n = _slicedToArray(i.troops, 2), this.attacking_results = n[0], this.defending_results = n[1], l = [i.walls, i.castle, i.fortress], this.walls_result = l[0], this.castle_result = l[1], this.fortress_result = l[2]
                    }
                }, {
                    key: "trackByFn",
                    value: function (n, l) {
                        return n
                    }
                }]), n
            }(),
            AA = ((IA = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "storeMessage",
                    value: function (n) {
                        this.message = n
                    }
                }, {
                    key: "getMessage",
                    value: function () {
                        return this.message
                    }
                }, {
                    key: "clearMessage",
                    value: function () {
                        this.message = void 0
                    }
                }]), n
            }()).ngInjectableDef = yn({
                factory: function () {
                    return new IA
                },
                token: IA,
                providedIn: "root"
            }), IA),
            PA = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function OA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 13, "tr", [["class", "form-group"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "label", [], [[8, "htmlFor", 0]], null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 7, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 6, "input", [["class", "form-control form-control-sm"], ["min", "0"], ["type", "number"]], [[8, "id", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 6)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 6).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 6)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 6)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 7).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 7).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 7).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.attacking[n.context.$implicit.key] = e) && t), t
            }), null, null)), hi(6, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(7, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(9, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(11, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(12, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(13, null, ["", ""]))], (function (n, l) {
                n(l, 9, 0, l.component.attacking[l.context.$implicit.key])
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, At(1, "a-troop-", l.context.$implicit.key, "")), n(l, 3, 0, l.context.$implicit.key), n(l, 5, 0, At(1, "a-troop-", l.context.$implicit.key, ""), Jt(l, 11).ngClassUntouched, Jt(l, 11).ngClassTouched, Jt(l, 11).ngClassPristine, Jt(l, 11).ngClassDirty, Jt(l, 11).ngClassValid, Jt(l, 11).ngClassInvalid, Jt(l, 11).ngClassPending), n(l, 13, 0, e.attacking_results[l.context.$implicit.key])
            }))
        }

        function DA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 13, "tr", [["class", "form-group"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "label", [], [[8, "htmlFor", 0]], null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 7, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 6, "input", [["class", "form-control form-control-sm"], ["min", "0"], ["type", "number"]], [[8, "id", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 6)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 6).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 6)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 6)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 7).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 7).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 7).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.defending[n.context.$implicit.key] = e) && t), t
            }), null, null)), hi(6, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(7, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(9, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(11, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(12, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(13, null, ["", ""]))], (function (n, l) {
                n(l, 9, 0, l.component.defending[l.context.$implicit.key])
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, At(1, "d-troop-", l.context.$implicit.key, "")), n(l, 3, 0, l.context.$implicit.key), n(l, 5, 0, At(1, "d-troop-", l.context.$implicit.key, ""), Jt(l, 11).ngClassUntouched, Jt(l, 11).ngClassTouched, Jt(l, 11).ngClassPristine, Jt(l, 11).ngClassDirty, Jt(l, 11).ngClassValid, Jt(l, 11).ngClassInvalid, Jt(l, 11).ngClassPending), n(l, 13, 0, e.defending_results[l.context.$implicit.key])
            }))
        }

        function RA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 123, "div", [["class", "h-100 overflow-auto"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Civilizations might have various bonuses that are not included in this simulation. Results might be different in a real situation."])), (n()(), Xu(4, 0, null, null, 22, "div", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Defender: "])), (n()(), Xu(7, 0, null, null, 9, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 6, "input", [["class", "form-check-input"], ["id", "type-0"], ["name", "def"], ["type", "radio"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 9)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 9).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 9)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 9)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 10).onChange() && t), "blur" === l && (t = !1 !== Jt(n, 10).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.def = e) && t), t
            }), null, null)), hi(9, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(10, 212992, null, 0, nf, [me, pe, Jp, Fl], {
                name: [0, "name"],
                value: [1, "value"]
            }, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, nf]), hi(12, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                name: [0, "name"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(14, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(15, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "type-0"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Barbarian"])), (n()(), Xu(17, 0, null, null, 9, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(18, 0, null, null, 6, "input", [["class", "form-check-input"], ["id", "type-1"], ["name", "def"], ["type", "radio"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 19)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 19).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 19)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 19)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 20).onChange() && t), "blur" === l && (t = !1 !== Jt(n, 20).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.def = e) && t), t
            }), null, null)), hi(19, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(20, 212992, null, 0, nf, [me, pe, Jp, Fl], {
                name: [0, "name"],
                value: [1, "value"]
            }, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, nf]), hi(22, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                name: [0, "name"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(24, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(25, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "type-1"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Civilization"])), (n()(), Xu(27, 0, null, null, 94, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(28, 0, null, null, 14, "div", [], null, null, null, null, null)), (n()(), Xu(29, 0, null, null, 1, "h4", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Attacker"])), (n()(), Xu(31, 0, null, null, 11, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(32, 0, null, null, 6, "thead", [], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troop"])), (n()(), Xu(35, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Number"])), (n()(), Xu(37, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Remaining"])), (n()(), Xu(39, 0, null, null, 3, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, OA)), hi(41, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"],
                ngForTrackBy: [1, "ngForTrackBy"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(43, 0, null, null, 78, "div", [["class", "ml-2 pl-2 border-left"]], null, null, null, null, null)), (n()(), Xu(44, 0, null, null, 1, "h4", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Defender"])), (n()(), Xu(46, 0, null, null, 75, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(47, 0, null, null, 6, "thead", [], null, null, null, null, null)), (n()(), Xu(48, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troop"])), (n()(), Xu(50, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Number"])), (n()(), Xu(52, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Remaining"])), (n()(), Xu(54, 0, null, null, 67, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, DA)), hi(56, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"],
                ngForTrackBy: [1, "ngForTrackBy"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(58, 0, null, null, 12, "tr", [], null, null, null, null, null)), (n()(), Xu(59, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(60, 0, null, null, 1, "label", [["for", "d-pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Population"])), (n()(), Xu(62, 0, null, null, 7, "td", [], null, null, null, null, null)), (n()(), Xu(63, 0, null, null, 6, "input", [["class", "form-control form-control-sm"], ["min", "0"], ["name", "d-pop"], ["type", "number"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 64)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 64).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 64)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 64)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 65).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 65).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 65).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.pop = e) && t), t
            }), null, null)), hi(64, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(65, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(67, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                name: [0, "name"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(69, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(70, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(71, 0, null, null, 16, "tr", [], null, null, null, null, null)), (n()(), Xu(72, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Walls"])), (n()(), Xu(74, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(75, 0, null, null, 5, "input", [["id", "walls"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 76).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 76).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.walls = e) && t), t
            }), null, null)), hi(76, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(78, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(80, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(81, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(82, 0, null, null, 5, "input", [["disabled", ""], ["id", "walls_result"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 83).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 83).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.walls_result = e) && t), t
            }), null, null)), hi(83, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(85, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(87, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(88, 0, null, null, 16, "tr", [], null, null, null, null, null)), (n()(), Xu(89, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Castle"])), (n()(), Xu(91, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(92, 0, null, null, 5, "input", [["id", "castle"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 93).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 93).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.castle = e) && t), t
            }), null, null)), hi(93, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(95, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(97, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(98, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(99, 0, null, null, 5, "input", [["disabled", ""], ["id", "castle_result"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 100).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 100).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.castle_result = e) && t), t
            }), null, null)), hi(100, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(102, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(104, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(105, 0, null, null, 16, "tr", [], null, null, null, null, null)), (n()(), Xu(106, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Fortress"])), (n()(), Xu(108, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(109, 0, null, null, 5, "input", [["id", "fortress"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 110).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 110).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.fortress = e) && t), t
            }), null, null)), hi(110, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(112, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(114, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(115, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(116, 0, null, null, 5, "input", [["disabled", ""], ["id", "fortress_result"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 117).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 117).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.fortress_result = e) && t), t
            }), null, null)), hi(117, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(119, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                isDisabled: [0, "isDisabled"],
                model: [1, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(121, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(122, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.simulate() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Simulate"]))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, "def", 0), n(l, 12, 0, "def", e.def), n(l, 20, 0, "def", 1), n(l, 22, 0, "def", e.def), n(l, 41, 0, Je(l, 41, 0, Jt(l, 42).transform(e.attacking)), e.trackByFn), n(l, 56, 0, Je(l, 56, 0, Jt(l, 57).transform(e.defending)), e.trackByFn), n(l, 67, 0, "d-pop", e.pop), n(l, 78, 0, e.walls), n(l, 85, 0, "", e.walls_result), n(l, 95, 0, e.castle), n(l, 102, 0, "", e.castle_result), n(l, 112, 0, e.fortress), n(l, 119, 0, "", e.fortress_result)
            }), (function (n, l) {
                n(l, 2, 0, l.component.icons.warning), n(l, 8, 0, Jt(l, 14).ngClassUntouched, Jt(l, 14).ngClassTouched, Jt(l, 14).ngClassPristine, Jt(l, 14).ngClassDirty, Jt(l, 14).ngClassValid, Jt(l, 14).ngClassInvalid, Jt(l, 14).ngClassPending), n(l, 18, 0, Jt(l, 24).ngClassUntouched, Jt(l, 24).ngClassTouched, Jt(l, 24).ngClassPristine, Jt(l, 24).ngClassDirty, Jt(l, 24).ngClassValid, Jt(l, 24).ngClassInvalid, Jt(l, 24).ngClassPending), n(l, 63, 0, Jt(l, 69).ngClassUntouched, Jt(l, 69).ngClassTouched, Jt(l, 69).ngClassPristine, Jt(l, 69).ngClassDirty, Jt(l, 69).ngClassValid, Jt(l, 69).ngClassInvalid, Jt(l, 69).ngClassPending), n(l, 75, 0, Jt(l, 80).ngClassUntouched, Jt(l, 80).ngClassTouched, Jt(l, 80).ngClassPristine, Jt(l, 80).ngClassDirty, Jt(l, 80).ngClassValid, Jt(l, 80).ngClassInvalid, Jt(l, 80).ngClassPending), n(l, 82, 0, Jt(l, 87).ngClassUntouched, Jt(l, 87).ngClassTouched, Jt(l, 87).ngClassPristine, Jt(l, 87).ngClassDirty, Jt(l, 87).ngClassValid, Jt(l, 87).ngClassInvalid, Jt(l, 87).ngClassPending), n(l, 92, 0, Jt(l, 97).ngClassUntouched, Jt(l, 97).ngClassTouched, Jt(l, 97).ngClassPristine, Jt(l, 97).ngClassDirty, Jt(l, 97).ngClassValid, Jt(l, 97).ngClassInvalid, Jt(l, 97).ngClassPending), n(l, 99, 0, Jt(l, 104).ngClassUntouched, Jt(l, 104).ngClassTouched, Jt(l, 104).ngClassPristine, Jt(l, 104).ngClassDirty, Jt(l, 104).ngClassValid, Jt(l, 104).ngClassInvalid, Jt(l, 104).ngClassPending), n(l, 109, 0, Jt(l, 114).ngClassUntouched, Jt(l, 114).ngClassTouched, Jt(l, 114).ngClassPristine, Jt(l, 114).ngClassDirty, Jt(l, 114).ngClassValid, Jt(l, 114).ngClassInvalid, Jt(l, 114).ngClassPending), n(l, 116, 0, Jt(l, 121).ngClassUntouched, Jt(l, 121).ngClassTouched, Jt(l, 121).ngClassPristine, Jt(l, 121).ngClassDirty, Jt(l, 121).ngClassValid, Jt(l, 121).ngClassInvalid, Jt(l, 121).ngClassPending)
            }))
        }
        var MA = $t("app-simulator", EA, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-simulator", [], null, null, null, RA, PA)), hi(1, 114688, null, 0, EA, [bg, sg, hg, AA], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            NA = function () {
                function n(l, e, t, i, u, r) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t, this.activatedRoute = i, this.messageService = u, this.router = r, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.paramMap.subscribe((function (l) {
                            l.has("id") && n.showDetails(n.data.reports.find((function (n) {
                                return n.id == +l.get("id")
                            })))
                        }))
                    }
                }, {
                    key: "isEmpty",
                    value: function (n) {
                        return 0 == Object.keys(n).length
                    }
                }, {
                    key: "showDetails",
                    value: function (n) {
                        n && (this.report = n, this.from = this.dataService.city(n.from_id), this.to = this.dataService.city(n.to_id), n.read = !0)
                    }
                }, {
                    key: "reportStatus",
                    value: function (n) {
                        return n.victory && n.cityBurned ? "City burned down !" : n.victory && n.cityTaken ? "City conquered !" : n.victory ? "Victory" : n.defeat && n.cityTaken ? "City lost !" : n.defeat ? "Defeat" : "Draw"
                    }
                }, {
                    key: "readAll",
                    value: function () {
                        this.data.reports.forEach((function (n) {
                            return n.read = !0
                        }))
                    }
                }, {
                    key: "nb",
                    value: function (n) {
                        return this.report.defeat && this.report.isAttacker ? "?" : "" + n
                    }
                }, {
                    key: "toSim",
                    value: function () {
                        this.messageService.storeMessage(this.report), this.router.navigate(["/game/simulator"])
                    }
                }]), n
            }(),
            BA = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function zA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-sm btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.readAll() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Mark all as read"]))], null, null)
        }

        function LA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.component.icons.exclamation)
            }))
        }

        function FA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(1, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.to_id)
            }), null)
        }

        function qA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.name)
            }))
        }

        function UA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 20, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, LA)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(4, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(5, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), pr(6, null, ["", ""])), cr(7, 2), (n()(), Xu(8, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(10, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(11, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, FA)), hi(13, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, qA)), hi(15, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(16, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(17, null, ["", ""])), (n()(), Xu(18, 0, null, null, 2, "td", [["class", "btn-link cursor-pointer"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.showDetails(n.context.$implicit) && t), t
            }), null, null)), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Details "]))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, !l.context.$implicit.read), n(l, 10, 0, l.context.$implicit.from_id), n(l, 13, 0, e.dataService.city(l.context.$implicit.to_id)), n(l, 15, 0, l.context.$implicit.name && !e.dataService.city(l.context.$implicit.to_id))
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, l.context.$implicit.spy ? e.icons.details : e.icons.attack);
                var t = Je(l, 6, 0, n(l, 7, 0, Jt(l.parent.parent, 0), l.context.$implicit.date, "dd/MM/yyyy HH:mm"));
                n(l, 6, 0, t), n(l, 17, 0, e.reportStatus(l.context.$implicit)), n(l, 19, 0, e.icons.details)
            }))
        }

        function $A(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 16, "div", [["class", "d-flex flex-column h-100"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 15, "div", [["class", "flex-fill"], ["style", "height:0"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 14, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 10, "thead", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Date"])), (n()(), Xu(7, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["From"])), (n()(), Xu(9, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["To"])), (n()(), Xu(11, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Status"])), (n()(), Xu(13, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, UA)), hi(16, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 16, 0, l.component.data.reports.slice().reverse())
            }), null)
        }

        function HA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["of ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.to.name)
            }))
        }

        function VA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["of ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.report.name)
            }))
        }

        function jA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Walls have been destroyed"]))], null, null)
        }

        function GA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Castle has been destroyed"]))], null, null)
        }

        function WA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), pr(1, null, ["Defense: ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 1), e.report.defense));
                n(l, 1, 0, t)
            }))
        }

        function KA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), pr(1, null, ["Influence: -", " defense"])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent, 1), e.report.influence));
                n(l, 1, 0, t)
            }))
        }

        function ZA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "b", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", " stolen !"])), cr(4, 1)], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.icons.science + " text-science");
                var t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 2), e.report.spyScience));
                n(l, 3, 0, t)
            }))
        }

        function QA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(6, null, ["- ", " "])), (n()(), Xu(7, 0, null, null, 1, "td", [["class", "text-info"]], null, null, null, null, null)), (n()(), pr(8, null, ["", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.troops[l.parent.context.$implicit.key].name(e.dataService.player(e.from.ownerid))), n(l, 4, 0, l.parent.context.$implicit.value), n(l, 6, 0, l.parent.context.$implicit.value - e.report.troops.remaining.attacker[l.parent.context.$implicit.key]), n(l, 8, 0, e.report.troops.remaining.attacker[l.parent.context.$implicit.key])
            }))
        }

        function YA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, QA)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value)
            }), null)
        }

        function XA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(1, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.report.to_pid)
            }), null)
        }

        function JA(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(1, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.to.ownerid)
            }), null)
        }

        function nP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(1, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.report.to_id)
            }), null)
        }

        function lP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.report.name)
            }))
        }

        function eP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(4, null, ["", ""])), (n()(), Xu(5, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(6, null, ["- ", " "])), (n()(), Xu(7, 0, null, null, 1, "td", [["class", "text-info"]], null, null, null, null, null)), (n()(), pr(8, null, ["", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.conf.troops[l.parent.context.$implicit.key].name(e.dataService.player(e.to.ownerid))), n(l, 4, 0, e.nb(l.parent.context.$implicit.value)), n(l, 6, 0, e.nb(l.parent.context.$implicit.value - e.report.troops.remaining.defender[l.parent.context.$implicit.key])), n(l, 8, 0, e.nb(e.report.troops.remaining.defender[l.parent.context.$implicit.key]))
            }))
        }

        function tP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, eP)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value)
            }), null)
        }

        function iP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "tr", [], null, null, null, null, null)), (n()(), pr(-1, null, [" Empty "]))], null, null)
        }

        function uP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, tP)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Yu(16777216, null, null, 1, null, iP)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, Je(l, 3, 0, Jt(l, 4).transform(e.report.troops.initial.defender))), n(l, 6, 0, e.isEmpty(e.report.troops.initial.defender))
            }), null)
        }

        function rP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.buildings[l.parent.context.$implicit.key].label(e.dataService.player(e.to.ownerid)))
            }))
        }

        function aP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, rP)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value.done)
            }), null)
        }

        function oP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "border p-2 m-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Buildings"])), (n()(), Yu(16777216, null, null, 2, null, aP)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, Je(l, 4, 0, Jt(l, 5).transform(e.report.spyBuildings)))
            }), null)
        }

        function sP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(1, null, ["", " : ", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.conf.troops[l.parent.context.$implicit.key].name(e.dataService.player(e.to.ownerid)), l.parent.context.$implicit.value)
            }))
        }

        function cP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, sP)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.value)
            }), null)
        }

        function dP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "border p-2 m-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Troops"])), (n()(), Yu(16777216, null, null, 2, null, cP)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, Je(l, 4, 0, Jt(l, 5).transform(e.report.spyTroops)))
            }), null)
        }

        function hP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(2, null, ["Population: ", ""])), (n()(), Xu(3, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), pr(4, null, ["Gold: ", ""])), cr(5, 1), (n()(), Xu(6, 0, null, null, 4, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, oP)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, dP)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.report.spyData.buildings), n(l, 10, 0, e.report.spyData.troops)
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.report.spyPop ? e.report.spyPop : "?");
                var t = e.report.spyData.gold ? Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 2), e.report.gold)) : "?";
                n(l, 4, 0, t)
            }))
        }

        function pP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.toSim() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Send to Battle Simulator"]))], null, null)
        }

        function fP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 54, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 8, "h4", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Battle "])), (n()(), Yu(16777216, null, null, 1, null, HA)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, VA)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(7, 0, null, null, 2, "small", [["class", "text-muted ml-2"]], null, null, null, null, null)), (n()(), pr(8, null, ["", ""])), cr(9, 2), (n()(), Xu(10, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(12, null, ["", " ", ""])), (n()(), Yu(16777216, null, null, 1, null, jA)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, GA)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, WA)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, KA)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ZA)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(23, 0, null, null, 27, "div", [["class", "d-flex text-center"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 11, "div", [["class", "mr-3"]], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(26, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(27, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(28, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(29, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(30, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(31, 0, null, null, 4, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(32, 0, null, null, 3, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, YA)), hi(34, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(36, 0, null, null, 14, "div", [], null, null, null, null, null)), (n()(), Xu(37, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, XA)), hi(39, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, JA)), hi(41, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(42, 0, null, null, 4, "div", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, nP)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, lP)), hi(46, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, uP)), hi(48, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hP)), hi(50, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(51, 0, null, null, 1, "button", [["class", "btn btn-secondary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.report = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Back to list"])), (n()(), Yu(16777216, null, null, 1, null, pP)), hi(54, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.to), n(l, 6, 0, !e.to && e.report.name), n(l, 14, 0, e.report.walls_destroyed), n(l, 16, 0, e.report.castle_destroyed), n(l, 18, 0, e.report.defense), n(l, 20, 0, e.report.influence), n(l, 22, 0, e.report.spyScience), n(l, 27, 0, e.from.ownerid), n(l, 30, 0, e.report.from_id), n(l, 34, 0, Je(l, 34, 0, Jt(l, 35).transform(e.report.troops.initial.attacker))), n(l, 39, 0, e.report.to_pid), n(l, 41, 0, !e.report.to_pid && e.to), n(l, 44, 0, e.to), n(l, 46, 0, !e.to && e.report.name), n(l, 48, 0, !e.report.spy), n(l, 50, 0, e.report.spy), n(l, 54, 0, e.dataService.isUnlocked("menu_simulator"))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 8, 0, n(l, 9, 0, Jt(l.parent, 0), e.report.date, "dd/MM/yyyy HH:mm"));
                n(l, 8, 0, t), n(l, 12, 0, e.reportStatus(e.report), e.report.spy ? "" : "(" + e.report.gold + " gold pillaged)")
            }))
        }

        function gP(n) {
            return vr(0, [pi(0, Eo, [Zi]), pi(0, Oy, []), pi(0, Py, []), (n()(), Xu(3, 0, null, null, 8, "div", [["class", "h-100 overflow-auto"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Battle reports"])), (n()(), Yu(16777216, null, null, 1, null, zA)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, $A)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fP)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 7, 0, !e.report), n(l, 9, 0, !e.report), n(l, 11, 0, e.report)
            }), null)
        }
        var vP = $t("app-reports", NA, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-reports", [], null, null, null, gP, BA)), hi(1, 114688, null, 0, NA, [sg, hg, bg, Gd, AA, lp], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            mP = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.data = l, this.conf = e, this.dataService = t, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.player = this.dataService.player()
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        n.open({
                            title: l.name,
                            desc: l.description,
                            require: l.require.science || l.require,
                            groups: l.groups
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }, {
                    key: "containerClass",
                    value: function (n) {
                        var l = "policy-container border m-2 rounded-lg";
                        return this.isGroupDone(n) ? l + " policy-unlocked" : this.isGroupLocked(n) ? l + " policy-locked" : l
                    }
                }, {
                    key: "groupClass",
                    value: function (n) {
                        return this.isGroupDone(n) ? "p-3 text-primary" : this.isGroupLocked(n) ? "p-3 text-danger cursor-forbidden" : this.isGroupAvailable(n) ? "text-success p-3 cursor-pointer" : "p-3 text-secondary cursor-forbidden"
                    }
                }, {
                    key: "policyClass",
                    value: function (n) {
                        return this.isPolicyDone(n) ? "list-group-item text-primary" : this.isPolicyAvailable(n) ? "list-group-item text-success cursor-pointer" : "list-group-item text-secondary cursor-forbidden"
                    }
                }, {
                    key: "isPolicyDone",
                    value: function (n) {
                        return this.dataService.hasPolicy(n.id)
                    }
                }, {
                    key: "isGroupDone",
                    value: function (n) {
                        return this.dataService.hasPolicyGroup(n.id)
                    }
                }, {
                    key: "isPolicyAvailable",
                    value: function (n) {
                        return this.dataService.isPolicyAvailable(n)
                    }
                }, {
                    key: "isGroupAvailable",
                    value: function (n) {
                        return this.dataService.isPolicyGroupAvailable(n)
                    }
                }, {
                    key: "isGroupLocked",
                    value: function (n) {
                        return !n.lockedBy || this.dataService.hasPolicyGroup(n.lockedBy)
                    }
                }, {
                    key: "selectGroup",
                    value: function (n) {
                        !this.isGroupAvailable(n) || this.isGroupLocked(n) || this.isGroupDone(n) || (this.player.culture -= this.dataService.cultureCost(), this.player.policies.groups.push(n.id))
                    }
                }, {
                    key: "selectPolicy",
                    value: function (n) {
                        this.isPolicyAvailable(n) && !this.isPolicyDone(n) && (this.player.culture -= this.dataService.cultureCost(), this.player.policies.policies.push(n.id))
                    }
                }, {
                    key: "reset",
                    value: function () {
                        !this.data.favors[0].dionysus || this.data.favors[0].dionysus < this.dataService.cultureResetCost() || (this.data.favors[0].dionysus -= this.dataService.cultureResetCost(), this.doReset())
                    }
                }, {
                    key: "reset2",
                    value: function () {
                        !this.data.prestige || this.data.prestige < 5 * this.dataService.cultureResetCost() || (this.data.prestige -= 5 * this.dataService.cultureResetCost(), this.doReset())
                    }
                }, {
                    key: "doReset",
                    value: function () {
                        var n = this.dataService.player();
                        n.culture += this.dataService.totalCultureUsed(n, n.cities.length), n.policies.policies = [], n.policies.groups = [], this.data.culture_reset ? this.data.culture_reset += 1 : this.data.culture_reset = 1
                    }
                }, {
                    key: "policies",
                    value: function () {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return n ? Object.values(this.conf.policies.policies).filter((function (l) {
                            return 1 == l.groups.length && l.groups[0] == n
                        })) : Object.values(this.conf.policies.policies).filter((function (n) {
                            return 2 == n.groups.length
                        }))
                    }
                }]), n
            }(),
            yP = et({
                encapsulation: 0,
                styles: [[".policy-unlocked[_ngcontent-%COMP%]{background-color:#d6eaf8}.policy-locked[_ngcontent-%COMP%]{background-color:#fadbd8}.list-group-item[_ngcontent-%COMP%]{background-color:transparent!important;padding:.5rem .75rem!important}"]],
                data: {}
            });

        function bP(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 2, "div", [["container", "body"], ["triggers", "manual"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.selectPolicy(n.context.$implicit) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.context.$implicit) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), pr(2, null, [" ", " "])), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0, Jt(l.parent.parent, 37), Jt(l.parent.parent, 36), "manual", "body")
            }), (function (n, l) {
                n(l, 0, 0, l.component.policyClass(l.context.$implicit)), n(l, 2, 0, l.context.$implicit.name)
            }))
        }

        function _P(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [["style", "width:225px"]], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(1, 16777216, null, null, 2, "h4", [["triggers", "manual"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.selectGroup(n.context.$implicit.value) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 2), n.context.$implicit.value) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 2)) && t), t
            }), null, null)), hi(2, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                triggers: [2, "triggers"]
            }, null), (n()(), pr(3, null, [" ", " "])), (n()(), Xu(4, 0, null, null, 2, "div", [["class", "list-group"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, bP)), hi(6, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, Jt(l.parent, 37), Jt(l.parent, 36), "manual"), n(l, 6, 0, e.policies(l.context.$implicit.key))
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.containerClass(l.context.$implicit.value)), n(l, 1, 0, e.groupClass(l.context.$implicit.value)), n(l, 3, 0, l.context.$implicit.value.name)
            }))
        }

        function kP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "br", [], null, null, null, null, null))], null, null)
        }

        function wP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, null, null, null, null, null, null, null)), (n()(), Xu(1, 16777216, null, null, 2, "span", [["container", "body"], ["style", "width:236px"], ["triggers", "manual"]], [[8, "className", 0]], [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.selectPolicy(n.context.$implicit) && t), "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 2), n.context.$implicit) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 2)) && t), t
            }), null, null)), hi(2, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                triggers: [2, "triggers"],
                container: [3, "container"]
            }, null), (n()(), pr(3, null, [" ", " "])), (n()(), Yu(16777216, null, null, 1, null, kP)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, Jt(l.parent, 37), Jt(l.parent, 36), "manual", "body"), n(l, 5, 0, l.context.index % 6 == 5)
            }), (function (n, l) {
                n(l, 1, 0, l.component.policyClass(l.context.$implicit) + " d-inline-block border"), n(l, 3, 0, l.context.$implicit.name)
            }))
        }

        function xP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "button", [["class", "btn btn-success ml-4"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.reset() && t), t
            }), null, null)), (n()(), pr(-1, null, [" Reset Policies ("])), (n()(), Xu(2, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(4, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(5, {
                color: 0
            }), (n()(), pr(6, null, [" ", ")"]))], (function (n, l) {
                var e = n(l, 5, 0, l.component.conf.deities.dionysus.color);
                n(l, 4, 0, e)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.data.favors[0].dionysus || e.data.favors[0].dionysus < e.dataService.cultureResetCost()), n(l, 2, 0, e.icons.favor), n(l, 6, 0, e.dataService.cultureResetCost())
            }))
        }

        function CP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-success ml-4"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.reset2() && t), t
            }), null, null)), (n()(), pr(-1, null, [" Reset Policies ("])), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(3, null, [" ", ")"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.data.prestige < 5 * e.dataService.cultureResetCost()), n(l, 2, 0, e.icons.prestige + " text-prestige"), n(l, 3, 0, 5 * e.dataService.cultureResetCost())
            }))
        }

        function SP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 8, "div", [["class", "form-group form-check mb-0"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "emp_noconscription"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 2).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 2).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.data.emp_noconscription = e) && t), t
            }), null, null)), hi(2, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(4, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(6, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(7, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "emp_noconscription"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Disable conscription"]))], (function (n, l) {
                n(l, 4, 0, l.component.data.emp_noconscription)
            }), (function (n, l) {
                n(l, 1, 0, Jt(l, 6).ngClassUntouched, Jt(l, 6).ngClassTouched, Jt(l, 6).ngClassPristine, Jt(l, 6).ngClassDirty, Jt(l, 6).ngClassValid, Jt(l, 6).ngClassInvalid, Jt(l, 6).ngClassPending)
            }))
        }

        function IP(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function TP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.component.conf.policies.groups[l.context.$implicit].name + (0 == l.context.index ? " and " : ""))
            }))
        }

        function EP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "border-top font-weight-bold"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Required: "])), (n()(), Yu(16777216, null, null, 1, null, TP)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.groups)
            }), null)
        }

        function AP(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, EP)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(2, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(3, 0, null, null, 3, "div", [["class", "border-top"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Required: "])), (n()(), Xu(5, 0, null, null, 1, "span", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(6, null, ["", ""]))], (function (n, l) {
                n(l, 1, 0, l.context.groups && l.context.groups.length > 1)
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, l.context.desc), n(l, 6, 0, e.conf.sciences[l.context.require].label)
            }))
        }

        function PP(n) {
            return vr(0, [pi(0, Py, []), (n()(), Xu(1, 0, null, null, 34, "div", [["class", "h-100 overflow-auto"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 5, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Policy cost: "])), (n()(), Xu(4, 0, null, null, 3, "span", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(6, null, [" ", ""])), cr(7, 1), (n()(), Xu(8, 0, null, null, 12, "div", [["class", "d-flex flex-wrap p-relative"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "bgicon", [["icon", "culture"]], null, null, null, JI, XI)), hi(10, 114688, null, 0, YI, [], {
                icon: [0, "icon"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, _P)), hi(12, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(14, 0, null, null, 6, "div", [["class", "policy-container border m-2 rounded-lg policy-unlocked"], ["style", "max-width:1430px"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 3, "h4", [["class", "px-3 py-2 m-0 text-dark"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Mixed policies "])), (n()(), Xu(17, 0, null, null, 1, "span", [["class", "text-70 text-secondary"]], null, null, null, null, null)), (n()(), pr(-1, null, ["(Policies that require 2 groups)"])), (n()(), Yu(16777216, null, null, 1, null, wP)), hi(20, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(21, 0, null, null, 12, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 1, "div", [["class", "border p-3 text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Available for purchase"])), (n()(), Xu(24, 0, null, null, 1, "div", [["class", "border p-3 text-primary"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Purchased"])), (n()(), Xu(26, 0, null, null, 1, "div", [["class", "border p-3 text-secondary"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Unavailable"])), (n()(), Xu(28, 0, null, null, 1, "div", [["class", "border p-3 policy-locked text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Locked"])), (n()(), Yu(16777216, null, null, 1, null, xP)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CP)), hi(33, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, SP)), hi(35, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, IP)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, AP))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, "culture"), n(l, 12, 0, Je(l, 12, 0, Jt(l, 13).transform(e.conf.policies.groups))), n(l, 20, 0, e.policies()), n(l, 31, 0, e.data.rebirths > 0), n(l, 33, 0, e.data.prestige), n(l, 35, 0, e.dataService.hasPolicy("conscription"))
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.icons.culture);
                var t = Je(l, 6, 0, n(l, 7, 0, Jt(l, 0), e.dataService.cultureCost()));
                n(l, 6, 0, t)
            }))
        }
        var OP = $t("app-policies", mP, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-policies", [], null, null, null, PP, yP)), hi(1, 114688, null, 0, mP, [hg, sg, bg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            DP = function () {
                function n(l) {
                    _classCallCheck(this, n), this.data = l
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }]), n
            }(),
            RP = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function MP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.parent.context.$implicit.icon)
            }))
        }

        function NP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 7, "div", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", " "])), cr(2, 2), (n()(), Xu(3, 0, null, null, 4, "a", [], [[8, "className", 0], [1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 4).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(4, 671744, null, 0, tp, [lp, Gd, Ta], {
                routerLink: [0, "routerLink"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, MP)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), pr(7, null, [" ", ""]))], (function (n, l) {
                n(l, 4, 0, l.context.$implicit.link), n(l, 6, 0, l.context.$implicit.icon)
            }), (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent, 0), l.context.$implicit.date, "dd/MM/yyyy HH:mm"));
                n(l, 1, 0, e), n(l, 3, 0, l.context.$implicit.classname + " p-1 m-1 d-inline-block", Jt(l, 4).target, Jt(l, 4).href), n(l, 7, 0, l.context.$implicit.text)
            }))
        }

        function BP(n) {
            return vr(0, [pi(0, Eo, [Zi]), (n()(), Xu(1, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Notifications"])), (n()(), Xu(3, 0, null, null, 2, "div", [["class", "overflow-auto vh-100"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, NP)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 5, 0, l.component.data.notifications.slice().reverse())
            }), null)
        }
        var zP = $t("app-notifications", DP, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-notifications", [], null, null, null, BP, RP)), hi(1, 114688, null, 0, DP, [hg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            LP = {
                home: {
                    id: "home",
                    name: "Cividlization II",
                    html: function () {
                        return '<p>Welcome to the Cividlization II Help pages !</p><p>Here you will find answers to all of your questions about this Game.</p><p><b class="text-danger">Spoiler alert !</b> While the help sections are a great way to learn more about the mechanics of this game, it might reveal some features that are locked in the early stage of the game.</p><p>You can find the meaning of all the icons used in this game <a href="/game/help#icons">in this section</a>.</p><p>In the footer of this page, you will see links to different pages related to your current page.</p><div class="text-center w-100"><i class="text-500 fas fa-arrow-down"></i></div>'
                    }
                },
                citizens: {
                    id: "citizens",
                    name: "Citizens & Improvements",
                    html: function () {
                        return '<p>Theres is different type of citizens which all contribute to your empire in a specific way:<ul><li>Idle citizens don\'t produce only what is needed to keep them alive. It is the default role of new citizens</li><li><b>Hunter-gatherers</b> and <b>Farmers</b> are specialized in <span class="text-food"><i class="' + $f.food + '"></i> food</span> production</li><li><b>Builders</b> are specialized in <span class="text-prod"><i class="' + $f.prod + '"></i> industrial</span> production</li><li><b>Merchants</b> are specialized in <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span> production</li><li><b>Scientists</b> are specialized in <span class="text-science"><i class="' + $f.science + '"></i> science</span> production</li><li><b>Artists</b> are specialized in <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span> and <span class="text-happiness"><i class="' + $f.happiness + '"></i> happiness</span> production</li><li><b>Priests</b> are specialized in <span class="text-faith"><i class="' + $f.faith + '"></i> faith</span> production</li></ul></p><p>All citizens provide a small contribution to the <span class="text-science"><i class="' + $f.science + '"></i>scientific</span> progress of your civilization.</p><p>Citizens production can be improved by building <a href="/game/help#improvements">improvements</a></p><p>You can either allocate your population to specific roles or let the game do it for you by checking the auto-assign option.<br/>Auto-assign will always make sure that :<ul><li>your people have enough <span class="text-food"><i class="' + $f.food + '"></i> food</span> (as much as possible)</li><li>you don\t run out of <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span> (as much as possible)</li><li>your <span class="text-happiness"><i class="' + $f.happiness + '"></i> happiness</span> don\'t drop under 20% (as much as possible)</li><li>you don\t waste workforce in production/culture/science that can\'t be used</li></ul></p><p>You can set priorities for each type of production.<br/>Default priority will still allocate other types of citizens. You can check the <i>strong</i> auto-allocation option to prevent the algorithm to allocate other type of population (except from Farmers & Merchants that will keep your city running.)</p><p>You can also ask the algorithm to prevent growth by checking the <i>Prevent growth</i> option. your city will still grow but just so that your people don\'t die of starvation.</p><p>Some cities have bonuses which make them more productive in a certain domain: <span class="text-food"><i class="' + $f.food + '"></i> food</span>, <span class="text-prod"><i class="' + $f.prod + '"></i> industrial production</span>, <span class="text-science"><i class="' + $f.science + '"></i> science</span>, <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span>, <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span>, <span class="text-faith"><i class="' + $f.faith + '"></i> faith</span> or <span class="text-dark"><i class="' + $f.recruitment + '"></i> recruitment speed</span>'
                    },
                    parent: "home"
                },
                "food-health-happiness": {
                    id: "food-health-happiness",
                    name: "Food, Health & Happiness",
                    html: function () {
                        return '<p><a href="/game/help#food" class="text-food"><i class="' + $f.food + '"></i> Food</a> is the most important resource in this game. Without it, your cities will not grow and you will not be able to produce anything else.</p><p><a href="/game/help#health" class="text-health"><i class="' + $f.health + '"></i> Health</a> is vital to sustain the growth of your cities.</p><p><a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a> is essential to an healthy empire. Without it, you will not be able to produce anything and your cities might even revolt.</p>'
                    },
                    parent: "home"
                },
                buildings: {
                    id: "buildings",
                    name: "Production & Buildings",
                    html: function () {
                        return '<p><span class="text-prod"><i class="' + $f.prod + '"></i> Industrial production</span> is the way to construct buildings in your cities.<br/>Buildings provide great bonuses for your cities and might even be required to recruit troops.</p><p><span class="text-special">Wonders</span> are special buildings that provides a great bonus but can only exist in one city. If someone finishes it before you do, you will not be able to finish it !</p><p>A detailed list of buildings is available in <a href="/game/help#buildings_list">this help section</a></p><p><span class="text-prod"><i class="' + $f.prod + '"></i> Industrial</span> production is provided by <a href="/game/help#citizens">builders</a>, buildings and can be increased in several ways, including <a href="/game/help#policies">Social Policies</a>.</p><p><span class="text-prod"><i class="' + $f.prod + '"></i> Industrial</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p>'
                    },
                    parent: "home"
                },
                science: {
                    id: "science",
                    name: "Science",
                    html: function () {
                        return '<p><span class="text-science"><i class="' + $f.science + '"></i> Science production</span> is required to acquire new technologies.<br/>Technologies are required to unlock buildings, troops, social policies and many more.</p><p>Technologies are grouped in Eras that can only be visible right before you can access it.<br/>There are 4 eras available in this game so far: Prehistoric, Ancient, Classical and Medieval Eras</p><p>After your first <a href="/game/help#reincarnation">reincarnation</a>, you will be able to queue tech research.</p><p><span class="text-science"><i class="' + $f.science + '"></i> Science</span> production is provided by all of your citizens in a small amount, but much more efficiently by <a href="/game/help#citizens">scientists</a>, buildings and can be increased in several ways, including <a href="/game/help#policies">Social Policies</a>.</p><p><span class="text-science"><i class="' + $f.science + '"></i> Science</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p>'
                    },
                    parent: "home"
                },
                culture: {
                    id: "culture",
                    name: "Culture & Social Policies",
                    html: function () {
                        return '<p><span class="text-culture"><i class="' + $f.culture + '"></i> Culture production</span> is required to acquire new social policies.<br/>Social Policies provide great bonuses for your Empire.<br/>They are divided in 6 groups: Traditionalism, Imperialism, Piety, Rationalism, Pacifism and Militarism.<br/>Some groups are exclusing. Be careful before choosing one !</p><p>A detailed list of policies is available in <a href="/game/help#policies">this help section</a></p><p><span class="text-culture"><i class="' + $f.culture + '"></i> Culture</span> production is provided by <a href="/game/help#citizens">artists</a>, buildings, <a href="/game/help#trade">trade routes</a> and can be increased in several ways, including <a href="/game/help#policies">Social Policies</a>.</p><p><span class="text-culture"><i class="' + $f.culture + '"></i> Culture</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p><p>Once you meet other civilizations, culture will help you gain <a href="/game/help#influence"><i class="text-influence ' + $f.influence + '"></i> influence over them.</a></p>'
                    },
                    parent: "home"
                },
                religion: {
                    id: "religion",
                    name: "Religion & Tech",
                    html: function () {
                        return '<h5>Religion</h5><p>What\'s the point of <span class="text-faith"><i class="' + $f.faith + '"></i> Faith</span> ?<br/>To ensure a great afterlife of course !<br/>Once you discovered Religion, you will be able to choose a <a href="/game/help#deities">Deity</a><br/>Each deity will grant you powerful <i class="' + $f.spells + '"></i> <a href="/game/help#spells">Spells</a>.</p><p>Once you discover Theology, you will be able <a href="/game/help#reincarnation">Reincarnate</a>.<br/>Upon reincarnation, you will gain favors that can be used to acquire <a href="/game/help#powers">powers</a>.<p><span class="text-faith"><i class="' + $f.faith + '"></i> Faith</span> production is provided by <a href="/game/help#citizens">priests</a>, buildings and can be increased in several ways, including <a href="/game/help#policies">Social Policies</a>.</p><p><span class="text-faith"><i class="' + $f.faith + '"></i> Faith</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p><h5>Technology</h5><p>When you reach the Industrial Era, you will be able to choose between Magic and Technology</p><p>While the Magic way allows you to use <i class="' + $f.spells + ' text-magic"></i> <a href="/game/help#spells">Spells</a> and to gain <a href="/game/help#powers">powers</a> when you <a href="/game/help#reincarnation">Reincarnate</a>,<br/>the Tech way allows you to build industrial buildings, improvements, wonders and to gain progress either from gatheric precious <i class="' + $f.relics + ' text-relics"></i> <a href="/game/help#archeology">Relics</a> or by using your <i class="' + $f.prod + ' text-prod"></i> <a href="/game/help#buildings">industrial production</a> and gain upgrades from <i class="' + $f.prestige + ' text-prestige"></i> <a href="/game/help#timetravel">Time Travel</a>.</p><p>You can progress toward Magic by casting spells or toward technology by producing <span class="text-progress"><i class="' + $f.progress + '"></i> progress</span></p><p>You can gain <span class="text-progress"><i class="' + $f.progress + '"></i> progress</span> from building it (or buying it if you are rich enough) or by researching Technologies of the Future.</p><p>Be careful, there is no way back to Magic once you get far enough into technology</p>'
                    },
                    parent: "home"
                },
                gold: {
                    id: "gold",
                    name: "Gold",
                    html: function () {
                        return '<p><span class="text-gold"><i class="' + $f.gold + '"></i> Gold production</span> is essential to your empire.<br/>You will need it to construct buildings, to recruit troops and to pay for your troops maintenance.<br/><p><span class="text-gold"><i class="' + $f.gold + '"></i> Gold</span> production is provided by <a href="/game/help#citizens">merchants</a>, buildings, <a href="/game/help#trade">trade routes</a> and can be increased in several ways, including <a href="/game/help#policies">Social Policies</a>.</p><p><span class="text-gold"><i class="' + $f.gold + '"></i> Gold</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p><p>Upon discovery of writing, you will be able to use gold to speed up troop recruitment and building production.</p><p>You will not be able to store an infinite amount of gold. There is a limit to it which can be increased by constructing various buildings.<br/>Except in a special situation, you do not want to reach that limit, all the gold gained after that will be lost.<br/>If you choose <a href="/game/help#citizens">auto-assignment of your citizens</a>, the gold production will drop when you reach the limit, allowing your citizens to work on more useful tasks.</p><p>An effective way to gain gold is by raiding other cities. If you clear an enemy city without bringing a governor, your troops will pillage it and bring the gold back in their city of origin.<br/><a href="/game/help#military">Troops</a> have a carry capacity which means you will not be able to pilllage a lot if you don\'t bring enough troops</p><p>Your cities can be pillaged too, so be careful about it !</p>'
                    },
                    parent: "home"
                },
                diplomacy: {
                    id: "diplomacy",
                    name: "Diplomacy & Trade",
                    html: function () {
                        return '<p>Once you discover <i>Exploration</i> you will be able to meet new <a href="/game/help#civilizations">Civilizations</a>. Once you discover <i>diplomacy</i>, you will be able to interact with them furthermore.</p>You will never be able to interact with <a href="/game/help#barbarians">Barbarians</a>. Those beasts need to be pacified.<p>Once you discover <i>Navigation</i>, you will be able to create <a href="/game/help#trade"><i class="text-trade ' + $f.trade + '"></i>Trade routes</a> which is a greate way to keep good relations with them while producing gold and culture</p><p>A defensive pact between two civilizations means that they will be both at war if one of them is attacked.</p><p>Relations with other civilizations are important since it determine how they will behave with you. Relations are determined by the trade, proximity, religion and by the characteristics of the civilization.</p><p>Civilizations can exert <a href="/game/help#influence"><i class="text-influence ' + $f.influence + '"></i> influence</a> over other civilizations.</p><p>If you are lost and you are looking for info about <span class="text-colony"><i class="' + $f.colony + '"></i> colonies</span>, <a href="/game/help#caravel">click here</a></p>'
                    },
                    parent: "home"
                },
                war: {
                    id: "war",
                    name: "War & Troops",
                    html: function () {
                        return '<p>War can be an essential part of your game or not. It depends on how you like to play.</p><b>Attacking</b><p>You will want to attack a city for 2 reasons: To pillage it and gain gold or to conquer it.</p><p>You troops will automatically pillage a city when they attack it. The amount of gold they can take from the city is determined from their <i class="' + $f.capacity + '"></i> capacity.</p><div>You can capture cities from barbarians or other civilizations the same way.<br/>To <b>capture</b> a city, you need:<ul><li>To completly clear the city from ALL troops</li><li>To bring a <a href="/game/help#governor">governor</a> within your attack.</li></ul></div><p>For a succesful war, or for a succesful defense, you will need to recruit <a href="/game/help#military">Military Troops</a>.<br/>A battle is fought in multiple assault:</p><ul><li>Siege units attack first. Siege attack points are used against all defending units defense points. No one fights back.</li><li>At this point, the defense buildings can be crushed if there was enough siege units.</li><li>Ranges units attack second. Defending ranged units can fight back, which means their attack points are used against attackers defense points</li><li>Finally, melee units attack. Only melee units can fight back</li></ul><p>To be able to recruit units, you usually have to construct the necessary building.<br/>There is a few ways to increase your troops attacking power, including <a href="/game/help#policies">Social Policies</a><br/>Also, do not forget that barbarians are weaker than other civilizations.</p><div>There is also a few special units who are not made to fight<ul><li><a href="/game/help#scout">Scouts & explorers</a></li><li><a href="/game/help#improvements">Workers & engineers</a></li><li><a href="/game/help#slaver">Slavers</a></li><li><a href="/game/help#governor">Governors</a></li><li><a href="/game/help#caravan">Caravans</a></li><li><a href="/game/help#spy">Spies</a></li><li><a href="/game/help#caravel">Caravels</a></li><li><a href="/game/help#archeology">Archeologists</a></li></ul></div><p class="text-danger">You are protected from attacks until you get to the Ancient Era, so make sure to recruit enough to defend yourself before entering this era !</p><b>Defending</b><p>It is also very important to be able to defend your cities. While you will never be attacked during the Prehistoric Era, barbarians and other civilizations will not hesitate to attack you if you appear weak.</p><p>Your cities defense will increase with its population, a few buildings and a few policies</p><p>Also, keep in mind that troops require <span class="text-gold"><i class="' + $f.gold + '"></i> Gold</span> to maintain so be careful that your economy is strong enough to sustain your army!</p>'
                    },
                    parent: "home"
                },
                misc: {
                    id: "misc",
                    name: "Miscellaneous",
                    html: function () {
                        return 'Here you will find the help sections that wouldn\'t fit anywhere else:<ul><li><a href="/game/help#icons">A list of icons used in this game</a></li><li><a href="/game/help#difficulties">Difficulty Levels</a></li><li><a href="/game/help#daily_bonus">Daily Bonus</a></li></ul>'
                    },
                    parent: "home"
                },
                improvements: {
                    id: "improvements",
                    name: "Improvements",
                    html: function () {
                        return '<p>Improvements greatly improve your citizens production</p><p>To build an improvement, you need to recruit a worker or an engineer and allocate them to the task by clicking on your city in the world menu.</p><p>Improvements (other than roads & railroads) only affect the cities right next to them.</p><p>All tasks, appart from building a road or a railroad, will consume the worker or the engineer.</p><p>When a city is connected to the capital, an icon will be displayed : <i class="' + $f.connected + ' text-connected1"></i> when connected by road and <i class="' + $f.connected + ' text-connected2"></i> when connected by railroad</p>Here is a list of all improvements available in this game:<table class="table table-sm"><tbody><tr><th></th><th>Improvement</th><th>Description</th><th>Cost</th><th>Terrains</th><th>Worker required</th></tr>' + Object.values(og).reduce((function (n, l) {
                            return n + '<tr><td><img src="assets/img/imp' + l.id + '.png" width="48"/></td><td>' + l.name + "</td><td>" + l.description + '</td><td><span class="text-gold"><i class="' + $f.gold + '"></i> ' + Xf.format(l.cost) + '</span><br/><span class="text-time"><i class="' + $f.time + '"></i> ' + Xf.formatTime(l.time) + "</span></td><td>" + Object.values(l.terrains).reduce((function (n, e, t) {
                                return n + ag[e].name + (t != l.terrains.length - 1 ? ", " : "")
                            }), "") + "</td><td>" + (1 == l.level ? "Worker" : "Engineer") + "</td></tr>"
                        }), "") + "</tbody></table>"
                    },
                    parent: "citizens"
                },
                food: {
                    id: "food",
                    name: "Food",
                    html: function () {
                        return '<p><span class="text-food"><i class="' + $f.food + '"></i> Food production</span> is essential to the growth of your cities.<br/>A new citizen will be available every time you reach the required amount of food for growth. This amount depends on the city\'s current population<br/>Once your city grow, all food will be consumed in the process but there is a few buildings that allows you to keep a portion of it.<br/><p><span class="text-food"><i class="' + $f.food + '"></i> Food</span> production is provided by <a href="/game/help#citizens">hunter-gatherers or farmers</a>, buildings and can be increased in several ways.</p><p><span class="text-food"><i class="' + $f.food + '"></i> Food</span> production is impacted by <a href="/game/help#happiness" class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</a></p>'
                    },
                    parent: "food-health-happiness"
                },
                health: {
                    id: "health",
                    name: "Health & Plague",
                    html: function () {
                        return '<h5>Health</h5><p><span class="text-health"><i class="' + $f.health + '"></i> Health</span> is essential to the growth of your cities.<br/>You must be careful to not let health drop too low or your citizens will begin to die from disease.</p><p><span class="text-health"><i class="' + $f.health + '"></i> Health</span> will go down depending on the population of a city and can be increased by constructing a few buildings.</p><h5><i class="' + $f.plague + '"></i> Plague</h5><b>Plague outbreak</b><br/><p>An outbreak can happen once you reach the Classical Era. An outbreak can happen in a city depending on time since last outbreak, difficulty level and health of that city. There wont be any outbreak in peaceful difficulty.</p><b>Plague propagation</b><br/><p>Once there is a plague outbreak, it can propagate from an infected city to cities in short distance or cities linked with <span class="text-trade"><i class="' + $f.trade + '"></i> trade route</span>.<br/>Propagation depends on health and population of a city.<br/>The city will remain infected for a random time that will decrease with health and increase with population.<br/><b>Plague doctors</b> garrisoned in the city help clearing the city from the plague. The more doctors you have, the faster it will be cleared. They also help the city resist infection. Some buildings can improve Plague Doctors efficiency<br/>Once a city is cleared, it cannot be infected for 10min.</p><b>Plague Effect</b><br/><p><i class="' + $f.plague + '"></i> Plague have 3 effect: Reduction of <span class="text-health"><i class="' + $f.health + '"></i> health</span> (-30%), risk of troops death depending on city health, minor risk of <span class="text-trade"><i class="' + $f.trade + '"></i> trade route</span> loss depending on city health.</p>'
                    },
                    parent: "food-health-happiness"
                },
                happiness: {
                    id: "happiness",
                    name: "Happiness",
                    html: function () {
                        return '<p><span class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</span> affects almost everything from food to culture.<br/>Your people will be more efficient when they are happy and not so much when they get sad. Be carfeul to keep it not too low or they will revolt and rebel against you!</p><p><span class="text-happiness"><i class="' + $f.happiness + '"></i> Happiness</span> will go down depending on the population of a city, the distance from your capital and can be increased with artists, buildings or policies.</p>'
                    },
                    parent: "food-health-happiness"
                },
                buildings_list: {
                    id: "buildings_list",
                    name: "Buildings List",
                    html: function (n) {
                        return 'Here is a list of all buildings available in this game:<table class="table table-sm"><tbody><tr><th>Building</th><th>Effect</th></tr>' + Object.values(jf).reduce((function (l, e) {
                            return l + "<tr><td>" + e.label(n.player(0)) + "</td><td>" + e.description(0, n) + "</td></tr>"
                        }), "") + "</tbody></table>"
                    },
                    parent: "buildings"
                },
                policies: {
                    id: "policies",
                    name: "Policies",
                    html: function () {
                        return 'Here is a list of all policies available in this game:<table class="table table-sm"><tbody><tr><th>Policy</th><th>Effect</th></tr>' + Object.values(Kf.groups).reduce((function (n, l) {
                            return n + "<tr><td><b>" + l.name + "</b></td><td>" + l.description + "</td></tr>"
                        }), "") + Object.values(Kf.policies).reduce((function (n, l) {
                            return n + "<tr><td>" + l.name + "</td><td>" + l.description + "</td></tr>"
                        }), "") + "</tbody></table>"
                    },
                    parent: "culture"
                },
                reincarnation: {
                    id: "reincarnation",
                    name: "Reincarnation",
                    html: function () {
                        return '<p>Reincarnation is the way to get a better start by learning from your mistakes and get some new <a href="/game/help#powers">powers</a>.</p><p>When you die or when you decide to reincarnate, you will lose <u>everything</u> but you will gain some divine <span class="text-favor"><i class="' + $f.favor + '"></i> favor</span> depending of your devotion in this life.<br/>The more <span class="text-faith"><i class="' + $f.faith + '"></i> faith</span> produced, the more <span class="text-favor"><i class="' + $f.favor + '"></i> favor</span> you will receive. There are different types of favor. A neutral favor and one special for each <a href="/game/help#deities">deity</a>.</p><p>Favor allows you to gain special <a href="/game/help#powers">powers</a> which should make your new life easier!<br/>AI will also gain favor on reincarnation but usually less than you.</p>'
                    },
                    parent: "religion"
                },
                deities: {
                    id: "deities",
                    name: "Deities",
                    html: function () {
                        return '<p>Once you discover <i>Religion</i>, you will be able to chose a deity to worship. Each deity will grant you specific <i class="' + $f.spells + '"></i> <a href="/game/help#spells">Spells</a>.</p><p>Choose wisely, you will not be able to change your deity before you reincarnate !</p><p>When you <a href="/game/help#reincarnation">reincarnate</a>, they will grant you special favor that you can spend on <a href="/game/help#powers">powers</a>.</p><div>Here is a list of available deities:<table class="table table-sm"><tbody><tr><th>Deity</th><th>Favor type</th><th>Description</th></tr>' + Object.values(ng).reduce((function (n, l) {
                            return n + '<tr><td nowrap><i class="' + l.icon + '" style="color:' + l.color + '"></i> ' + l.name + '</td><td><i class="' + $f.favor + '" style="color:' + l.color + '"></i></td><td>' + l.description + "</td></tr>"
                        }), "") + "</tbody></table></div>"
                    },
                    parent: "religion"
                },
                spells: {
                    id: "spells",
                    name: "Spells",
                    html: function () {
                        return '<p>Once you choose a <a href="/game/help#deities">Deity</a>, you will receive the ability to cast <span class="text-special"><i class="' + $f.spells + '"></i> Spells</span>!</p><div>There is 3 kind of spells:<ul><li>Active spells that stay <span class="text-success">active</span> for a specific duration. Bonuses gained from those spells are active only when the spell is <span class="text-success">active</span></li><li>"Burst" spells that give you a large bonus upon use</li><li>Charging / incremental spells that give you passive bonuses that accumulate each time you use it</li></ul></div><p>Each spell has a <span class="text-primary">cooldown</span> duration, which is the time you will have to wait before being able to use that spell again. Spell will appear <span class="text-warning">Yellow</span> when ready to use.</p><p>Some spells will be <span class="text-danger">locked</span> at first and you will have to fullfill the required conditions to unlock them. Those locks are permanent, which means that once you unlock a spell, it will be available even after reincarnation.</p><div>Here is a list of available spells:<table class="table table-sm"><tbody><tr><th>Deity</th><th>Spell</th><th>Description</th></tr>' + Object.values(lg).reduce((function (n, l) {
                            return n + '<tr><td nowrap><i class="' + ng[l.deity].icon + '" style="color:' + ng[l.deity].color + '"></i> ' + ng[l.deity].name + "</td><td>" + l.name + "</td><td>" + l.help + "</td></tr>"
                        }), "") + "</tbody></table></div>"
                    },
                    parent: "religion"
                },
                powers: {
                    id: "powers",
                    name: "Powers",
                    html: function () {
                        return '<p>Once you acquired some divine favor, you can spend it to gain powers.</p><div>Here is a list of available powers:<table class="table table-sm"><tbody><tr><th>Power</th><th>Description</th><th>Favor required</th></tr>' + Object.values(eg).reduce((function (n, l) {
                            return n + "<tr><td>" + l.name + "</td><td>" + l.description(null, null) + "</td><td>" + Object.keys(l.cost).reduce((function (n, l) {
                                return n + '<i class="' + $f.favor + '" style="color:' + (ng[l] ? ng[l].color : "#000") + '"></i> '
                            }), "") + "</td></tr>"
                        }), "") + "</tbody></table></div>"
                    },
                    parent: "religion"
                },
                timetravel: {
                    id: "timetravel",
                    name: "Time Travel",
                    html: function () {
                        return '<p>Time Travel is only available for the Technological orientation.</p><p>Time Travel is similar to <a href="/game/help#reincarnation">Reincarnation</a> but you don not gain <span class="text-favor"><i class="' + $f.favor + '"></i> favor</span>.<br/>Instead, you gain <span class="text-prestige"><i class="' + $f.prestige + '"></i> prestige points</span>, depending on your accumulated <span class="text-progress"><i class="' + $f.progress + '"></i> progress</span>.</p><p>Each <i class="' + $f.prestige + ' text-prestige"></i> gives you a +1% bonus in <i class="' + $f.food + ' text-food"></i> & <i class="' + $f.prod + ' text-prod"></i></p><p>You can also spend those <i class="' + $f.prestige + ' text-prestige"></i> to buy upgrades</p><p>AI players do not gain any <i class="' + $f.prestige + ' text-prestige"></i> or upgrades</p>'
                    },
                    parent: "religion"
                },
                archeology: {
                    id: "archeology",
                    name: "Archeology",
                    html: function () {
                        return '<p>Once your orientation gets to <span class="text-tech"><i class="' + $f.tech + '"></i> +100</span>, <b>Archeologists</b> will be available to retrieve <span class="text-relics"><i class="' + $f.relics + '"></i> relics</span>. Once a relic is retrieved, the archeologist is consumed.</p><p>Each <span class="text-relics"><i class="' + $f.relics + '"></i> relic</span> is then stored in the hosting city and provides <span class="text-progress"><i class="' + $f.progress + '"></i> +1 / min</span>.'
                    },
                    parent: "religion"
                },
                trade: {
                    id: "trade",
                    name: "Trade",
                    html: function () {
                        return '<p>Once you discover <i>Navigation</i>, you will be able to create <span class="text-trade"><i class="' + $f.trade + '"></i> trade routes</span> with other <a href="/game/help#civilizations">civilizations</a> you are not at war with<br/>A <span class="text-trade"><i class="' + $f.trade + '"></i> trade route</span>  provides <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span>  and <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span> to the city of origin and a smaller gain for the city of destination. It also improve the diplomatic relations with between the 2 civilizations.</p><p>To create a <span class="text-trade"><i class="' + $f.trade + '"></i> trade route</span>, you need to recruit a <a href="/game/help#caravan">caravan</a> first, then send it to another city by clicking on your city on the world map and selecting "Trade route".</p><p>There is a maximum number of trade routes allowed by civilization. This maximum can be increased with science or policies.<br/>A trade route has a maximum distance allowed. This maximum distance can be increase by discovering some technologies.<br/>A trade route will automatically be erased if the civilizations are at war or if one of the 2 cities changes ownership.</p>'
                    },
                    parent: "diplomacy"
                },
                influence: {
                    id: "influence",
                    name: "Influence",
                    html: function () {
                        return '<p>Once you meet another civilization, you will both start to exert <span class="text-influence"><i class="' + $f.influence + '"></i> influence</span> on each other</p><p>Influence is determined by the amount of <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span> produced and can be increase in several ways, including Wonders and Policies.</p><p>Influence has an effect on cities, depending on distance between the city being influenced and the influencial civilization.</p><p>The influenced city have an penalty on <i class="text-happiness ' + $f.happiness + '"></i> and <i class="text-defense ' + $f.defense + '"></i></p><p>Once you discover <i>Printing Press</i>, you will be able to promote your culture to other civilizations. Promoting culture convert some of your culture into influence.</p>'
                    },
                    parent: "diplomacy"
                },
                civilizations: {
                    id: "civilizations",
                    name: "Civilizations",
                    html: function () {
                        return '<p>You are not alone in the world. Other civilizations are present and trying to extend too.</p><p>They will recruit troops, attack, take cities, create trade routes, select special powers, etc...<br/>Each civilization is different and they will behave differently. Each of them have a specific agressivity, diplomacy, resource production, troop recruitment, attack / defense.</p><p>They will declare war depending on several factors: their own agressivity, the relations you have with them, how close are your cities. Agressive civilizations will also be more interested in a war if you own many wonders or many colonies.<br/>To improve relations with one civilization, you can create <a href="/game/help#trade">trade routes</a> or offer gifts.</p><p>Here is the complete list of existing civilizations at the beginning of a game:<table class="table table-sm"><tbody><tr><th>Name</th><th>Description</th><th>Golden era</th><th>Agressivity</th><th>Starting relation</th><th>Relation drop</th><th>War Fatigue</th><th><i class="text-food ' + $f.food + '"></i></th><th><i class="text-gold ' + $f.gold + '"></i></th><th><i class="text-science ' + $f.science + '"></i></th><th><i class="text-prod ' + $f.prod + '"></i></th><th><i class="text-culture ' + $f.culture + '"></i></th><th><i class="text-recruitment ' + $f.recruitment + '"></i></th><th><i class="text-attack ' + $f.attack + '"></i></th><th><i class="text-defense ' + $f.defense + '"></i></th></tr>' + Object.values(ig).reduce((function (n, l) {
                            return n + '<tr><td><i class="' + $f.player + '" style="' + function (n) {
                                return "color: " + n.color + ";-webkit-text-fill-color:" + n.color2 + ";-webkit-text-stroke-width:1px;-webkit-text-stroke-color:" + n.color
                            }(l) + '" ></i> ' + l.name + "</td><td>" + l.description + "</td><td>" + Gf[l.golden].name + "</td><td>" + (12 == (e = l.agressivity) ? "--" : 13 == e ? "-" : 14 == e ? "+" : 15 == e ? "++" : void 0) + "</td><td>" + l.starting_relations + "</td><td>" + l.relation_decrease + "</td><td>" + function (n) {
                                return n >= 6e8 ? "--" : n > 1e8 ? "-" : n > 1e7 ? "+" : "++"
                            }(l.war_fatigue_ratio) + "</td><td>" + FP(l.mult.food) + "</td><td>" + FP(l.mult.gold) + "</td><td>" + FP(l.mult.science) + "</td><td>" + FP(l.mult.prod) + "</td><td>" + FP(l.mult.culture) + "</td><td>" + FP(l.mult.recruitment) + "</td><td>" + FP(l.mult.attack) + "</td><td>" + FP(l.mult.defense) + "</td></tr>";
                            var e
                        }), "") + "</tbody></table>"
                    },
                    parent: "diplomacy"
                },
                barbarians: {
                    id: "barbarians",
                    name: "Barbarians",
                    html: function () {
                        return '<p>Barbarians will behave differently from other civilizations. The only way to interact with them is on the battlefield.</p><p>They are constantly at war with everyone, they do not have access to <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span>, <span class="text-faith"><i class="' + $f.faith + '"></i> faith</span> or powers but they do have access to <span class="text-science"><i class="' + $f.science + '"></i> science</span> (with a major penality of 50%)<br/>They also have a penality of 20% while attacking ot defending</p>'
                    },
                    parent: "diplomacy"
                },
                military: {
                    id: "military",
                    name: "Military Troops",
                    html: function (n) {
                        return 'Here is a list of all military troops available in this game:<table class="table table-sm"><tbody><tr><th>Name</th><th>Attack</th><th>Defense</th><th>Speed</th><th>Capacity</th><th>Ranged?</th><th>Siege?</th><th>Gold cost</th><th>Time to recruit (s)</th></tr>' + Object.values(Zf).reduce((function (l, e) {
                            return l + (e.special ? "" : "<tr><td>" + e.name(n.player()) + "</td><td>" + e.attack(n.player()) + "</td><td>" + e.defense(n.player()) + "</td><td>" + e.speed(n.player()) + "</td><td>" + e.capacity + "</td><td>" + (e.ranged(n.player()) ? "x" : "") + "</td><td>" + (e.siege ? "x" : "") + "</td><td>" + e.gold(n, 0) + "</td><td>" + e.time(n, 0) + "</td></tr>")
                        }), "") + "</tbody></table>"
                    },
                    parent: "war"
                },
                scout: {
                    id: "scout",
                    name: "Scouting",
                    html: function () {
                        return "<p><b>Scouts</b> are used to explore the world. Discovering the world is very important since it allows you to discover other civilizations, or to discover cities to pillage or to conquer.</p><p>To use it, you need to click on the city where the scout is located in the world panel.</p><p>You can also send them to explore automatically. In that case they will walk around the map, discovering lands in random directions.</p><p>Scouts have a chance to be ambushed by marauders, depending on the distance between them and the city of provenance. If that happen, you will lose your scout.</p><p>Explorers are upgraded scouts that move faster and are much more resistant to marauders.</p>"
                    },
                    parent: "war"
                },
                slaver: {
                    id: "slaver",
                    name: "Slavery",
                    html: function () {
                        return "<p><b>Slavers</b> are used to capture workers.</p><p>To capture slaves, you just need to recruit slavers and send them along with an attack on an enemy city.<br/>If the attack is a success and if the city has enough population, you have a chance to gain a worker. Chances increase with your number of slavers and the enemy city population.<br/>This worker will be brought back with the attacking army.</p><p>Be careful, enemies will recruit slavers too !</p>"
                    },
                    parent: "war"
                },
                spy: {
                    id: "spy",
                    name: "Spying",
                    html: function () {
                        return '<p><b>Spies</b> allow you to reveal the details of a city: troops, buildings, treasury etc...</p><p>When a spy execute a mission, he has a chance to steal some <span class="text-science"><i class="' + $f.science + '"></i> science</span> (depending on science production of the city spied).</p><p>Success of the operation will depend on the amount of spies you bring and the amount of spies present in the spied city. It does not depend on the amount of military troops.</p><p>To use it, you need to click on the city you want to spy in the world panel.</p>'
                    },
                    parent: "war"
                },
                caravel: {
                    id: "caravel",
                    name: "Caravels & Colonies",
                    html: function () {
                        return '<p><b>Caravels</b> allow you to create <span class="text-colony"><i class="' + $f.colony + '"></i> colonies</span></p><p>Caravels can only be constructed in coastal cities (cities right next to that blue thing around the map) which have a seaport. Once you have a caravel, you need to send it to create a <span class="text-colony"><i class="' + $f.colony + '"></i> colony</span> by clicking on the hosting city on the world map.</p><p><span class="text-colony"><i class="' + $f.colony + '"></i> Colonies</span> offer great bonus for the civilization that created it: <i class="text-happiness ' + $f.happiness + '"></i> (empire), <i class="text-gold ' + $f.gold + '"></i> (empire) and <i class="text-gold ' + $f.gold + '"></i>/<i class="text-trade ' + $f.trade + "\"></i> (city only).</p><p>There is a limited amount of available colonies in the world so don't wait before sending your caravels !</p>"
                    },
                    parent: "war"
                },
                governor: {
                    id: "governor",
                    name: "Governor",
                    html: function () {
                        return '<p>If you want to conquer a city, you will need to clear the city and to bring a <b>governor</b> with you (only 1 is needed to take a city).</p><p>The <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span> cost of governors will increase with the number of cities you own and the number of governor you currently have.</p>'
                    },
                    parent: "war"
                },
                caravan: {
                    id: "caravan",
                    name: "Caravan",
                    html: function () {
                        return '<p>A <b>caravan</b> is required to create a <a href="/game/help#trade" class="text-trade"><i class="' + $f.trade + '"></i> trade route</a>.</p><p>There is a limited amount of trade routes allowed.</p><p>To use a caravan, you need to click on the city where the caravan is located in the world panel.</p>'
                    },
                    parent: "war"
                },
                daily_bonus: {
                    id: "daily_bonus",
                    name: "Daily Bonus",
                    html: function () {
                        return '<p>Once you discover <i>Spirituality</i>, you will be receive one random gift every 24h.</p><p>Gifts include <span class="text-science"><i class="' + $f.science + '"></i> science</span>, <span class="text-gold"><i class="' + $f.gold + '"></i> gold</span>, <span class="text-food"><i class="' + $f.food + '"></i> food</span>, <span class="text-culture"><i class="' + $f.culture + '"></i> culture</span> or troops</p><p>There is 3 level of gift: <span class="text-primary">Common</span>, <span class="text-warning">Rare</span> and <span class="text-success">Epic</span></p><p>To use a gift, you need to select it in the top menu of the City Screen.</p><p><i class="' + $f.exclamation + '"></i> Make sure to use it at the right time! For ex. do not use a gold gift if you treasury is full !</p>'
                    },
                    parent: "misc"
                },
                difficulties: {
                    id: "difficulties",
                    name: "Difficulty Levels",
                    html: function () {
                        return '<div>Here is a list of available difficulty levels:<table class="table table-sm"><tbody><tr><th>Difficulty</th><th>Faith</th><th>Civ prod. bonus</th><th>Civ recr. bonus</th><th>Barb. prod. penalty</th><th>Barb. sci. penalty</th><th>Barb. battle penalty</th></tr>' + Object.values(Yf).reduce((function (n, l) {
                            return n + "<tr><td>" + l.name + "</td><td>x" + l.faith_mult + "</td><td>" + l.ai_bonus + "</td><td>" + l.ai_recruit_bonus + "</td><td>" + l.barbarian_gold_prod_mult + "</td><td>" + l.barbarian_science_mult + "</td><td>" + l.barbarian_battle_mult + "</td></tr>"
                        }), "") + "</tbody></table>All the bonuses/penalties are used as multiplier.</div>"
                    },
                    parent: "misc"
                },
                icons: {
                    id: "icons",
                    name: "Icons",
                    html: function () {
                        return 'This is a list of all icons used in this game.<ul><li><i class="' + $f.player + '"></i> Player / City</li><li><i class="' + $f.capital + '"></i> Capital</li><li><i class="' + $f.pop + ' text-pop"></i> Population</li><li><i class="' + $f.food + ' text-food"></i> Food</li><li><i class="' + $f.health + ' text-health"></i> Health</li><li><i class="' + $f.happiness + ' text-happiness"></i> Happiness</li><li><i class="' + $f.prod + ' text-prod"></i> Production / Industry</li><li><i class="' + $f.science + ' text-science"></i> Science</li><li><i class="' + $f.diplomacy + ' text-diplomacy"></i> Diplomacy</li><li><i class="' + $f.gold + ' text-gold"></i> Gold</li><li><i class="' + $f.culture + ' text-culture"></i> Culture</li><li><i class="' + $f.faith + ' text-faith"></i> Faith</li><li><i class="' + $f.favor + ' text-favor"></i> Favor</li><li><i class="' + $f.time + '"></i> Time / Delay</li><li><i class="' + $f.trade + ' text-trade"></i> Trade Route</li><li><i class="' + $f.troops + '"></i> Troops</li><li><i class="' + $f.recruitment + '"></i> Recruitment</li><li><i class="' + $f.attack + '"></i> Attack</li><li><i class="' + $f.defense + '"></i> Defense</li><li><i class="' + $f.capacity + '"></i> Gold Capacity</li><li><i class="' + $f.ranged + '"></i> Ranged attack</li><li><i class="' + $f.siege + '"></i> Siege attack</li><li><i class="' + $f.speed + '"></i> Speed</li></ul>'
                    },
                    parent: "misc"
                }
            };

        function FP(n) {
            return n >= 1.2 ? "++" : n >= 1.1 ? "+" : n >= 1 ? "-" : "--"
        }
        var qP = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.activatedRoute = l, this.dataService = e, this.sanitizer = t, this.helpData = LP
                }
                return _createClass(n, [{
                    key: "isAvailable",
                    value: function (n) {
                        return !n.lock || this.dataService.isUnlocked(n.lock)
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.fragment.subscribe((function (l) {
                            n.id = l || "home", n.help = LP[n.id], n.html = n.sanitizer.bypassSecurityTrustHtml(n.help.html(n.dataService)), n.parent = n.help.parent ? LP[n.help.parent] : void 0, n.siblings = Object.values(n.helpData).filter((function (l) {
                                return l.parent == n.help.parent
                            })), n.children = Object.values(n.helpData).filter((function (l) {
                                return l.parent == n.id
                            }))
                        }))
                    }
                }]), n
            }(),
            UP = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function $P(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "nav", [["class", "border-top d-flex"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [["class", "bg-dark text-light p-2"], ["style", "width:95px"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Parent"])), (n()(), Xu(3, 0, null, null, 3, "div", [["class", "nav"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 2, "a", [["class", "nav-link"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 5).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(5, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"]
            }, null), (n()(), pr(6, null, ["", ""]))], (function (n, l) {
                n(l, 5, 0, l.component.parent.id)
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, Jt(l, 5).target, Jt(l, 5).href), n(l, 6, 0, e.parent.name)
            }))
        }

        function HP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "a", [["class", "nav-link"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 1).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), hi(1, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"]
            }, null), (n()(), pr(2, null, ["", ""]))], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.id)
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 1).target, Jt(l, 1).href), n(l, 2, 0, l.parent.context.$implicit.name)
            }))
        }

        function VP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, HP)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.isAvailable(l.context.$implicit))
            }), null)
        }

        function jP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "nav", [["class", "border-top d-flex"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [["class", "bg-dark text-light p-2"], ["style", "width:95px"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Children"])), (n()(), Xu(3, 0, null, null, 2, "div", [["class", "nav"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, VP)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 5, 0, l.component.children)
            }), null)
        }

        function GP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "a", [], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== Jt(n, 4).onClick(e.button, e.ctrlKey, e.metaKey, e.shiftKey) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "nav-link": 0,
                "active disabled": 1
            }), hi(4, 671744, null, 0, tp, [lp, Gd, Ta], {
                fragment: [0, "fragment"]
            }, null), (n()(), pr(5, null, ["", ""]))], (function (n, l) {
                var e = n(l, 3, 0, !0, l.parent.context.$implicit.id == l.component.id);
                n(l, 2, 0, e), n(l, 4, 0, l.parent.context.$implicit.id)
            }), (function (n, l) {
                n(l, 0, 0, Jt(l, 4).target, Jt(l, 4).href), n(l, 5, 0, l.parent.context.$implicit.name)
            }))
        }

        function WP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, GP)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.isAvailable(l.context.$implicit))
            }), null)
        }

        function KP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "nav", [["class", "border-top d-flex"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [["class", "bg-dark text-light p-2"], ["style", "width:95px"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Related"])), (n()(), Xu(3, 0, null, null, 2, "div", [["class", "nav"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, WP)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 5, 0, l.component.siblings)
            }), null)
        }

        function ZP(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 10, "div", [["class", "d-flex flex-column h-100"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "div", [["class", "flex-fill overflow-auto"], ["style", "height:0"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, $P)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, jP)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, KP)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 6, 0, e.parent && e.isAvailable(e.parent)), n(l, 8, 0, e.children.length), n(l, 10, 0, e.siblings.length)
            }), (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.help.name), n(l, 4, 0, e.html)
            }))
        }

        function QP(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, ZP)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.component.id)
            }), null)
        }
        var YP = $t("app-help", qP, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-help", [], null, null, null, QP, UP)), hi(1, 114688, null, 0, qP, [Gd, bg, Tc], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            XP = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.kongService = l, this.dataService = e, this.thanks = !1, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {}
                }, {
                    key: "buy",
                    value: function (n) {
                        this.kongService.buy(n, this.onPurchaseResult.bind(this))
                    }
                }, {
                    key: "onPurchaseResult",
                    value: function (n) {
                        n.success && (this.thanks = !0)
                    }
                }]), n
            }(),
            JP = et({
                encapsulation: 0,
                styles: [[".bg[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;background-color:rgba(0,0,0,.85);padding:10px;top:0;left:0;z-index:500;font-size:800%}@-webkit-keyframes bounce{0%,10%,100%,20%,50%,80%{-webkit-transform:translateY(0);transform:translateY(0)}40%,60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@keyframes bounce{0%,10%,100%,20%,50%,80%{-webkit-transform:translateY(0);transform:translateY(0)}40%,60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}.bg[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{-webkit-animation:2s infinite bounce;animation:2s infinite bounce}"]],
                data: {}
            });

        function nO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "bg d-flex flex-column justify-content-center align-items-center text-light"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = 0 != (n.component.thanks = !1) && t), t
            }), null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [["class", "fas fa-thumbs-up"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Thanks !"]))], null, null)
        }

        function lO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Support"])), (n()(), Xu(2, 0, null, null, 9, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["This game is "])), (n()(), Xu(4, 0, null, null, 1, "u", [], null, null, null, null, null)), (n()(), pr(-1, null, ["completly free"])), (n()(), pr(-1, null, [" and provided "])), (n()(), Xu(7, 0, null, null, 1, "u", [], null, null, null, null, null)), (n()(), pr(-1, null, ["without ads"])), (n()(), pr(-1, null, ["."])), (n()(), Xu(10, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), pr(-1, null, [" However, if you wish to support it, you can still offer a gift !"])), (n()(), Xu(12, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Buy those useless items"])), (n()(), Xu(14, 0, null, null, 2, "button", [["class", "btn btn-outline-info"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(10) && t), t
            }), null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 10 Kreds"])), (n()(), Xu(17, 0, null, null, 2, "button", [["class", "btn btn-outline-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(20) && t), t
            }), null, null)), (n()(), Xu(18, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 20 Kreds"])), (n()(), Xu(20, 0, null, null, 2, "button", [["class", "btn btn-outline-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(50) && t), t
            }), null, null)), (n()(), Xu(21, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 50 Kreds"])), (n()(), Xu(23, 0, null, null, 2, "button", [["class", "btn btn-outline-warning"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(100) && t), t
            }), null, null)), (n()(), Xu(24, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 100 Kreds"])), (n()(), Xu(26, 0, null, null, 2, "button", [["class", "btn btn-outline-warning"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(200) && t), t
            }), null, null)), (n()(), Xu(27, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 200 Kreds"])), (n()(), Xu(29, 0, null, null, 2, "button", [["class", "btn btn-outline-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(500) && t), t
            }), null, null)), (n()(), Xu(30, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 500 Kreds"])), (n()(), Xu(32, 0, null, null, 2, "button", [["class", "btn btn-outline-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(1e3) && t), t
            }), null, null)), (n()(), Xu(33, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Give 1000 Kreds"])), (n()(), Xu(35, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Thanks"])), (n()(), pr(-1, null, ["\nMany thanks to "])), (n()(), Xu(38, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["henkekalmar"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(41, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Wicia777"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(44, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["aussy8"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(47, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Rekaniso"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(50, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Sieker"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(53, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["WLBjork"])), (n()(), pr(-1, null, [" and\n"])), (n()(), Xu(56, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["cbianco8808"])), (n()(), pr(-1, null, [" for\nhelping with beta-testing this game ! "])), (n()(), Xu(59, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Credits"])), (n()(), Xu(61, 0, null, null, 9, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Icons made by "])), (n()(), Xu(63, 0, null, null, 1, "a", [["href", "https://www.flaticon.com/authors/freepik"], ["title", "Freepik"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Freepik"])), (n()(), pr(-1, null, [", "])), (n()(), Xu(66, 0, null, null, 1, "a", [["href", "https://www.flaticon.com/authors/eucalyp"], ["title", "Eucalyp"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Eucalyp"])), (n()(), pr(-1, null, [" from "])), (n()(), Xu(69, 0, null, null, 1, "a", [["href", "https://www.flaticon.com/"], ["title", "Flaticon"]], null, null, null, null, null)), (n()(), pr(-1, null, ["www.flaticon.com"])), (n()(), Yu(16777216, null, null, 1, null, nO)), hi(72, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(73, 0, null, null, 1, "div", [["class", "position-absolute text-secondary"], ["style", "bottom:5px;right:5px"]], null, null, null, null, null)), (n()(), pr(74, null, ["Version: ", "\n"])), (n()(), Xu(75, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Changelog"])), (n()(), Xu(77, 0, null, null, 1, "a", [["class", "btn btn-primary"], ["href", "https://festive-perlman-5fad70.netlify.com/changelog"], ["target", "_blank"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Complete Changelog"]))], (function (n, l) {
                n(l, 72, 0, l.component.thanks)
            }), (function (n, l) {
                var e = l.component;
                n(l, 15, 0, e.icons.gold + " text-warning"), n(l, 18, 0, e.icons.gold + " text-warning"), n(l, 21, 0, e.icons.gold + " text-warning"), n(l, 24, 0, e.icons.gold + " text-warning"), n(l, 27, 0, e.icons.gold + " text-warning"), n(l, 30, 0, e.icons.gold + " text-warning"), n(l, 33, 0, e.icons.gold + " text-warning"), n(l, 74, 0, e.dataService.getStrVersion())
            }))
        }
        var eO = $t("app-support", XP, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-support", [], null, null, null, lO, JP)), hi(1, 114688, null, 0, XP, [yg, bg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            tO = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.data = l, this.conf = e, this.dataService = t, this.modalService = i, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.saved = !1, this.difficulty = this.data.difficulty, this.darktheme = this.data.darktheme, this.nostats = this.data.nostats, this.autopause = Object.assign({}, this.data.autopause), this.max_rpt = this.data.max_rpt, this.max_notif = this.data.max_notif, this.no_respawn = this.data.no_respawn, this.notif_pop = this.data.notif_pop, this.notif_building = this.data.notif_building
                    }
                }, {
                    key: "save",
                    value: function () {
                        this.data.difficulty = this.difficulty, this.data.darktheme = this.darktheme, this.data.nostats = this.nostats, this.data.autopause = Object.assign({}, this.autopause), this.max_rpt < 5 && (this.max_rpt = 5), this.data.max_rpt = this.max_rpt, this.max_notif < 5 && (this.max_notif = 5), this.data.max_notif = this.max_notif, this.data.no_respawn = this.no_respawn, this.data.notif_pop = this.notif_pop, this.data.notif_building = this.notif_building, this.saved = !0
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this.dataService.reincarnation(!0)
                    }
                }]), n
            }(),
            iO = et({
                encapsulation: 0,
                styles: [[".card-body[_ngcontent-%COMP%]{height:auto!important}"]],
                data: {}
            });

        function uO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.difficulty = n.context.$implicit.key) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "flex-fill card card-body cursor-pointer m-2 p-2": 0,
                "border-primary": 1
            }), (n()(), Xu(4, 0, null, null, 1, "b", [["class", "text-center"]], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), (n()(), Xu(6, 0, null, null, 0, "p", [["class", "mb-1"]], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = n(l, 3, 0, !0, l.component.difficulty == l.context.$implicit.key);
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 5, 0, l.context.$implicit.value.name), n(l, 6, 0, l.context.$implicit.value.description)
            }))
        }

        function rO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Changes saved succesfully !"]))], null, null)
        }

        function aO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Game options"])), (n()(), Xu(2, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Difficulty"])), (n()(), Xu(4, 0, null, null, 3, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, uO)), hi(6, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(8, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Offline"])), (n()(), Xu(10, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-save"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 12).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 12).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.save = e) && t), t
            }), null, null)), hi(12, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(14, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(16, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(17, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-save"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Prevent progress when offline"])), (n()(), Xu(19, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Barbarians"])), (n()(), Xu(21, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "no_respawn"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 23).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 23).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.no_respawn = e) && t), t
            }), null, null)), hi(23, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(25, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(27, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(28, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "no_respawn"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Prevent city respawn"])), (n()(), Xu(30, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Stats & highscore"])), (n()(), Xu(32, 0, null, null, 8, "div", [["class", "form-group form-check"]], null, null, null, null, null)), (n()(), Xu(33, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "nostats"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 34).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 34).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.nostats = e) && t), t
            }), null, null)), hi(34, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(36, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(38, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(39, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "nostats"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Do not send stats & highscores"])), (n()(), Xu(41, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.save() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Save"])), (n()(), Yu(16777216, null, null, 1, null, rO)), hi(44, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(45, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Restart this run"])), (n()(), Xu(47, 0, null, null, 1, "p", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Like a reincarnation but without any gain from this run !"])), (n()(), Xu(49, 0, null, null, 1, "button", [["class", "btn btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.modalService.open(Jt(n.parent, 15)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Restart this run"]))], (function (n, l) {
                var e = l.component;
                n(l, 6, 0, Je(l, 6, 0, Jt(l, 7).transform(e.conf.difficulties))), n(l, 14, 0, e.autopause.save), n(l, 25, 0, e.no_respawn), n(l, 36, 0, e.nostats), n(l, 44, 0, e.saved)
            }), (function (n, l) {
                n(l, 11, 0, Jt(l, 16).ngClassUntouched, Jt(l, 16).ngClassTouched, Jt(l, 16).ngClassPristine, Jt(l, 16).ngClassDirty, Jt(l, 16).ngClassValid, Jt(l, 16).ngClassInvalid, Jt(l, 16).ngClassPending), n(l, 22, 0, Jt(l, 27).ngClassUntouched, Jt(l, 27).ngClassTouched, Jt(l, 27).ngClassPristine, Jt(l, 27).ngClassDirty, Jt(l, 27).ngClassValid, Jt(l, 27).ngClassInvalid, Jt(l, 27).ngClassPending), n(l, 33, 0, Jt(l, 38).ngClassUntouched, Jt(l, 38).ngClassTouched, Jt(l, 38).ngClassPristine, Jt(l, 38).ngClassDirty, Jt(l, 38).ngClassValid, Jt(l, 38).ngClassInvalid, Jt(l, 38).ngClassPending)
            }))
        }

        function oO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Changes saved succesfully !"]))], null, null)
        }

        function sO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(-1, null, ["UI options"])), (n()(), Xu(2, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Theme"])), (n()(), Xu(4, 0, null, null, 8, "div", [["class", "form-group form-check"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "darktheme"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 6).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 6).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.darktheme = e) && t), t
            }), null, null)), hi(6, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(8, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(10, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(11, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "darktheme"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Dark theme (experimental)"])), (n()(), Xu(13, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Auto-pause"])), (n()(), Xu(15, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-citizen"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 17).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 17).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.citizen = e) && t), t
            }), null, null)), hi(17, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(19, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(21, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(22, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-citizen"]], null, null, null, null, null)), (n()(), pr(-1, null, ["New citizen"])), (n()(), Xu(24, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-building"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 26).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 26).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.building = e) && t), t
            }), null, null)), hi(26, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(28, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(30, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(31, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-building"]], null, null, null, null, null)), (n()(), pr(-1, null, ["New building"])), (n()(), Xu(33, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(34, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-science"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 35).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 35).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.science = e) && t), t
            }), null, null)), hi(35, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(37, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(39, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(40, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["New science"])), (n()(), Xu(42, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(43, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-incoming"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 44).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 44).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.incoming = e) && t), t
            }), null, null)), hi(44, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(46, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(48, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(49, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-incoming"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Incoming attack"])), (n()(), Xu(51, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(52, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-city_captured"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 53).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 53).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.city_captured = e) && t), t
            }), null, null)), hi(53, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(55, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(57, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(58, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-city_captured"]], null, null, null, null, null)), (n()(), pr(-1, null, ["City captured"])), (n()(), Xu(60, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(61, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-city_lost"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 62).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 62).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.city_lost = e) && t), t
            }), null, null)), hi(62, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(64, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(66, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(67, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-city_lost"]], null, null, null, null, null)), (n()(), pr(-1, null, ["City lost"])), (n()(), Xu(69, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(70, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-city_joined"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 71).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 71).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.city_joined = e) && t), t
            }), null, null)), hi(71, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(73, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(75, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(76, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-city_joined"]], null, null, null, null, null)), (n()(), pr(-1, null, ["City joined"])), (n()(), Xu(78, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(79, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "a-plague"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 80).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 80).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.autopause.plague = e) && t), t
            }), null, null)), hi(80, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(82, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(84, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(85, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "a-plague"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Plague"])), (n()(), Xu(87, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Notifications"])), (n()(), Xu(89, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(90, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "notif_pop"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 91).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 91).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.notif_pop = e) && t), t
            }), null, null)), hi(91, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(93, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(95, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(96, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "notif_pop"]], null, null, null, null, null)), (n()(), pr(-1, null, ["New Citizen"])), (n()(), Xu(98, 0, null, null, 8, "div", [["class", "form-group form-check d-inline-block mr-1"]], null, null, null, null, null)), (n()(), Xu(99, 0, null, null, 5, "input", [["class", "form-check-input"], ["id", "notif_building"], ["type", "checkbox"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 100).onChange(e.target.checked) && t), "blur" === l && (t = !1 !== Jt(n, 100).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.notif_building = e) && t), t
            }), null, null)), hi(100, 16384, null, 0, Np, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [Np]), hi(102, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(104, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(105, 0, null, null, 1, "label", [["class", "form-check-label"], ["for", "notif_building"]], null, null, null, null, null)), (n()(), pr(-1, null, ["New Building"])), (n()(), Xu(107, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["History"])), (n()(), Xu(109, 0, null, null, 18, "div", [], null, null, null, null, null)), (n()(), Xu(110, 0, null, null, 1, "label", [["class", "form-label"], ["for", "max_rpt"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Battle Report History"])), (n()(), Xu(112, 0, null, null, 6, "input", [["class", "form-input"], ["id", "max_rpt"], ["min", "5"], ["type", "number"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 113)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 113).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 113)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 113)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 114).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 114).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 114).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.max_rpt = e) && t), t
            }), null, null)), hi(113, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(114, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(116, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(118, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(119, 0, null, null, 1, "label", [["class", "form-label ml-2"], ["for", "max_notif"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Notification History"])), (n()(), Xu(121, 0, null, null, 6, "input", [["class", "form-input"], ["id", "max_notif"], ["min", "5"], ["type", "number"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "input" === l && (t = !1 !== Jt(n, 122)._handleInput(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 122).onTouched() && t), "compositionstart" === l && (t = !1 !== Jt(n, 122)._compositionStart() && t), "compositionend" === l && (t = !1 !== Jt(n, 122)._compositionEnd(e.target.value) && t), "change" === l && (t = !1 !== Jt(n, 123).onChange(e.target.value) && t), "input" === l && (t = !1 !== Jt(n, 123).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 123).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.max_notif = e) && t), t
            }), null, null)), hi(122, 16384, null, 0, zp, [me, pe, [2, Bp]], null, null), hi(123, 16384, null, 0, Xp, [me, pe], null, null), fi(1024, null, Mp, (function (n, l) {
                return [n, l]
            }), [zp, Xp]), hi(125, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(127, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Xu(128, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.save() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Save"])), (n()(), Yu(16777216, null, null, 1, null, oO)), hi(131, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.darktheme), n(l, 19, 0, e.autopause.citizen), n(l, 28, 0, e.autopause.building), n(l, 37, 0, e.autopause.science), n(l, 46, 0, e.autopause.incoming), n(l, 55, 0, e.autopause.city_captured), n(l, 64, 0, e.autopause.city_lost), n(l, 73, 0, e.autopause.city_joined), n(l, 82, 0, e.autopause.plague), n(l, 93, 0, e.notif_pop), n(l, 102, 0, e.notif_building), n(l, 116, 0, e.max_rpt), n(l, 125, 0, e.max_notif), n(l, 131, 0, e.saved)
            }), (function (n, l) {
                n(l, 5, 0, Jt(l, 10).ngClassUntouched, Jt(l, 10).ngClassTouched, Jt(l, 10).ngClassPristine, Jt(l, 10).ngClassDirty, Jt(l, 10).ngClassValid, Jt(l, 10).ngClassInvalid, Jt(l, 10).ngClassPending), n(l, 16, 0, Jt(l, 21).ngClassUntouched, Jt(l, 21).ngClassTouched, Jt(l, 21).ngClassPristine, Jt(l, 21).ngClassDirty, Jt(l, 21).ngClassValid, Jt(l, 21).ngClassInvalid, Jt(l, 21).ngClassPending), n(l, 25, 0, Jt(l, 30).ngClassUntouched, Jt(l, 30).ngClassTouched, Jt(l, 30).ngClassPristine, Jt(l, 30).ngClassDirty, Jt(l, 30).ngClassValid, Jt(l, 30).ngClassInvalid, Jt(l, 30).ngClassPending), n(l, 34, 0, Jt(l, 39).ngClassUntouched, Jt(l, 39).ngClassTouched, Jt(l, 39).ngClassPristine, Jt(l, 39).ngClassDirty, Jt(l, 39).ngClassValid, Jt(l, 39).ngClassInvalid, Jt(l, 39).ngClassPending), n(l, 43, 0, Jt(l, 48).ngClassUntouched, Jt(l, 48).ngClassTouched, Jt(l, 48).ngClassPristine, Jt(l, 48).ngClassDirty, Jt(l, 48).ngClassValid, Jt(l, 48).ngClassInvalid, Jt(l, 48).ngClassPending), n(l, 52, 0, Jt(l, 57).ngClassUntouched, Jt(l, 57).ngClassTouched, Jt(l, 57).ngClassPristine, Jt(l, 57).ngClassDirty, Jt(l, 57).ngClassValid, Jt(l, 57).ngClassInvalid, Jt(l, 57).ngClassPending), n(l, 61, 0, Jt(l, 66).ngClassUntouched, Jt(l, 66).ngClassTouched, Jt(l, 66).ngClassPristine, Jt(l, 66).ngClassDirty, Jt(l, 66).ngClassValid, Jt(l, 66).ngClassInvalid, Jt(l, 66).ngClassPending), n(l, 70, 0, Jt(l, 75).ngClassUntouched, Jt(l, 75).ngClassTouched, Jt(l, 75).ngClassPristine, Jt(l, 75).ngClassDirty, Jt(l, 75).ngClassValid, Jt(l, 75).ngClassInvalid, Jt(l, 75).ngClassPending), n(l, 79, 0, Jt(l, 84).ngClassUntouched, Jt(l, 84).ngClassTouched, Jt(l, 84).ngClassPristine, Jt(l, 84).ngClassDirty, Jt(l, 84).ngClassValid, Jt(l, 84).ngClassInvalid, Jt(l, 84).ngClassPending), n(l, 90, 0, Jt(l, 95).ngClassUntouched, Jt(l, 95).ngClassTouched, Jt(l, 95).ngClassPristine, Jt(l, 95).ngClassDirty, Jt(l, 95).ngClassValid, Jt(l, 95).ngClassInvalid, Jt(l, 95).ngClassPending), n(l, 99, 0, Jt(l, 104).ngClassUntouched, Jt(l, 104).ngClassTouched, Jt(l, 104).ngClassPristine, Jt(l, 104).ngClassDirty, Jt(l, 104).ngClassValid, Jt(l, 104).ngClassInvalid, Jt(l, 104).ngClassPending), n(l, 112, 0, Jt(l, 118).ngClassUntouched, Jt(l, 118).ngClassTouched, Jt(l, 118).ngClassPristine, Jt(l, 118).ngClassDirty, Jt(l, 118).ngClassValid, Jt(l, 118).ngClassInvalid, Jt(l, 118).ngClassPending), n(l, 121, 0, Jt(l, 127).ngClassUntouched, Jt(l, 127).ngClassTouched, Jt(l, 127).ngClassPristine, Jt(l, 127).ngClassDirty, Jt(l, 127).ngClassValid, Jt(l, 127).ngClassInvalid, Jt(l, 127).ngClassPending)
            }))
        }

        function cO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Restart this run"])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 5, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 4, "div", [["class", "text-danger"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Are you sure you want to restart ?"])), (n()(), Xu(10, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), pr(-1, null, [" All progress from this run will be lost !"])), (n()(), Xu(12, 0, null, null, 4, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "button", [["class", "btn btn-secondary"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(15, 0, null, null, 1, "button", [["class", "btn btn-danger"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.restart() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Restart"]))], null, null)
        }

        function dO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 14, "ngb-tabset", [], null, null, null, L_, D_)), hi(1, 2146304, null, 1, Zm, [jm], null, null), tr(603979776, 1, {
                tabs: 1
            }), (n()(), Xu(3, 0, null, null, 5, "ngb-tab", [["title", "Game Options"]], null, null, null, null, null)), hi(4, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 2, {
                titleTpls: 1
            }), tr(603979776, 3, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, aO)), hi(8, 16384, [[3, 4]], 0, Wm, [Ne], null, null), (n()(), Xu(9, 0, null, null, 5, "ngb-tab", [["title", "UI Options"]], null, null, null, null, null)), hi(10, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 4, {
                titleTpls: 1
            }), tr(603979776, 5, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, sO)), hi(14, 16384, [[5, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(0, [["content", 2]], null, 0, null, cO))], (function (n, l) {
                n(l, 4, 0, "Game Options"), n(l, 10, 0, "UI Options")
            }), null)
        }
        var hO = $t("app-options", tO, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-options", [], null, null, null, dO, iO)), hi(1, 114688, null, 0, tO, [hg, sg, bg, Dm], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            pO = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.activatedRoute = l, this.data = e, this.conf = t, this.dataService = i, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.fragment.subscribe((function (l) {
                            l && (n.activetabeid = l), "tab_trade" === l ? n.initTabTrade() : "tab_global" === l && n.initTabGlobal()
                        })), this.hasDiplo = this.dataService.getRelations(0).length > 0
                    }
                }, {
                    key: "beforeChange",
                    value: function (n) {
                        "tab_trade" === n.nextId ? this.initTabTrade() : "tab_global" === n.nextId ? this.initTabGlobal() : "tab_stats" === n.nextId && this.initTabStats()
                    }
                }, {
                    key: "initTabStats",
                    value: function () {
                        this.popRanks = this.getPopRanks(), this.scienceRanks = this.getScienceRanks(), this.goldRanks = this.getGoldRanks(), this.wonderRanks = this.getWonderRanks(), this.troopRanks = this.getTroopRanks(), this.cityRanks = this.getCityRanks(), this.tradeRanks = this.getTradeRanks(), this.globalGold = this.getGlobalGold(), this.globalPop = this.getGlobalPop(), this.globalTroops = this.getGlobalTroops(), this.globalCities = this.getGlobalCities(), this.globalWonders = this.getGlobalWonders(), this.globalTrade = this.getGlobalTrade()
                    }
                }, {
                    key: "initTabTrade",
                    value: function () {
                        var n = this;
                        this.trades = this.data.trades.filter((function (n) {
                            return 0 == n.ownerid || 0 == n.destid
                        })), this.values = this.trades.map((function (l) {
                            return n.dataService.tradeRouteValue(n.dataService.city(l.from.x, l.from.y), n.dataService.city(l.to.x, l.to.y))
                        }))
                    }
                }, {
                    key: "initTabGlobal",
                    value: function () {
                        this.svg = {
                            width: 610,
                            height: 610,
                            selected: 0,
                            nodes: [],
                            relations: []
                        };
                        for (var n = this.data.players.length - 1, l = 0; l <= n; l++)
                            if (1 != this.data.players[l].id) {
                                var e = (0 == l ? 0 : l - 1) / (n / 2) * Math.PI,
                                    t = 250 * Math.cos(e) + this.svg.width / 2,
                                    i = 250 * Math.sin(e) + this.svg.width / 2;
                                this.svg.nodes.push({
                                    id: this.data.players[l].id,
                                    name: this.dataService.haveRelation(0, this.data.players[l].id) ? this.data.players[l].name : "?",
                                    x: t,
                                    y: i,
                                    color: this.dataService.color(this.data.players[l].id),
                                    color2: this.dataService.color2(this.data.players[l].id)
                                })
                            } this.selectPlayer(0)
                    }
                }, {
                    key: "influence",
                    value: function (n) {
                        return 100 * this.dataService.influence(0, n)
                    }
                }, {
                    key: "influenceDiff",
                    value: function (n) {
                        return this.dataService.influenceDiff(0, n) - this.dataService.influenceDiff(n, 0)
                    }
                }, {
                    key: "isPromotionAllowed",
                    value: function (n) {
                        return this.dataService.isPromotionAllowed(0, n)
                    }
                }, {
                    key: "promoteCooldown",
                    value: function (n) {
                        return this.dataService.player().promotion_cooldown[n] ? this.dataService.player().promotion_cooldown[n] : 0
                    }
                }, {
                    key: "promote",
                    value: function (n) {
                        this.dataService.promotionCost(0) > this.dataService.player().culture || !this.isPromotionAllowed(n) || this.dataService.promote(0, n)
                    }
                }, {
                    key: "selectPlayer",
                    value: function (n) {
                        var l = this;
                        this.svg.selected = n, this.svg.relations = [], this.dataService.getRelations(n).forEach((function (n) {
                            var e = n.playersid[0],
                                t = n.playersid[1],
                                i = l.svg.nodes.find((function (n) {
                                    return n.id == e
                                })),
                                u = l.svg.nodes.find((function (n) {
                                    return n.id == t
                                }));
                            i && u && l.svg.relations.push({
                                x1: i.x,
                                y1: i.y,
                                x2: u.x,
                                y2: u.y,
                                color: l.relColor(n)
                            })
                        }))
                    }
                }, {
                    key: "relColor",
                    value: function (n) {
                        return 3 == n.status ? "#28a745" : 2 == n.status ? "#6c757d" : 1 == n.status ? "#dc3545" : "#007bff"
                    }
                }, {
                    key: "p",
                    value: function (n) {
                        return this.dataService.player(n.playersid[1])
                    }
                }, {
                    key: "negociate",
                    value: function (n) {
                        this.nego = {
                            player: {
                                available: this.dataService.player().cities.map((function (n) {
                                    return n.id
                                })),
                                giving: []
                            },
                            ai: {
                                id: n,
                                available: this.dataService.player(n).cities.map((function (n) {
                                    return n.id
                                })),
                                giving: []
                            }
                        }
                    }
                }, {
                    key: "isAcceptable",
                    value: function () {
                        return !(this.dataService.getRelation(0, this.nego.ai.id).war_rating < 0 && this.nego.ai.giving.length > 0) && !(this.nego.ai.giving.length > this.dataService.troopNbById(0, "governor", !1, !1)) && this.dataService.peaceCost(this.dataService.player(), this.nego.ai.id) + this.offerValue() >= 0
                    }
                }, {
                    key: "offerResponse",
                    value: function () {
                        var n = this.dataService.getRelation(0, this.nego.ai.id),
                            l = this.dataService.peaceCost(this.dataService.player(), this.nego.ai.id);
                        return n.war_rating < 0 && this.nego.ai.giving.length > 0 ? "You are not in a position to make such demand" : l + this.offerValue() > .75 ? "If you are stupid enough to accept this, i will take it." : l + this.offerValue() > .5 ? "I would gladly accept that offer." : l + this.offerValue() >= 0 ? "This proposition is fair." : l + this.offerValue() > -.1 ? "Almost there..." : l + this.offerValue() > -.25 ? "That offer is not acceptable" : l + this.offerValue() > -.5 ? "This is outrageous" : "This offer is an insult."
                    }
                }, {
                    key: "offerPeace",
                    value: function () {
                        var n = this;
                        if (this.isAcceptable()) {
                            this.dataService.truce(0, this.nego.ai.id);
                            var l = this.nego.ai.giving.length;
                            this.dataService.player().cities.forEach((function (n) {
                                for (; n.troops.governor && l > 0;) n.troops.governor--, n.troops.governor <= 0 && delete n.troops.governor, l--
                            })), this.nego.player.giving.forEach((function (l) {
                                n.dataService.transferCity(l, n.nego.ai.id), n.dataService.city(l).troops = {}
                            })), this.nego.ai.giving.forEach((function (l) {
                                n.dataService.transferCity(l, 0), n.dataService.city(l).troops = {}
                            })), this.nego = void 0
                        }
                    }
                }, {
                    key: "move",
                    value: function (n, l, e) {
                        e.push(n), l.splice(l.indexOf(n), 1)
                    }
                }, {
                    key: "offerValue",
                    value: function () {
                        var n = this,
                            l = this.nego.ai.giving.reduce((function (l, e) {
                                return l + n.dataService.cityValue(n.dataService.city(e))
                            }), 0) / this.dataService.playerValue(this.nego.ai.id);
                        return this.nego.player.giving.reduce((function (l, e) {
                            return l + n.dataService.cityValue(n.dataService.city(e))
                        }), 0) / this.dataService.playerValue(0) - l
                    }
                }, {
                    key: "relation",
                    value: function (n) {
                        var l = this.dataService.player(n).appreciation[0];
                        return l < 25 ? '<span class="text-danger">Hostile</span>' : l < 50 ? '<span class="text-warning">Guarded</span>' : l < 75 ? '<span class="text-primary">Neutral</span>' : l < 95 ? '<span class="text-success">Friendly</span>' : '<span class="text-success">Gracious</span>'
                    }
                }, {
                    key: "status",
                    value: function (n) {
                        return 0 == n.status ? '<span class="text-primary">Peace</span>' : 2 == n.status ? "Truce" : 3 == n.status ? '<span class="text-success">Alliance</span>' : '<b class="text-danger">WAR !</b> (Fatigue: ' + Math.floor(100 - 100 * this.dataService.fatigueRatio(this.dataService.player(), n.playersid[1])) + "%)"
                    }
                }, {
                    key: "alliance",
                    value: function (n) {
                        n.status = 3, n.cooldown = this.conf.alliance_min_length
                    }
                }, {
                    key: "leaveAlliance",
                    value: function (n) {
                        n.status = 0, n.cooldown = 0
                    }
                }, {
                    key: "isAllianceAllowed",
                    value: function (n) {
                        return n.appreciation[0] >= 95
                    }
                }, {
                    key: "isWarAllowed",
                    value: function (n) {
                        return 0 == n.status
                    }
                }, {
                    key: "capital",
                    value: function (n) {
                        return this.dataService.player(n).cities.find((function (n) {
                            return n.capital
                        })).id
                    }
                }, {
                    key: "religion",
                    value: function (n) {
                        var l = this.conf.deities[this.dataService.player(n).deity];
                        return l ? '<span style="color:' + l.color + '">' + l.name + "</span>" : ""
                    }
                }, {
                    key: "tradeRoutesNumber",
                    value: function (n) {
                        var l = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return l ? this.data.trades.filter((function (l) {
                            return l.destid == n && 0 == l.ownerid
                        })).length : this.data.trades.filter((function (l) {
                            return l.ownerid == n && 0 == l.destid
                        })).length
                    }
                }, {
                    key: "deleteRoute",
                    value: function (n) {
                        this.dataService.supprTradeRoute(this.dataService.city(n.from.x, n.from.y), this.dataService.city(n.to.x, n.to.y)), this.initTabTrade()
                    }
                }, {
                    key: "war",
                    value: function (n) {
                        this.dataService.war(0, n.playersid[1])
                    }
                }, {
                    key: "wonders",
                    value: function () {
                        var n = this,
                            l = [];
                        return Object.values(this.conf.buildings).filter((function (l) {
                            return l.wonder && n.dataService.isWonderDone(l.id)
                        })).forEach((function (e) {
                            var t = n.dataService.cityForWonder(e.id),
                                i = t.ownerid;
                            !n.dataService.haveRelation(0, t.ownerid) && i > 1 && (i = -1);
                            var u = t.id;
                            n.dataService.isDiscovered(0, t.x, t.y) || (u = -1), l.push({
                                label: e.label(null),
                                playerid: i,
                                cityid: u
                            })
                        })), l
                    }
                }, {
                    key: "colonies",
                    value: function () {
                        var n = this,
                            l = [],
                            e = {};
                        return this.data.colonies.forEach((function (n) {
                            e[n] ? e[n]++ : e[n] = 1
                        })), Object.keys(e).forEach((function (t) {
                            var i = n.dataService.city(+t),
                                u = i.ownerid;
                            !n.dataService.haveRelation(0, i.ownerid) && u > 1 && (u = -1);
                            var r = i.id;
                            n.dataService.isDiscovered(0, i.x, i.y) || (r = -1), l.push({
                                nb: e[t],
                                playerid: u,
                                cityid: r
                            })
                        })), l
                    }
                }, {
                    key: "trackItem",
                    value: function (n, l) {
                        return n
                    }
                }, {
                    key: "getPopRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                pop: l.cities.reduce((function (l, e) {
                                    return l + n.dataService.pop(e)
                                }), 0)
                            }
                        })).sort((function (n, l) {
                            return n.pop > l.pop ? -1 : n.pop < l.pop ? 1 : 0
                        }))
                    }
                }, {
                    key: "getScienceRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                sciences: Object.values(l.sciences).filter((function (n) {
                                    return n.done
                                })).length
                            }
                        })).sort((function (n, l) {
                            return n.sciences > l.sciences ? -1 : n.sciences < l.sciences ? 1 : 0
                        }))
                    }
                }, {
                    key: "getGoldRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                gold: n.dataService.goldTotal(l.id)
                            }
                        })).sort((function (n, l) {
                            return n.gold > l.gold ? -1 : n.gold < l.gold ? 1 : 0
                        }))
                    }
                }, {
                    key: "getWonderRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                nb: n.dataService.wondersNb(l.id)
                            }
                        })).sort((function (n, l) {
                            return n.nb > l.nb ? -1 : n.nb < l.nb ? 1 : 0
                        }))
                    }
                }, {
                    key: "getTroopRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                troops: l.cities.reduce((function (l, e) {
                                    return l + (n.dataService.troopNb(e, !0) || 0)
                                }), 0)
                            }
                        })).sort((function (n, l) {
                            return n.troops > l.troops ? -1 : n.troops < l.troops ? 1 : 0
                        }))
                    }
                }, {
                    key: "getCityRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                cities: l.cities.length
                            }
                        })).sort((function (n, l) {
                            return n.cities > l.cities ? -1 : n.cities < l.cities ? 1 : 0
                        }))
                    }
                }, {
                    key: "getTradeRanks",
                    value: function () {
                        var n = this;
                        return this.data.players.map((function (l) {
                            return {
                                id: l.id <= 1 || n.dataService.haveRelation(0, l.id) ? l.id : -1,
                                nb: n.dataService.tradeRouteNb(l)
                            }
                        })).sort((function (n, l) {
                            return n.nb > l.nb ? -1 : n.nb < l.nb ? 1 : 0
                        }))
                    }
                }, {
                    key: "getGlobalGold",
                    value: function () {
                        return this.dataService.allCities().reduce((function (n, l) {
                            return n + l.gold
                        }), 0)
                    }
                }, {
                    key: "getGlobalPop",
                    value: function () {
                        var n = this;
                        return this.dataService.allCities().reduce((function (l, e) {
                            return l + n.dataService.pop(e)
                        }), 0)
                    }
                }, {
                    key: "getGlobalTroops",
                    value: function () {
                        var n = this;
                        return this.dataService.allCities().reduce((function (l, e) {
                            return l + (n.dataService.troopNb(e, !0) || 0)
                        }), 0)
                    }
                }, {
                    key: "getGlobalCities",
                    value: function () {
                        return this.dataService.allCities().length
                    }
                }, {
                    key: "getGlobalWonders",
                    value: function () {
                        var n = this,
                            l = 0;
                        return Object.values(this.conf.buildings).filter((function (n) {
                            return n.wonder
                        })).forEach((function (e) {
                            n.dataService.isWonderDone(e.id) && l++
                        })), l
                    }
                }, {
                    key: "getGlobalTrade",
                    value: function () {
                        return this.data.trades.length
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        var e = this.dataService.player(l);
                        n.open({
                            id: l,
                            civid: e.civ_id
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            fO = et({
                encapsulation: 0,
                styles: [["g[_ngcontent-%COMP%]{cursor:pointer}g[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], line[_ngcontent-%COMP%]{stroke-width:3px}text[_ngcontent-%COMP%]{font-size:90%;font-weight:700}g.selected[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], g[_ngcontent-%COMP%]:hover   circle[_ngcontent-%COMP%]{stroke-width:5px}.progress[_ngcontent-%COMP%]{height:20px}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.line[_ngcontent-%COMP%]{width:20px;height:4px;display:inline-block;margin-bottom:4px}"]],
                data: {}
            });

        function gO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "div", [["class", "bg-info text-light p-3"]], null, null, null, null, null)), (n()(), pr(-1, null, [" You haven't discovered any civilization yet ! "]))], null, null)
        }

        function vO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "span", [], null, null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(2, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(3, {
                color: 0
            }), (n()(), pr(4, null, [" ", " "]))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, e.conf.deities[e.p(l.parent.context.$implicit).deity].color);
                n(l, 2, 0, t)
            }), (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.conf.deities[e.p(l.parent.context.$implicit).deity].name)
            }))
        }

        function mO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "td", [["class", "text-colony"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(2, null, [" ", " "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.colony), n(l, 2, 0, e.dataService.colonyNb(e.p(l.parent.context.$implicit).id))
            }))
        }

        function yO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(Allowed in ", ")"])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent.parent.parent, 1), l.parent.parent.context.$implicit.cooldown));
                n(l, 1, 0, e)
            }))
        }

        function bO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-danger mr-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.war(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, [" Declare war ! "])), (n()(), Yu(16777216, null, null, 1, null, yO)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, !l.component.isWarAllowed(l.parent.context.$implicit))
            }), (function (n, l) {
                n(l, 0, 0, !l.component.isWarAllowed(l.parent.context.$implicit))
            }))
        }

        function _O(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(Allowed in ", ")"])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent.parent.parent, 1), l.parent.parent.context.$implicit.cooldown));
                n(l, 1, 0, e)
            }))
        }

        function kO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-primary mr-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.negociate(i.p(n.parent.context.$implicit).id) && t), t
            }), null, null)), (n()(), pr(-1, null, [" Negociate peace "])), (n()(), Yu(16777216, null, null, 1, null, _O)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.cooldown)
            }), (function (n, l) {
                n(l, 0, 0, l.parent.context.$implicit.cooldown)
            }))
        }

        function wO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-success mr-1"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.alliance(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, [" Offer Defensive Pact "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, !e.isAllianceAllowed(e.p(l.parent.context.$implicit)))
            }))
        }

        function xO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(Allowed in ", ")"])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent.parent.parent, 1), l.parent.parent.context.$implicit.cooldown));
                n(l, 1, 0, e)
            }))
        }

        function CO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "button", [["class", "btn btn-primary"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.leaveAlliance(n.parent.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, [" Leave Defensive Pact "])), (n()(), Yu(16777216, null, null, 1, null, xO)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.cooldown)
            }), (function (n, l) {
                n(l, 0, 0, l.parent.context.$implicit.cooldown)
            }))
        }

        function SO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 37, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "b", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(4, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(5, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(7, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(8, 16777216, null, null, 6, "td", [["container", "body"], ["triggers", "manuel"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 9), i.p(n.context.$implicit).id) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 9)) && t), t
            }), null, null)), hi(9, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                triggers: [1, "triggers"],
                container: [2, "container"]
            }, null), (n()(), Xu(10, 0, null, null, 0, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), pr(-1, null, [" ("])), (n()(), Xu(12, 0, null, null, 1, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(13, 2), (n()(), pr(-1, null, [")"])), (n()(), Xu(15, 0, null, null, 0, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(16, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, vO)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 3, "td", [["class", "text-trade"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(21, null, [" ", " "])), (n()(), Xu(22, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(23, 0, null, null, 3, "td", [["class", "text-trade"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(25, null, [" ", " "])), (n()(), Xu(26, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, mO)), hi(28, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(29, 0, null, null, 8, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, bO)), hi(31, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, kO)), hi(33, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, wO)), hi(35, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CO)), hi(37, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.p(l.context.$implicit).id), n(l, 7, 0, e.capital(e.p(l.context.$implicit).id)), n(l, 9, 0, Jt(l.parent.parent.parent, 31), "manuel", "body"), n(l, 18, 0, e.dataService.isUnlocked("deity_selection") && e.conf.deities[e.p(l.context.$implicit).deity]), n(l, 28, 0, e.dataService.isUnlocked("colonization")), n(l, 31, 0, 0 == l.context.$implicit.status || 2 == l.context.$implicit.status), n(l, 33, 0, 1 == l.context.$implicit.status), n(l, 35, 0, 0 == l.context.$implicit.status && e.dataService.isUnlocked("alliance") && e.dataService.hasScience("diplomacy", e.p(l.context.$implicit))), n(l, 37, 0, 3 == l.context.$implicit.status)
            }), (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.relation(e.p(l.context.$implicit).id));
                var t = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent.parent.parent, 0), e.dataService.diploDiff(e.p(l.context.$implicit).id, 0), "+.1c"));
                n(l, 12, 0, t), n(l, 15, 0, e.status(l.context.$implicit)), n(l, 20, 0, e.icons.trade), n(l, 21, 0, e.tradeRoutesNumber(e.p(l.context.$implicit).id, !0)), n(l, 22, 0, e.icons.arrow_right), n(l, 24, 0, e.icons.trade), n(l, 25, 0, e.tradeRoutesNumber(e.p(l.context.$implicit).id, !1)), n(l, 26, 0, e.icons.arrow_left)
            }))
        }

        function IO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "table", [["class", "table"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, SO)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.component.dataService.getRelations(0))
            }), null)
        }

        function TO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, null, null, null, null, null, null, null))], null, null)
        }

        function EO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "p-2 p-2 cursor-pointer"], ["hover-class", "bg-dark text-light"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.move(n.context.$implicit, i.nego.player.available, i.nego.player.giving) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, TO)), hi(3, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), dr(4, {
                id: 0
            })], (function (n, l) {
                n(l, 1, 0, "bg-dark text-light");
                var e = n(l, 4, 0, l.context.$implicit);
                n(l, 3, 0, e, Jt(l.parent.parent.parent, 32))
            }), null)
        }

        function AO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, null, null, null, null, null, null, null))], null, null)
        }

        function PO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "p-2 cursor-pointer"], ["hover-class", "bg-dark text-light"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.move(n.context.$implicit, i.nego.player.giving, i.nego.player.available) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, AO)), hi(3, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), dr(4, {
                id: 0
            })], (function (n, l) {
                n(l, 1, 0, "bg-dark text-light");
                var e = n(l, 4, 0, l.context.$implicit);
                n(l, 3, 0, e, Jt(l.parent.parent.parent, 32))
            }), null)
        }

        function OO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, null, null, null, null, null, null, null))], null, null)
        }

        function DO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "p-2 cursor-pointer"], ["hover-class", "bg-dark text-light"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.move(n.context.$implicit, i.nego.ai.giving, i.nego.ai.available) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, OO)), hi(3, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), dr(4, {
                id: 0
            })], (function (n, l) {
                n(l, 1, 0, "bg-dark text-light");
                var e = n(l, 4, 0, l.context.$implicit);
                n(l, 3, 0, e, Jt(l.parent.parent.parent, 32))
            }), null)
        }

        function RO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, null, null, null, null, null, null, null))], null, null)
        }

        function MO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "div", [["class", "p-2 cursor-pointer"], ["hover-class", "bg-dark text-light"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.move(n.context.$implicit, i.nego.ai.available, i.nego.ai.giving) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, RO)), hi(3, 540672, null, 0, To, [ze], {
                ngTemplateOutletContext: [0, "ngTemplateOutletContext"],
                ngTemplateOutlet: [1, "ngTemplateOutlet"]
            }, null), dr(4, {
                id: 0
            })], (function (n, l) {
                n(l, 1, 0, "bg-dark text-light");
                var e = n(l, 4, 0, l.context.$implicit);
                n(l, 3, 0, e, Jt(l.parent.parent.parent, 32))
            }), null)
        }

        function NO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You will need 1 governor to administer the new city."]))], null, null)
        }

        function BO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["You will need ", " governors to administer the new cities."]))], null, (function (n, l) {
                n(l, 1, 0, l.component.nego.ai.giving.length)
            }))
        }

        function zO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "bg-warning font-weight-bold d-inline-block p-2 m-2 text-dark"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, NO)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, BO)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, 1 == e.nego.ai.giving.length), n(l, 5, 0, e.nego.ai.giving.length > 1)
            }), (function (n, l) {
                n(l, 1, 0, l.component.icons.support + " mr-2")
            }))
        }

        function LO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 36, "div", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "div", [], null, null, null, null, null)), (n()(), pr(2, null, ["", ""])), (n()(), Xu(3, 0, null, null, 24, "div", [["class", "d-flex align-items-stretch overflow-auto"], ["style", "height:300px"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "div", [["class", "d-flex flex-column align-items-stretch border overflow-auto"], ["style", "width:20%"]], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "div", [["class", "p-2 bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Your cities"])), (n()(), Yu(16777216, null, null, 1, null, EO)), hi(8, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(9, 0, null, null, 1, "div", [["class", "px-4 d-flex align-items-center text-200"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(11, 0, null, null, 4, "div", [["class", "d-flex flex-column align-items-stretch border overflow-auto"], ["style", "width:20%"]], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 1, "div", [["class", "p-2 bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Your offers"])), (n()(), Yu(16777216, null, null, 1, null, PO)), hi(15, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(16, 0, null, null, 4, "div", [["class", "d-flex flex-column align-items-stretch border overflow-auto"], ["style", "width:20%"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 1, "div", [["class", "p-2 bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Your demands"])), (n()(), Yu(16777216, null, null, 1, null, DO)), hi(20, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(21, 0, null, null, 1, "div", [["class", "px-4 d-flex align-items-center text-200"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(23, 0, null, null, 4, "div", [["class", "d-flex flex-column align-items-stretch border overflow-auto"], ["style", "width:20%"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "div", [["class", "p-2 bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(25, null, ["", " cities"])), (n()(), Yu(16777216, null, null, 1, null, MO)), hi(27, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zO)), hi(29, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(30, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), Xu(31, 0, null, null, 1, "button", [["class", "btn btn-secondary mr-3"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== (n.component.nego = void 0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(33, 0, null, null, 3, "button", [["ngClass", "btn btn-primary"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.offerPeace() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(35, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), (n()(), pr(-1, null, ["Offer peace"]))], (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.nego.player.available), n(l, 15, 0, e.nego.player.giving), n(l, 20, 0, e.nego.ai.giving), n(l, 27, 0, e.nego.ai.available), n(l, 29, 0, e.nego.ai.giving.length), n(l, 35, 0, "btn btn-primary")
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.offerResponse()), n(l, 10, 0, e.icons.arrow_right), n(l, 22, 0, e.icons.arrow_left), n(l, 25, 0, e.dataService.player(e.nego.ai.id).name), n(l, 33, 0, !e.isAcceptable())
            }))
        }

        function FO(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, gO)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, IO)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, LO)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, !e.nego && !e.hasDiplo), n(l, 3, 0, !e.nego && e.hasDiplo), n(l, 5, 0, e.nego)
            }), null)
        }

        function qO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, ":svg:line", [], [[1, "x1", 0], [1, "x2", 0], [1, "y1", 0], [1, "y2", 0], [1, "stroke", 0]], null, null, null, null))], null, (function (n, l) {
                n(l, 0, 0, l.context.$implicit.x1, l.context.$implicit.x2, l.context.$implicit.y1, l.context.$implicit.y2, l.context.$implicit.color)
            }))
        }

        function UO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, ":svg:g", [], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.selectPlayer(n.context.$implicit.id) && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                selected: 0
            }), (n()(), Xu(4, 0, null, null, 0, ":svg:circle", [["r", "45"]], [[8, "id", 0], [1, "cx", 0], [1, "cy", 0], [1, "stroke", 0], [1, "fill", 0]], null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, ":svg:text", [["dy", ".3em"], ["text-anchor", "middle"]], [[1, "x", 0], [1, "y", 0], [1, "fill", 0]], null, null, null, null)), (n()(), pr(6, null, ["", ""]))], (function (n, l) {
                var e = n(l, 3, 0, l.context.$implicit.id == l.component.svg.selected);
                n(l, 2, 0, e)
            }), (function (n, l) {
                n(l, 4, 0, At(1, "player-", l.context.$implicit.id, ""), l.context.$implicit.x, l.context.$implicit.y, l.context.$implicit.color, l.context.$implicit.color2), n(l, 5, 0, l.context.$implicit.x, l.context.$implicit.y, l.context.$implicit.color), n(l, 6, 0, l.context.$implicit.name)
            }))
        }

        function $O(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, ":svg:svg", [["class", "diplo-global"]], [[1, "width", 0], [1, "height", 0]], null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, qO)), hi(2, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, UO)), hi(4, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.svg.relations), n(l, 4, 0, e.svg.nodes)
            }), (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.svg.width, e.svg.height)
            }))
        }

        function HO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 15, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, $O)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(3, 0, null, null, 12, "div", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "div", [["class", "line bg-primary"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Peace "])), (n()(), Xu(7, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, "div", [["class", "line bg-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, [" War "])), (n()(), Xu(10, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 0, "div", [["class", "line bg-secondary"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Truce "])), (n()(), Xu(13, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(14, 0, null, null, 0, "div", [["class", "line bg-success"]], null, null, null, null, null)), (n()(), pr(-1, null, [" Alliance "]))], (function (n, l) {
                n(l, 2, 0, l.component.svg)
            }), null)
        }

        function VO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_global"], ["title", "Global Diplomacy"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 4, {
                titleTpls: 1
            }), tr(603979776, 5, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, HO)), hi(5, 16384, [[5, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_global", "Global Diplomacy")
            }), null)
        }

        function jO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [], null, null, null, null, null)), (n()(), pr(-1, null, [" ("])), (n()(), Xu(2, 0, null, null, 3, "span", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(4, null, [" ", ""])), cr(5, 1), (n()(), pr(-1, null, [") "]))], null, (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.icons.culture);
                var t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent.parent.parent.parent.parent, 0), e.dataService.promotionCost(0)));
                n(l, 4, 0, t)
            }))
        }

        function GO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["(Allowed in ", ")"])), cr(2, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent.parent.parent.parent, 1), e.promoteCooldown(e.p(l.parent.parent.context.$implicit).id)));
                n(l, 1, 0, t)
            }))
        }

        function WO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "td", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 5, "button", [["class", "btn btn-warning"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (t = !1 !== i.promote(i.p(n.parent.context.$implicit).id) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Promote culture "])), (n()(), Yu(16777216, null, null, 1, null, jO)), hi(4, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, GO)), hi(6, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.isPromotionAllowed(e.p(l.parent.context.$implicit).id)), n(l, 6, 0, !e.isPromotionAllowed(e.p(l.parent.context.$implicit).id))
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.promotionCost(0) > e.dataService.player().culture || !e.isPromotionAllowed(e.p(l.parent.context.$implicit).id))
            }))
        }

        function KO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 16, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "b", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(4, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(5, 0, null, null, 9, "td", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 1, "span", [["class", "text-influence text-120"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(8, 0, null, null, 2, "span", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(9, null, [" ", "% "])), cr(10, 2), (n()(), pr(-1, null, [" ("])), (n()(), Xu(12, 0, null, null, 1, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(13, 2), (n()(), pr(-1, null, [") "])), (n()(), Yu(16777216, null, null, 1, null, WO)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 4, 0, e.p(l.context.$implicit).id), n(l, 16, 0, e.dataService.isUnlocked("promotion"))
            }), (function (n, l) {
                var e = l.component;
                n(l, 7, 0, e.icons.influence), n(l, 8, 0, At(1, "", e.influence(e.p(l.context.$implicit).id) > 0 ? "text-success" : "text-danger", " text-120 font-weight-bold"));
                var t = Je(l, 9, 0, n(l, 10, 0, Jt(l.parent.parent.parent.parent, 0), e.influence(e.p(l.context.$implicit).id), "+.1"));
                n(l, 9, 0, t);
                var i = Je(l, 12, 0, n(l, 13, 0, Jt(l.parent.parent.parent.parent, 0), e.influenceDiff(e.p(l.context.$implicit).id), "+.0c"));
                n(l, 12, 0, i)
            }))
        }

        function ZO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "table", [["class", "table"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, KO)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.component.dataService.getRelations(0))
            }), null)
        }

        function QO(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, ZO)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, !e.nego && e.hasDiplo)
            }), null)
        }

        function YO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_influence"], ["title", "Influence"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 6, {
                titleTpls: 1
            }), tr(603979776, 7, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, QO)), hi(5, 16384, [[7, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_influence", "Influence")
            }), null)
        }

        function XO(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 29, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(3, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(4, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(6, 114688, null, 0, qk, [hg, bg], {
                x: [0, "x"],
                y: [1, "y"]
            }, null), (n()(), Xu(7, 0, null, null, 3, "td", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(9, null, [" +", ""])), cr(10, 1), (n()(), Xu(11, 0, null, null, 3, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(13, null, [" +", " "])), cr(14, 1), (n()(), Xu(15, 0, null, null, 3, "td", [["class", "text-diplomacy"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(17, null, [" +", ""])), cr(18, 2), (n()(), Xu(19, 0, null, null, 3, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(21, null, [" +", " "])), cr(22, 1), (n()(), Xu(23, 0, null, null, 3, "td", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(25, null, [" +", ""])), cr(26, 1), (n()(), Xu(27, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(28, 0, null, null, 1, "button", [["class", "btn btn-danger"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.deleteRoute(n.context.$implicit) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Delete route"]))], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.from.x, l.context.$implicit.from.y), n(l, 6, 0, l.context.$implicit.to.x, l.context.$implicit.to.y)
            }), (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.icons.gold);
                var t = Je(l, 9, 0, n(l, 10, 0, Jt(l.parent.parent.parent, 0), e.values[l.context.index].gold * (0 == l.context.$implicit.ownerid ? 1 : e.conf.trade_route_ratio)));
                n(l, 9, 0, t), n(l, 12, 0, e.icons.culture);
                var i = Je(l, 13, 0, n(l, 14, 0, Jt(l.parent.parent.parent, 0), e.values[l.context.index].culture * (0 == l.context.$implicit.ownerid ? 1 : e.conf.trade_route_ratio)));
                n(l, 13, 0, i), n(l, 16, 0, e.icons.diplomacy);
                var u = Je(l, 17, 0, n(l, 18, 0, Jt(l.parent.parent.parent, 0), e.values[l.context.index].diplomacy, ".1"));
                n(l, 17, 0, u), n(l, 20, 0, e.icons.science);
                var r = Je(l, 21, 0, n(l, 22, 0, Jt(l.parent.parent.parent, 0), e.values[l.context.index].science * (0 == l.context.$implicit.ownerid ? 1 : e.conf.trade_route_ratio)));
                n(l, 21, 0, r), n(l, 24, 0, e.icons.faith);
                var a = Je(l, 25, 0, n(l, 26, 0, Jt(l.parent.parent.parent, 0), e.values[l.context.index].faith * (0 == l.context.$implicit.ownerid ? 1 : e.conf.trade_route_ratio)));
                n(l, 25, 0, a)
            }))
        }

        function JO(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 2, "b", [["class", "d-inline-block m-3"], ["container", "body"]], null, null, null, null, null)), hi(1, 737280, null, 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                container: [1, "container"]
            }, null), (n()(), pr(2, null, ["Maximum nb of trade routes : ", ""])), (n()(), Xu(3, 0, null, null, 20, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 16, "thead", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 15, "tr", [], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["From"])), (n()(), Xu(8, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["To"])), (n()(), Xu(10, 0, null, null, 1, "th", [["class", "text-gold"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(12, 0, null, null, 1, "th", [["class", "text-culture"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(14, 0, null, null, 1, "th", [["class", "text-diplomacy"]], null, null, null, null, null)), (n()(), Xu(15, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(16, 0, null, null, 1, "th", [["class", "text-science"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(18, 0, null, null, 1, "th", [["class", "text-faith"]], null, null, null, null, null)), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(20, 0, null, null, 0, "th", [], null, null, null, null, null)), (n()(), Xu(21, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, XO)), hi(23, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(24, 0, null, null, 2, "div", [["class", "p-2 d-inline-block"]], null, null, null, null, null)), (n()(), Xu(25, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, ["Deleting a trade route results in loosing the associated caravan. "]))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent, 33), "body"), n(l, 23, 0, e.trades)
            }), (function (n, l) {
                var e = l.component;
                n(l, 2, 0, e.dataService.maxTradeRoute()), n(l, 11, 0, e.icons.gold), n(l, 13, 0, e.icons.culture), n(l, 15, 0, e.icons.diplomacy), n(l, 17, 0, e.icons.science), n(l, 19, 0, e.icons.faith), n(l, 25, 0, e.icons.warning)
            }))
        }

        function nD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_trade"], ["title", "Trade Routes"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 8, {
                titleTpls: 1
            }), tr(603979776, 9, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, JO)), hi(5, 16384, [[9, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_trade", "Trade Routes")
            }), null)
        }

        function lD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(1, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.cityid)
            }), null)
        }

        function eD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["style", "color: #999"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Unknown city "]))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.player)
            }))
        }

        function tD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 11, null, null, null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 10, "tr", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(6, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(7, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, lD)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, eD)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 6, 0, l.context.$implicit.playerid), n(l, 9, 0, -1 != l.context.$implicit.cityid), n(l, 11, 0, -1 == l.context.$implicit.cityid)
            }), (function (n, l) {
                n(l, 3, 0, l.context.$implicit.label)
            }))
        }

        function iD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 11, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 7, "thead", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 6, "tr", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Wonder"])), (n()(), Xu(5, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Owner"])), (n()(), Xu(7, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Xu(9, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, tD)), hi(11, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"],
                ngForTrackBy: [1, "ngForTrackBy"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 11, 0, e.wonders(), e.trackItem)
            }), null)
        }

        function uD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "city", [], null, null, null, Hk, Uk)), hi(1, 114688, null, 0, qk, [hg, bg], {
                id: [0, "id"]
            }, null)], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.cityid)
            }), null)
        }

        function rD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "span", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "span", [["style", "color: #999"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Unknown city "]))], null, (function (n, l) {
                n(l, 2, 0, l.component.icons.player)
            }))
        }

        function aD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 12, null, null, null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 11, "tr", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "player", [], null, null, null, eE, nE)), hi(4, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(5, 0, null, null, 4, "td", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, uD)), hi(7, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, rD)), hi(9, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(10, 0, null, null, 2, "td", [["class", "text-colony"]], null, null, null, null, null)), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(12, null, [" ", ""]))], (function (n, l) {
                n(l, 4, 0, l.context.$implicit.playerid), n(l, 7, 0, -1 != l.context.$implicit.cityid), n(l, 9, 0, -1 == l.context.$implicit.cityid)
            }), (function (n, l) {
                n(l, 11, 0, l.component.icons.colony), n(l, 12, 0, l.context.$implicit.nb)
            }))
        }

        function oD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 12, "table", [["class", "table table-sm"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 8, "thead", [], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 7, "tr", [], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Owner"])), (n()(), Xu(5, 0, null, null, 1, "th", [], null, null, null, null, null)), (n()(), pr(-1, null, ["City"])), (n()(), Xu(7, 0, null, null, 2, "th", [["class", "text-colony"]], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" Colonies"])), (n()(), Xu(10, 0, null, null, 2, "tbody", [], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, aD)), hi(12, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"],
                ngForTrackBy: [1, "ngForTrackBy"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 12, 0, e.colonies(), e.trackItem)
            }), (function (n, l) {
                n(l, 8, 0, l.component.icons.colony)
            }))
        }

        function sD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_colonies"], ["title", "Colonies"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 12, {
                titleTpls: 1
            }), tr(603979776, 13, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, oD)), hi(5, 16384, [[13, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_colonies", "Colonies")
            }), null)
        }

        function cD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.cities)
            }))
        }

        function dD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, cD)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, l.context.$implicit.id <= 1 || e.dataService.haveRelation(0, l.context.$implicit.id))
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function hD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.pop)
            }))
        }

        function pD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, hD)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, l.context.$implicit.id <= 1 || e.dataService.haveRelation(0, l.context.$implicit.id))
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function fD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent, 0), l.parent.context.$implicit.troops));
                n(l, 1, 0, e)
            }))
        }

        function gD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, fD)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, 0 == l.context.$implicit.id)
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function vD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""]))], null, (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.sciences)
            }))
        }

        function mD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, vD)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, 0 == l.context.$implicit.id)
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function yD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent, 0), l.parent.context.$implicit.gold));
                n(l, 1, 0, e)
            }))
        }

        function bD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, yD)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, 0 == l.context.$implicit.id)
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function _D(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (n()(), pr(1, null, [" ", ""])), cr(2, 1)], null, (function (n, l) {
                var e = Je(l, 1, 0, n(l, 2, 0, Jt(l.parent.parent.parent, 0), l.parent.context.$implicit.nb));
                n(l, 1, 0, e)
            }))
        }

        function kD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, _D)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.context.$implicit.id), n(l, 5, 0, 0 == l.context.$implicit.id || e.dataService.haveRelation(0, l.context.$implicit.id))
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1)
            }))
        }

        function wD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(1, null, [" ", ". "])), (n()(), Xu(2, 0, null, null, 1, "player", [["class", "flex-fill"]], null, null, null, eE, nE)), hi(3, 114688, null, 0, JT, [bg], {
                id: [0, "id"]
            }, null), (n()(), Xu(4, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(5, null, ["", ""]))], (function (n, l) {
                n(l, 3, 0, l.context.$implicit.id)
            }), (function (n, l) {
                n(l, 1, 0, l.context.index + 1), n(l, 5, 0, l.context.$implicit.nb)
            }))
        }

        function xD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 27, "div", [["class", "d-flex border-bottom"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 6, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 3, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Global cities:"])), (n()(), pr(5, null, [" ", ""])), (n()(), Yu(16777216, null, null, 1, null, dD)), hi(7, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(8, 0, null, null, 6, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 3, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Global population:"])), (n()(), pr(12, null, [" ", ""])), (n()(), Yu(16777216, null, null, 1, null, pD)), hi(14, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(15, 0, null, null, 7, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(16, 0, null, null, 4, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(17, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Global troops number:"])), (n()(), pr(19, null, [" ", ""])), cr(20, 1), (n()(), Yu(16777216, null, null, 1, null, gD)), hi(22, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(23, 0, null, null, 4, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(24, 0, null, null, 1, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Science"])), (n()(), Yu(16777216, null, null, 1, null, mD)), hi(27, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(28, 0, null, null, 23, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(29, 0, null, null, 7, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(30, 0, null, null, 4, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(31, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Global gold:"])), (n()(), pr(33, null, [" ", ""])), cr(34, 1), (n()(), Yu(16777216, null, null, 1, null, bD)), hi(36, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(37, 0, null, null, 7, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(38, 0, null, null, 4, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(39, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Global trade:"])), (n()(), pr(41, null, [" ", ""])), cr(42, 1), (n()(), Yu(16777216, null, null, 1, null, kD)), hi(44, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Xu(45, 0, null, null, 6, "div", [["class", "mr-4 border-left pl-2"], ["style", "width:220px"]], null, null, null, null, null)), (n()(), Xu(46, 0, null, null, 3, "div", [["class", "d-flex"]], null, null, null, null, null)), (n()(), Xu(47, 0, null, null, 1, "span", [["class", "flex-fill"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Wonders:"])), (n()(), pr(49, null, [" ", ""])), (n()(), Yu(16777216, null, null, 1, null, wD)), hi(51, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 7, 0, e.cityRanks), n(l, 14, 0, e.popRanks), n(l, 22, 0, e.troopRanks), n(l, 27, 0, e.scienceRanks), n(l, 36, 0, e.goldRanks), n(l, 44, 0, e.tradeRanks), n(l, 51, 0, e.wonderRanks)
            }), (function (n, l) {
                var e = l.component;
                n(l, 5, 0, e.globalCities), n(l, 12, 0, e.globalPop);
                var t = Je(l, 19, 0, n(l, 20, 0, Jt(l.parent, 0), e.globalTroops));
                n(l, 19, 0, t);
                var i = Je(l, 33, 0, n(l, 34, 0, Jt(l.parent, 0), e.globalGold));
                n(l, 33, 0, i);
                var u = Je(l, 41, 0, n(l, 42, 0, Jt(l.parent, 0), e.globalTrade));
                n(l, 41, 0, u), n(l, 49, 0, e.globalWonders)
            }))
        }

        function CD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["War"])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(-1, null, ["- 1"]))], null, null)
        }

        function SD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade routes"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), e.dataService.diploTrade(l.parent.context.id, 0), ".1"));
                n(l, 4, 0, t)
            }))
        }

        function ID(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Proximity"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-danger"]], null, null, null, null, null)), (n()(), pr(4, null, ["- ", ""])), cr(5, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), e.dataService.diploProximity(l.parent.context.id, 0), ".1"));
                n(l, 4, 0, t)
            }))
        }

        function TD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Religion"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.diploDeity(l.parent.context.id, 0), "+.0c"));
                n(l, 3, 0, t)
            }))
        }

        function ED(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Relations"])), (n()(), Xu(3, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(4, 2)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.dataService.diploRelations(l.parent.context.id, 0), "+.1c"));
                n(l, 3, 0, t)
            }))
        }

        function AD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Relations"])), (n()(), Xu(2, 0, null, null, 21, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 20, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(8, 2), (n()(), Yu(16777216, null, null, 1, null, CD)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, SD)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ID)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, TD)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ED)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(19, 0, null, null, 4, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(20, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(22, 0, null, null, 1, "td", [], [[8, "innerHTML", 1]], null, null, null, null)), cr(23, 2)], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.atWar(l.context.id, 0)), n(l, 12, 0, e.dataService.diploTrade(l.context.id, 0)), n(l, 14, 0, e.dataService.diploProximity(l.context.id, 0)), n(l, 16, 0, e.dataService.diploDeity(l.context.id, 0)), n(l, 18, 0, e.dataService.diploRelations(l.context.id, 0))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 7, 0, n(l, 8, 0, Jt(l.parent, 0), e.dataService.diploBase(l.context.id, 0), "+.1c"));
                n(l, 7, 0, t);
                var i = Je(l, 22, 0, n(l, 23, 0, Jt(l.parent, 0), e.dataService.diploDiff(l.context.id, 0), "+.1c"));
                n(l, 22, 0, i)
            }))
        }

        function PD(n) {
            return vr(0, [(n()(), pr(0, null, [" ", " (", ")\n"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 0, 0, e.dataService.city(l.context.id).name, e.dataService.pop(e.dataService.city(l.context.id)))
            }))
        }

        function OD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Diplomacy: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function DD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Optics: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function RD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-science"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Engineering: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function MD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Pacifism: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function ND(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Platonic Academy: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function BD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Trade Node"])), (n()(), Xu(3, 0, null, null, 2, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""])), cr(5, 1)], null, (function (n, l) {
                var e = l.component,
                    t = Je(l, 4, 0, n(l, 5, 0, Jt(l.parent.parent, 0), e.dataService.tradeNodeBonus()));
                n(l, 4, 0, t)
            }))
        }

        function zD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Colossus: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 1"]))], null, null)
        }

        function LD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Panama Canal: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(-1, null, ["+ 2"]))], null, null)
        }

        function FD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "td", [["class", "text-culture"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrades: "])), (n()(), Xu(3, 0, null, null, 1, "td", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(4, null, ["+ ", ""]))], null, (function (n, l) {
                n(l, 4, 0, l.component.dataService.upgradeTrade(0))
            }))
        }

        function qD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "b", [["class", "text-center d-block border-bottom bg-dark text-light"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Maximum Nb of trade routes"])), (n()(), Xu(2, 0, null, null, 28, "table", [["class", "popover-table"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 27, "tbody", [], null, null, null, null, null)), (n()(), Xu(4, 0, null, null, 4, "tr", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Base"])), (n()(), Xu(7, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["1"])), (n()(), Yu(16777216, null, null, 1, null, OD)), hi(10, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, DD)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, RD)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, MD)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, ND)), hi(18, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, BD)), hi(20, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, zD)), hi(22, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, LD)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, FD)), hi(26, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(27, 0, null, null, 3, "tr", [["class", "border-top"]], null, null, null, null, null)), (n()(), Xu(28, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Total"])), (n()(), Xu(30, 0, null, null, 0, "td", [], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = l.component;
                n(l, 10, 0, e.dataService.hasScience("diplomacy")), n(l, 12, 0, e.dataService.hasScience("optics")), n(l, 14, 0, e.dataService.hasScience("engineering")), n(l, 16, 0, e.dataService.hasPolicyGroup("pacifism")), n(l, 18, 0, e.dataService.hasPolicy("academy")), n(l, 20, 0, e.data.charging.tradenode), n(l, 22, 0, e.dataService.hasWonder(0, "colossus")), n(l, 24, 0, e.dataService.hasWonder(0, "panama")), n(l, 26, 0, e.dataService.upgradeTrade(0))
            }), (function (n, l) {
                n(l, 30, 0, l.component.dataService.maxTradeRoute())
            }))
        }

        function UD(n) {
            return vr(0, [pi(0, Py, []), pi(0, ay, []), (n()(), Xu(2, 0, null, null, 28, "ngb-tabset", [["class", "d-block h-100 pl-2"]], null, [[null, "tabChange"]], (function (n, l, e) {
                var t = !0;
                return "tabChange" === l && (t = !1 !== n.component.beforeChange(e) && t), t
            }), L_, D_)), hi(3, 2146304, null, 1, Zm, [jm], {
                activeId: [0, "activeId"]
            }, {
                tabChange: "tabChange"
            }), tr(603979776, 1, {
                tabs: 1
            }), (n()(), Xu(5, 0, null, null, 5, "ngb-tab", [["title", "Diplomacy"]], null, null, null, null, null)), hi(6, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 2, {
                titleTpls: 1
            }), tr(603979776, 3, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, FO)), hi(10, 16384, [[3, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(16777216, null, null, 1, null, VO)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, YO)), hi(14, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, nD)), hi(16, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(17, 0, null, null, 5, "ngb-tab", [["id", "tab_wonders"], ["title", "Wonders"]], null, null, null, null, null)), hi(18, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 10, {
                titleTpls: 1
            }), tr(603979776, 11, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, iD)), hi(22, 16384, [[11, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(16777216, null, null, 1, null, sD)), hi(24, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Xu(25, 0, null, null, 5, "ngb-tab", [["id", "tab_stats"], ["title", "Stats"]], null, null, null, null, null)), hi(26, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 14, {
                titleTpls: 1
            }), tr(603979776, 15, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, xD)), hi(30, 16384, [[15, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(0, [["popDiplo", 2]], null, 0, null, AD)), (n()(), Yu(0, [["city", 2]], null, 0, null, PD)), (n()(), Yu(0, [["maxTrade", 2]], null, 0, null, qD))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.activetabeid), n(l, 6, 0, "Diplomacy"), n(l, 12, 0, e.dataService.isUnlocked("diplo_global")), n(l, 14, 0, e.hasDiplo), n(l, 16, 0, e.dataService.isUnlocked("trade")), n(l, 18, 0, "tab_wonders", "Wonders"), n(l, 24, 0, e.dataService.isUnlocked("colonization")), n(l, 26, 0, "tab_stats", "Stats")
            }), null)
        }
        var $D = $t("app-diplomacy", pO, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-diplomacy", [], null, null, null, UD, fO)), hi(1, 114688, null, 0, pO, [Gd, hg, sg, bg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            HD = function () {
                function n(l, e, t, i, u) {
                    _classCallCheck(this, n), this.modalService = l, this.conf = e, this.data = t, this.dataService = i, this.activatedRoute = u, this.icons = $f
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        var n = this;
                        this.activatedRoute.fragment.subscribe((function (l) {
                            l && (n.activetabeid = l)
                        }))
                    }
                }, {
                    key: "available",
                    value: function (n) {
                        return this.dataService.powerAvailable(0, n)
                    }
                }, {
                    key: "addPower",
                    value: function (n) {
                        this.available(n.id) && this.dataService.addPower(0, n.id)
                    }
                }, {
                    key: "isUpgradeVisible",
                    value: function (n, l) {
                        return !this.dataService.hasUpgrade(n) && l.cost <= 10 * this.data.prestige
                    }
                }, {
                    key: "isUpgradeAvailable",
                    value: function (n) {
                        return n.cost <= this.data.prestige
                    }
                }, {
                    key: "buy",
                    value: function (n, l, e) {
                        var t = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                        this.isUpgradeAvailable(l) && (!t && l.cost > this.data.prestige / 10 ? (this.up = l, this.key = n, this.modalService.open(e)) : (this.data.prestige -= l.cost, this.data.upgrades.push(n)))
                    }
                }, {
                    key: "mouseenter",
                    value: function (n, l) {
                        n.open({
                            title: l.name,
                            power: l
                        })
                    }
                }, {
                    key: "mouseleave",
                    value: function (n) {
                        n.close()
                    }
                }]), n
            }(),
            VD = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function jD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "span", [["class", "mr-3 text-center text-favor"], ["style", "width: 85px"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(3, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(4, {
                color: 0
            }), (n()(), pr(5, null, [" ", " "])), cr(6, 1)], (function (n, l) {
                var e = n(l, 4, 0, l.context.$implicit.key ? l.component.conf.deities[l.context.$implicit.key].color : "#000");
                n(l, 3, 0, e)
            }), (function (n, l) {
                n(l, 1, 0, l.component.icons.favor);
                var e = Je(l, 5, 0, n(l, 6, 0, Jt(l.parent.parent, 0), l.context.$implicit.value));
                n(l, 5, 0, e)
            }))
        }

        function GD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "option", [], null, null, null, null, null)), hi(1, 147456, null, 0, of , [pe, me, [2, af]], {
                value: [0, "value"]
            }, null), hi(2, 147456, null, 0, cf, [pe, me, [8, null]], {
                value: [0, "value"]
            }, null), (n()(), pr(3, null, ["", ""]))], (function (n, l) {
                n(l, 1, 0, l.parent.context.$implicit.id), n(l, 2, 0, l.parent.context.$implicit.id)
            }), (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.name)
            }))
        }

        function WD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, GD)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.context.$implicit.id > 1)
            }), null)
        }

        function KD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (n()(), pr(1, null, ["", ""]))], null, (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.dataService.player(e.aiid).powers[l.parent.context.$implicit.key] || 0)
            }))
        }

        function ZD(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 11, "tr", [["placement", "right"], ["triggers", "manual"]], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== i.mouseenter(Jt(n, 1), n.context.$implicit.value) && t), "mouseleave" === l && (t = !1 !== i.mouseleave(Jt(n, 1)) && t), t
            }), null, null)), hi(1, 737280, [["p1", 4]], 0, Um, [pe, me, Fl, se, ze, Lm, pu, Ro, Nl, Du], {
                ngbPopover: [0, "ngbPopover"],
                popoverTitle: [1, "popoverTitle"],
                placement: [2, "placement"],
                triggers: [3, "triggers"]
            }, null), (n()(), Xu(2, 0, null, null, 1, "td", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 1, "td", [["class", "font-weight-bold"]], null, null, null, null, null)), (n()(), pr(5, null, ["", ""])), (n()(), Xu(6, 0, null, null, 2, "td", [], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "button", [["class", "btn btn-primary btn-sm line-height-1 font-weight-bold"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.addPower(n.context.$implicit.value) && t), t
            }), null, null)), (n()(), pr(-1, null, ["+"])), (n()(), Xu(9, 0, null, null, 2, "td", [["class", "text-center"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, KD)), hi(11, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, Jt(l.parent.parent, 14), Jt(l.parent.parent, 13), "right", "manual"), n(l, 11, 0, e.aiid)
            }), (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.context.$implicit.value.name), n(l, 5, 0, e.dataService.player().powers[l.context.$implicit.key] || 0), n(l, 7, 0, !e.available(l.context.$implicit.key))
            }))
        }

        function QD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "h3", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Powers"])), (n()(), Yu(16777216, null, null, 2, null, jD)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(5, 0, null, null, 17, "table", [["class", "table table-borderless w-auto table-sm"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 16, "tbody", [], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 12, "tr", [], null, null, null, null, null)), (n()(), Xu(8, 0, null, null, 0, "td", [], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 1, "td", [["class", "font-weight-bold"], ["colspan", "2"]], null, null, null, null, null)), (n()(), pr(10, null, ["", ""])), (n()(), Xu(11, 0, null, null, 8, "td", [], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 7, "select", [], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "change"], [null, "blur"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "change" === l && (t = !1 !== Jt(n, 13).onChange(e.target.value) && t), "blur" === l && (t = !1 !== Jt(n, 13).onTouched() && t), "ngModelChange" === l && (t = !1 !== (i.aiid = e) && t), t
            }), null, null)), hi(13, 16384, null, 0, af, [me, pe], null, null), fi(1024, null, Mp, (function (n) {
                return [n]
            }), [af]), hi(15, 671744, null, 0, Bf, [[8, null], [8, null], [8, null], [6, Mp]], {
                model: [0, "model"]
            }, {
                update: "ngModelChange"
            }), fi(2048, null, Up, null, [Bf]), hi(17, 16384, null, 0, $p, [[4, Up]], null, null), (n()(), Yu(16777216, null, null, 1, null, WD)), hi(19, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), (n()(), Yu(16777216, null, null, 2, null, ZD)), hi(21, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, Je(l, 3, 0, Jt(l, 4).transform(e.data.favors[0]))), n(l, 15, 0, e.aiid), n(l, 19, 0, e.data.players), n(l, 21, 0, Je(l, 21, 0, Jt(l, 22).transform(e.conf.powers)))
            }), (function (n, l) {
                n(l, 10, 0, l.component.dataService.player().name), n(l, 12, 0, Jt(l, 17).ngClassUntouched, Jt(l, 17).ngClassTouched, Jt(l, 17).ngClassPristine, Jt(l, 17).ngClassDirty, Jt(l, 17).ngClassValid, Jt(l, 17).ngClassInvalid, Jt(l, 17).ngClassPending)
            }))
        }

        function YD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 14, "div", [["class", "p-2 d-flex align-items-center border m-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 10, "div", [["class", "flex-fill"], ["style", "height:auto!important"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(6, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), pr(-1, null, [" Cost: "])), (n()(), Xu(8, 0, null, null, 3, "span", [["class", "text-prestige"]], null, null, null, null, null)), (n()(), Xu(9, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(10, null, [" ", ""])), cr(11, 1), (n()(), Xu(12, 0, null, null, 2, "div", [], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "button", [["class", "btn btn-primary"]], [[8, "disabled", 0]], [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.buy(n.parent.context.$implicit.key, n.parent.context.$implicit.value, Jt(n.parent.parent.parent.parent, 15)) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Buy"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 3, 0, l.parent.context.$implicit.value.name), n(l, 5, 0, l.parent.context.$implicit.value.desc), n(l, 9, 0, e.icons.prestige);
                var t = Je(l, 10, 0, n(l, 11, 0, Jt(l.parent.parent.parent.parent, 0), l.parent.context.$implicit.value.cost));
                n(l, 10, 0, t), n(l, 13, 0, !e.isUpgradeAvailable(l.parent.context.$implicit.value))
            }))
        }

        function XD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, YD)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.isUpgradeVisible(l.context.$implicit.key, l.context.$implicit.value))
            }), null)
        }

        function JD(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "p-2 d-flex align-items-center border m-1"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 4, "div", [["class", "flex-fill"], ["style", "height:auto!important"]], null, null, null, null, null)), (n()(), Xu(2, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(3, null, ["", ""])), (n()(), Xu(4, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), Xu(5, 0, null, null, 0, "span", [], [[8, "innerHTML", 1]], null, null, null, null))], null, (function (n, l) {
                n(l, 3, 0, l.parent.context.$implicit.value.name), n(l, 5, 0, l.parent.context.$implicit.value.desc)
            }))
        }

        function nR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, null, null, null, null, null, null, null)), (n()(), Yu(16777216, null, null, 1, null, JD)), hi(2, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 2, 0, l.component.dataService.hasUpgrade(l.context.$implicit.key))
            }), null)
        }

        function lR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["You have "])), (n()(), Xu(2, 0, null, null, 3, "span", [["class", "text-prestige"]], null, null, null, null, null)), (n()(), pr(3, null, ["", " "])), cr(4, 1), (n()(), Xu(5, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(6, 0, null, null, 6, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Current bonus : "])), (n()(), Xu(8, 0, null, null, 2, "span", [["class", "text-success"]], null, null, null, null, null)), (n()(), pr(9, null, ["+ ", " "])), cr(10, 1), (n()(), Xu(11, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(12, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(13, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Available Upgrades"])), (n()(), Xu(15, 0, null, null, 3, "div", [["style", "width:450px"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, XD)), hi(17, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe]), (n()(), Xu(19, 0, null, null, 1, "h5", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Purchased Upgrades"])), (n()(), Xu(21, 0, null, null, 3, "div", [["style", "width:450px"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, nR)), hi(23, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 17, 0, Je(l, 17, 0, Jt(l, 18).transform(e.conf.upgrades))), n(l, 23, 0, Je(l, 23, 0, Jt(l, 24).transform(e.conf.upgrades)))
            }), (function (n, l) {
                var e = l.component,
                    t = Je(l, 3, 0, n(l, 4, 0, Jt(l.parent.parent, 0), e.data.prestige));
                n(l, 3, 0, t), n(l, 5, 0, e.icons.prestige);
                var i = Je(l, 9, 0, n(l, 10, 0, Jt(l.parent.parent, 1), e.dataService.prestigeBonus(0)));
                n(l, 9, 0, i), n(l, 11, 0, e.icons.food + " text-food"), n(l, 12, 0, e.icons.prod + " text-prod")
            }))
        }

        function eR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "ngb-tab", [["id", "tab_prestige"], ["title", "Upgrades"]], null, null, null, null, null)), hi(1, 2113536, [[1, 4]], 2, Km, [], {
                id: [0, "id"],
                title: [1, "title"]
            }, null), tr(603979776, 4, {
                titleTpls: 1
            }), tr(603979776, 5, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, lR)), hi(5, 16384, [[5, 4]], 0, Wm, [Ne], null, null)], (function (n, l) {
                n(l, 1, 0, "tab_prestige", "Upgrades")
            }), null)
        }

        function tR(n) {
            return vr(0, [(n()(), pr(0, null, ["", ""]))], null, (function (n, l) {
                n(l, 0, 0, l.context.title)
            }))
        }

        function iR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "span", [["class", "mr-2"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "i", [], [[8, "className", 0]], null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(3, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(4, {
                color: 0
            }), (n()(), pr(5, null, [" ", " "]))], (function (n, l) {
                var e = n(l, 4, 0, l.context.$implicit.key ? l.component.conf.deities[l.context.$implicit.key].color : "#000");
                n(l, 3, 0, e)
            }), (function (n, l) {
                var e = l.component;
                n(l, 1, 0, e.icons.favor), n(l, 5, 0, e.dataService.powerCost(0, l.parent.context.power.id) * l.context.$implicit.value)
            }))
        }

        function uR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 0, "div", [], [[8, "innerHTML", 1]], null, null, null, null)), (n()(), Xu(1, 0, null, null, 3, "div", [["class", "border-top"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, iR)), hi(3, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                n(l, 3, 0, Je(l, 3, 0, Jt(l, 4).transform(l.context.power.cost)))
            }), (function (n, l) {
                var e = l.component,
                    t = l.context.power.description(e.data, e.dataService);
                n(l, 0, 0, t)
            }))
        }

        function rR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 5, "div", [["class", "modal-header"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h4", [["class", "modal-title"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Upgrade"])), (n()(), Xu(3, 0, null, null, 2, "button", [["class", "close"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.dismiss() && t), t
            }), null, null)), (n()(), Xu(4, 0, null, null, 1, "span", [["aria-hidden", "true"]], null, null, null, null, null)), (n()(), pr(-1, null, ["\xd7"])), (n()(), Xu(6, 0, null, null, 14, "div", [["class", "modal-body"]], null, null, null, null, null)), (n()(), Xu(7, 0, null, null, 1, "b", [], null, null, null, null, null)), (n()(), pr(8, null, ["Are you sure you want to buy ", " ?"])), (n()(), Xu(9, 0, null, null, 0, "br", [], null, null, null, null, null)), (n()(), Xu(10, 0, null, null, 6, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["This upgrade costs "])), (n()(), Xu(12, 0, null, null, 3, "span", [["class", "text-prestige"]], null, null, null, null, null)), (n()(), Xu(13, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(14, null, [" ", ""])), cr(15, 1), (n()(), pr(-1, null, [" which is more than 10% of your total."])), (n()(), Xu(17, 0, null, null, 3, "div", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Are you sure this upgrade is worth the loss of so much "])), (n()(), Xu(19, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" ? "])), (n()(), Xu(21, 0, null, null, 6, "div", [["class", "modal-footer"]], null, null, null, null, null)), (n()(), Xu(22, 0, null, null, 1, "button", [["class", "btn btn-outline-dark"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.context.$implicit.close() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Cancel"])), (n()(), Xu(24, 0, null, null, 3, "button", [["class", "btn btn-warning"], ["type", "button"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "click" === l && (n.context.$implicit.close(), t = !1 !== i.buy(i.key, i.up, Jt(n.parent, 15), !0) && t), t
            }), null, null)), (n()(), pr(-1, null, ["Shut up and take my "])), (n()(), Xu(26, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), pr(-1, null, [" !"]))], null, (function (n, l) {
                var e = l.component;
                n(l, 8, 0, e.up.name), n(l, 13, 0, e.icons.prestige);
                var t = Je(l, 14, 0, n(l, 15, 0, Jt(l.parent, 0), e.up.cost));
                n(l, 14, 0, t), n(l, 19, 0, e.icons.prestige + " text-prestige"), n(l, 26, 0, e.icons.prestige)
            }))
        }

        function aR(n) {
            return vr(0, [pi(0, Py, []), pi(0, Oy, []), (n()(), Xu(2, 0, null, null, 10, "ngb-tabset", [], null, null, null, L_, D_)), hi(3, 2146304, null, 1, Zm, [jm], {
                activeId: [0, "activeId"]
            }, null), tr(603979776, 1, {
                tabs: 1
            }), (n()(), Xu(5, 0, null, null, 5, "ngb-tab", [["title", "Powers"]], null, null, null, null, null)), hi(6, 2113536, [[1, 4]], 2, Km, [], {
                title: [0, "title"]
            }, null), tr(603979776, 2, {
                titleTpls: 1
            }), tr(603979776, 3, {
                contentTpls: 1
            }), (n()(), Yu(0, null, null, 1, null, QD)), hi(10, 16384, [[3, 4]], 0, Wm, [Ne], null, null), (n()(), Yu(16777216, null, null, 1, null, eR)), hi(12, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(0, [["popTitle", 2]], null, 0, null, tR)), (n()(), Yu(0, [["popContent", 2]], null, 0, null, uR)), (n()(), Yu(0, [["confirmation", 2]], null, 0, null, rR))], (function (n, l) {
                var e = l.component;
                n(l, 3, 0, e.activetabeid), n(l, 6, 0, "Powers"), n(l, 12, 0, e.data.prestige)
            }), null)
        }
        var oR, sR = $t("app-powers", HD, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-powers", [], null, null, null, aR, VD)), hi(1, 114688, null, 0, HD, [Dm, sg, hg, bg, Gd], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            cR = ((oR = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.dataService = l, this.data = e, this.replay = !1, this.icons = $f
                }
                return _createClass(n, [{
                    key: "reset",
                    value: function () {
                        this.dataService.isDailyAllowed() && (this.cards.toArray().forEach((function (n) {
                            var l = n.nativeElement;
                            l.innerHTML = '<i class="fas fa-question"></i>', l.parentElement.classList.remove("bg-primary"), l.parentElement.classList.remove("text-light"), l.parentElement.classList.remove("bg-warning"), l.parentElement.classList.remove("bg-success")
                        })), this.replay = !1, this.selectable = !0)
                    }
                }, {
                    key: "select",
                    value: function (l) {
                        if (this.selectable) {
                            this.selectable = !1;
                            var e = this.dataService.isDailyAllowed();
                            if (1 == e) this.data.saveddaily--;
                            else {
                                if (2 != e) return;
                                this.data.lastdaily = Date.now()
                            }
                            var t = this.cards.toArray()[l].nativeElement,
                                i = ["gold", "science", "food", "prod"];
                            this.dataService.hasScience("art") && i.push("culture"), this.dataService.isUnlocked("troops") && i.push("troops");
                            var u = Jf.fromArray(i),
                                r = Jf.fromArray(n.LEVELS),
                                a = this.quantity(u, r);
                            this.data.dailys.push({
                                bonus: u,
                                quantity: a
                            }), t.innerHTML = '<i class="' + $f[u] + '"></i> x ' + Xf.format(a), 2 == r ? (t.parentElement.classList.remove("bg-primary"), t.parentElement.classList.add("bg-warning")) : 3 == r && (t.parentElement.classList.remove("bg-primary"), t.parentElement.classList.add("bg-success")), this.dataService.isDailyAllowed() && (this.replay = !0)
                        }
                    }
                }, {
                    key: "quantity",
                    value: function (n, l) {
                        return "gold" == n ? Math.floor(20 * Math.pow(5, l) * Math.pow(1.5, this.dataService.currentScienceRank())) : "science" == n ? Math.floor(20 * Math.pow(5, l) * Math.pow(1.5, this.dataService.currentScienceRank())) : "culture" == n ? Math.floor(20 * Math.pow(5, l) * Math.pow(1.5, this.dataService.currentScienceRank())) : "prod" == n ? Math.floor(20 * Math.pow(5, l) * Math.pow(1.5, this.dataService.currentScienceRank())) : "food" == n ? Math.floor(20 * Math.pow(5, l) * Math.pow(1.5, this.dataService.currentScienceRank())) : "troops" == n ? Math.floor(1 * Math.pow(3, l) * Math.pow(1.2, this.dataService.currentScienceRank())) : 0
                    }
                }, {
                    key: "ngOnInit",
                    value: function () {
                        this.selectable = this.dataService.isDailyAllowed() > 0
                    }
                }]), n
            }()).LEVELS = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3], oR),
            dR = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function hR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "card cursor-pointer border-primary m-3 rounded-lg text-primary"], ["style", "height:200px;"]], null, [[null, "click"], [null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0,
                    i = n.component;
                return "mouseenter" === l && (t = !1 !== Jt(n, 1).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 1).onMouseLeave() && t), "click" === l && (t = !1 !== i.select(n.context.$implicit) && t), t
            }), null, null)), hi(1, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(2, 0, [[1, 0], ["card", 1]], null, 1, "div", [["class", "card-body d-flex justify-content-center align-items-center h-100 text-300"]], null, null, null, null, null)), (n()(), Xu(3, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null))], (function (n, l) {
                n(l, 1, 0, l.component.selectable ? "bg-primary text-light" : "")
            }), (function (n, l) {
                n(l, 3, 0, l.component.icons.question)
            }))
        }

        function pR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 1, "button", [["class", "btn btn-primary"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.reset() && t), t
            }), null, null)), (n()(), pr(-1, null, ["Replay !"]))], null, null)
        }

        function fR(n) {
            return vr(0, [tr(671088640, 1, {
                cards: 1
            }), (n()(), Xu(1, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Daily Bonus !"])), (n()(), Xu(3, 0, null, null, 3, "div", [["class", "card-deck"]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, hR)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), hr(32, 6, new Array(3)), (n()(), Yu(16777216, null, null, 1, null, pR)), hi(8, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component,
                    t = n(l, 6, 0, 0, 1, 2);
                n(l, 5, 0, t), n(l, 8, 0, e.replay)
            }), null)
        }
        var gR = $t("app-daily", cR, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-daily", [], null, null, null, fR, dR)), hi(1, 114688, null, 0, cR, [bg, hg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            vR = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.conf = l, this.data = e, this.dataService = t
                }
                return _createClass(n, [{
                    key: "ngOnInit",
                    value: function () {
                        this.selectable = this.dataService.isDeitySelectionAllowed()
                    }
                }, {
                    key: "select",
                    value: function (n) {
                        this.selectable && (this.dataService.player().deity = n, this.data.deities[0] = n, this.selectable = !1, this.dataService.checkLocks())
                    }
                }]), n
            }(),
            mR = et({
                encapsulation: 0,
                styles: [[".card-body[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:auto!important}"]],
                data: {}
            });

        function yR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 15, "div", [], null, [[null, "mouseenter"], [null, "mouseleave"]], (function (n, l, e) {
                var t = !0;
                return "mouseenter" === l && (t = !1 !== Jt(n, 4).onMouseEnter() && t), "mouseleave" === l && (t = !1 !== Jt(n, 4).onMouseLeave() && t), t
            }), null, null)), fi(512, null, go, vo, [Pe, Oe, pe, me]), hi(2, 278528, null, 0, mo, [go], {
                ngClass: [0, "ngClass"]
            }, null), dr(3, {
                "card cursor-pointer border-0 my-1": 0,
                "bg-dark text-light dark-bg-light dark-text-dark": 1
            }), hi(4, 16384, null, 0, Uf, [pe], {
                hoverClass: [0, "hoverClass"]
            }, null), (n()(), Xu(5, 0, null, null, 10, "div", [["class", "d-flex align-items-stretch"]], null, null, null, null, null)), (n()(), Xu(6, 0, null, null, 4, "div", [["class", "text-300 d-flex align-items-center px-3"]], null, null, null, null, null)), fi(512, null, Co, So, [pe, Oe, me]), hi(8, 278528, null, 0, Io, [Co], {
                ngStyle: [0, "ngStyle"]
            }, null), dr(9, {
                color: 0
            }), (n()(), Xu(10, 0, null, null, 0, "i", [], [[8, "className", 0]], null, null, null, null)), (n()(), Xu(11, 0, null, null, 4, "div", [["class", "card-body d-flex flex-fill align-items-center p-2"]], null, null, null, null, null)), (n()(), Xu(12, 0, null, null, 3, "div", [["class", "flex-fill"]], null, [[null, "click"]], (function (n, l, e) {
                var t = !0;
                return "click" === l && (t = !1 !== n.component.select(n.context.$implicit.key) && t), t
            }), null, null)), (n()(), Xu(13, 0, null, null, 1, "h5", [["class", "card-title"]], null, null, null, null, null)), (n()(), pr(14, null, ["", ""])), (n()(), Xu(15, 0, null, null, 0, "span", [["class", "card-text"]], [[8, "innerHTML", 1]], null, null, null, null))], (function (n, l) {
                var e = l.component,
                    t = n(l, 3, 0, !0, e.dataService.player().deity == l.context.$implicit.key);
                n(l, 2, 0, t), n(l, 4, 0, e.selectable ? "bg-dark text-light dark-bg-light dark-text-dark" : "");
                var i = n(l, 9, 0, l.context.$implicit.value.color);
                n(l, 8, 0, i)
            }), (function (n, l) {
                n(l, 10, 0, l.context.$implicit.value.icon), n(l, 14, 0, l.context.$implicit.value.name), n(l, 15, 0, l.context.$implicit.value.description)
            }))
        }

        function bR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 6, "div", [["class", "h-100 overflow-auto"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 1, "h2", [], null, null, null, null, null)), (n()(), pr(-1, null, ["Deity Selection"])), (n()(), Xu(3, 0, null, null, 3, "div", [["class", ""]], null, null, null, null, null)), (n()(), Yu(16777216, null, null, 2, null, yR)), hi(5, 278528, null, 0, bo, [ze, Ne, Pe], {
                ngForOf: [0, "ngForOf"]
            }, null), pi(0, qf, [Oe])], (function (n, l) {
                var e = l.component;
                n(l, 5, 0, Je(l, 5, 0, Jt(l, 6).transform(e.conf.deities)))
            }), null)
        }
        var _R = $t("app-deity", vR, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-deity", [], null, null, null, bR, mR)), hi(1, 114688, null, 0, vR, [sg, hg, bg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            kR = et({
                encapsulation: 0,
                styles: [[""]],
                data: {}
            });

        function wR(n) {
            return vr(0, [(n()(), Xu(0, 16777216, null, null, 1, "router-outlet", [], null, null, null, null, null)), hi(1, 212992, null, 0, op, [ap, ze, se, [8, null], Nl], null, null), (n()(), Yu(0, null, null, 0))], (function (n, l) {
                n(l, 1, 0)
            }), null)
        }

        function xR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 2, "div", [["class", "bg-dark p-3 text-light"]], null, null, null, null, null)), (n()(), Xu(1, 0, null, null, 0, "i", [["class", "fas fa-times"]], null, null, null, null, null)), (n()(), pr(2, null, [" ", ""]))], null, (function (n, l) {
                n(l, 2, 0, l.component.error)
            }))
        }

        function CR(n) {
            return vr(0, [(n()(), Xu(0, 0, null, null, 3, "div", [["class", "text-dark text-150"]], null, null, null, null, null)), (n()(), pr(-1, null, ["This game is available for free on "])), (n()(), Xu(2, 0, null, null, 1, "a", [["class", "text-danger"], ["href", "https://www.kongregate.com/games/to_change_later/cividlization-2"]], null, null, null, null, null)), (n()(), pr(-1, null, ["Kongregate.com"]))], null, null)
        }

        function SR(n) {
            return vr(0, [(n()(), Yu(16777216, null, null, 1, null, wR)), hi(1, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, xR)), hi(3, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null), (n()(), Yu(16777216, null, null, 1, null, CR)), hi(5, 16384, null, 0, ko, [ze, Ne], {
                ngIf: [0, "ngIf"]
            }, null)], (function (n, l) {
                var e = l.component;
                n(l, 1, 0, !e.error && !e.baddomain), n(l, 3, 0, e.error && !e.baddomain), n(l, 5, 0, e.baddomain)
            }), null)
        }
        var IR = $t("app-root", Ca, (function (n) {
                return vr(0, [(n()(), Xu(0, 0, null, null, 1, "app-root", [], null, null, null, SR, kR)), hi(1, 114688, null, 0, Ca, [yg], null, null)], (function (n, l) {
                    n(l, 1, 0)
                }), null)
            }), {}, {}, []),
            TR = function n() {
                _classCallCheck(this, n)
            },
            ER = function n() {
                _classCallCheck(this, n)
            },
            AR = "*";

        function PR(n) {
            return {
                type: 2,
                steps: n,
                options: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
            }
        }

        function OR(n) {
            return {
                type: 6,
                styles: n,
                offset: null
            }
        }

        function DR(n) {
            Promise.resolve(null).then(n)
        }
        var RR = function () {
                function n() {
                    var l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    _classCallCheck(this, n), this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._started = !1, this._destroyed = !1, this._finished = !1, this.parentPlayer = null, this.totalTime = l + e
                }
                return _createClass(n, [{
                    key: "_onFinish",
                    value: function () {
                        this._finished || (this._finished = !0, this._onDoneFns.forEach((function (n) {
                            return n()
                        })), this._onDoneFns = [])
                    }
                }, {
                    key: "onStart",
                    value: function (n) {
                        this._onStartFns.push(n)
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this._onDoneFns.push(n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._onDestroyFns.push(n)
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return this._started
                    }
                }, {
                    key: "init",
                    value: function () {}
                }, {
                    key: "play",
                    value: function () {
                        this.hasStarted() || (this._onStart(), this.triggerMicrotask()), this._started = !0
                    }
                }, {
                    key: "triggerMicrotask",
                    value: function () {
                        var n = this;
                        DR((function () {
                            return n._onFinish()
                        }))
                    }
                }, {
                    key: "_onStart",
                    value: function () {
                        this._onStartFns.forEach((function (n) {
                            return n()
                        })), this._onStartFns = []
                    }
                }, {
                    key: "pause",
                    value: function () {}
                }, {
                    key: "restart",
                    value: function () {}
                }, {
                    key: "finish",
                    value: function () {
                        this._onFinish()
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._destroyed || (this._destroyed = !0, this.hasStarted() || this._onStart(), this.finish(), this._onDestroyFns.forEach((function (n) {
                            return n()
                        })), this._onDestroyFns = [])
                    }
                }, {
                    key: "reset",
                    value: function () {}
                }, {
                    key: "setPosition",
                    value: function (n) {}
                }, {
                    key: "getPosition",
                    value: function () {
                        return 0
                    }
                }, {
                    key: "triggerCallback",
                    value: function (n) {
                        var l = "start" == n ? this._onStartFns : this._onDoneFns;
                        l.forEach((function (n) {
                            return n()
                        })), l.length = 0
                    }
                }]), n
            }(),
            MR = function () {
                function n(l) {
                    var e = this;
                    _classCallCheck(this, n), this._onDoneFns = [], this._onStartFns = [], this._finished = !1, this._started = !1, this._destroyed = !1, this._onDestroyFns = [], this.parentPlayer = null, this.totalTime = 0, this.players = l;
                    var t = 0,
                        i = 0,
                        u = 0,
                        r = this.players.length;
                    0 == r ? DR((function () {
                        return e._onFinish()
                    })) : this.players.forEach((function (n) {
                        n.onDone((function () {
                            ++t == r && e._onFinish()
                        })), n.onDestroy((function () {
                            ++i == r && e._onDestroy()
                        })), n.onStart((function () {
                            ++u == r && e._onStart()
                        }))
                    })), this.totalTime = this.players.reduce((function (n, l) {
                        return Math.max(n, l.totalTime)
                    }), 0)
                }
                return _createClass(n, [{
                    key: "_onFinish",
                    value: function () {
                        this._finished || (this._finished = !0, this._onDoneFns.forEach((function (n) {
                            return n()
                        })), this._onDoneFns = [])
                    }
                }, {
                    key: "init",
                    value: function () {
                        this.players.forEach((function (n) {
                            return n.init()
                        }))
                    }
                }, {
                    key: "onStart",
                    value: function (n) {
                        this._onStartFns.push(n)
                    }
                }, {
                    key: "_onStart",
                    value: function () {
                        this.hasStarted() || (this._started = !0, this._onStartFns.forEach((function (n) {
                            return n()
                        })), this._onStartFns = [])
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this._onDoneFns.push(n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._onDestroyFns.push(n)
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return this._started
                    }
                }, {
                    key: "play",
                    value: function () {
                        this.parentPlayer || this.init(), this._onStart(), this.players.forEach((function (n) {
                            return n.play()
                        }))
                    }
                }, {
                    key: "pause",
                    value: function () {
                        this.players.forEach((function (n) {
                            return n.pause()
                        }))
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this.players.forEach((function (n) {
                            return n.restart()
                        }))
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this._onFinish(), this.players.forEach((function (n) {
                            return n.finish()
                        }))
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._onDestroy()
                    }
                }, {
                    key: "_onDestroy",
                    value: function () {
                        this._destroyed || (this._destroyed = !0, this._onFinish(), this.players.forEach((function (n) {
                            return n.destroy()
                        })), this._onDestroyFns.forEach((function (n) {
                            return n()
                        })), this._onDestroyFns = [])
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this.players.forEach((function (n) {
                            return n.reset()
                        })), this._destroyed = !1, this._finished = !1, this._started = !1
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        var l = n * this.totalTime;
                        this.players.forEach((function (n) {
                            var e = n.totalTime ? Math.min(1, l / n.totalTime) : 1;
                            n.setPosition(e)
                        }))
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        var n = 0;
                        return this.players.forEach((function (l) {
                            var e = l.getPosition();
                            n = Math.min(e, n)
                        })), n
                    }
                }, {
                    key: "beforeDestroy",
                    value: function () {
                        this.players.forEach((function (n) {
                            n.beforeDestroy && n.beforeDestroy()
                        }))
                    }
                }, {
                    key: "triggerCallback",
                    value: function (n) {
                        var l = "start" == n ? this._onStartFns : this._onDoneFns;
                        l.forEach((function (n) {
                            return n()
                        })), l.length = 0
                    }
                }]), n
            }(),
            NR = "!";

        function BR() {
            return "undefined" != typeof process
        }

        function zR(n) {
            switch (n.length) {
                case 0:
                    return new RR;
                case 1:
                    return n[0];
                default:
                    return new MR(n)
            }
        }

        function LR(n, l, e, t) {
            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {},
                u = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {},
                r = [],
                a = [],
                o = -1,
                s = null;
            if (t.forEach((function (n) {
                    var e = n.offset,
                        t = e == o,
                        c = t && s || {};
                    Object.keys(n).forEach((function (e) {
                        var t = e,
                            a = n[e];
                        if ("offset" !== e) switch (t = l.normalizePropertyName(t, r), a) {
                            case NR:
                                a = i[e];
                                break;
                            case AR:
                                a = u[e];
                                break;
                            default:
                                a = l.normalizeStyleValue(e, t, a, r)
                        }
                        c[t] = a
                    })), t || a.push(c), s = c, o = e
                })), r.length) {
                throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(r.join("\n - ")))
            }
            return a
        }

        function FR(n, l, e, t) {
            switch (l) {
                case "start":
                    n.onStart((function () {
                        return t(e && qR(e, "start", n))
                    }));
                    break;
                case "done":
                    n.onDone((function () {
                        return t(e && qR(e, "done", n))
                    }));
                    break;
                case "destroy":
                    n.onDestroy((function () {
                        return t(e && qR(e, "destroy", n))
                    }))
            }
        }

        function qR(n, l, e) {
            var t = e.totalTime,
                i = UR(n.element, n.triggerName, n.fromState, n.toState, l || n.phaseName, null == t ? n.totalTime : t, !!e.disabled),
                u = n._data;
            return null != u && (i._data = u), i
        }

        function UR(n, l, e, t) {
            return {
                element: n,
                triggerName: l,
                fromState: e,
                toState: t,
                phaseName: arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "",
                totalTime: arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                disabled: !!(arguments.length > 6 ? arguments[6] : void 0)
            }
        }

        function $R(n, l, e) {
            var t;
            return n instanceof Map ? (t = n.get(l)) || n.set(l, t = e) : (t = n[l]) || (t = n[l] = e), t
        }

        function HR(n) {
            var l = n.indexOf(":");
            return [n.substring(1, l), n.substr(l + 1)]
        }
        var VR = function (n, l) {
                return !1
            },
            jR = function (n, l) {
                return !1
            },
            GR = function (n, l, e) {
                return []
            },
            WR = BR();
        (WR || "undefined" != typeof Element) && (VR = function (n, l) {
            return n.contains(l)
        }, jR = function () {
            if (WR || Element.prototype.matches) return function (n, l) {
                return n.matches(l)
            };
            var n = Element.prototype,
                l = n.matchesSelector || n.mozMatchesSelector || n.msMatchesSelector || n.oMatchesSelector || n.webkitMatchesSelector;
            return l ? function (n, e) {
                return l.apply(n, [e])
            } : jR
        }(), GR = function (n, l, e) {
            var t = [];
            if (e) t.push.apply(t, _toConsumableArray(n.querySelectorAll(l)));
            else {
                var i = n.querySelector(l);
                i && t.push(i)
            }
            return t
        });
        var KR = null,
            ZR = !1;

        function QR(n) {
            KR || (KR = ("undefined" != typeof document ? document.body : null) || {}, ZR = !!KR.style && "WebkitAppearance" in KR.style);
            var l = !0;
            return KR.style && ! function (n) {
                return "ebkit" == n.substring(1, 6)
            }(n) && !(l = n in KR.style) && ZR && (l = "Webkit" + n.charAt(0).toUpperCase() + n.substr(1) in KR.style), l
        }
        var YR = jR,
            XR = VR,
            JR = GR;

        function nM(n) {
            var l = {};
            return Object.keys(n).forEach((function (e) {
                var t = e.replace(/([a-z])([A-Z])/g, "$1-$2");
                l[t] = n[e]
            })), l
        }
        var lM = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "validateStyleProperty",
                    value: function (n) {
                        return QR(n)
                    }
                }, {
                    key: "matchesElement",
                    value: function (n, l) {
                        return YR(n, l)
                    }
                }, {
                    key: "containsElement",
                    value: function (n, l) {
                        return XR(n, l)
                    }
                }, {
                    key: "query",
                    value: function (n, l, e) {
                        return JR(n, l, e)
                    }
                }, {
                    key: "computeStyle",
                    value: function (n, l, e) {
                        return e || ""
                    }
                }, {
                    key: "animate",
                    value: function (n, l, e, t, i) {
                        arguments.length > 5 && void 0 !== arguments[5] && arguments[5], arguments.length > 6 && arguments[6];
                        return new RR(e, t)
                    }
                }]), n
            }(),
            eM = function () {
                var n = function n() {
                    _classCallCheck(this, n)
                };
                return n.NOOP = new lM, n
            }(),
            tM = 1e3;

        function iM(n) {
            if ("number" == typeof n) return n;
            var l = n.match(/^(-?[\.\d]+)(m?s)/);
            return !l || l.length < 2 ? 0 : uM(parseFloat(l[1]), l[2])
        }

        function uM(n, l) {
            switch (l) {
                case "s":
                    return n * tM;
                default:
                    return n
            }
        }

        function rM(n, l, e) {
            return n.hasOwnProperty("duration") ? n : function (n, l, e) {
                var t, i = 0,
                    u = "";
                if ("string" == typeof n) {
                    var r = n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);
                    if (null === r) return l.push('The provided timing value "'.concat(n, '" is invalid.')), {
                        duration: 0,
                        delay: 0,
                        easing: ""
                    };
                    t = uM(parseFloat(r[1]), r[2]);
                    var a = r[3];
                    null != a && (i = uM(parseFloat(a), r[4]));
                    var o = r[5];
                    o && (u = o)
                } else t = n;
                if (!e) {
                    var s = !1,
                        c = l.length;
                    t < 0 && (l.push("Duration values below 0 are not allowed for this animation step."), s = !0), i < 0 && (l.push("Delay values below 0 are not allowed for this animation step."), s = !0), s && l.splice(c, 0, 'The provided timing value "'.concat(n, '" is invalid.'))
                }
                return {
                    duration: t,
                    delay: i,
                    easing: u
                }
            }(n, l, e)
        }

        function aM(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return Object.keys(n).forEach((function (e) {
                l[e] = n[e]
            })), l
        }

        function oM(n, l) {
            var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            if (l)
                for (var t in n) e[t] = n[t];
            else aM(n, e);
            return e
        }

        function sM(n, l, e) {
            return e ? l + ":" + e + ";" : ""
        }

        function cM(n) {
            for (var l = "", e = 0; e < n.style.length; e++) {
                var t = n.style.item(e);
                l += sM(0, t, n.style.getPropertyValue(t))
            }
            for (var i in n.style) n.style.hasOwnProperty(i) && !i.startsWith("_") && (l += sM(0, i.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), n.style[i]));
            n.setAttribute("style", l)
        }

        function dM(n, l, e) {
            n.style && (Object.keys(l).forEach((function (t) {
                var i = bM(t);
                e && !e.hasOwnProperty(t) && (e[t] = n.style[i]), n.style[i] = l[t]
            })), BR() && cM(n))
        }

        function hM(n, l) {
            n.style && (Object.keys(l).forEach((function (l) {
                var e = bM(l);
                n.style[e] = ""
            })), BR() && cM(n))
        }

        function pM(n) {
            return Array.isArray(n) ? 1 == n.length ? n[0] : PR(n) : n
        }
        var fM = new RegExp("".concat("{{", "\\s*(.+?)\\s*}}"), "g");

        function gM(n) {
            var l = [];
            if ("string" == typeof n) {
                for (var e, t = n.toString(); e = fM.exec(t);) l.push(e[1]);
                fM.lastIndex = 0
            }
            return l
        }

        function vM(n, l, e) {
            var t = n.toString(),
                i = t.replace(fM, (function (n, t) {
                    var i = l[t];
                    return l.hasOwnProperty(t) || (e.push("Please provide a value for the animation param ".concat(t)), i = ""), i.toString()
                }));
            return i == t ? n : i
        }

        function mM(n) {
            for (var l = [], e = n.next(); !e.done;) l.push(e.value), e = n.next();
            return l
        }
        var yM = /-+([a-z0-9])/g;

        function bM(n) {
            return n.replace(yM, (function () {
                for (var n = arguments.length, l = new Array(n), e = 0; e < n; e++) l[e] = arguments[e];
                return l[1].toUpperCase()
            }))
        }

        function _M(n, l) {
            return 0 === n || 0 === l
        }

        function kM(n, l, e) {
            var t = Object.keys(e);
            if (t.length && l.length) {
                var i = l[0],
                    u = [];
                if (t.forEach((function (n) {
                        i.hasOwnProperty(n) || u.push(n), i[n] = e[n]
                    })), u.length)
                    for (var r = function () {
                            var e = l[a];
                            u.forEach((function (l) {
                                e[l] = xM(n, l)
                            }))
                        }, a = 1; a < l.length; a++) r()
            }
            return l
        }

        function wM(n, l, e) {
            switch (l.type) {
                case 7:
                    return n.visitTrigger(l, e);
                case 0:
                    return n.visitState(l, e);
                case 1:
                    return n.visitTransition(l, e);
                case 2:
                    return n.visitSequence(l, e);
                case 3:
                    return n.visitGroup(l, e);
                case 4:
                    return n.visitAnimate(l, e);
                case 5:
                    return n.visitKeyframes(l, e);
                case 6:
                    return n.visitStyle(l, e);
                case 8:
                    return n.visitReference(l, e);
                case 9:
                    return n.visitAnimateChild(l, e);
                case 10:
                    return n.visitAnimateRef(l, e);
                case 11:
                    return n.visitQuery(l, e);
                case 12:
                    return n.visitStagger(l, e);
                default:
                    throw new Error("Unable to resolve animation metadata node #".concat(l.type))
            }
        }

        function xM(n, l) {
            return window.getComputedStyle(n)[l]
        }
        var CM = "*";
        var SM = new Set(["true", "1"]),
            IM = new Set(["false", "0"]);

        function TM(n, l) {
            var e = SM.has(n) || IM.has(n),
                t = SM.has(l) || IM.has(l);
            return function (i, u) {
                var r = n == CM || n == i,
                    a = l == CM || l == u;
                return !r && e && "boolean" == typeof i && (r = i ? SM.has(n) : IM.has(n)), !a && t && "boolean" == typeof u && (a = u ? SM.has(l) : IM.has(l)), r && a
            }
        }
        var EM = new RegExp("s*".concat(":self", "s*,?"), "g");

        function AM(n, l, e) {
            return new PM(n).build(l, e)
        }
        var PM = function () {
                function n(l) {
                    _classCallCheck(this, n), this._driver = l
                }
                return _createClass(n, [{
                    key: "build",
                    value: function (n, l) {
                        var e = new OM(l);
                        return this._resetContextStyleTimingState(e), wM(this, pM(n), e)
                    }
                }, {
                    key: "_resetContextStyleTimingState",
                    value: function (n) {
                        n.currentQuerySelector = "", n.collectedStyles = {}, n.collectedStyles[""] = {}, n.currentTime = 0
                    }
                }, {
                    key: "visitTrigger",
                    value: function (n, l) {
                        var e = this,
                            t = l.queryCount = 0,
                            i = l.depCount = 0,
                            u = [],
                            r = [];
                        return "@" == n.name.charAt(0) && l.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"), n.definitions.forEach((function (n) {
                            if (e._resetContextStyleTimingState(l), 0 == n.type) {
                                var a = n,
                                    o = a.name;
                                o.toString().split(/\s*,\s*/).forEach((function (n) {
                                    a.name = n, u.push(e.visitState(a, l))
                                })), a.name = o
                            } else if (1 == n.type) {
                                var s = e.visitTransition(n, l);
                                t += s.queryCount, i += s.depCount, r.push(s)
                            } else l.errors.push("only state() and transition() definitions can sit inside of a trigger()")
                        })), {
                            type: 7,
                            name: n.name,
                            states: u,
                            transitions: r,
                            queryCount: t,
                            depCount: i,
                            options: null
                        }
                    }
                }, {
                    key: "visitState",
                    value: function (n, l) {
                        var e = this.visitStyle(n.styles, l),
                            t = n.options && n.options.params || null;
                        if (e.containsDynamicStyles) {
                            var i = new Set,
                                u = t || {};
                            if (e.styles.forEach((function (n) {
                                    if (DM(n)) {
                                        var l = n;
                                        Object.keys(l).forEach((function (n) {
                                            gM(l[n]).forEach((function (n) {
                                                u.hasOwnProperty(n) || i.add(n)
                                            }))
                                        }))
                                    }
                                })), i.size) {
                                var r = mM(i.values());
                                l.errors.push('state("'.concat(n.name, '", ...) must define default values for all the following style substitutions: ').concat(r.join(", ")))
                            }
                        }
                        return {
                            type: 0,
                            name: n.name,
                            style: e,
                            options: t ? {
                                params: t
                            } : null
                        }
                    }
                }, {
                    key: "visitTransition",
                    value: function (n, l) {
                        l.queryCount = 0, l.depCount = 0;
                        var e, t, i, u = wM(this, pM(n.animation), l);
                        return {
                            type: 1,
                            matchers: (e = n.expr, t = l.errors, i = [], "string" == typeof e ? e.split(/\s*,\s*/).forEach((function (n) {
                                return function (n, l, e) {
                                    if (":" == n[0]) {
                                        var t = function (n, l) {
                                            switch (n) {
                                                case ":enter":
                                                    return "void => *";
                                                case ":leave":
                                                    return "* => void";
                                                case ":increment":
                                                    return function (n, l) {
                                                        return parseFloat(l) > parseFloat(n)
                                                    };
                                                case ":decrement":
                                                    return function (n, l) {
                                                        return parseFloat(l) < parseFloat(n)
                                                    };
                                                default:
                                                    return l.push('The transition alias value "'.concat(n, '" is not supported')), "* => *"
                                            }
                                        }(n, e);
                                        if ("function" == typeof t) return void l.push(t);
                                        n = t
                                    }
                                    var i = n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);
                                    if (null == i || i.length < 4) return e.push('The provided transition expression "'.concat(n, '" is not supported')), l;
                                    var u = i[1],
                                        r = i[2],
                                        a = i[3];
                                    l.push(TM(u, a)), "<" != r[0] || u == CM && a == CM || l.push(TM(a, u))
                                }(n, i, t)
                            })) : i.push(e), i),
                            animation: u,
                            queryCount: l.queryCount,
                            depCount: l.depCount,
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitSequence",
                    value: function (n, l) {
                        var e = this;
                        return {
                            type: 2,
                            steps: n.steps.map((function (n) {
                                return wM(e, n, l)
                            })),
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitGroup",
                    value: function (n, l) {
                        var e = this,
                            t = l.currentTime,
                            i = 0,
                            u = n.steps.map((function (n) {
                                l.currentTime = t;
                                var u = wM(e, n, l);
                                return i = Math.max(i, l.currentTime), u
                            }));
                        return l.currentTime = i, {
                            type: 3,
                            steps: u,
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitAnimate",
                    value: function (n, l) {
                        var e, t = function (n, l) {
                            var e = null;
                            if (n.hasOwnProperty("duration")) e = n;
                            else if ("number" == typeof n) return MM(rM(n, l).duration, 0, "");
                            var t = n;
                            if (t.split(/\s+/).some((function (n) {
                                    return "{" == n.charAt(0) && "{" == n.charAt(1)
                                }))) {
                                var i = MM(0, 0, "");
                                return i.dynamic = !0, i.strValue = t, i
                            }
                            return MM((e = e || rM(t, l)).duration, e.delay, e.easing)
                        }(n.timings, l.errors);
                        l.currentAnimateTimings = t;
                        var i = n.styles ? n.styles : OR({});
                        if (5 == i.type) e = this.visitKeyframes(i, l);
                        else {
                            var u = n.styles,
                                r = !1;
                            if (!u) {
                                r = !0;
                                var a = {};
                                t.easing && (a.easing = t.easing), u = OR(a)
                            }
                            l.currentTime += t.duration + t.delay;
                            var o = this.visitStyle(u, l);
                            o.isEmptyStep = r, e = o
                        }
                        return l.currentAnimateTimings = null, {
                            type: 4,
                            timings: t,
                            style: e,
                            options: null
                        }
                    }
                }, {
                    key: "visitStyle",
                    value: function (n, l) {
                        var e = this._makeStyleAst(n, l);
                        return this._validateStyleAst(e, l), e
                    }
                }, {
                    key: "_makeStyleAst",
                    value: function (n, l) {
                        var e = [];
                        Array.isArray(n.styles) ? n.styles.forEach((function (n) {
                            "string" == typeof n ? n == AR ? e.push(n) : l.errors.push("The provided style string value ".concat(n, " is not allowed.")) : e.push(n)
                        })) : e.push(n.styles);
                        var t = !1,
                            i = null;
                        return e.forEach((function (n) {
                            if (DM(n)) {
                                var l = n,
                                    e = l.easing;
                                if (e && (i = e, delete l.easing), !t)
                                    for (var u in l)
                                        if (l[u].toString().indexOf("{{") >= 0) {
                                            t = !0;
                                            break
                                        }
                            }
                        })), {
                            type: 6,
                            styles: e,
                            easing: i,
                            offset: n.offset,
                            containsDynamicStyles: t,
                            options: null
                        }
                    }
                }, {
                    key: "_validateStyleAst",
                    value: function (n, l) {
                        var e = this,
                            t = l.currentAnimateTimings,
                            i = l.currentTime,
                            u = l.currentTime;
                        t && u > 0 && (u -= t.duration + t.delay), n.styles.forEach((function (n) {
                            "string" != typeof n && Object.keys(n).forEach((function (t) {
                                if (e._driver.validateStyleProperty(t)) {
                                    var r, a, o, s, c, d = l.collectedStyles[l.currentQuerySelector],
                                        h = d[t],
                                        p = !0;
                                    h && (u != i && u >= h.startTime && i <= h.endTime && (l.errors.push('The CSS property "'.concat(t, '" that exists between the times of "').concat(h.startTime, 'ms" and "').concat(h.endTime, 'ms" is also being animated in a parallel animation between the times of "').concat(u, 'ms" and "').concat(i, 'ms"')), p = !1), u = h.startTime), p && (d[t] = {
                                        startTime: u,
                                        endTime: i
                                    }), l.options && (r = n[t], a = l.options, o = l.errors, s = a.params || {}, (c = gM(r)).length && c.forEach((function (n) {
                                        s.hasOwnProperty(n) || o.push("Unable to resolve the local animation param ".concat(n, " in the given list of values"))
                                    })))
                                } else l.errors.push('The provided animation property "'.concat(t, '" is not a supported CSS property for animations'))
                            }))
                        }))
                    }
                }, {
                    key: "visitKeyframes",
                    value: function (n, l) {
                        var e = this,
                            t = {
                                type: 5,
                                styles: [],
                                options: null
                            };
                        if (!l.currentAnimateTimings) return l.errors.push("keyframes() must be placed inside of a call to animate()"), t;
                        var i = 0,
                            u = [],
                            r = !1,
                            a = !1,
                            o = 0,
                            s = n.steps.map((function (n) {
                                var t = e._makeStyleAst(n, l),
                                    s = null != t.offset ? t.offset : function (n) {
                                        if ("string" == typeof n) return null;
                                        var l = null;
                                        if (Array.isArray(n)) n.forEach((function (n) {
                                            if (DM(n) && n.hasOwnProperty("offset")) {
                                                var e = n;
                                                l = parseFloat(e.offset), delete e.offset
                                            }
                                        }));
                                        else if (DM(n) && n.hasOwnProperty("offset")) {
                                            var e = n;
                                            l = parseFloat(e.offset), delete e.offset
                                        }
                                        return l
                                    }(t.styles),
                                    c = 0;
                                return null != s && (i++, c = t.offset = s), a = a || c < 0 || c > 1, r = r || c < o, o = c, u.push(c), t
                            }));
                        a && l.errors.push("Please ensure that all keyframe offsets are between 0 and 1"), r && l.errors.push("Please ensure that all keyframe offsets are in order");
                        var c = n.steps.length,
                            d = 0;
                        i > 0 && i < c ? l.errors.push("Not all style() steps within the declared keyframes() contain offsets") : 0 == i && (d = 1 / (c - 1));
                        var h = c - 1,
                            p = l.currentTime,
                            f = l.currentAnimateTimings,
                            g = f.duration;
                        return s.forEach((function (n, i) {
                            var r = d > 0 ? i == h ? 1 : d * i : u[i],
                                a = r * g;
                            l.currentTime = p + f.delay + a, f.duration = a, e._validateStyleAst(n, l), n.offset = r, t.styles.push(n)
                        })), t
                    }
                }, {
                    key: "visitReference",
                    value: function (n, l) {
                        return {
                            type: 8,
                            animation: wM(this, pM(n.animation), l),
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitAnimateChild",
                    value: function (n, l) {
                        return l.depCount++, {
                            type: 9,
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitAnimateRef",
                    value: function (n, l) {
                        return {
                            type: 10,
                            animation: this.visitReference(n.animation, l),
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitQuery",
                    value: function (n, l) {
                        var e = l.currentQuerySelector,
                            t = n.options || {};
                        l.queryCount++, l.currentQuery = n;
                        var i = _slicedToArray(function (n) {
                                var l = !!n.split(/\s*,\s*/).find((function (n) {
                                    return ":self" == n
                                }));
                                return l && (n = n.replace(EM, "")), [n = n.replace(/@\*/g, ".ng-trigger").replace(/@\w+/g, (function (n) {
                                    return ".ng-trigger-" + n.substr(1)
                                })).replace(/:animating/g, ".ng-animating"), l]
                            }(n.selector), 2),
                            u = i[0],
                            r = i[1];
                        l.currentQuerySelector = e.length ? e + " " + u : u, $R(l.collectedStyles, l.currentQuerySelector, {});
                        var a = wM(this, pM(n.animation), l);
                        return l.currentQuery = null, l.currentQuerySelector = e, {
                            type: 11,
                            selector: u,
                            limit: t.limit || 0,
                            optional: !!t.optional,
                            includeSelf: r,
                            animation: a,
                            originalSelector: n.selector,
                            options: RM(n.options)
                        }
                    }
                }, {
                    key: "visitStagger",
                    value: function (n, l) {
                        l.currentQuery || l.errors.push("stagger() can only be used inside of query()");
                        var e = "full" === n.timings ? {
                            duration: 0,
                            delay: 0,
                            easing: "full"
                        } : rM(n.timings, l.errors, !0);
                        return {
                            type: 12,
                            animation: wM(this, pM(n.animation), l),
                            timings: e,
                            options: null
                        }
                    }
                }]), n
            }(),
            OM = function n(l) {
                _classCallCheck(this, n), this.errors = l, this.queryCount = 0, this.depCount = 0, this.currentTransition = null, this.currentQuery = null, this.currentQuerySelector = null, this.currentAnimateTimings = null, this.currentTime = 0, this.collectedStyles = {}, this.options = null
            };

        function DM(n) {
            return !Array.isArray(n) && "object" == typeof n
        }

        function RM(n) {
            var l;
            return n ? (n = aM(n)).params && (n.params = (l = n.params) ? aM(l) : null) : n = {}, n
        }

        function MM(n, l, e) {
            return {
                duration: n,
                delay: l,
                easing: e
            }
        }

        function NM(n, l, e, t, i, u) {
            return {
                type: 1,
                element: n,
                keyframes: l,
                preStyleProps: e,
                postStyleProps: t,
                duration: i,
                delay: u,
                totalTime: i + u,
                easing: arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : null,
                subTimeline: arguments.length > 7 && void 0 !== arguments[7] && arguments[7]
            }
        }
        var BM = function () {
                function n() {
                    _classCallCheck(this, n), this._map = new Map
                }
                return _createClass(n, [{
                    key: "consume",
                    value: function (n) {
                        var l = this._map.get(n);
                        return l ? this._map.delete(n) : l = [], l
                    }
                }, {
                    key: "append",
                    value: function (n, l) {
                        var e, t = this._map.get(n);
                        t || this._map.set(n, t = []), (e = t).push.apply(e, _toConsumableArray(l))
                    }
                }, {
                    key: "has",
                    value: function (n) {
                        return this._map.has(n)
                    }
                }, {
                    key: "clear",
                    value: function () {
                        this._map.clear()
                    }
                }]), n
            }(),
            zM = new RegExp(":enter", "g"),
            LM = new RegExp(":leave", "g");

        function FM(n, l, e, t, i) {
            var u = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {},
                r = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : {},
                a = arguments.length > 7 ? arguments[7] : void 0,
                o = arguments.length > 8 ? arguments[8] : void 0,
                s = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : [];
            return (new qM).buildKeyframes(n, l, e, t, i, u, r, a, o, s)
        }
        var qM = function () {
                function n() {
                    _classCallCheck(this, n)
                }
                return _createClass(n, [{
                    key: "buildKeyframes",
                    value: function (n, l, e, t, i, u, r, a, o) {
                        var s = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : [];
                        o = o || new BM;
                        var c = new $M(n, l, o, t, i, s, []);
                        c.options = a, c.currentTimeline.setStyles([u], null, c.errors, a), wM(this, e, c);
                        var d = c.timelines.filter((function (n) {
                            return n.containsAnimation()
                        }));
                        if (d.length && Object.keys(r).length) {
                            var h = d[d.length - 1];
                            h.allowOnlyTimelineStyles() || h.setStyles([r], null, c.errors, a)
                        }
                        return d.length ? d.map((function (n) {
                            return n.buildKeyframes()
                        })) : [NM(l, [], [], [], 0, 0, "", !1)]
                    }
                }, {
                    key: "visitTrigger",
                    value: function (n, l) {}
                }, {
                    key: "visitState",
                    value: function (n, l) {}
                }, {
                    key: "visitTransition",
                    value: function (n, l) {}
                }, {
                    key: "visitAnimateChild",
                    value: function (n, l) {
                        var e = l.subInstructions.consume(l.element);
                        if (e) {
                            var t = l.createSubContext(n.options),
                                i = l.currentTimeline.currentTime,
                                u = this._visitSubInstructions(e, t, t.options);
                            i != u && l.transformIntoNewTimeline(u)
                        }
                        l.previousNode = n
                    }
                }, {
                    key: "visitAnimateRef",
                    value: function (n, l) {
                        var e = l.createSubContext(n.options);
                        e.transformIntoNewTimeline(), this.visitReference(n.animation, e), l.transformIntoNewTimeline(e.currentTimeline.currentTime), l.previousNode = n
                    }
                }, {
                    key: "_visitSubInstructions",
                    value: function (n, l, e) {
                        var t = l.currentTimeline.currentTime,
                            i = null != e.duration ? iM(e.duration) : null,
                            u = null != e.delay ? iM(e.delay) : null;
                        return 0 !== i && n.forEach((function (n) {
                            var e = l.appendInstructionToTimeline(n, i, u);
                            t = Math.max(t, e.duration + e.delay)
                        })), t
                    }
                }, {
                    key: "visitReference",
                    value: function (n, l) {
                        l.updateOptions(n.options, !0), wM(this, n.animation, l), l.previousNode = n
                    }
                }, {
                    key: "visitSequence",
                    value: function (n, l) {
                        var e = this,
                            t = l.subContextCount,
                            i = l,
                            u = n.options;
                        if (u && (u.params || u.delay) && ((i = l.createSubContext(u)).transformIntoNewTimeline(), null != u.delay)) {
                            6 == i.previousNode.type && (i.currentTimeline.snapshotCurrentStyles(), i.previousNode = UM);
                            var r = iM(u.delay);
                            i.delayNextStep(r)
                        }
                        n.steps.length && (n.steps.forEach((function (n) {
                            return wM(e, n, i)
                        })), i.currentTimeline.applyStylesToKeyframe(), i.subContextCount > t && i.transformIntoNewTimeline()), l.previousNode = n
                    }
                }, {
                    key: "visitGroup",
                    value: function (n, l) {
                        var e = this,
                            t = [],
                            i = l.currentTimeline.currentTime,
                            u = n.options && n.options.delay ? iM(n.options.delay) : 0;
                        n.steps.forEach((function (r) {
                            var a = l.createSubContext(n.options);
                            u && a.delayNextStep(u), wM(e, r, a), i = Math.max(i, a.currentTimeline.currentTime), t.push(a.currentTimeline)
                        })), t.forEach((function (n) {
                            return l.currentTimeline.mergeTimelineCollectedStyles(n)
                        })), l.transformIntoNewTimeline(i), l.previousNode = n
                    }
                }, {
                    key: "_visitTiming",
                    value: function (n, l) {
                        if (n.dynamic) {
                            var e = n.strValue;
                            return rM(l.params ? vM(e, l.params, l.errors) : e, l.errors)
                        }
                        return {
                            duration: n.duration,
                            delay: n.delay,
                            easing: n.easing
                        }
                    }
                }, {
                    key: "visitAnimate",
                    value: function (n, l) {
                        var e = l.currentAnimateTimings = this._visitTiming(n.timings, l),
                            t = l.currentTimeline;
                        e.delay && (l.incrementTime(e.delay), t.snapshotCurrentStyles());
                        var i = n.style;
                        5 == i.type ? this.visitKeyframes(i, l) : (l.incrementTime(e.duration), this.visitStyle(i, l), t.applyStylesToKeyframe()), l.currentAnimateTimings = null, l.previousNode = n
                    }
                }, {
                    key: "visitStyle",
                    value: function (n, l) {
                        var e = l.currentTimeline,
                            t = l.currentAnimateTimings;
                        !t && e.getCurrentStyleProperties().length && e.forwardFrame();
                        var i = t && t.easing || n.easing;
                        n.isEmptyStep ? e.applyEmptyStep(i) : e.setStyles(n.styles, i, l.errors, l.options), l.previousNode = n
                    }
                }, {
                    key: "visitKeyframes",
                    value: function (n, l) {
                        var e = l.currentAnimateTimings,
                            t = l.currentTimeline.duration,
                            i = e.duration,
                            u = l.createSubContext().currentTimeline;
                        u.easing = e.easing, n.styles.forEach((function (n) {
                            u.forwardTime((n.offset || 0) * i), u.setStyles(n.styles, n.easing, l.errors, l.options), u.applyStylesToKeyframe()
                        })), l.currentTimeline.mergeTimelineCollectedStyles(u), l.transformIntoNewTimeline(t + i), l.previousNode = n
                    }
                }, {
                    key: "visitQuery",
                    value: function (n, l) {
                        var e = this,
                            t = l.currentTimeline.currentTime,
                            i = n.options || {},
                            u = i.delay ? iM(i.delay) : 0;
                        u && (6 === l.previousNode.type || 0 == t && l.currentTimeline.getCurrentStyleProperties().length) && (l.currentTimeline.snapshotCurrentStyles(), l.previousNode = UM);
                        var r = t,
                            a = l.invokeQuery(n.selector, n.originalSelector, n.limit, n.includeSelf, !!i.optional, l.errors);
                        l.currentQueryTotal = a.length;
                        var o = null;
                        a.forEach((function (t, i) {
                            l.currentQueryIndex = i;
                            var a = l.createSubContext(n.options, t);
                            u && a.delayNextStep(u), t === l.element && (o = a.currentTimeline), wM(e, n.animation, a), a.currentTimeline.applyStylesToKeyframe(), r = Math.max(r, a.currentTimeline.currentTime)
                        })), l.currentQueryIndex = 0, l.currentQueryTotal = 0, l.transformIntoNewTimeline(r), o && (l.currentTimeline.mergeTimelineCollectedStyles(o), l.currentTimeline.snapshotCurrentStyles()), l.previousNode = n
                    }
                }, {
                    key: "visitStagger",
                    value: function (n, l) {
                        var e = l.parentContext,
                            t = l.currentTimeline,
                            i = n.timings,
                            u = Math.abs(i.duration),
                            r = u * (l.currentQueryTotal - 1),
                            a = u * l.currentQueryIndex;
                        switch (i.duration < 0 ? "reverse" : i.easing) {
                            case "reverse":
                                a = r - a;
                                break;
                            case "full":
                                a = e.currentStaggerTime
                        }
                        var o = l.currentTimeline;
                        a && o.delayNextStep(a);
                        var s = o.currentTime;
                        wM(this, n.animation, l), l.previousNode = n, e.currentStaggerTime = t.currentTime - s + (t.startTime - e.currentTimeline.startTime)
                    }
                }]), n
            }(),
            UM = {},
            $M = function () {
                function n(l, e, t, i, u, r, a, o) {
                    _classCallCheck(this, n), this._driver = l, this.element = e, this.subInstructions = t, this._enterClassName = i, this._leaveClassName = u, this.errors = r, this.timelines = a, this.parentContext = null, this.currentAnimateTimings = null, this.previousNode = UM, this.subContextCount = 0, this.options = {}, this.currentQueryIndex = 0, this.currentQueryTotal = 0, this.currentStaggerTime = 0, this.currentTimeline = o || new HM(this._driver, e, 0), a.push(this.currentTimeline)
                }
                return _createClass(n, [{
                    key: "updateOptions",
                    value: function (n, l) {
                        var e = this;
                        if (n) {
                            var t = n,
                                i = this.options;
                            null != t.duration && (i.duration = iM(t.duration)), null != t.delay && (i.delay = iM(t.delay));
                            var u = t.params;
                            if (u) {
                                var r = i.params;
                                r || (r = this.options.params = {}), Object.keys(u).forEach((function (n) {
                                    l && r.hasOwnProperty(n) || (r[n] = vM(u[n], r, e.errors))
                                }))
                            }
                        }
                    }
                }, {
                    key: "_copyOptions",
                    value: function () {
                        var n = {};
                        if (this.options) {
                            var l = this.options.params;
                            if (l) {
                                var e = n.params = {};
                                Object.keys(l).forEach((function (n) {
                                    e[n] = l[n]
                                }))
                            }
                        }
                        return n
                    }
                }, {
                    key: "createSubContext",
                    value: function () {
                        var l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                            e = arguments.length > 1 ? arguments[1] : void 0,
                            t = arguments.length > 2 ? arguments[2] : void 0,
                            i = e || this.element,
                            u = new n(this._driver, i, this.subInstructions, this._enterClassName, this._leaveClassName, this.errors, this.timelines, this.currentTimeline.fork(i, t || 0));
                        return u.previousNode = this.previousNode, u.currentAnimateTimings = this.currentAnimateTimings, u.options = this._copyOptions(), u.updateOptions(l), u.currentQueryIndex = this.currentQueryIndex, u.currentQueryTotal = this.currentQueryTotal, u.parentContext = this, this.subContextCount++, u
                    }
                }, {
                    key: "transformIntoNewTimeline",
                    value: function (n) {
                        return this.previousNode = UM, this.currentTimeline = this.currentTimeline.fork(this.element, n), this.timelines.push(this.currentTimeline), this.currentTimeline
                    }
                }, {
                    key: "appendInstructionToTimeline",
                    value: function (n, l, e) {
                        var t = {
                                duration: null != l ? l : n.duration,
                                delay: this.currentTimeline.currentTime + (null != e ? e : 0) + n.delay,
                                easing: ""
                            },
                            i = new VM(this._driver, n.element, n.keyframes, n.preStyleProps, n.postStyleProps, t, n.stretchStartingKeyframe);
                        return this.timelines.push(i), t
                    }
                }, {
                    key: "incrementTime",
                    value: function (n) {
                        this.currentTimeline.forwardTime(this.currentTimeline.duration + n)
                    }
                }, {
                    key: "delayNextStep",
                    value: function (n) {
                        n > 0 && this.currentTimeline.delayNextStep(n)
                    }
                }, {
                    key: "invokeQuery",
                    value: function (n, l, e, t, i, u) {
                        var r = [];
                        if (t && r.push(this.element), n.length > 0) {
                            n = (n = n.replace(zM, "." + this._enterClassName)).replace(LM, "." + this._leaveClassName);
                            var a = this._driver.query(this.element, n, 1 != e);
                            0 !== e && (a = e < 0 ? a.slice(a.length + e, a.length) : a.slice(0, e)), r.push.apply(r, _toConsumableArray(a))
                        }
                        return i || 0 != r.length || u.push('`query("'.concat(l, '")` returned zero elements. (Use `query("').concat(l, '", { optional: true })` if you wish to allow this.)')), r
                    }
                }, {
                    key: "params",
                    get: function () {
                        return this.options.params
                    }
                }]), n
            }(),
            HM = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this._driver = l, this.element = e, this.startTime = t, this._elementTimelineStylesLookup = i, this.duration = 0, this._previousKeyframe = {}, this._currentKeyframe = {}, this._keyframes = new Map, this._styleSummary = {}, this._pendingStyles = {}, this._backFill = {}, this._currentEmptyStepKeyframe = null, this._elementTimelineStylesLookup || (this._elementTimelineStylesLookup = new Map), this._localTimelineStyles = Object.create(this._backFill, {}), this._globalTimelineStyles = this._elementTimelineStylesLookup.get(e), this._globalTimelineStyles || (this._globalTimelineStyles = this._localTimelineStyles, this._elementTimelineStylesLookup.set(e, this._localTimelineStyles)), this._loadKeyframe()
                }
                return _createClass(n, [{
                    key: "containsAnimation",
                    value: function () {
                        switch (this._keyframes.size) {
                            case 0:
                                return !1;
                            case 1:
                                return this.getCurrentStyleProperties().length > 0;
                            default:
                                return !0
                        }
                    }
                }, {
                    key: "getCurrentStyleProperties",
                    value: function () {
                        return Object.keys(this._currentKeyframe)
                    }
                }, {
                    key: "delayNextStep",
                    value: function (n) {
                        var l = 1 == this._keyframes.size && Object.keys(this._pendingStyles).length;
                        this.duration || l ? (this.forwardTime(this.currentTime + n), l && this.snapshotCurrentStyles()) : this.startTime += n
                    }
                }, {
                    key: "fork",
                    value: function (l, e) {
                        return this.applyStylesToKeyframe(), new n(this._driver, l, e || this.currentTime, this._elementTimelineStylesLookup)
                    }
                }, {
                    key: "_loadKeyframe",
                    value: function () {
                        this._currentKeyframe && (this._previousKeyframe = this._currentKeyframe), this._currentKeyframe = this._keyframes.get(this.duration), this._currentKeyframe || (this._currentKeyframe = Object.create(this._backFill, {}), this._keyframes.set(this.duration, this._currentKeyframe))
                    }
                }, {
                    key: "forwardFrame",
                    value: function () {
                        this.duration += 1, this._loadKeyframe()
                    }
                }, {
                    key: "forwardTime",
                    value: function (n) {
                        this.applyStylesToKeyframe(), this.duration = n, this._loadKeyframe()
                    }
                }, {
                    key: "_updateStyle",
                    value: function (n, l) {
                        this._localTimelineStyles[n] = l, this._globalTimelineStyles[n] = l, this._styleSummary[n] = {
                            time: this.currentTime,
                            value: l
                        }
                    }
                }, {
                    key: "allowOnlyTimelineStyles",
                    value: function () {
                        return this._currentEmptyStepKeyframe !== this._currentKeyframe
                    }
                }, {
                    key: "applyEmptyStep",
                    value: function (n) {
                        var l = this;
                        n && (this._previousKeyframe.easing = n), Object.keys(this._globalTimelineStyles).forEach((function (n) {
                            l._backFill[n] = l._globalTimelineStyles[n] || AR, l._currentKeyframe[n] = AR
                        })), this._currentEmptyStepKeyframe = this._currentKeyframe
                    }
                }, {
                    key: "setStyles",
                    value: function (n, l, e, t) {
                        var i = this;
                        l && (this._previousKeyframe.easing = l);
                        var u = t && t.params || {},
                            r = function (n, l) {
                                var e, t = {};
                                return n.forEach((function (n) {
                                    "*" === n ? (e = e || Object.keys(l)).forEach((function (n) {
                                        t[n] = AR
                                    })) : oM(n, !1, t)
                                })), t
                            }(n, this._globalTimelineStyles);
                        Object.keys(r).forEach((function (n) {
                            var l = vM(r[n], u, e);
                            i._pendingStyles[n] = l, i._localTimelineStyles.hasOwnProperty(n) || (i._backFill[n] = i._globalTimelineStyles.hasOwnProperty(n) ? i._globalTimelineStyles[n] : AR), i._updateStyle(n, l)
                        }))
                    }
                }, {
                    key: "applyStylesToKeyframe",
                    value: function () {
                        var n = this,
                            l = this._pendingStyles,
                            e = Object.keys(l);
                        0 != e.length && (this._pendingStyles = {}, e.forEach((function (e) {
                            n._currentKeyframe[e] = l[e]
                        })), Object.keys(this._localTimelineStyles).forEach((function (l) {
                            n._currentKeyframe.hasOwnProperty(l) || (n._currentKeyframe[l] = n._localTimelineStyles[l])
                        })))
                    }
                }, {
                    key: "snapshotCurrentStyles",
                    value: function () {
                        var n = this;
                        Object.keys(this._localTimelineStyles).forEach((function (l) {
                            var e = n._localTimelineStyles[l];
                            n._pendingStyles[l] = e, n._updateStyle(l, e)
                        }))
                    }
                }, {
                    key: "getFinalKeyframe",
                    value: function () {
                        return this._keyframes.get(this.duration)
                    }
                }, {
                    key: "mergeTimelineCollectedStyles",
                    value: function (n) {
                        var l = this;
                        Object.keys(n._styleSummary).forEach((function (e) {
                            var t = l._styleSummary[e],
                                i = n._styleSummary[e];
                            (!t || i.time > t.time) && l._updateStyle(e, i.value)
                        }))
                    }
                }, {
                    key: "buildKeyframes",
                    value: function () {
                        var n = this;
                        this.applyStylesToKeyframe();
                        var l = new Set,
                            e = new Set,
                            t = 1 === this._keyframes.size && 0 === this.duration,
                            i = [];
                        this._keyframes.forEach((function (u, r) {
                            var a = oM(u, !0);
                            Object.keys(a).forEach((function (n) {
                                var t = a[n];
                                t == NR ? l.add(n) : t == AR && e.add(n)
                            })), t || (a.offset = r / n.duration), i.push(a)
                        }));
                        var u = l.size ? mM(l.values()) : [],
                            r = e.size ? mM(e.values()) : [];
                        if (t) {
                            var a = i[0],
                                o = aM(a);
                            a.offset = 0, o.offset = 1, i = [a, o]
                        }
                        return NM(this.element, i, u, r, this.duration, this.startTime, this.easing, !1)
                    }
                }, {
                    key: "currentTime",
                    get: function () {
                        return this.startTime + this.duration
                    }
                }, {
                    key: "properties",
                    get: function () {
                        var n = [];
                        for (var l in this._currentKeyframe) n.push(l);
                        return n
                    }
                }]), n
            }(),
            VM = function (n) {
                function l(n, e, t, i, u, r) {
                    var a, o = arguments.length > 6 && void 0 !== arguments[6] && arguments[6];
                    return _classCallCheck(this, l), (a = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n, e, r.delay))).element = e, a.keyframes = t, a.preStyleProps = i, a.postStyleProps = u, a._stretchStartingKeyframe = o, a.timings = {
                        duration: r.duration,
                        delay: r.delay,
                        easing: r.easing
                    }, a
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "containsAnimation",
                    value: function () {
                        return this.keyframes.length > 1
                    }
                }, {
                    key: "buildKeyframes",
                    value: function () {
                        var n = this.keyframes,
                            l = this.timings,
                            e = l.delay,
                            t = l.duration,
                            i = l.easing;
                        if (this._stretchStartingKeyframe && e) {
                            var u = [],
                                r = t + e,
                                a = e / r,
                                o = oM(n[0], !1);
                            o.offset = 0, u.push(o);
                            var s = oM(n[0], !1);
                            s.offset = jM(a), u.push(s);
                            for (var c = n.length - 1, d = 1; d <= c; d++) {
                                var h = oM(n[d], !1);
                                h.offset = jM((e + h.offset * t) / r), u.push(h)
                            }
                            t = r, e = 0, i = "", n = u
                        }
                        return NM(this.element, n, this.preStyleProps, this.postStyleProps, t, e, i, !0)
                    }
                }]), l
            }(HM);

        function jM(n) {
            var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3,
                e = Math.pow(10, l - 1);
            return Math.round(n * e) / e
        }
        var GM = function n() {
                _classCallCheck(this, n)
            },
            WM = function (n) {
                function l() {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).apply(this, arguments))
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "normalizePropertyName",
                    value: function (n, l) {
                        return bM(n)
                    }
                }, {
                    key: "normalizeStyleValue",
                    value: function (n, l, e, t) {
                        var i = "",
                            u = e.toString().trim();
                        if (KM[l] && 0 !== e && "0" !== e)
                            if ("number" == typeof e) i = "px";
                            else {
                                var r = e.match(/^[+-]?[\d\.]+([a-z]*)$/);
                                r && 0 == r[1].length && t.push("Please provide a CSS unit value for ".concat(n, ":").concat(e))
                            } return u + i
                    }
                }]), l
            }(GM),
            KM = function (n) {
                var l = {};
                return n.forEach((function (n) {
                    return l[n] = !0
                })), l
            }("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));

        function ZM(n, l, e, t, i, u, r, a, o, s, c, d, h) {
            return {
                type: 0,
                element: n,
                triggerName: l,
                isRemovalTransition: i,
                fromState: e,
                fromStyles: u,
                toState: t,
                toStyles: r,
                timelines: a,
                queriedElements: o,
                preStyleProps: s,
                postStyleProps: c,
                totalTime: d,
                errors: h
            }
        }
        var QM = {},
            YM = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._triggerName = l, this.ast = e, this._stateStyles = t
                }
                return _createClass(n, [{
                    key: "match",
                    value: function (n, l, e, t) {
                        return function (n, l, e, t, i) {
                            return n.some((function (n) {
                                return n(l, e, t, i)
                            }))
                        }(this.ast.matchers, n, l, e, t)
                    }
                }, {
                    key: "buildStyles",
                    value: function (n, l, e) {
                        var t = this._stateStyles["*"],
                            i = this._stateStyles[n],
                            u = t ? t.buildStyles(l, e) : {};
                        return i ? i.buildStyles(l, e) : u
                    }
                }, {
                    key: "build",
                    value: function (n, l, e, t, i, u, r, a, o, s) {
                        var c = [],
                            d = this.ast.options && this.ast.options.params || QM,
                            h = this.buildStyles(e, r && r.params || QM, c),
                            p = a && a.params || QM,
                            f = this.buildStyles(t, p, c),
                            g = new Set,
                            v = new Map,
                            m = new Map,
                            y = "void" === t,
                            b = {
                                params: Object.assign({}, d, p)
                            },
                            _ = s ? [] : FM(n, l, this.ast.animation, i, u, h, f, b, o, c),
                            k = 0;
                        if (_.forEach((function (n) {
                                k = Math.max(n.duration + n.delay, k)
                            })), c.length) return ZM(l, this._triggerName, e, t, y, h, f, [], [], v, m, k, c);
                        _.forEach((function (n) {
                            var e = n.element,
                                t = $R(v, e, {});
                            n.preStyleProps.forEach((function (n) {
                                return t[n] = !0
                            }));
                            var i = $R(m, e, {});
                            n.postStyleProps.forEach((function (n) {
                                return i[n] = !0
                            })), e !== l && g.add(e)
                        }));
                        var w = mM(g.values());
                        return ZM(l, this._triggerName, e, t, y, h, f, _, w, v, m, k)
                    }
                }]), n
            }(),
            XM = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.styles = l, this.defaultParams = e
                }
                return _createClass(n, [{
                    key: "buildStyles",
                    value: function (n, l) {
                        var e = {},
                            t = aM(this.defaultParams);
                        return Object.keys(n).forEach((function (l) {
                            var e = n[l];
                            null != e && (t[l] = e)
                        })), this.styles.styles.forEach((function (n) {
                            if ("string" != typeof n) {
                                var i = n;
                                Object.keys(i).forEach((function (n) {
                                    var u = i[n];
                                    u.length > 1 && (u = vM(u, t, l)), e[n] = u
                                }))
                            }
                        })), e
                    }
                }]), n
            }(),
            JM = function () {
                function n(l, e) {
                    var t = this;
                    _classCallCheck(this, n), this.name = l, this.ast = e, this.transitionFactories = [], this.states = {}, e.states.forEach((function (n) {
                        t.states[n.name] = new XM(n.style, n.options && n.options.params || {})
                    })), nN(this.states, "true", "1"), nN(this.states, "false", "0"), e.transitions.forEach((function (n) {
                        t.transitionFactories.push(new YM(l, n, t.states))
                    })), this.fallbackTransition = new YM(l, {
                        type: 1,
                        animation: {
                            type: 2,
                            steps: [],
                            options: null
                        },
                        matchers: [function (n, l) {
                            return !0
                        }],
                        options: null,
                        queryCount: 0,
                        depCount: 0
                    }, this.states)
                }
                return _createClass(n, [{
                    key: "matchTransition",
                    value: function (n, l, e, t) {
                        return this.transitionFactories.find((function (i) {
                            return i.match(n, l, e, t)
                        })) || null
                    }
                }, {
                    key: "matchStyles",
                    value: function (n, l, e) {
                        return this.fallbackTransition.buildStyles(n, l, e)
                    }
                }, {
                    key: "containsQueries",
                    get: function () {
                        return this.ast.queryCount > 0
                    }
                }]), n
            }();

        function nN(n, l, e) {
            n.hasOwnProperty(l) ? n.hasOwnProperty(e) || (n[e] = n[l]) : n.hasOwnProperty(e) && (n[l] = n[e])
        }
        var lN = new BM,
            eN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.bodyNode = l, this._driver = e, this._normalizer = t, this._animations = {}, this._playersById = {}, this.players = []
                }
                return _createClass(n, [{
                    key: "register",
                    value: function (n, l) {
                        var e = [],
                            t = AM(this._driver, l, e);
                        if (e.length) throw new Error("Unable to build the animation due to the following errors: ".concat(e.join("\n")));
                        this._animations[n] = t
                    }
                }, {
                    key: "_buildPlayer",
                    value: function (n, l, e) {
                        var t = n.element,
                            i = LR(0, this._normalizer, 0, n.keyframes, l, e);
                        return this._driver.animate(t, i, n.duration, n.delay, n.easing, [], !0)
                    }
                }, {
                    key: "create",
                    value: function (n, l) {
                        var e, t = this,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                            u = [],
                            r = this._animations[n],
                            a = new Map;
                        if (r ? (e = FM(this._driver, l, r, "ng-enter", "ng-leave", {}, {}, i, lN, u)).forEach((function (n) {
                                var l = $R(a, n.element, {});
                                n.postStyleProps.forEach((function (n) {
                                    return l[n] = null
                                }))
                            })) : (u.push("The requested animation doesn't exist or has already been destroyed"), e = []), u.length) throw new Error("Unable to create the animation due to the following errors: ".concat(u.join("\n")));
                        a.forEach((function (n, l) {
                            Object.keys(n).forEach((function (e) {
                                n[e] = t._driver.computeStyle(l, e, AR)
                            }))
                        }));
                        var o = zR(e.map((function (n) {
                            var l = a.get(n.element);
                            return t._buildPlayer(n, {}, l)
                        })));
                        return this._playersById[n] = o, o.onDestroy((function () {
                            return t.destroy(n)
                        })), this.players.push(o), o
                    }
                }, {
                    key: "destroy",
                    value: function (n) {
                        var l = this._getPlayer(n);
                        l.destroy(), delete this._playersById[n];
                        var e = this.players.indexOf(l);
                        e >= 0 && this.players.splice(e, 1)
                    }
                }, {
                    key: "_getPlayer",
                    value: function (n) {
                        var l = this._playersById[n];
                        if (!l) throw new Error("Unable to find the timeline player referenced by ".concat(n));
                        return l
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e, t) {
                        var i = UR(l, "", "", "");
                        return FR(this._getPlayer(n), e, i, t),
                            function () {}
                    }
                }, {
                    key: "command",
                    value: function (n, l, e, t) {
                        if ("register" != e)
                            if ("create" != e) {
                                var i = this._getPlayer(n);
                                switch (e) {
                                    case "play":
                                        i.play();
                                        break;
                                    case "pause":
                                        i.pause();
                                        break;
                                    case "reset":
                                        i.reset();
                                        break;
                                    case "restart":
                                        i.restart();
                                        break;
                                    case "finish":
                                        i.finish();
                                        break;
                                    case "init":
                                        i.init();
                                        break;
                                    case "setPosition":
                                        i.setPosition(parseFloat(t[0]));
                                        break;
                                    case "destroy":
                                        this.destroy(n)
                                }
                            } else this.create(n, l, t[0] || {});
                        else this.register(n, t[0])
                    }
                }]), n
            }(),
            tN = [],
            iN = {
                namespaceId: "",
                setForRemoval: !1,
                setForMove: !1,
                hasAnimation: !1,
                removedBeforeQueried: !1
            },
            uN = {
                namespaceId: "",
                setForMove: !1,
                setForRemoval: !1,
                hasAnimation: !1,
                removedBeforeQueried: !0
            },
            rN = "__ng_removed",
            aN = function () {
                function n(l) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    _classCallCheck(this, n), this.namespaceId = e;
                    var t, i = l && l.hasOwnProperty("value");
                    if (this.value = null != (t = i ? l.value : l) ? t : null, i) {
                        var u = aM(l);
                        delete u.value, this.options = u
                    } else this.options = {};
                    this.options.params || (this.options.params = {})
                }
                return _createClass(n, [{
                    key: "absorbOptions",
                    value: function (n) {
                        var l = n.params;
                        if (l) {
                            var e = this.options.params;
                            Object.keys(l).forEach((function (n) {
                                null == e[n] && (e[n] = l[n])
                            }))
                        }
                    }
                }, {
                    key: "params",
                    get: function () {
                        return this.options.params
                    }
                }]), n
            }(),
            oN = new aN("void"),
            sN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.id = l, this.hostElement = e, this._engine = t, this.players = [], this._triggers = {}, this._queue = [], this._elementListeners = new Map, this._hostClassName = "ng-tns-" + l, mN(e, this._hostClassName)
                }
                return _createClass(n, [{
                    key: "listen",
                    value: function (n, l, e, t) {
                        var i, u = this;
                        if (!this._triggers.hasOwnProperty(l)) throw new Error('Unable to listen on the animation trigger event "'.concat(e, '" because the animation trigger "').concat(l, "\" doesn't exist!"));
                        if (null == e || 0 == e.length) throw new Error('Unable to listen on the animation trigger "'.concat(l, '" because the provided event is undefined!'));
                        if ("start" != (i = e) && "done" != i) throw new Error('The provided animation trigger event "'.concat(e, '" for the animation trigger "').concat(l, '" is not supported!'));
                        var r = $R(this._elementListeners, n, []),
                            a = {
                                name: l,
                                phase: e,
                                callback: t
                            };
                        r.push(a);
                        var o = $R(this._engine.statesByElement, n, {});
                        return o.hasOwnProperty(l) || (mN(n, "ng-trigger"), mN(n, "ng-trigger-" + l), o[l] = oN),
                            function () {
                                u._engine.afterFlush((function () {
                                    var n = r.indexOf(a);
                                    n >= 0 && r.splice(n, 1), u._triggers[l] || delete o[l]
                                }))
                            }
                    }
                }, {
                    key: "register",
                    value: function (n, l) {
                        return !this._triggers[n] && (this._triggers[n] = l, !0)
                    }
                }, {
                    key: "_getTrigger",
                    value: function (n) {
                        var l = this._triggers[n];
                        if (!l) throw new Error('The provided animation trigger "'.concat(n, '" has not been registered!'));
                        return l
                    }
                }, {
                    key: "trigger",
                    value: function (n, l, e) {
                        var t = this,
                            i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
                            u = this._getTrigger(l),
                            r = new dN(this.id, l, n),
                            a = this._engine.statesByElement.get(n);
                        a || (mN(n, "ng-trigger"), mN(n, "ng-trigger-" + l), this._engine.statesByElement.set(n, a = {}));
                        var o = a[l],
                            s = new aN(e, this.id);
                        if (!(e && e.hasOwnProperty("value")) && o && s.absorbOptions(o.options), a[l] = s, o || (o = oN), "void" === s.value || o.value !== s.value) {
                            var c = $R(this._engine.playersByElement, n, []);
                            c.forEach((function (n) {
                                n.namespaceId == t.id && n.triggerName == l && n.queued && n.destroy()
                            }));
                            var d = u.matchTransition(o.value, s.value, n, s.params),
                                h = !1;
                            if (!d) {
                                if (!i) return;
                                d = u.fallbackTransition, h = !0
                            }
                            return this._engine.totalQueuedPlayers++, this._queue.push({
                                element: n,
                                triggerName: l,
                                transition: d,
                                fromState: o,
                                toState: s,
                                player: r,
                                isFallbackTransition: h
                            }), h || (mN(n, "ng-animate-queued"), r.onStart((function () {
                                yN(n, "ng-animate-queued")
                            }))), r.onDone((function () {
                                var l = t.players.indexOf(r);
                                l >= 0 && t.players.splice(l, 1);
                                var e = t._engine.playersByElement.get(n);
                                if (e) {
                                    var i = e.indexOf(r);
                                    i >= 0 && e.splice(i, 1)
                                }
                            })), this.players.push(r), c.push(r), r
                        }
                        if (! function (n, l) {
                                var e = Object.keys(n),
                                    t = Object.keys(l);
                                if (e.length != t.length) return !1;
                                for (var i = 0; i < e.length; i++) {
                                    var u = e[i];
                                    if (!l.hasOwnProperty(u) || n[u] !== l[u]) return !1
                                }
                                return !0
                            }(o.params, s.params)) {
                            var p = [],
                                f = u.matchStyles(o.value, o.params, p),
                                g = u.matchStyles(s.value, s.params, p);
                            p.length ? this._engine.reportError(p) : this._engine.afterFlush((function () {
                                hM(n, f), dM(n, g)
                            }))
                        }
                    }
                }, {
                    key: "deregister",
                    value: function (n) {
                        var l = this;
                        delete this._triggers[n], this._engine.statesByElement.forEach((function (l, e) {
                            delete l[n]
                        })), this._elementListeners.forEach((function (e, t) {
                            l._elementListeners.set(t, e.filter((function (l) {
                                return l.name != n
                            })))
                        }))
                    }
                }, {
                    key: "clearElementCache",
                    value: function (n) {
                        this._engine.statesByElement.delete(n), this._elementListeners.delete(n);
                        var l = this._engine.playersByElement.get(n);
                        l && (l.forEach((function (n) {
                            return n.destroy()
                        })), this._engine.playersByElement.delete(n))
                    }
                }, {
                    key: "_signalRemovalForInnerTriggers",
                    value: function (n, l) {
                        var e = this;
                        arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        this._engine.driver.query(n, ".ng-trigger", !0).forEach((function (n) {
                            if (!n[rN]) {
                                var t = e._engine.fetchNamespacesByElement(n);
                                t.size ? t.forEach((function (e) {
                                    return e.triggerLeaveAnimation(n, l, !1, !0)
                                })) : e.clearElementCache(n)
                            }
                        }))
                    }
                }, {
                    key: "triggerLeaveAnimation",
                    value: function (n, l, e, t) {
                        var i = this,
                            u = this._engine.statesByElement.get(n);
                        if (u) {
                            var r = [];
                            if (Object.keys(u).forEach((function (l) {
                                    if (i._triggers[l]) {
                                        var e = i.trigger(n, l, "void", t);
                                        e && r.push(e)
                                    }
                                })), r.length) return this._engine.markElementAsRemoved(this.id, n, !0, l), e && zR(r).onDone((function () {
                                return i._engine.processLeaveNode(n)
                            })), !0
                        }
                        return !1
                    }
                }, {
                    key: "prepareLeaveAnimationListeners",
                    value: function (n) {
                        var l = this,
                            e = this._elementListeners.get(n);
                        if (e) {
                            var t = new Set;
                            e.forEach((function (e) {
                                var i = e.name;
                                if (!t.has(i)) {
                                    t.add(i);
                                    var u = l._triggers[i].fallbackTransition,
                                        r = l._engine.statesByElement.get(n)[i] || oN,
                                        a = new aN("void"),
                                        o = new dN(l.id, i, n);
                                    l._engine.totalQueuedPlayers++, l._queue.push({
                                        element: n,
                                        triggerName: i,
                                        transition: u,
                                        fromState: r,
                                        toState: a,
                                        player: o,
                                        isFallbackTransition: !0
                                    })
                                }
                            }))
                        }
                    }
                }, {
                    key: "removeNode",
                    value: function (n, l) {
                        var e = this,
                            t = this._engine;
                        if (n.childElementCount && this._signalRemovalForInnerTriggers(n, l, !0), !this.triggerLeaveAnimation(n, l, !0)) {
                            var i = !1;
                            if (t.totalAnimations) {
                                var u = t.players.length ? t.playersByQueriedElement.get(n) : [];
                                if (u && u.length) i = !0;
                                else
                                    for (var r = n; r = r.parentNode;)
                                        if (t.statesByElement.get(r)) {
                                            i = !0;
                                            break
                                        }
                            }
                            this.prepareLeaveAnimationListeners(n), i ? t.markElementAsRemoved(this.id, n, !1, l) : (t.afterFlush((function () {
                                return e.clearElementCache(n)
                            })), t.destroyInnerAnimations(n), t._onRemovalComplete(n, l))
                        }
                    }
                }, {
                    key: "insertNode",
                    value: function (n, l) {
                        mN(n, this._hostClassName)
                    }
                }, {
                    key: "drainQueuedTransitions",
                    value: function (n) {
                        var l = this,
                            e = [];
                        return this._queue.forEach((function (t) {
                            var i = t.player;
                            if (!i.destroyed) {
                                var u = t.element,
                                    r = l._elementListeners.get(u);
                                r && r.forEach((function (l) {
                                    if (l.name == t.triggerName) {
                                        var e = UR(u, t.triggerName, t.fromState.value, t.toState.value);
                                        e._data = n, FR(t.player, l.phase, e, l.callback)
                                    }
                                })), i.markedForDestroy ? l._engine.afterFlush((function () {
                                    i.destroy()
                                })) : e.push(t)
                            }
                        })), this._queue = [], e.sort((function (n, e) {
                            var t = n.transition.ast.depCount,
                                i = e.transition.ast.depCount;
                            return 0 == t || 0 == i ? t - i : l._engine.driver.containsElement(n.element, e.element) ? 1 : -1
                        }))
                    }
                }, {
                    key: "destroy",
                    value: function (n) {
                        this.players.forEach((function (n) {
                            return n.destroy()
                        })), this._signalRemovalForInnerTriggers(this.hostElement, n)
                    }
                }, {
                    key: "elementContainsData",
                    value: function (n) {
                        var l = !1;
                        return this._elementListeners.has(n) && (l = !0), !!this._queue.find((function (l) {
                            return l.element === n
                        })) || l
                    }
                }]), n
            }(),
            cN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.bodyNode = l, this.driver = e, this._normalizer = t, this.players = [], this.newHostElements = new Map, this.playersByElement = new Map, this.playersByQueriedElement = new Map, this.statesByElement = new Map, this.disabledNodes = new Set, this.totalAnimations = 0, this.totalQueuedPlayers = 0, this._namespaceLookup = {}, this._namespaceList = [], this._flushFns = [], this._whenQuietFns = [], this.namespacesByHostElement = new Map, this.collectedEnterElements = [], this.collectedLeaveElements = [], this.onRemovalComplete = function (n, l) {}
                }
                return _createClass(n, [{
                    key: "_onRemovalComplete",
                    value: function (n, l) {
                        this.onRemovalComplete(n, l)
                    }
                }, {
                    key: "createNamespace",
                    value: function (n, l) {
                        var e = new sN(n, l, this);
                        return l.parentNode ? this._balanceNamespaceList(e, l) : (this.newHostElements.set(l, e), this.collectEnterElement(l)), this._namespaceLookup[n] = e
                    }
                }, {
                    key: "_balanceNamespaceList",
                    value: function (n, l) {
                        var e = this._namespaceList.length - 1;
                        if (e >= 0) {
                            for (var t = !1, i = e; i >= 0; i--)
                                if (this.driver.containsElement(this._namespaceList[i].hostElement, l)) {
                                    this._namespaceList.splice(i + 1, 0, n), t = !0;
                                    break
                                } t || this._namespaceList.splice(0, 0, n)
                        } else this._namespaceList.push(n);
                        return this.namespacesByHostElement.set(l, n), n
                    }
                }, {
                    key: "register",
                    value: function (n, l) {
                        var e = this._namespaceLookup[n];
                        return e || (e = this.createNamespace(n, l)), e
                    }
                }, {
                    key: "registerTrigger",
                    value: function (n, l, e) {
                        var t = this._namespaceLookup[n];
                        t && t.register(l, e) && this.totalAnimations++
                    }
                }, {
                    key: "destroy",
                    value: function (n, l) {
                        var e = this;
                        if (n) {
                            var t = this._fetchNamespace(n);
                            this.afterFlush((function () {
                                e.namespacesByHostElement.delete(t.hostElement), delete e._namespaceLookup[n];
                                var l = e._namespaceList.indexOf(t);
                                l >= 0 && e._namespaceList.splice(l, 1)
                            })), this.afterFlushAnimationsDone((function () {
                                return t.destroy(l)
                            }))
                        }
                    }
                }, {
                    key: "_fetchNamespace",
                    value: function (n) {
                        return this._namespaceLookup[n]
                    }
                }, {
                    key: "fetchNamespacesByElement",
                    value: function (n) {
                        var l = new Set,
                            e = this.statesByElement.get(n);
                        if (e)
                            for (var t = Object.keys(e), i = 0; i < t.length; i++) {
                                var u = e[t[i]].namespaceId;
                                if (u) {
                                    var r = this._fetchNamespace(u);
                                    r && l.add(r)
                                }
                            }
                        return l
                    }
                }, {
                    key: "trigger",
                    value: function (n, l, e, t) {
                        if (hN(l)) {
                            var i = this._fetchNamespace(n);
                            if (i) return i.trigger(l, e, t), !0
                        }
                        return !1
                    }
                }, {
                    key: "insertNode",
                    value: function (n, l, e, t) {
                        if (hN(l)) {
                            var i = l[rN];
                            if (i && i.setForRemoval) {
                                i.setForRemoval = !1, i.setForMove = !0;
                                var u = this.collectedLeaveElements.indexOf(l);
                                u >= 0 && this.collectedLeaveElements.splice(u, 1)
                            }
                            if (n) {
                                var r = this._fetchNamespace(n);
                                r && r.insertNode(l, e)
                            }
                            t && this.collectEnterElement(l)
                        }
                    }
                }, {
                    key: "collectEnterElement",
                    value: function (n) {
                        this.collectedEnterElements.push(n)
                    }
                }, {
                    key: "markElementAsDisabled",
                    value: function (n, l) {
                        l ? this.disabledNodes.has(n) || (this.disabledNodes.add(n), mN(n, "ng-animate-disabled")) : this.disabledNodes.has(n) && (this.disabledNodes.delete(n), yN(n, "ng-animate-disabled"))
                    }
                }, {
                    key: "removeNode",
                    value: function (n, l, e, t) {
                        if (hN(l)) {
                            var i = n ? this._fetchNamespace(n) : null;
                            if (i ? i.removeNode(l, t) : this.markElementAsRemoved(n, l, !1, t), e) {
                                var u = this.namespacesByHostElement.get(l);
                                u && u.id !== n && u.removeNode(l, t)
                            }
                        } else this._onRemovalComplete(l, t)
                    }
                }, {
                    key: "markElementAsRemoved",
                    value: function (n, l, e, t) {
                        this.collectedLeaveElements.push(l), l[rN] = {
                            namespaceId: n,
                            setForRemoval: t,
                            hasAnimation: e,
                            removedBeforeQueried: !1
                        }
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e, t, i) {
                        return hN(l) ? this._fetchNamespace(n).listen(l, e, t, i) : function () {}
                    }
                }, {
                    key: "_buildInstruction",
                    value: function (n, l, e, t, i) {
                        return n.transition.build(this.driver, n.element, n.fromState.value, n.toState.value, e, t, n.fromState.options, n.toState.options, l, i)
                    }
                }, {
                    key: "destroyInnerAnimations",
                    value: function (n) {
                        var l = this,
                            e = this.driver.query(n, ".ng-trigger", !0);
                        e.forEach((function (n) {
                            return l.destroyActiveAnimationsForElement(n)
                        })), 0 != this.playersByQueriedElement.size && (e = this.driver.query(n, ".ng-animating", !0)).forEach((function (n) {
                            return l.finishActiveQueriedAnimationOnElement(n)
                        }))
                    }
                }, {
                    key: "destroyActiveAnimationsForElement",
                    value: function (n) {
                        var l = this.playersByElement.get(n);
                        l && l.forEach((function (n) {
                            n.queued ? n.markedForDestroy = !0 : n.destroy()
                        }))
                    }
                }, {
                    key: "finishActiveQueriedAnimationOnElement",
                    value: function (n) {
                        var l = this.playersByQueriedElement.get(n);
                        l && l.forEach((function (n) {
                            return n.finish()
                        }))
                    }
                }, {
                    key: "whenRenderingDone",
                    value: function () {
                        var n = this;
                        return new Promise((function (l) {
                            if (n.players.length) return zR(n.players).onDone((function () {
                                return l()
                            }));
                            l()
                        }))
                    }
                }, {
                    key: "processLeaveNode",
                    value: function (n) {
                        var l = this,
                            e = n[rN];
                        if (e && e.setForRemoval) {
                            if (n[rN] = iN, e.namespaceId) {
                                this.destroyInnerAnimations(n);
                                var t = this._fetchNamespace(e.namespaceId);
                                t && t.clearElementCache(n)
                            }
                            this._onRemovalComplete(n, e.setForRemoval)
                        }
                        this.driver.matchesElement(n, ".ng-animate-disabled") && this.markElementAsDisabled(n, !1), this.driver.query(n, ".ng-animate-disabled", !0).forEach((function (n) {
                            l.markElementAsDisabled(n, !1)
                        }))
                    }
                }, {
                    key: "flush",
                    value: function () {
                        var n = this,
                            l = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                            e = [];
                        if (this.newHostElements.size && (this.newHostElements.forEach((function (l, e) {
                                return n._balanceNamespaceList(l, e)
                            })), this.newHostElements.clear()), this.totalAnimations && this.collectedEnterElements.length)
                            for (var t = 0; t < this.collectedEnterElements.length; t++) mN(this.collectedEnterElements[t], "ng-star-inserted");
                        if (this._namespaceList.length && (this.totalQueuedPlayers || this.collectedLeaveElements.length)) {
                            var i = [];
                            try {
                                e = this._flushAnimations(i, l)
                            } finally {
                                for (var u = 0; u < i.length; u++) i[u]()
                            }
                        } else
                            for (var r = 0; r < this.collectedLeaveElements.length; r++) this.processLeaveNode(this.collectedLeaveElements[r]);
                        if (this.totalQueuedPlayers = 0, this.collectedEnterElements.length = 0, this.collectedLeaveElements.length = 0, this._flushFns.forEach((function (n) {
                                return n()
                            })), this._flushFns = [], this._whenQuietFns.length) {
                            var a = this._whenQuietFns;
                            this._whenQuietFns = [], e.length ? zR(e).onDone((function () {
                                a.forEach((function (n) {
                                    return n()
                                }))
                            })) : a.forEach((function (n) {
                                return n()
                            }))
                        }
                    }
                }, {
                    key: "reportError",
                    value: function (n) {
                        throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(n.join("\n")))
                    }
                }, {
                    key: "_flushAnimations",
                    value: function (n, l) {
                        var e = this,
                            t = new BM,
                            i = [],
                            u = new Map,
                            r = [],
                            a = new Map,
                            o = new Map,
                            s = new Map,
                            c = new Set;
                        this.disabledNodes.forEach((function (n) {
                            c.add(n);
                            for (var l = e.driver.query(n, ".ng-animate-queued", !0), t = 0; t < l.length; t++) c.add(l[t])
                        }));
                        var d = this.bodyNode,
                            h = Array.from(this.statesByElement.keys()),
                            p = gN(h, this.collectedEnterElements),
                            f = new Map,
                            g = 0;
                        p.forEach((function (n, l) {
                            var e = "ng-enter" + g++;
                            f.set(l, e), n.forEach((function (n) {
                                return mN(n, e)
                            }))
                        }));
                        for (var v = [], m = new Set, y = new Set, b = 0; b < this.collectedLeaveElements.length; b++) {
                            var _ = this.collectedLeaveElements[b],
                                k = _[rN];
                            k && k.setForRemoval && (v.push(_), m.add(_), k.hasAnimation ? this.driver.query(_, ".ng-star-inserted", !0).forEach((function (n) {
                                return m.add(n)
                            })) : y.add(_))
                        }
                        var w = new Map,
                            x = gN(h, Array.from(m));
                        x.forEach((function (n, l) {
                            var e = "ng-leave" + g++;
                            w.set(l, e), n.forEach((function (n) {
                                return mN(n, e)
                            }))
                        })), n.push((function () {
                            p.forEach((function (n, l) {
                                var e = f.get(l);
                                n.forEach((function (n) {
                                    return yN(n, e)
                                }))
                            })), x.forEach((function (n, l) {
                                var e = w.get(l);
                                n.forEach((function (n) {
                                    return yN(n, e)
                                }))
                            })), v.forEach((function (n) {
                                e.processLeaveNode(n)
                            }))
                        }));
                        for (var C = [], S = [], I = this._namespaceList.length - 1; I >= 0; I--) this._namespaceList[I].drainQueuedTransitions(l).forEach((function (n) {
                            var l = n.player,
                                u = n.element;
                            if (C.push(l), e.collectedEnterElements.length) {
                                var c = u[rN];
                                if (c && c.setForMove) return void l.destroy()
                            }
                            var h = !d || !e.driver.containsElement(d, u),
                                p = w.get(u),
                                g = f.get(u),
                                v = e._buildInstruction(n, t, g, p, h);
                            if (!v.errors || !v.errors.length) return h ? (l.onStart((function () {
                                return hM(u, v.fromStyles)
                            })), l.onDestroy((function () {
                                return dM(u, v.toStyles)
                            })), void i.push(l)) : n.isFallbackTransition ? (l.onStart((function () {
                                return hM(u, v.fromStyles)
                            })), l.onDestroy((function () {
                                return dM(u, v.toStyles)
                            })), void i.push(l)) : (v.timelines.forEach((function (n) {
                                return n.stretchStartingKeyframe = !0
                            })), t.append(u, v.timelines), r.push({
                                instruction: v,
                                player: l,
                                element: u
                            }), v.queriedElements.forEach((function (n) {
                                return $R(a, n, []).push(l)
                            })), v.preStyleProps.forEach((function (n, l) {
                                var e = Object.keys(n);
                                if (e.length) {
                                    var t = o.get(l);
                                    t || o.set(l, t = new Set), e.forEach((function (n) {
                                        return t.add(n)
                                    }))
                                }
                            })), void v.postStyleProps.forEach((function (n, l) {
                                var e = Object.keys(n),
                                    t = s.get(l);
                                t || s.set(l, t = new Set), e.forEach((function (n) {
                                    return t.add(n)
                                }))
                            })));
                            S.push(v)
                        }));
                        if (S.length) {
                            var T = [];
                            S.forEach((function (n) {
                                T.push("@".concat(n.triggerName, " has failed due to:\n")), n.errors.forEach((function (n) {
                                    return T.push("- ".concat(n, "\n"))
                                }))
                            })), C.forEach((function (n) {
                                return n.destroy()
                            })), this.reportError(T)
                        }
                        var E = new Map,
                            A = new Map;
                        r.forEach((function (n) {
                            var l = n.element;
                            t.has(l) && (A.set(l, l), e._beforeAnimationBuild(n.player.namespaceId, n.instruction, E))
                        })), i.forEach((function (n) {
                            var l = n.element;
                            e._getPreviousPlayers(l, !1, n.namespaceId, n.triggerName, null).forEach((function (n) {
                                $R(E, l, []).push(n), n.destroy()
                            }))
                        }));
                        var P = v.filter((function (n) {
                                return _N(n, o, s)
                            })),
                            O = new Map;
                        fN(O, this.driver, y, s, AR).forEach((function (n) {
                            _N(n, o, s) && P.push(n)
                        }));
                        var D = new Map;
                        p.forEach((function (n, l) {
                            fN(D, e.driver, new Set(n), o, NR)
                        })), P.forEach((function (n) {
                            var l = O.get(n),
                                e = D.get(n);
                            O.set(n, Object.assign({}, l, e))
                        }));
                        var R = [],
                            M = [],
                            N = {};
                        r.forEach((function (n) {
                            var l = n.element,
                                r = n.player,
                                a = n.instruction;
                            if (t.has(l)) {
                                if (c.has(l)) return r.onDestroy((function () {
                                    return dM(l, a.toStyles)
                                })), r.disabled = !0, r.overrideTotalTime(a.totalTime), void i.push(r);
                                var o = N;
                                if (A.size > 1) {
                                    for (var s = l, d = []; s = s.parentNode;) {
                                        var h = A.get(s);
                                        if (h) {
                                            o = h;
                                            break
                                        }
                                        d.push(s)
                                    }
                                    d.forEach((function (n) {
                                        return A.set(n, o)
                                    }))
                                }
                                var p = e._buildAnimation(r.namespaceId, a, E, u, D, O);
                                if (r.setRealPlayer(p), o === N) R.push(r);
                                else {
                                    var f = e.playersByElement.get(o);
                                    f && f.length && (r.parentPlayer = zR(f)), i.push(r)
                                }
                            } else hM(l, a.fromStyles), r.onDestroy((function () {
                                return dM(l, a.toStyles)
                            })), M.push(r), c.has(l) && i.push(r)
                        })), M.forEach((function (n) {
                            var l = u.get(n.element);
                            if (l && l.length) {
                                var e = zR(l);
                                n.setRealPlayer(e)
                            }
                        })), i.forEach((function (n) {
                            n.parentPlayer ? n.syncPlayerEvents(n.parentPlayer) : n.destroy()
                        }));
                        for (var B = 0; B < v.length; B++) {
                            var z = v[B],
                                L = z[rN];
                            if (yN(z, "ng-leave"), !L || !L.hasAnimation) {
                                var F = [];
                                if (a.size) {
                                    var q = a.get(z);
                                    q && q.length && F.push.apply(F, _toConsumableArray(q));
                                    for (var U = this.driver.query(z, ".ng-animating", !0), $ = 0; $ < U.length; $++) {
                                        var H = a.get(U[$]);
                                        H && H.length && F.push.apply(F, _toConsumableArray(H))
                                    }
                                }
                                var V = F.filter((function (n) {
                                    return !n.destroyed
                                }));
                                V.length ? bN(this, z, V) : this.processLeaveNode(z)
                            }
                        }
                        return v.length = 0, R.forEach((function (n) {
                            e.players.push(n), n.onDone((function () {
                                n.destroy();
                                var l = e.players.indexOf(n);
                                e.players.splice(l, 1)
                            })), n.play()
                        })), R
                    }
                }, {
                    key: "elementContainsData",
                    value: function (n, l) {
                        var e = !1,
                            t = l[rN];
                        return t && t.setForRemoval && (e = !0), this.playersByElement.has(l) && (e = !0), this.playersByQueriedElement.has(l) && (e = !0), this.statesByElement.has(l) && (e = !0), this._fetchNamespace(n).elementContainsData(l) || e
                    }
                }, {
                    key: "afterFlush",
                    value: function (n) {
                        this._flushFns.push(n)
                    }
                }, {
                    key: "afterFlushAnimationsDone",
                    value: function (n) {
                        this._whenQuietFns.push(n)
                    }
                }, {
                    key: "_getPreviousPlayers",
                    value: function (n, l, e, t, i) {
                        var u = [];
                        if (l) {
                            var r = this.playersByQueriedElement.get(n);
                            r && (u = r)
                        } else {
                            var a = this.playersByElement.get(n);
                            if (a) {
                                var o = !i || "void" == i;
                                a.forEach((function (n) {
                                    n.queued || (o || n.triggerName == t) && u.push(n)
                                }))
                            }
                        }
                        return (e || t) && (u = u.filter((function (n) {
                            return !(e && e != n.namespaceId || t && t != n.triggerName)
                        }))), u
                    }
                }, {
                    key: "_beforeAnimationBuild",
                    value: function (n, l, e) {
                        var t = this,
                            i = l.element,
                            u = l.isRemovalTransition ? void 0 : n,
                            r = l.isRemovalTransition ? void 0 : l.triggerName,
                            a = !0,
                            o = !1,
                            s = void 0;
                        try {
                            for (var c, d = function () {
                                    var n = c.value.element,
                                        a = n !== i,
                                        o = $R(e, n, []);
                                    t._getPreviousPlayers(n, a, u, r, l.toState).forEach((function (n) {
                                        var l = n.getRealPlayer();
                                        l.beforeDestroy && l.beforeDestroy(), n.destroy(), o.push(n)
                                    }))
                                }, h = l.timelines[Symbol.iterator](); !(a = (c = h.next()).done); a = !0) d()
                        } catch (p) {
                            o = !0, s = p
                        } finally {
                            try {
                                a || null == h.return || h.return()
                            } finally {
                                if (o) throw s
                            }
                        }
                        hM(i, l.fromStyles)
                    }
                }, {
                    key: "_buildAnimation",
                    value: function (n, l, e, t, i, u) {
                        var r = this,
                            a = l.triggerName,
                            o = l.element,
                            s = [],
                            c = new Set,
                            d = new Set,
                            h = l.timelines.map((function (l) {
                                var h = l.element;
                                c.add(h);
                                var p = h[rN];
                                if (p && p.removedBeforeQueried) return new RR(l.duration, l.delay);
                                var f, g, v = h !== o,
                                    m = (f = (e.get(h) || tN).map((function (n) {
                                        return n.getRealPlayer()
                                    })), g = [], function n(l, e) {
                                        for (var t = 0; t < l.length; t++) {
                                            var i = l[t];
                                            i instanceof MR ? n(i.players, e) : e.push(i)
                                        }
                                    }(f, g), g).filter((function (n) {
                                        return !!n.element && n.element === h
                                    })),
                                    y = i.get(h),
                                    b = u.get(h),
                                    _ = LR(0, r._normalizer, 0, l.keyframes, y, b),
                                    k = r._buildPlayer(l, _, m);
                                if (l.subTimeline && t && d.add(h), v) {
                                    var w = new dN(n, a, h);
                                    w.setRealPlayer(k), s.push(w)
                                }
                                return k
                            }));
                        s.forEach((function (n) {
                            $R(r.playersByQueriedElement, n.element, []).push(n), n.onDone((function () {
                                return function (n, l, e) {
                                    var t;
                                    if (n instanceof Map) {
                                        if (t = n.get(l)) {
                                            if (t.length) {
                                                var i = t.indexOf(e);
                                                t.splice(i, 1)
                                            }
                                            0 == t.length && n.delete(l)
                                        }
                                    } else if (t = n[l]) {
                                        if (t.length) {
                                            var u = t.indexOf(e);
                                            t.splice(u, 1)
                                        }
                                        0 == t.length && delete n[l]
                                    }
                                    return t
                                }(r.playersByQueriedElement, n.element, n)
                            }))
                        })), c.forEach((function (n) {
                            return mN(n, "ng-animating")
                        }));
                        var p = zR(h);
                        return p.onDestroy((function () {
                            c.forEach((function (n) {
                                return yN(n, "ng-animating")
                            })), dM(o, l.toStyles)
                        })), d.forEach((function (n) {
                            $R(t, n, []).push(p)
                        })), p
                    }
                }, {
                    key: "_buildPlayer",
                    value: function (n, l, e) {
                        return l.length > 0 ? this.driver.animate(n.element, l, n.duration, n.delay, n.easing, e) : new RR(n.duration, n.delay)
                    }
                }, {
                    key: "queuedPlayers",
                    get: function () {
                        var n = [];
                        return this._namespaceList.forEach((function (l) {
                            l.players.forEach((function (l) {
                                l.queued && n.push(l)
                            }))
                        })), n
                    }
                }]), n
            }(),
            dN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.namespaceId = l, this.triggerName = e, this.element = t, this._player = new RR, this._containsRealPlayer = !1, this._queuedCallbacks = {}, this.destroyed = !1, this.markedForDestroy = !1, this.disabled = !1, this.queued = !0, this.totalTime = 0
                }
                return _createClass(n, [{
                    key: "setRealPlayer",
                    value: function (n) {
                        var l = this;
                        this._containsRealPlayer || (this._player = n, Object.keys(this._queuedCallbacks).forEach((function (e) {
                            l._queuedCallbacks[e].forEach((function (l) {
                                return FR(n, e, void 0, l)
                            }))
                        })), this._queuedCallbacks = {}, this._containsRealPlayer = !0, this.overrideTotalTime(n.totalTime), this.queued = !1)
                    }
                }, {
                    key: "getRealPlayer",
                    value: function () {
                        return this._player
                    }
                }, {
                    key: "overrideTotalTime",
                    value: function (n) {
                        this.totalTime = n
                    }
                }, {
                    key: "syncPlayerEvents",
                    value: function (n) {
                        var l = this,
                            e = this._player;
                        e.triggerCallback && n.onStart((function () {
                            return e.triggerCallback("start")
                        })), n.onDone((function () {
                            return l.finish()
                        })), n.onDestroy((function () {
                            return l.destroy()
                        }))
                    }
                }, {
                    key: "_queueEvent",
                    value: function (n, l) {
                        $R(this._queuedCallbacks, n, []).push(l)
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this.queued && this._queueEvent("done", n), this._player.onDone(n)
                    }
                }, {
                    key: "onStart",
                    value: function (n) {
                        this.queued && this._queueEvent("start", n), this._player.onStart(n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this.queued && this._queueEvent("destroy", n), this._player.onDestroy(n)
                    }
                }, {
                    key: "init",
                    value: function () {
                        this._player.init()
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return !this.queued && this._player.hasStarted()
                    }
                }, {
                    key: "play",
                    value: function () {
                        !this.queued && this._player.play()
                    }
                }, {
                    key: "pause",
                    value: function () {
                        !this.queued && this._player.pause()
                    }
                }, {
                    key: "restart",
                    value: function () {
                        !this.queued && this._player.restart()
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this._player.finish()
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.destroyed = !0, this._player.destroy()
                    }
                }, {
                    key: "reset",
                    value: function () {
                        !this.queued && this._player.reset()
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        this.queued || this._player.setPosition(n)
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        return this.queued ? 0 : this._player.getPosition()
                    }
                }, {
                    key: "triggerCallback",
                    value: function (n) {
                        var l = this._player;
                        l.triggerCallback && l.triggerCallback(n)
                    }
                }]), n
            }();

        function hN(n) {
            return n && 1 === n.nodeType
        }

        function pN(n, l) {
            var e = n.style.display;
            return n.style.display = null != l ? l : "none", e
        }

        function fN(n, l, e, t, i) {
            var u = [];
            e.forEach((function (n) {
                return u.push(pN(n))
            }));
            var r = [];
            t.forEach((function (e, t) {
                var u = {};
                e.forEach((function (n) {
                    var e = u[n] = l.computeStyle(t, n, i);
                    e && 0 != e.length || (t[rN] = uN, r.push(t))
                })), n.set(t, u)
            }));
            var a = 0;
            return e.forEach((function (n) {
                return pN(n, u[a++])
            })), r
        }

        function gN(n, l) {
            var e = new Map;
            if (n.forEach((function (n) {
                    return e.set(n, [])
                })), 0 == l.length) return e;
            var t = new Set(l),
                i = new Map;
            return l.forEach((function (n) {
                var l = function n(l) {
                    if (!l) return 1;
                    var u = i.get(l);
                    if (u) return u;
                    var r = l.parentNode;
                    return u = e.has(r) ? r : t.has(r) ? 1 : n(r), i.set(l, u), u
                }(n);
                1 !== l && e.get(l).push(n)
            })), e
        }
        var vN = "$$classes";

        function mN(n, l) {
            if (n.classList) n.classList.add(l);
            else {
                var e = n[vN];
                e || (e = n[vN] = {}), e[l] = !0
            }
        }

        function yN(n, l) {
            if (n.classList) n.classList.remove(l);
            else {
                var e = n[vN];
                e && delete e[l]
            }
        }

        function bN(n, l, e) {
            zR(e).onDone((function () {
                return n.processLeaveNode(l)
            }))
        }

        function _N(n, l, e) {
            var t = e.get(n);
            if (!t) return !1;
            var i = l.get(n);
            return i ? t.forEach((function (n) {
                return i.add(n)
            })) : l.set(n, t), e.delete(n), !0
        }
        var kN = function () {
            function n(l, e, t) {
                var i = this;
                _classCallCheck(this, n), this.bodyNode = l, this._driver = e, this._triggerCache = {}, this.onRemovalComplete = function (n, l) {}, this._transitionEngine = new cN(l, e, t), this._timelineEngine = new eN(l, e, t), this._transitionEngine.onRemovalComplete = function (n, l) {
                    return i.onRemovalComplete(n, l)
                }
            }
            return _createClass(n, [{
                key: "registerTrigger",
                value: function (n, l, e, t, i) {
                    var u = n + "-" + t,
                        r = this._triggerCache[u];
                    if (!r) {
                        var a = [],
                            o = AM(this._driver, i, a);
                        if (a.length) throw new Error('The animation trigger "'.concat(t, '" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));
                        r = function (n, l) {
                            return new JM(n, l)
                        }(t, o), this._triggerCache[u] = r
                    }
                    this._transitionEngine.registerTrigger(l, t, r)
                }
            }, {
                key: "register",
                value: function (n, l) {
                    this._transitionEngine.register(n, l)
                }
            }, {
                key: "destroy",
                value: function (n, l) {
                    this._transitionEngine.destroy(n, l)
                }
            }, {
                key: "onInsert",
                value: function (n, l, e, t) {
                    this._transitionEngine.insertNode(n, l, e, t)
                }
            }, {
                key: "onRemove",
                value: function (n, l, e, t) {
                    this._transitionEngine.removeNode(n, l, t || !1, e)
                }
            }, {
                key: "disableAnimations",
                value: function (n, l) {
                    this._transitionEngine.markElementAsDisabled(n, l)
                }
            }, {
                key: "process",
                value: function (n, l, e, t) {
                    if ("@" == e.charAt(0)) {
                        var i = _slicedToArray(HR(e), 2),
                            u = i[0],
                            r = i[1];
                        this._timelineEngine.command(u, l, r, t)
                    } else this._transitionEngine.trigger(n, l, e, t)
                }
            }, {
                key: "listen",
                value: function (n, l, e, t, i) {
                    if ("@" == e.charAt(0)) {
                        var u = _slicedToArray(HR(e), 2),
                            r = u[0],
                            a = u[1];
                        return this._timelineEngine.listen(r, l, a, i)
                    }
                    return this._transitionEngine.listen(n, l, e, t, i)
                }
            }, {
                key: "flush",
                value: function () {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
                    this._transitionEngine.flush(n)
                }
            }, {
                key: "whenRenderingDone",
                value: function () {
                    return this._transitionEngine.whenRenderingDone()
                }
            }, {
                key: "players",
                get: function () {
                    return this._transitionEngine.players.concat(this._timelineEngine.players)
                }
            }]), n
        }();

        function wN(n, l) {
            var e = null,
                t = null;
            return Array.isArray(l) && l.length ? (e = CN(l[0]), l.length > 1 && (t = CN(l[l.length - 1]))) : l && (e = CN(l)), e || t ? new xN(n, e, t) : null
        }
        var xN = function () {
            var n = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this._element = l, this._startStyles = e, this._endStyles = t, this._state = 0;
                    var i = n.initialStylesByElement.get(l);
                    i || n.initialStylesByElement.set(l, i = {}), this._initialStyles = i
                }
                return _createClass(n, [{
                    key: "start",
                    value: function () {
                        this._state < 1 && (this._startStyles && dM(this._element, this._startStyles, this._initialStyles), this._state = 1)
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this.start(), this._state < 2 && (dM(this._element, this._initialStyles), this._endStyles && (dM(this._element, this._endStyles), this._endStyles = null), this._state = 1)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.finish(), this._state < 3 && (n.initialStylesByElement.delete(this._element), this._startStyles && (hM(this._element, this._startStyles), this._endStyles = null), this._endStyles && (hM(this._element, this._endStyles), this._endStyles = null), dM(this._element, this._initialStyles), this._state = 3)
                    }
                }]), n
            }();
            return n.initialStylesByElement = new WeakMap, n
        }();

        function CN(n) {
            for (var l = null, e = Object.keys(n), t = 0; t < e.length; t++) {
                var i = e[t];
                SN(i) && ((l = l || {})[i] = n[i])
            }
            return l
        }

        function SN(n) {
            return "display" === n || "position" === n
        }
        var IN = "animation",
            TN = "animationend",
            EN = function () {
                function n(l, e, t, i, u, r, a) {
                    var o = this;
                    _classCallCheck(this, n), this._element = l, this._name = e, this._duration = t, this._delay = i, this._easing = u, this._fillMode = r, this._onDoneFn = a, this._finished = !1, this._destroyed = !1, this._startTime = 0, this._position = 0, this._eventFn = function (n) {
                        return o._handleCallback(n)
                    }
                }
                return _createClass(n, [{
                    key: "apply",
                    value: function () {
                        var n, l, e;
                        n = this._element, l = "".concat(this._duration, "ms ").concat(this._easing, " ").concat(this._delay, "ms 1 normal ").concat(this._fillMode, " ").concat(this._name), (e = MN(n, "").trim()).length && (function (n, l) {
                            for (var e = 0; e < n.length; e++) n.charAt(e)
                        }(e), l = "".concat(e, ", ").concat(l)), RN(n, "", l), DN(this._element, this._eventFn, !1), this._startTime = Date.now()
                    }
                }, {
                    key: "pause",
                    value: function () {
                        AN(this._element, this._name, "paused")
                    }
                }, {
                    key: "resume",
                    value: function () {
                        AN(this._element, this._name, "running")
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        var l = PN(this._element, this._name);
                        this._position = n * this._duration, RN(this._element, "Delay", "-".concat(this._position, "ms"), l)
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        return this._position
                    }
                }, {
                    key: "_handleCallback",
                    value: function (n) {
                        var l = n._ngTestManualTimestamp || Date.now(),
                            e = 1e3 * parseFloat(n.elapsedTime.toFixed(3));
                        n.animationName == this._name && Math.max(l - this._startTime, 0) >= this._delay && e >= this._duration && this.finish()
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this._finished || (this._finished = !0, this._onDoneFn(), DN(this._element, this._eventFn, !0))
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        var n, l, e, t;
                        this._destroyed || (this._destroyed = !0, this.finish(), n = this._element, l = this._name, e = MN(n, "").split(","), (t = ON(e, l)) >= 0 && (e.splice(t, 1), RN(n, "", e.join(","))))
                    }
                }]), n
            }();

        function AN(n, l, e) {
            RN(n, "PlayState", e, PN(n, l))
        }

        function PN(n, l) {
            var e = MN(n, "");
            return e.indexOf(",") > 0 ? ON(e.split(","), l) : ON([e], l)
        }

        function ON(n, l) {
            for (var e = 0; e < n.length; e++)
                if (n[e].indexOf(l) >= 0) return e;
            return -1
        }

        function DN(n, l, e) {
            e ? n.removeEventListener(TN, l) : n.addEventListener(TN, l)
        }

        function RN(n, l, e, t) {
            var i = IN + l;
            if (null != t) {
                var u = n.style[i];
                if (u.length) {
                    var r = u.split(",");
                    r[t] = e, e = r.join(",")
                }
            }
            n.style[i] = e
        }

        function MN(n, l) {
            return n.style[IN + l]
        }
        var NN = "linear",
            BN = function () {
                function n(l, e, t, i, u, r, a, o) {
                    _classCallCheck(this, n), this.element = l, this.keyframes = e, this.animationName = t, this._duration = i, this._delay = u, this._finalStyles = a, this._specialStyles = o, this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._started = !1, this.currentSnapshot = {}, this._state = 0, this.easing = r || NN, this.totalTime = i + u, this._buildStyler()
                }
                return _createClass(n, [{
                    key: "onStart",
                    value: function (n) {
                        this._onStartFns.push(n)
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this._onDoneFns.push(n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._onDestroyFns.push(n)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.init(), this._state >= 4 || (this._state = 4, this._styler.destroy(), this._flushStartFns(), this._flushDoneFns(), this._specialStyles && this._specialStyles.destroy(), this._onDestroyFns.forEach((function (n) {
                            return n()
                        })), this._onDestroyFns = [])
                    }
                }, {
                    key: "_flushDoneFns",
                    value: function () {
                        this._onDoneFns.forEach((function (n) {
                            return n()
                        })), this._onDoneFns = []
                    }
                }, {
                    key: "_flushStartFns",
                    value: function () {
                        this._onStartFns.forEach((function (n) {
                            return n()
                        })), this._onStartFns = []
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this.init(), this._state >= 3 || (this._state = 3, this._styler.finish(), this._flushStartFns(), this._specialStyles && this._specialStyles.finish(), this._flushDoneFns())
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        this._styler.setPosition(n)
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        return this._styler.getPosition()
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return this._state >= 2
                    }
                }, {
                    key: "init",
                    value: function () {
                        this._state >= 1 || (this._state = 1, this._styler.apply(), this._delay && this._styler.pause())
                    }
                }, {
                    key: "play",
                    value: function () {
                        this.init(), this.hasStarted() || (this._flushStartFns(), this._state = 2, this._specialStyles && this._specialStyles.start()), this._styler.resume()
                    }
                }, {
                    key: "pause",
                    value: function () {
                        this.init(), this._styler.pause()
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this.reset(), this.play()
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._styler.destroy(), this._buildStyler(), this._styler.apply()
                    }
                }, {
                    key: "_buildStyler",
                    value: function () {
                        var n = this;
                        this._styler = new EN(this.element, this.animationName, this._duration, this._delay, this.easing, "forwards", (function () {
                            return n.finish()
                        }))
                    }
                }, {
                    key: "triggerCallback",
                    value: function (n) {
                        var l = "start" == n ? this._onStartFns : this._onDoneFns;
                        l.forEach((function (n) {
                            return n()
                        })), l.length = 0
                    }
                }, {
                    key: "beforeDestroy",
                    value: function () {
                        var n = this;
                        this.init();
                        var l = {};
                        if (this.hasStarted()) {
                            var e = this._state >= 3;
                            Object.keys(this._finalStyles).forEach((function (t) {
                                "offset" != t && (l[t] = e ? n._finalStyles[t] : xM(n.element, t))
                            }))
                        }
                        this.currentSnapshot = l
                    }
                }]), n
            }(),
            zN = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this))).element = n, t._startingStyles = {}, t.__initialized = !1, t._styles = nM(e), t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "init",
                    value: function () {
                        var n = this;
                        !this.__initialized && this._startingStyles && (this.__initialized = !0, Object.keys(this._styles).forEach((function (l) {
                            n._startingStyles[l] = n.element.style[l]
                        })), _get(_getPrototypeOf(l.prototype), "init", this).call(this))
                    }
                }, {
                    key: "play",
                    value: function () {
                        var n = this;
                        this._startingStyles && (this.init(), Object.keys(this._styles).forEach((function (l) {
                            return n.element.style.setProperty(l, n._styles[l])
                        })), _get(_getPrototypeOf(l.prototype), "play", this).call(this))
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        var n = this;
                        this._startingStyles && (Object.keys(this._startingStyles).forEach((function (l) {
                            var e = n._startingStyles[l];
                            e ? n.element.style.setProperty(l, e) : n.element.style.removeProperty(l)
                        })), this._startingStyles = null, _get(_getPrototypeOf(l.prototype), "destroy", this).call(this))
                    }
                }]), l
            }(RR),
            LN = function () {
                function n() {
                    _classCallCheck(this, n), this._count = 0, this._head = document.querySelector("head"), this._warningIssued = !1
                }
                return _createClass(n, [{
                    key: "validateStyleProperty",
                    value: function (n) {
                        return QR(n)
                    }
                }, {
                    key: "matchesElement",
                    value: function (n, l) {
                        return YR(n, l)
                    }
                }, {
                    key: "containsElement",
                    value: function (n, l) {
                        return XR(n, l)
                    }
                }, {
                    key: "query",
                    value: function (n, l, e) {
                        return JR(n, l, e)
                    }
                }, {
                    key: "computeStyle",
                    value: function (n, l, e) {
                        return window.getComputedStyle(n)[l]
                    }
                }, {
                    key: "buildKeyframeElement",
                    value: function (n, l, e) {
                        e = e.map((function (n) {
                            return nM(n)
                        }));
                        var t = "@keyframes ".concat(l, " {\n"),
                            i = "";
                        e.forEach((function (n) {
                            i = " ";
                            var l = parseFloat(n.offset);
                            t += "".concat(i).concat(100 * l, "% {\n"), i += " ", Object.keys(n).forEach((function (l) {
                                var e = n[l];
                                switch (l) {
                                    case "offset":
                                        return;
                                    case "easing":
                                        return void(e && (t += "".concat(i, "animation-timing-function: ").concat(e, ";\n")));
                                    default:
                                        return void(t += "".concat(i).concat(l, ": ").concat(e, ";\n"))
                                }
                            })), t += "".concat(i, "}\n")
                        })), t += "}\n";
                        var u = document.createElement("style");
                        return u.innerHTML = t, u
                    }
                }, {
                    key: "animate",
                    value: function (n, l, e, t, i) {
                        var u = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : [],
                            r = arguments.length > 6 ? arguments[6] : void 0;
                        r && this._notifyFaultyScrubber();
                        var a = u.filter((function (n) {
                                return n instanceof BN
                            })),
                            o = {};
                        _M(e, t) && a.forEach((function (n) {
                            var l = n.currentSnapshot;
                            Object.keys(l).forEach((function (n) {
                                return o[n] = l[n]
                            }))
                        }));
                        var s = function (n) {
                            var l = {};
                            return n && (Array.isArray(n) ? n : [n]).forEach((function (n) {
                                Object.keys(n).forEach((function (e) {
                                    "offset" != e && "easing" != e && (l[e] = n[e])
                                }))
                            })), l
                        }(l = kM(n, l, o));
                        if (0 == e) return new zN(n, s);
                        var c = "".concat("gen_css_kf_").concat(this._count++),
                            d = this.buildKeyframeElement(n, c, l);
                        document.querySelector("head").appendChild(d);
                        var h = wN(n, l),
                            p = new BN(n, l, c, e, t, i, s, h);
                        return p.onDestroy((function () {
                            var n;
                            (n = d).parentNode.removeChild(n)
                        })), p
                    }
                }, {
                    key: "_notifyFaultyScrubber",
                    value: function () {
                        this._warningIssued || (console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n", "  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."), this._warningIssued = !0)
                    }
                }]), n
            }(),
            FN = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.element = l, this.keyframes = e, this.options = t, this._specialStyles = i, this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._initialized = !1, this._finished = !1, this._started = !1, this._destroyed = !1, this.time = 0, this.parentPlayer = null, this.currentSnapshot = {}, this._duration = t.duration, this._delay = t.delay || 0, this.time = this._duration + this._delay
                }
                return _createClass(n, [{
                    key: "_onFinish",
                    value: function () {
                        this._finished || (this._finished = !0, this._onDoneFns.forEach((function (n) {
                            return n()
                        })), this._onDoneFns = [])
                    }
                }, {
                    key: "init",
                    value: function () {
                        this._buildPlayer(), this._preparePlayerBeforeStart()
                    }
                }, {
                    key: "_buildPlayer",
                    value: function () {
                        var n = this;
                        if (!this._initialized) {
                            this._initialized = !0;
                            var l = this.keyframes;
                            this.domPlayer = this._triggerWebAnimation(this.element, l, this.options), this._finalKeyframe = l.length ? l[l.length - 1] : {}, this.domPlayer.addEventListener("finish", (function () {
                                return n._onFinish()
                            }))
                        }
                    }
                }, {
                    key: "_preparePlayerBeforeStart",
                    value: function () {
                        this._delay ? this._resetDomPlayerState() : this.domPlayer.pause()
                    }
                }, {
                    key: "_triggerWebAnimation",
                    value: function (n, l, e) {
                        return n.animate(l, e)
                    }
                }, {
                    key: "onStart",
                    value: function (n) {
                        this._onStartFns.push(n)
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this._onDoneFns.push(n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._onDestroyFns.push(n)
                    }
                }, {
                    key: "play",
                    value: function () {
                        this._buildPlayer(), this.hasStarted() || (this._onStartFns.forEach((function (n) {
                            return n()
                        })), this._onStartFns = [], this._started = !0, this._specialStyles && this._specialStyles.start()), this.domPlayer.play()
                    }
                }, {
                    key: "pause",
                    value: function () {
                        this.init(), this.domPlayer.pause()
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this.init(), this._specialStyles && this._specialStyles.finish(), this._onFinish(), this.domPlayer.finish()
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._resetDomPlayerState(), this._destroyed = !1, this._finished = !1, this._started = !1
                    }
                }, {
                    key: "_resetDomPlayerState",
                    value: function () {
                        this.domPlayer && this.domPlayer.cancel()
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this.reset(), this.play()
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return this._started
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._destroyed || (this._destroyed = !0, this._resetDomPlayerState(), this._onFinish(), this._specialStyles && this._specialStyles.destroy(), this._onDestroyFns.forEach((function (n) {
                            return n()
                        })), this._onDestroyFns = [])
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        this.domPlayer.currentTime = n * this.time
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        return this.domPlayer.currentTime / this.time
                    }
                }, {
                    key: "beforeDestroy",
                    value: function () {
                        var n = this,
                            l = {};
                        this.hasStarted() && Object.keys(this._finalKeyframe).forEach((function (e) {
                            "offset" != e && (l[e] = n._finished ? n._finalKeyframe[e] : xM(n.element, e))
                        })), this.currentSnapshot = l
                    }
                }, {
                    key: "triggerCallback",
                    value: function (n) {
                        var l = "start" == n ? this._onStartFns : this._onDoneFns;
                        l.forEach((function (n) {
                            return n()
                        })), l.length = 0
                    }
                }, {
                    key: "totalTime",
                    get: function () {
                        return this._delay + this._duration
                    }
                }]), n
            }(),
            qN = function () {
                function n() {
                    _classCallCheck(this, n), this._isNativeImpl = /\{\s*\[native\s+code\]\s*\}/.test(UN().toString()), this._cssKeyframesDriver = new LN
                }
                return _createClass(n, [{
                    key: "validateStyleProperty",
                    value: function (n) {
                        return QR(n)
                    }
                }, {
                    key: "matchesElement",
                    value: function (n, l) {
                        return YR(n, l)
                    }
                }, {
                    key: "containsElement",
                    value: function (n, l) {
                        return XR(n, l)
                    }
                }, {
                    key: "query",
                    value: function (n, l, e) {
                        return JR(n, l, e)
                    }
                }, {
                    key: "computeStyle",
                    value: function (n, l, e) {
                        return window.getComputedStyle(n)[l]
                    }
                }, {
                    key: "overrideWebAnimationsSupport",
                    value: function (n) {
                        this._isNativeImpl = n
                    }
                }, {
                    key: "animate",
                    value: function (n, l, e, t, i) {
                        var u = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : [],
                            r = arguments.length > 6 ? arguments[6] : void 0;
                        if (!r && !this._isNativeImpl) return this._cssKeyframesDriver.animate(n, l, e, t, i, u);
                        var a = {
                            duration: e,
                            delay: t,
                            fill: 0 == t ? "both" : "forwards"
                        };
                        i && (a.easing = i);
                        var o = {},
                            s = u.filter((function (n) {
                                return n instanceof FN
                            }));
                        _M(e, t) && s.forEach((function (n) {
                            var l = n.currentSnapshot;
                            Object.keys(l).forEach((function (n) {
                                return o[n] = l[n]
                            }))
                        }));
                        var c = wN(n, l = kM(n, l = l.map((function (n) {
                            return oM(n, !1)
                        })), o));
                        return new FN(n, l, a, c)
                    }
                }]), n
            }();

        function UN() {
            return "undefined" != typeof window && void 0 !== window.document && Element.prototype.animate || {}
        }
        var $N = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._nextAnimationId = 0, t._renderer = n.createRenderer(e.body, {
                        id: "0",
                        encapsulation: Qn.None,
                        styles: [],
                        data: {
                            animation: []
                        }
                    }), t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "build",
                    value: function (n) {
                        var l = this._nextAnimationId.toString();
                        this._nextAnimationId++;
                        var e = Array.isArray(n) ? PR(n) : n;
                        return jN(this._renderer, null, l, "register", [e]), new HN(l, this._renderer)
                    }
                }]), l
            }(TR),
            HN = function (n) {
                function l(n, e) {
                    var t;
                    return _classCallCheck(this, l), (t = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this)))._id = n, t._renderer = e, t
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "create",
                    value: function (n, l) {
                        return new VN(this._id, n, l || {}, this._renderer)
                    }
                }]), l
            }(ER),
            VN = function () {
                function n(l, e, t, i) {
                    _classCallCheck(this, n), this.id = l, this.element = e, this._renderer = i, this.parentPlayer = null, this._started = !1, this.totalTime = 0, this._command("create", t)
                }
                return _createClass(n, [{
                    key: "_listen",
                    value: function (n, l) {
                        return this._renderer.listen(this.element, "@@".concat(this.id, ":").concat(n), l)
                    }
                }, {
                    key: "_command",
                    value: function (n) {
                        for (var l = arguments.length, e = new Array(l > 1 ? l - 1 : 0), t = 1; t < l; t++) e[t - 1] = arguments[t];
                        return jN(this._renderer, this.element, this.id, n, e)
                    }
                }, {
                    key: "onDone",
                    value: function (n) {
                        this._listen("done", n)
                    }
                }, {
                    key: "onStart",
                    value: function (n) {
                        this._listen("start", n)
                    }
                }, {
                    key: "onDestroy",
                    value: function (n) {
                        this._listen("destroy", n)
                    }
                }, {
                    key: "init",
                    value: function () {
                        this._command("init")
                    }
                }, {
                    key: "hasStarted",
                    value: function () {
                        return this._started
                    }
                }, {
                    key: "play",
                    value: function () {
                        this._command("play"), this._started = !0
                    }
                }, {
                    key: "pause",
                    value: function () {
                        this._command("pause")
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this._command("restart")
                    }
                }, {
                    key: "finish",
                    value: function () {
                        this._command("finish")
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._command("destroy")
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._command("reset")
                    }
                }, {
                    key: "setPosition",
                    value: function (n) {
                        this._command("setPosition", n)
                    }
                }, {
                    key: "getPosition",
                    value: function () {
                        return 0
                    }
                }]), n
            }();

        function jN(n, l, e, t, i) {
            return n.setProperty(l, "@@".concat(e, ":").concat(t), i)
        }
        var GN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.delegate = l, this.engine = e, this._zone = t, this._currentId = 0, this._microtaskId = 1, this._animationCallbacksBuffer = [], this._rendererCache = new Map, this._cdRecurDepth = 0, this.promise = Promise.resolve(0), e.onRemovalComplete = function (n, l) {
                        l && l.parentNode(n) && l.removeChild(n.parentNode, n)
                    }
                }
                return _createClass(n, [{
                    key: "createRenderer",
                    value: function (n, l) {
                        var e = this,
                            t = this.delegate.createRenderer(n, l);
                        if (!(n && l && l.data && l.data.animation)) {
                            var i = this._rendererCache.get(t);
                            return i || (i = new WN("", t, this.engine), this._rendererCache.set(t, i)), i
                        }
                        var u = l.id,
                            r = l.id + "-" + this._currentId;
                        return this._currentId++, this.engine.register(r, n), l.data.animation.forEach((function (l) {
                            return e.engine.registerTrigger(u, r, n, l.name, l)
                        })), new KN(this, r, t, this.engine)
                    }
                }, {
                    key: "begin",
                    value: function () {
                        this._cdRecurDepth++, this.delegate.begin && this.delegate.begin()
                    }
                }, {
                    key: "_scheduleCountTask",
                    value: function () {
                        var n = this;
                        this.promise.then((function () {
                            n._microtaskId++
                        }))
                    }
                }, {
                    key: "scheduleListenerCallback",
                    value: function (n, l, e) {
                        var t = this;
                        n >= 0 && n < this._microtaskId ? this._zone.run((function () {
                            return l(e)
                        })) : (0 == this._animationCallbacksBuffer.length && Promise.resolve(null).then((function () {
                            t._zone.run((function () {
                                t._animationCallbacksBuffer.forEach((function (n) {
                                    var l = _slicedToArray(n, 2);
                                    (0, l[0])(l[1])
                                })), t._animationCallbacksBuffer = []
                            }))
                        })), this._animationCallbacksBuffer.push([l, e]))
                    }
                }, {
                    key: "end",
                    value: function () {
                        var n = this;
                        this._cdRecurDepth--, 0 == this._cdRecurDepth && this._zone.runOutsideAngular((function () {
                            n._scheduleCountTask(), n.engine.flush(n._microtaskId)
                        })), this.delegate.end && this.delegate.end()
                    }
                }, {
                    key: "whenRenderingDone",
                    value: function () {
                        return this.engine.whenRenderingDone()
                    }
                }]), n
            }(),
            WN = function () {
                function n(l, e, t) {
                    _classCallCheck(this, n), this.namespaceId = l, this.delegate = e, this.engine = t, this.destroyNode = this.delegate.destroyNode ? function (n) {
                        return e.destroyNode(n)
                    } : null
                }
                return _createClass(n, [{
                    key: "destroy",
                    value: function () {
                        this.engine.destroy(this.namespaceId, this.delegate), this.delegate.destroy()
                    }
                }, {
                    key: "createElement",
                    value: function (n, l) {
                        return this.delegate.createElement(n, l)
                    }
                }, {
                    key: "createComment",
                    value: function (n) {
                        return this.delegate.createComment(n)
                    }
                }, {
                    key: "createText",
                    value: function (n) {
                        return this.delegate.createText(n)
                    }
                }, {
                    key: "appendChild",
                    value: function (n, l) {
                        this.delegate.appendChild(n, l), this.engine.onInsert(this.namespaceId, l, n, !1)
                    }
                }, {
                    key: "insertBefore",
                    value: function (n, l, e) {
                        this.delegate.insertBefore(n, l, e), this.engine.onInsert(this.namespaceId, l, n, !0)
                    }
                }, {
                    key: "removeChild",
                    value: function (n, l, e) {
                        this.engine.onRemove(this.namespaceId, l, this.delegate, e)
                    }
                }, {
                    key: "selectRootElement",
                    value: function (n, l) {
                        return this.delegate.selectRootElement(n, l)
                    }
                }, {
                    key: "parentNode",
                    value: function (n) {
                        return this.delegate.parentNode(n)
                    }
                }, {
                    key: "nextSibling",
                    value: function (n) {
                        return this.delegate.nextSibling(n)
                    }
                }, {
                    key: "setAttribute",
                    value: function (n, l, e, t) {
                        this.delegate.setAttribute(n, l, e, t)
                    }
                }, {
                    key: "removeAttribute",
                    value: function (n, l, e) {
                        this.delegate.removeAttribute(n, l, e)
                    }
                }, {
                    key: "addClass",
                    value: function (n, l) {
                        this.delegate.addClass(n, l)
                    }
                }, {
                    key: "removeClass",
                    value: function (n, l) {
                        this.delegate.removeClass(n, l)
                    }
                }, {
                    key: "setStyle",
                    value: function (n, l, e, t) {
                        this.delegate.setStyle(n, l, e, t)
                    }
                }, {
                    key: "removeStyle",
                    value: function (n, l, e) {
                        this.delegate.removeStyle(n, l, e)
                    }
                }, {
                    key: "setProperty",
                    value: function (n, l, e) {
                        "@" == l.charAt(0) && "@.disabled" == l ? this.disableAnimations(n, !!e) : this.delegate.setProperty(n, l, e)
                    }
                }, {
                    key: "setValue",
                    value: function (n, l) {
                        this.delegate.setValue(n, l)
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e) {
                        return this.delegate.listen(n, l, e)
                    }
                }, {
                    key: "disableAnimations",
                    value: function (n, l) {
                        this.engine.disableAnimations(n, l)
                    }
                }, {
                    key: "data",
                    get: function () {
                        return this.delegate.data
                    }
                }]), n
            }(),
            KN = function (n) {
                function l(n, e, t, i) {
                    var u;
                    return _classCallCheck(this, l), (u = _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, e, t, i))).factory = n, u.namespaceId = e, u
                }
                return _inherits(l, n), _createClass(l, [{
                    key: "setProperty",
                    value: function (n, l, e) {
                        "@" == l.charAt(0) ? "." == l.charAt(1) && "@.disabled" == l ? this.disableAnimations(n, e = void 0 === e || !!e) : this.engine.process(this.namespaceId, n, l.substr(1), e) : this.delegate.setProperty(n, l, e)
                    }
                }, {
                    key: "listen",
                    value: function (n, l, e) {
                        var t, i, u = this;
                        if ("@" == l.charAt(0)) {
                            var r, a = function (n) {
                                    switch (n) {
                                        case "body":
                                            return document.body;
                                        case "document":
                                            return document;
                                        case "window":
                                            return window;
                                        default:
                                            return n
                                    }
                                }(n),
                                o = l.substr(1),
                                s = "";
                            return "@" != o.charAt(0) && (i = (t = o).indexOf("."), o = (r = _slicedToArray([t.substring(0, i), t.substr(i + 1)], 2))[0], s = r[1]), this.engine.listen(this.namespaceId, a, o, s, (function (n) {
                                u.factory.scheduleListenerCallback(n._data || -1, e, n)
                            }))
                        }
                        return this.delegate.listen(n, l, e)
                    }
                }]), l
            }(WN),
            ZN = function (n) {
                function l(n, e, t) {
                    return _classCallCheck(this, l), _possibleConstructorReturn(this, _getPrototypeOf(l).call(this, n.body, e, t))
                }
                return _inherits(l, n), l
            }(kN);

        function QN() {
            return "function" == typeof UN() ? new qN : new LN
        }

        function YN() {
            return new WM
        }

        function XN(n, l, e) {
            return new GN(n, l, e)
        }
        var JN = new Dn("AnimationModuleType"),
            nB = function n() {
                _classCallCheck(this, n)
            },
            lB = function () {
                function n(l, e) {
                    _classCallCheck(this, n), this.data = l, this.router = e
                }
                return _createClass(n, [{
                    key: "canActivate",
                    value: function () {
                        return null != this.data.version || (this.router.navigate(["/"]), !1)
                    }
                }]), n
            }(),
            eB = function n() {
                _classCallCheck(this, n)
            },
            tB = new ka(xa, [Ca], (function (n) {
                return function (n) {
                    for (var l = {}, e = [], t = !1, i = 0; i < n.length; i++) {
                        var u = n[i];
                        u.token === zl && !0 === u.value && (t = !0), 1073741824 & u.flags && e.push(u.token), u.index = i, l[Xe(u.token)] = u
                    }
                    return {
                        factory: null,
                        providersByKey: l,
                        providers: n,
                        modules: e,
                        isRoot: t
                    }
                }([Nt(512, se, ce, [[8, [Dp, zg, Fk, qw, qT, XT, XE, TA, MA, vP, OP, zP, YP, eO, hO, $D, sR, gR, _R, Wb, S_, rk, sk, O_, G_, X_, IR]], [3, se], Gn]), Nt(5120, Zi, Ku, [[3, Zi]]), Nt(4608, po, fo, [Zi, [2, ho]]), Nt(5120, Ai, Zu, [pu]), Nt(5120, $i, Hi, []), Nt(5120, Pe, Gu, []), Nt(5120, Oe, Wu, []), Nt(4608, Tc, Ec, [Ro]), Nt(6144, Pl, null, [Tc]), Nt(4608, _c, wc, []), Nt(5120, Ws, (function (n, l, e, t, i, u, r, a) {
                    return [new yc(n, l, e), new Ic(t), new xc(i, u, r, a)]
                }), [Ro, pu, Gi, Ro, Ro, _c, Ki, [2, kc]]), Nt(4608, Ks, Ks, [Ws, pu]), Nt(135680, Ys, Ys, [Ro]), Nt(4608, ic, ic, [Ks, Ys, $i]), Nt(5120, eM, QN, []), Nt(5120, GM, YN, []), Nt(4608, kN, ZN, [Ro, eM, GM]), Nt(5120, ge, XN, [ic, kN, pu]), Nt(6144, Qs, null, [Ys]), Nt(4608, ku, ku, [pu]), Nt(4608, TR, $N, [ge, Ro]), Nt(5120, Gd, Sp, [lp]), Nt(4608, hp, hp, []), Nt(6144, cp, null, [hp]), Nt(135680, pp, pp, [lp, Mu, iu, Fl, cp]), Nt(4608, dp, dp, []), Nt(5120, fp, _p, [lp, No, gp]), Nt(5120, Ap, Ep, [Ip]), Nt(5120, Wi, (function (n) {
                    return [n]
                }), [Ap]), Nt(4608, Jp, Jp, []), Nt(4608, Dm, Dm, [se, Fl, Om, km]), Nt(4608, sg, sg, []), Nt(4608, hg, hg, [sg]), Nt(135680, cy, cy, [sg, hg, bg, mg, _g]), Nt(135680, My, My, [sg, hg, bg, mg]), Nt(4608, lB, lB, [hg, lp]), Nt(1073742336, Do, Do, []), Nt(1024, il, Bc, []), Nt(1024, Iu, (function () {
                    return [yp()]
                }), []), Nt(512, Ip, Ip, [Fl]), Nt(1024, qi, (function (n, l) {
                    return [(e = n, Vs("probe", Gs), Vs("coreTokens", Object.assign({}, js, (e || []).reduce((function (n, l) {
                        return n[l.name] = l.token, n
                    }), {}))), function () {
                        return Gs
                    }), Tp(l)];
                    var e
                }), [[2, Iu], Ip]), Nt(512, Ui, Ui, [[2, qi]]), Nt(131584, Du, Du, [pu, Ki, Fl, il, se, Ui]), Nt(1073742336, Qu, Qu, [Du]), Nt(1073742336, zc, zc, [[3, zc]]), Nt(1073742336, nB, nB, []), Nt(1024, vp, wp, [[3, lp]]), Nt(512, Cd, Sd, []), Nt(512, ap, ap, []), Nt(256, gp, {}, []), Nt(1024, Ta, kp, [Sa, [2, Ea], gp]), Nt(512, Aa, Aa, [Ta, Sa]), Nt(512, iu, iu, []), Nt(512, Mu, zu, [iu, [2, Nu]]), Nt(1024, Kh, (function () {
                    return [[{
                        path: "",
                        pathMatch: "full",
                        redirectTo: "home"
                    }, {
                        path: "home",
                        component: Hf
                    }, {
                        path: "game",
                        component: gk,
                        canActivate: [lB],
                        children: [{
                            path: "",
                            pathMatch: "full",
                            redirectTo: "city"
                        }, {
                            path: "empire",
                            component: Vk
                        }, {
                            path: "city/:id",
                            component: nT
                        }, {
                            path: "city",
                            component: nT
                        }, {
                            path: "science",
                            component: UT
                        }, {
                            path: "world",
                            component: tE
                        }, {
                            path: "attacks",
                            component: JE
                        }, {
                            path: "simulator",
                            component: EA
                        }, {
                            path: "reports/:id",
                            component: NA
                        }, {
                            path: "reports",
                            component: NA
                        }, {
                            path: "policies",
                            component: mP
                        }, {
                            path: "notifications",
                            component: DP
                        }, {
                            path: "help",
                            component: qP
                        }, {
                            path: "support",
                            component: XP
                        }, {
                            path: "options",
                            component: tO
                        }, {
                            path: "diplomacy",
                            component: pO
                        }, {
                            path: "powers",
                            component: HD
                        }, {
                            path: "daily",
                            component: cR
                        }, {
                            path: "deity",
                            component: vR
                        }]
                    }]]
                }), []), Nt(1024, lp, Cp, [Du, Cd, ap, Aa, Fl, Mu, iu, Kh, gp, [2, Qh], [2, Gh]]), Nt(1073742336, bp, bp, [[2, vp], [2, lp]]), Nt(1073742336, eB, eB, []), Nt(1073742336, zy, zy, []), Nt(1073742336, Lf, Lf, []), Nt(1073742336, Ff, Ff, []), Nt(1073742336, dv, dv, []), Nt(1073742336, fv, fv, []), Nt(1073742336, gv, gv, []), Nt(1073742336, vv, vv, []), Nt(1073742336, mv, mv, []), Nt(1073742336, hm, hm, []), Nt(1073742336, _m, _m, []), Nt(1073742336, Rm, Rm, []), Nt(1073742336, Mm, Mm, []), Nt(1073742336, $m, $m, []), Nt(1073742336, Hm, Hm, []), Nt(1073742336, Vm, Vm, []), Nt(1073742336, Qm, Qm, []), Nt(1073742336, Ym, Ym, []), Nt(1073742336, ny, ny, []), Nt(1073742336, ey, ey, []), Nt(1073742336, uy, uy, []), Nt(1073742336, ry, ry, []), Nt(1073742336, xa, xa, []), Nt(256, zl, !0, []), Nt(256, JN, "BrowserAnimations", [])])
            }));
        wa.production && function () {
            if (rl) throw new Error("Cannot enable prod mode after platform setup.");
            ul = !1
        }(), Nc().bootstrapModuleFactory(tB).catch((function (n) {
            return console.error(n)
        }))
    },
    zn8P: function (n, l) {
        function e(n) {
            return Promise.resolve().then((function () {
                var l = new Error("Cannot find module '" + n + "'");
                throw l.code = "MODULE_NOT_FOUND", l
            }))
        }
        e.keys = function () {
            return []
        }, e.resolve = e, n.exports = e, e.id = "zn8P"
    }
}, [[0, 0]]]);
